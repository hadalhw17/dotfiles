function flashElement(a,b,c,d){b=b||100,d=d||"#1bb76e";var e=a.style||a[0].style;e.backgroundColor=d,setTimeout(function(){e.backgroundColor=c},b)}function checkEmailVerification(a,b){a||(a=""),$.post("/ajax/verify_email/"+a,function(c){c.data.verified?($.colorbox.close(),b&&b()):(c.data.invalid&&a&&humanMsg.displayMsg("Verification code is invalid","error-msg"),setTimeout(function(){checkEmailVerification()},1500))})}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function getColorByPostIndex(a){var b=a%GRID_COLORS_LOADING.length;return GRID_COLORS_LOADING[b]}function ArrowIcon(a){var b=a.color,c=void 0===b?"#fff":b;return React.createElement("svg",{width:"21",height:"15",viewBox:"0 0 21 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.37496 8.5L8.05562 13.2909C8.44161 13.6859 8.43428 14.3192 8.03926 14.7052C7.64424 15.0912 7.01113 15.0839 6.62514 14.6888L0.284746 8.19913C0.0932174 8.0031 -0.0014481 7.74844 1.67407e-05 7.49445C-0.0014481 7.24048 0.0932174 6.9859 0.284746 6.7899L6.62514 0.301116C7.01113 -0.0938954 7.64424 -0.10122 8.03926 0.284767C8.43428 0.670745 8.44161 1.30387 8.05562 1.69888L3.36427 6.5H20C20.5522 6.5 21 6.94772 21 7.5C21 8.05228 20.5522 8.5 20 8.5H3.37496Z",fill:c}))}function reinsert(a,b,c){var d=a.slice(0),e=d[b];return d.splice(b,1),d.splice(c,0,e),d}function clamp(a,b,c){return Math.max(Math.min(a,c),b)}function _toConsumableArray(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function onYouTubeIframeAPIReady(){for(var a in youtube_iframes)youtube_iframes[a].dom&&!youtube_iframes[a].player&&(youtube_iframes[a].player=new YT.Player(youtube_iframes[a].dom,{events:{onReady:_.partial(onPlayerReady,a),onStateChange:_.partial(onPlayerStateChange,a)}}))}function onPlayerReady(a){youtube_iframes[a].manuallyPaused||(youtube_iframes[a].soundOn||youtube_iframes[a].player.mute(),youtube_iframes[a].player.seekTo(youtube_iframes[a].currentTime,!0),youtube_iframes[a].player.playVideo(),youtube_iframes[a].hash=youtube_iframes[a].player.getVideoData().video_id,youtube_iframes[a].videoLength=youtube_iframes[a].player.getDuration())}function onPlayerStateChange(a,b){switch(b.data){case YT.PlayerState.PAUSED:youtube_iframes[a].manuallyPaused=!0;break;case YT.PlayerState.PLAYING:youtube_iframes[a].manuallyPaused=!1}}function createImageToastHtml(a,b,c){return'<img width="32" height="32" src="'+a+'"> <span class="reason">'+b+'</span><button class="action undo" type="button" data-cancel="'+c+'">undo</button>'}function createToastHtml(a,b){return a+'</span><button class="action undo" type="button" data-cancel="'+b+'">undo</button>'}function createUndoToast(a,b,c,d,e,f,g){var h=setTimeout(function(){c(),f.decrement()},e);if(d){g||(g=$(a).find("img").first().attr("src"));var i=createImageToastHtml(g,b,h)}else var i=createToastHtml(b,h);a&&a.hide(),f.increment();var j=$.toast({text:i,hideAfter:e,position:"bottom-right",loader:!0,loaderBg:"#1bb76e",allowToastClose:!0});return $("button.action[data-cancel='"+h+"']").on("click",function(){clearTimeout(h),j.close(),a&&a.show(),f.decrement()}),f}function createCaptionUndoToast(a,b,c){var d=setTimeout(function(){c(),pendingActions--},undoDelay),e=createToastHtml(imageUrl,b,d);pendingActions++;var f=$.toast({text:e,hideAfter:undoDelay,position:"bottom-right",loader:!0,loaderBg:"#1bb76e",allowToastClose:!0});$("button.action[data-cancel='"+d+"']").on("click",function(){clearTimeout(d),f.close(),a.show(),pendingActions--})}!function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b(require("react")):"function"==typeof define&&define.amd?define(["react"],b):"object"==typeof exports?exports.ReactMotion=b(require("react")):a.ReactMotion=b(a.React)}(this,function(a){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="build/",b(0)}([function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a["default"]:a}b.__esModule=!0;var e=c(1);b.Motion=d(e);var f=c(10);b.StaggeredMotion=d(f);var g=c(11);b.TransitionMotion=d(g);var h=c(13);b.spring=d(h);var i=c(14);b.presets=d(i);var j=c(15);b.reorderKeys=d(j)},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}b.__esModule=!0;var e=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},f=c(2),g=d(f),h=c(3),i=d(h),j=c(4),k=d(j),l=c(5),m=d(l),n=c(7),o=d(n),p=c(8),q=d(p),r=c(9),s=d(r),t=1e3/60,u=s["default"].createClass({displayName:"Motion",propTypes:{defaultStyle:r.PropTypes.objectOf(r.PropTypes.number),style:r.PropTypes.objectOf(r.PropTypes.oneOfType([r.PropTypes.number,r.PropTypes.object])).isRequired,children:r.PropTypes.func.isRequired,onRest:r.PropTypes.func},getInitialState:function(){var a=this.props,b=a.defaultStyle,c=a.style,d=b||i["default"](c),e=g["default"](d);return{currentStyle:d,currentVelocity:e,lastIdealStyle:d,lastIdealVelocity:e}},wasAnimating:!1,animationID:null,prevTime:0,accumulatedTime:0,unreadPropStyle:null,clearUnreadPropStyle:function(a){var b=!1,c=this.state,d=c.currentStyle,f=c.currentVelocity,g=c.lastIdealStyle,h=c.lastIdealVelocity;for(var i in a)if(a.hasOwnProperty(i)){var j=a[i];"number"==typeof j&&(b||(b=!0,d=e({},d),f=e({},f),g=e({},g),h=e({},h)),d[i]=j,f[i]=0,g[i]=j,h[i]=0)}b&&this.setState({currentStyle:d,currentVelocity:f,lastIdealStyle:g,lastIdealVelocity:h})},startAnimationIfNecessary:function(){var a=this;this.animationID=o["default"](function(){var b=a.props.style;if(q["default"](a.state.currentStyle,b,a.state.currentVelocity))return a.wasAnimating&&a.props.onRest&&a.props.onRest(),a.animationID=null,a.wasAnimating=!1,void(a.accumulatedTime=0);a.wasAnimating=!0;var c=m["default"](),d=c-a.prevTime;if(a.prevTime=c,a.accumulatedTime=a.accumulatedTime+d,a.accumulatedTime>10*t&&(a.accumulatedTime=0),0===a.accumulatedTime)return a.animationID=null,void a.startAnimationIfNecessary();var e=(a.accumulatedTime-Math.floor(a.accumulatedTime/t)*t)/t,f=Math.floor(a.accumulatedTime/t),g={},h={},i={},j={};for(var l in b)if(b.hasOwnProperty(l)){var n=b[l];if("number"==typeof n)i[l]=n,j[l]=0,g[l]=n,h[l]=0;else{for(var o=a.state.lastIdealStyle[l],p=a.state.lastIdealVelocity[l],r=0;r<f;r++){var s=k["default"](t/1e3,o,p,n.val,n.stiffness,n.damping,n.precision);o=s[0],p=s[1]}var u=k["default"](t/1e3,o,p,n.val,n.stiffness,n.damping,n.precision),v=u[0],w=u[1];i[l]=o+(v-o)*e,j[l]=p+(w-p)*e,g[l]=o,h[l]=p}}a.animationID=null,a.accumulatedTime-=f*t,a.setState({currentStyle:i,currentVelocity:j,lastIdealStyle:g,lastIdealVelocity:h}),a.unreadPropStyle=null,a.startAnimationIfNecessary()})},componentDidMount:function(){this.prevTime=m["default"](),this.startAnimationIfNecessary()},componentWillReceiveProps:function(a){null!=this.unreadPropStyle&&this.clearUnreadPropStyle(this.unreadPropStyle),this.unreadPropStyle=a.style,null==this.animationID&&(this.prevTime=m["default"](),this.startAnimationIfNecessary())},componentWillUnmount:function(){null!=this.animationID&&(o["default"].cancel(this.animationID),this.animationID=null)},render:function(){var a=this.props.children(this.state.currentStyle);return a&&s["default"].Children.only(a)}});b["default"]=u,a.exports=b["default"]},function(a,b){"use strict";function c(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=0);return b}b.__esModule=!0,b["default"]=c,a.exports=b["default"]},function(a,b){"use strict";function c(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]="number"==typeof a[c]?a[c]:a[c].val);return b}b.__esModule=!0,b["default"]=c,a.exports=b["default"]},function(a,b){"use strict";function c(a,b,c,e,f,g,h){var i=-f*(b-e),j=-g*c,k=i+j,l=c+k*a,m=b+l*a;return Math.abs(l)<h&&Math.abs(m-e)<h?(d[0]=e,d[1]=0,d):(d[0]=m,d[1]=l,d)}b.__esModule=!0,b["default"]=c;var d=[];a.exports=b["default"]},function(a,b,c){(function(b){"use strict";(function(){var c,d,e;"undefined"!=typeof performance&&null!==performance&&performance.now?a.exports=function(){return performance.now()}:"undefined"!=typeof b&&null!==b&&b.hrtime?(a.exports=function(){return(c()-e)/1e6},d=b.hrtime,c=function(){var a;return a=d(),1e9*a[0]+a[1]},e=c()):Date.now?(a.exports=function(){return Date.now()-e},e=Date.now()):(a.exports=function(){return(new Date).getTime()-e},e=(new Date).getTime())}).call(void 0)}).call(b,c(6))},function(a,b){"use strict";function c(){j=!1,g.length?i=g.concat(i):k=-1,i.length&&d()}function d(){if(!j){var a=setTimeout(c);j=!0;for(var b=i.length;b;){for(g=i,i=[];++k<b;)g&&g[k].run();k=-1,b=i.length}g=null,j=!1,clearTimeout(a)}}function e(a,b){this.fun=a,this.array=b}function f(){}var g,h=a.exports={},i=[],j=!1,k=-1;h.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];i.push(new e(a,b)),1!==i.length||j||setTimeout(d,0)},e.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=f,h.addListener=f,h.once=f,h.off=f,h.removeListener=f,h.removeAllListeners=f,h.emit=f,h.binding=function(a){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(a){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(a,b,c){"use strict";for(var d=c(5),e="undefined"==typeof window?{}:window,f=["moz","webkit"],g="AnimationFrame",h=e["request"+g],i=e["cancel"+g]||e["cancelRequest"+g],j=0;j<f.length&&!h;j++)h=e[f[j]+"Request"+g],i=e[f[j]+"Cancel"+g]||e[f[j]+"CancelRequest"+g];if(!h||!i){var k=0,l=0,m=[],n=1e3/60;h=function(a){if(0===m.length){var b=d(),c=Math.max(0,n-(b-k));k=c+b,setTimeout(function(){var a=m.slice(0);m.length=0;for(var b=0;b<a.length;b++)if(!a[b].cancelled)try{a[b].callback(k)}catch(c){setTimeout(function(){throw c},0)}},Math.round(c))}return m.push({handle:++l,callback:a,cancelled:!1}),l},i=function(a){for(var b=0;b<m.length;b++)m[b].handle===a&&(m[b].cancelled=!0)}}a.exports=function(a){return h.call(e,a)},a.exports.cancel=function(){i.apply(e,arguments)}},function(a,b){"use strict";function c(a,b,c){for(var d in b)if(b.hasOwnProperty(d)){if(0!==c[d])return!1;var e="number"==typeof b[d]?b[d]:b[d].val;if(a[d]!==e)return!1}return!0}b.__esModule=!0,b["default"]=c,a.exports=b["default"]},function(b,c){b.exports=a},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b,c){for(var d=0;d<a.length;d++)if(!r["default"](a[d],b[d],c[d]))return!1;return!0}b.__esModule=!0;var f=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},g=c(2),h=d(g),i=c(3),j=d(i),k=c(4),l=d(k),m=c(5),n=d(m),o=c(7),p=d(o),q=c(8),r=d(q),s=c(9),t=d(s),u=1e3/60,v=t["default"].createClass({displayName:"StaggeredMotion",propTypes:{defaultStyles:s.PropTypes.arrayOf(s.PropTypes.objectOf(s.PropTypes.number)),styles:s.PropTypes.func.isRequired,children:s.PropTypes.func.isRequired},getInitialState:function(){var a=this.props,b=a.defaultStyles,c=a.styles,d=b||c().map(j["default"]),e=d.map(function(a){return h["default"](a)});return{currentStyles:d,currentVelocities:e,lastIdealStyles:d,lastIdealVelocities:e}},animationID:null,prevTime:0,accumulatedTime:0,unreadPropStyles:null,clearUnreadPropStyle:function(a){for(var b=this.state,c=b.currentStyles,d=b.currentVelocities,e=b.lastIdealStyles,g=b.lastIdealVelocities,h=!1,i=0;i<a.length;i++){var j=a[i],k=!1;for(var l in j)if(j.hasOwnProperty(l)){var m=j[l];"number"==typeof m&&(k||(k=!0,h=!0,c[i]=f({},c[i]),d[i]=f({},d[i]),e[i]=f({},e[i]),g[i]=f({},g[i])),c[i][l]=m,d[i][l]=0,e[i][l]=m,g[i][l]=0)}}h&&this.setState({currentStyles:c,currentVelocities:d,lastIdealStyles:e,lastIdealVelocities:g})},startAnimationIfNecessary:function(){var a=this;this.animationID=p["default"](function(){var b=a.props.styles(a.state.lastIdealStyles);if(e(a.state.currentStyles,b,a.state.currentVelocities))return a.animationID=null,void(a.accumulatedTime=0);var c=n["default"](),d=c-a.prevTime;if(a.prevTime=c,a.accumulatedTime=a.accumulatedTime+d,a.accumulatedTime>10*u&&(a.accumulatedTime=0),0===a.accumulatedTime)return a.animationID=null,void a.startAnimationIfNecessary();for(var f=(a.accumulatedTime-Math.floor(a.accumulatedTime/u)*u)/u,g=Math.floor(a.accumulatedTime/u),h=[],i=[],j=[],k=[],m=0;m<b.length;m++){var o=b[m],p={},q={},r={},s={};for(var t in o)if(o.hasOwnProperty(t)){var v=o[t];if("number"==typeof v)p[t]=v,q[t]=0,r[t]=v,s[t]=0;else{for(var w=a.state.lastIdealStyles[m][t],x=a.state.lastIdealVelocities[m][t],y=0;y<g;y++){var z=l["default"](u/1e3,w,x,v.val,v.stiffness,v.damping,v.precision);w=z[0],x=z[1]}var A=l["default"](u/1e3,w,x,v.val,v.stiffness,v.damping,v.precision),B=A[0],C=A[1];p[t]=w+(B-w)*f,q[t]=x+(C-x)*f,r[t]=w,s[t]=x}}j[m]=p,k[m]=q,h[m]=r,i[m]=s}a.animationID=null,a.accumulatedTime-=g*u,a.setState({currentStyles:j,currentVelocities:k,lastIdealStyles:h,lastIdealVelocities:i}),a.unreadPropStyles=null,a.startAnimationIfNecessary()})},componentDidMount:function(){this.prevTime=n["default"](),this.startAnimationIfNecessary()},componentWillReceiveProps:function(a){null!=this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles),this.unreadPropStyles=a.styles(this.state.lastIdealStyles),null==this.animationID&&(this.prevTime=n["default"](),this.startAnimationIfNecessary())},componentWillUnmount:function(){null!=this.animationID&&(p["default"].cancel(this.animationID),this.animationID=null)},render:function(){var a=this.props.children(this.state.currentStyles);return a&&t["default"].Children.only(a)}});b["default"]=v,a.exports=b["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b,c){return null==b?a.map(function(a,b){return{key:a.key,data:a.data,style:c[b]}}):a.map(function(a,d){for(var e=0;e<b.length;e++)if(b[e].key===a.key)return{key:b[e].key,data:b[e].data,style:c[d]};return{key:a.key,data:a.data,style:c[d]}})}function f(a,b,c,d){if(d.length!==b.length)return!1;for(var e=0;e<d.length;e++)if(d[e].key!==b[e].key)return!1;for(var e=0;e<d.length;e++)if(!v["default"](a[e],b[e].style,c[e]))return!1;return!0}function g(a,b,c,d,e,f,g,h){for(var i=p["default"](c,d,function(a,c){var d=b(c);return null==d?null:v["default"](e[a],d,f[a])?null:{key:c.key,data:c.data,style:d}}),k=[],l=[],m=[],n=[],o=0;o<i.length;o++){for(var q=i[o],r=null,s=0;s<c.length;s++)if(c[s].key===q.key){r=s;break}if(null==r){var t=a(q);k[o]=t,m[o]=t;var u=j["default"](q.style);l[o]=u,n[o]=u}else k[o]=e[r],m[o]=g[r],l[o]=f[r],n[o]=h[r]}return[i,k,l,m,n]}b.__esModule=!0;var h=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},i=c(2),j=d(i),k=c(3),l=d(k),m=c(4),n=d(m),o=c(12),p=d(o),q=c(5),r=d(q),s=c(7),t=d(s),u=c(8),v=d(u),w=c(9),x=d(w),y=1e3/60,z=x["default"].createClass({displayName:"TransitionMotion",propTypes:{defaultStyles:w.PropTypes.arrayOf(w.PropTypes.shape({key:w.PropTypes.string.isRequired,data:w.PropTypes.any,style:w.PropTypes.objectOf(w.PropTypes.number).isRequired})),styles:w.PropTypes.oneOfType([w.PropTypes.func,w.PropTypes.arrayOf(w.PropTypes.shape({key:w.PropTypes.string.isRequired,data:w.PropTypes.any,style:w.PropTypes.objectOf(w.PropTypes.oneOfType([w.PropTypes.number,w.PropTypes.object])).isRequired}))]).isRequired,children:w.PropTypes.func.isRequired,willLeave:w.PropTypes.func,willEnter:w.PropTypes.func},getDefaultProps:function(){return{willEnter:function(a){return l["default"](a.style)},willLeave:function(){return null}}},getInitialState:function(){var a=this.props,b=a.defaultStyles,c=a.styles,d=a.willEnter,e=a.willLeave,f="function"==typeof c?c():c,h=void 0;h=null==b?f:b.map(function(a){for(var b=0;b<f.length;b++)if(f[b].key===a.key)return f[b];return a});var i=null==b?f.map(function(a){return l["default"](a.style)}):b.map(function(a){return l["default"](a.style)}),k=null==b?f.map(function(a){return j["default"](a.style)}):b.map(function(a){return j["default"](a.style)}),m=g(d,e,h,f,i,k,i,k),n=m[0],o=m[1],p=m[2],q=m[3],r=m[4];return{currentStyles:o,currentVelocities:p,lastIdealStyles:q,lastIdealVelocities:r,mergedPropsStyles:n}},animationID:null,prevTime:0,accumulatedTime:0,unreadPropStyles:null,clearUnreadPropStyle:function(a){for(var b=g(this.props.willEnter,this.props.willLeave,this.state.mergedPropsStyles,a,this.state.currentStyles,this.state.currentVelocities,this.state.lastIdealStyles,this.state.lastIdealVelocities),c=b[0],d=b[1],e=b[2],f=b[3],i=b[4],j=0;j<a.length;j++){var k=a[j].style,l=!1;for(var m in k)if(k.hasOwnProperty(m)){var n=k[m];"number"==typeof n&&(l||(l=!0,d[j]=h({},d[j]),e[j]=h({},e[j]),f[j]=h({},f[j]),i[j]=h({},i[j]),c[j]={key:c[j].key,data:c[j].data,style:h({},c[j].style)}),d[j][m]=n,e[j][m]=0,f[j][m]=n,i[j][m]=0,c[j].style[m]=n)}}this.setState({currentStyles:d,currentVelocities:e,mergedPropsStyles:c,lastIdealStyles:f,lastIdealVelocities:i})},startAnimationIfNecessary:function(){var a=this;this.animationID=t["default"](function(){var b=a.props.styles,c="function"==typeof b?b(e(a.state.mergedPropsStyles,a.unreadPropStyles,a.state.lastIdealStyles)):b;if(f(a.state.currentStyles,c,a.state.currentVelocities,a.state.mergedPropsStyles))return a.animationID=null,void(a.accumulatedTime=0);var d=r["default"](),h=d-a.prevTime;if(a.prevTime=d,a.accumulatedTime=a.accumulatedTime+h,a.accumulatedTime>10*y&&(a.accumulatedTime=0),0===a.accumulatedTime)return a.animationID=null,void a.startAnimationIfNecessary();for(var i=(a.accumulatedTime-Math.floor(a.accumulatedTime/y)*y)/y,j=Math.floor(a.accumulatedTime/y),k=g(a.props.willEnter,a.props.willLeave,a.state.mergedPropsStyles,c,a.state.currentStyles,a.state.currentVelocities,a.state.lastIdealStyles,a.state.lastIdealVelocities),l=k[0],m=k[1],o=k[2],p=k[3],q=k[4],s=0;s<l.length;s++){var t=l[s].style,u={},v={},w={},x={};for(var z in t)if(t.hasOwnProperty(z)){var A=t[z];if("number"==typeof A)u[z]=A,v[z]=0,w[z]=A,x[z]=0;else{for(var B=p[s][z],C=q[s][z],D=0;D<j;D++){var E=n["default"](y/1e3,B,C,A.val,A.stiffness,A.damping,A.precision);B=E[0],C=E[1]}var F=n["default"](y/1e3,B,C,A.val,A.stiffness,A.damping,A.precision),G=F[0],H=F[1];u[z]=B+(G-B)*i,v[z]=C+(H-C)*i,w[z]=B,x[z]=C}}p[s]=w,q[s]=x,m[s]=u,o[s]=v}a.animationID=null,a.accumulatedTime-=j*y,a.setState({currentStyles:m,currentVelocities:o,lastIdealStyles:p,lastIdealVelocities:q,mergedPropsStyles:l}),a.unreadPropStyles=null,a.startAnimationIfNecessary()})},componentDidMount:function(){this.prevTime=r["default"](),this.startAnimationIfNecessary()},componentWillReceiveProps:function(a){this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles),"function"==typeof a.styles?this.unreadPropStyles=a.styles(e(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.lastIdealStyles)):this.unreadPropStyles=a.styles,null==this.animationID&&(this.prevTime=r["default"](),this.startAnimationIfNecessary())},componentWillUnmount:function(){null!=this.animationID&&(t["default"].cancel(this.animationID),this.animationID=null)},render:function(){var a=e(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.currentStyles),b=this.props.children(a);return b&&x["default"].Children.only(b)}});b["default"]=z,a.exports=b["default"]},function(a,b){"use strict";function c(a,b,c){for(var d={},e=0;e<a.length;e++)d[a[e].key]=e;for(var f={},e=0;e<b.length;e++)f[b[e].key]=e;for(var g=[],e=0;e<b.length;e++)g[e]=b[e];for(var e=0;e<a.length;e++)if(!f.hasOwnProperty(a[e].key)){var h=c(e,a[e]);null!=h&&g.push(h)}return g.sort(function(a,c){var e=f[a.key],g=f[c.key],h=d[a.key],i=d[c.key];if(null!=e&&null!=g)return f[a.key]-f[c.key];if(null!=h&&null!=i)return d[a.key]-d[c.key];if(null!=e){for(var j=0;j<b.length;j++){var k=b[j].key;if(d.hasOwnProperty(k)){if(e<f[k]&&i>d[k])return-1;if(e>f[k]&&i<d[k])return 1}}return 1}for(var j=0;j<b.length;j++){var k=b[j].key;if(d.hasOwnProperty(k)){if(g<f[k]&&h>d[k])return 1;if(g>f[k]&&h<d[k])return-1}}return-1})}b.__esModule=!0,b["default"]=c,a.exports=b["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){return f({},i,b,{val:a})}b.__esModule=!0;var f=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a};b["default"]=e;var g=c(14),h=d(g),i=f({},h["default"].noWobble,{precision:.01});a.exports=b["default"]},function(a,b){"use strict";b.__esModule=!0,b["default"]={noWobble:{stiffness:170,damping:26},gentle:{stiffness:120,damping:14},wobbly:{stiffness:180,damping:12},stiff:{stiffness:210,damping:20}},a.exports=b["default"]},function(a,b,c){(function(c){"use strict";function d(){"development"===c.env.NODE_ENV&&(e||(e=!0,console.error("`reorderKeys` has been removed, since it is no longer needed for TransitionMotion's new styles array API.")))}b.__esModule=!0,b["default"]=d;var e=!1;a.exports=b["default"]}).call(b,c(6))}])}),function(a){a.fn.autoResize=function(b){var c=a.extend({onResize:function(){},animate:!0,animateDuration:150,animateCallback:function(){},extraSpace:20,limit:1e3},b);return this.filter("textarea").each(function(){var b=a(this).css({resize:"none","overflow-y":"hidden"}),d=b.height(),e=function(){var c=["height","width","lineHeight","textDecoration","letterSpacing"],d={};return a.each(c,function(a,c){d[c]=b.css(c)}),b.clone().removeAttr("id").removeAttr("name").css({position:"absolute",top:0,left:-9999}).css(d).attr("tabIndex","-1").insertBefore(b)}(),f=null,g=function(){e.height(0).val(a(this).val()).scrollTop(1e4);var g=Math.max(e.scrollTop(),d)+c.extraSpace,h=a(this).add(e);if(f!==g){if(f=g,g>=c.limit)return void a(this).css("overflow-y","");c.onResize.call(this),c.animate&&"block"===b.css("display")?h.stop().animate({height:g},c.animateDuration,c.animateCallback):h.height(g)}};b.unbind(".dynSiz").bind("keyup.dynSiz",g).bind("keydown.dynSiz",g).bind("change.dynSiz",g).bind("focus.dynSiz",g)}),this}}(jQuery),function(a){var b=function(b){var c=a('<div class="selection"></div>'),d=a('<input type="hidden" name="" value="" />'),e='<div class="triangle {{vector-icon-class}}"></div>',f=null,g={vectorIcons:!1,onChange:function(){return null}},h=function(){var a=!1;if(b.hasClass("opened"))b.removeClass("opened"),f.css({height:""});else{a=!0,i(),b.addClass("opened");var c=m(f),d=b.children(".nano"),e=parseInt(f.css("max-height"),10);f.css({height:c}),d.length&&e&&setTimeout(function(){d.css("position","relative"),d.nanoScroller({preventPageScrolling:!0,alwaysVisible:!0}),d.css("position",""),b.hide().show(0)},125),b.trigger("open")}if(a){var g;(g=f.find(".filter"))&&g.focus()}},i=function(){var b=a(".combobox, .opened");b.find(".options").css({height:""}),b.removeClass("opened")},j=function(a){return a||(a=window.event),a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0,a.preventDefault&&a.preventDefault(),a.returnValue=!1,!1},k=function(a,b){return b.filter(function(){return this.textContent.toLowerCase().indexOf(a)!==-1})},l=function(a,b){return b},m=function(b){var c=0;return b.children(":not(.pane)").each(function(){var b=a(this);"none"!=b.css("display")&&(c+=a(this).outerHeight(!0))}),c};this.run=function(){f=b.children(".options"),f.removeClass("opened"),e=a(e.replace("{{vector-icon-class}}",g.vectorIcons?"icon-arrow-down":"")),0==b.find(".selection").length?b.prepend(e).prepend(c).append(d):(c=b.find(".selection"),d=b.find('input[type="hidden"]')),b.find(".triangle").unbind("click"),b.find(".triangle").click(function(a){h(),this.lazyload(),j(a)}.bind(this)),c.unbind("click"),c.click(function(a){h(),this.lazyload(),j(a)}.bind(this)),a("body").click(function(a){b.hasClass("opened")&&(h(),b.trigger("close"))}),f.off("click",".item"),f.on("click",".item",function(){("function"!=typeof g.maybe||g.maybe(a(this),a(this).attr("data-value"),a(this)))&&(a('div[name="'+b.attr("name")+'"]').find(".selection").html(a(this).html()),d.attr("value",a(this).attr("data-value")),f.find(".item").removeClass("selected"),a(this).addClass("selected"),h(),g.onChange(b.attr("name"),a(this).attr("data-value"),a(this)))}),c.html(b.find(".selected").html()),d.attr("name",b.attr("name")).attr("value",b.find(".selected").attr("value"))},this.lazyload=function(){f.find("img.lazyload").each(function(){a(this).attr("src",a(this).attr("data-src")),a(this).removeClass("lazyload")})},this.init=function(b){b&&a.extend(g,b),this.run()},this.setupFilter=function(b){var c=f.children(".item[data-value]").filter(function(){return a(this).attr("data-value").length});this._original_options=c.clone(!0);var d=a(document.createElement("input")).attr({type:"text","class":"filter placeholder-onkeydown",title:b}).keyup(this.filterKeyUp.bind(this)).click(function(a){a.preventDefault(),a.stopPropagation()});Imgur.getInstance().runPlaceholder(d),f.prepend(d)},this.setFilter=function(a,b){a||(a=k),this.filter?this.filter=a:(this.filter=a,this.setupFilter(b))},this.filterKeyUp=function(b){var c=a(b.target).val();if(c.length)var d=this.applyFilter(c);else var d=this.applyFilter(c,l);f.find(".item").remove(),f.append(d),f.css("height",Math.max(m(d),a(b.target).outerHeight())),this.lazyload()},this.applyFilter=function(a,b){return(b=b||this.filter)(a,this._original_options)}};methods={init:function(c){return this.each(function(){var d=new b(a(this));d.init(c);var e=a(this);e.data("combobox",d)})},filter:function(b){return b||(b={}),this.each(function(){var c=a(this);if(c.data("combobox")){var d=c.data("combobox");d.setFilter(b.filter,b.placeholder)}})}},a.fn.combobox=function(b){return methods[b]?methods[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?a.error("Method "+b+" does not exist"):methods.init.apply(this,arguments)}}(jQuery),function(){var a={supportsFullScreen:!1,isFullScreen:function(){return!1},requestFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",prefix:""},b="webkit moz o ms khtml".split(" ");if("undefined"!=typeof document.cancelFullScreen)a.supportsFullScreen=!0;else for(var c=0,d=b.length;c<d;c++)if(a.prefix=b[c],"undefined"!=typeof document[a.prefix+"CancelFullScreen"]){a.supportsFullScreen=!0;break}a.supportsFullScreen&&(a.fullScreenEventName=a.prefix+"fullscreenchange",a.isFullScreen=function(){switch(this.prefix){case"":return document.fullScreen;case"webkit":return document.webkitIsFullScreen;default:return document[this.prefix+"FullScreen"]}},a.requestFullScreen=function(a){return""===this.prefix?a.requestFullScreen():a[this.prefix+"RequestFullScreen"]()},a.cancelFullScreen=function(a){return""===this.prefix?document.cancelFullScreen():document[this.prefix+"CancelFullScreen"]()}),"undefined"!=typeof jQuery&&(jQuery.fn.requestFullScreen=function(){return this.each(function(){a.supportsFullScreen&&a.requestFullScreen(this)})}),window.fullScreenApi=a}(),function(a){a.extend(a.fn,{validate:function(b){if(!this.length)return void(b&&b.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing"));var c=a.data(this[0],"validator");return c?c:(c=new a.validator(b,this[0]),a.data(this[0],"validator",c),c.settings.onsubmit&&(this.find("input, button").filter(".cancel").click(function(){c.cancelSubmit=!0}),c.settings.submitHandler&&this.find("input, button").filter(":submit").click(function(){c.submitButton=this}),this.submit(function(b){function d(){if(c.settings.submitHandler){if(c.submitButton)var b=a("<input type='hidden'/>").attr("name",c.submitButton.name).val(c.submitButton.value).appendTo(c.currentForm);return c.settings.submitHandler.call(c,c.currentForm),c.submitButton&&b.remove(),!1}return!0}return c.settings.debug&&b.preventDefault(),c.cancelSubmit?(c.cancelSubmit=!1,d()):c.form()?c.pendingRequest?(c.formSubmitted=!0,!1):d():(c.focusInvalid(),!1)})),c)},valid:function(){if(a(this[0]).is("form"))return this.validate().form();var b=!0,c=a(this[0].form).validate();return this.each(function(){b&=c.element(this)}),b},removeAttrs:function(b){var c={},d=this;return a.each(b.split(/\s/),function(a,b){c[b]=d.attr(b),d.removeAttr(b)}),c},rules:function(b,c){var d=this[0];if(b){var e=a.data(d.form,"validator").settings,f=e.rules,g=a.validator.staticRules(d);switch(b){case"add":a.extend(g,a.validator.normalizeRule(c)),f[d.name]=g,c.messages&&(e.messages[d.name]=a.extend(e.messages[d.name],c.messages));break;case"remove":if(!c)return delete f[d.name],g;var h={};return a.each(c.split(/\s/),function(a,b){h[b]=g[b],delete g[b]}),h}}var i=a.validator.normalizeRules(a.extend({},a.validator.metadataRules(d),a.validator.classRules(d),a.validator.attributeRules(d),a.validator.staticRules(d)),d);if(i.required){var j=i.required;delete i.required,i=a.extend({required:j},i)}return i}}),a.extend(a.expr[":"],{blank:function(b){return!a.trim(""+b.value)},filled:function(b){return!!a.trim(""+b.value)},unchecked:function(a){return!a.checked}}),a.validator=function(b,c){this.settings=a.extend(!0,{},a.validator.defaults,b),this.currentForm=c,this.init()},a.validator.format=function(b,c){return 1==arguments.length?function(){var c=a.makeArray(arguments);return c.unshift(b),a.validator.format.apply(this,c)}:(arguments.length>2&&c.constructor!=Array&&(c=a.makeArray(arguments).slice(1)),c.constructor!=Array&&(c=[c]),a.each(c,function(a,c){b=b.replace(new RegExp("\\{"+a+"\\}","g"),c)}),b)},a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:!0,ignore:[],ignoreTitle:!1,onfocusin:function(a){this.lastActive=a,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(a)).hide())},onfocusout:function(a){this.checkable(a)||!(a.name in this.submitted)&&this.optional(a)||this.element(a)},onkeyup:function(a){(a.name in this.submitted||a==this.lastElement)&&this.element(a)},onclick:function(a){a.name in this.submitted?this.element(a):a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).addClass(c).removeClass(d):a(b).addClass(c).removeClass(d)},unhighlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).removeClass(c).addClass(d):a(b).removeClass(c).addClass(d)}},setDefaults:function(b){a.extend(a.validator.defaults,b)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",
date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",maxlength:a.validator.format("Please enter no more than {0} characters."),minlength:a.validator.format("Please enter at least {0} characters."),rangelength:a.validator.format("Please enter a value between {0} and {1} characters long."),range:a.validator.format("Please enter a value between {0} and {1}."),max:a.validator.format("Please enter a value less than or equal to {0}."),min:a.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function b(b){var c=a.data(this[0].form,"validator"),d="on"+b.type.replace(/^validate/,"");c.settings[d]&&c.settings[d].call(c,this[0])}this.labelContainer=a(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||a(this.currentForm),this.containers=a(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var c=this.groups={};a.each(this.settings.groups,function(b,d){a.each(d.split(/\s/),function(a,d){c[d]=b})});var d=this.settings.rules;a.each(d,function(b,c){d[b]=a.validator.normalizeRule(c)}),a(this.currentForm).validateDelegate(":text, :password, :file, select, textarea","focusin focusout keyup",b).validateDelegate(":radio, :checkbox, select, option","click",b),this.settings.invalidHandler&&a(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),a.extend(this.submitted,this.errorMap),this.invalid=a.extend({},this.errorMap),this.valid()||a(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var a=0,b=this.currentElements=this.elements();b[a];a++)this.check(b[a]);return this.valid()},element:function(b){b=this.clean(b),this.lastElement=b,this.prepareElement(b),this.currentElements=a(b);var c=this.check(b);return c?delete this.invalid[b.name]:this.invalid[b.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),c},showErrors:function(b){if(b){a.extend(this.errorMap,b),this.errorList=[];for(var c in b)this.errorList.push({message:b[c],element:this.findByName(c)[0]});this.successList=a.grep(this.successList,function(a){return!(a.name in b)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){a.fn.resetForm&&a(this.currentForm).resetForm(),this.submitted={},this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var b=0;for(var c in a)b++;return b},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0==this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{a(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(b){}},findLastActive:function(){var b=this.lastActive;return b&&1==a.grep(this.errorList,function(a){return a.element.name==b.name}).length&&b},elements:function(){var b=this,c={};return a(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&b.settings.debug&&window.console&&console.error("%o has no name assigned",this),!(this.name in c||!b.objectLength(a(this).rules()))&&(c[this.name]=!0,!0)})},clean:function(b){return a(b)[0]},errors:function(){return a(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=a([]),this.toHide=a([]),this.currentElements=a([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(a){this.reset(),this.toHide=this.errorsFor(a)},check:function(b){b=this.clean(b),this.checkable(b)&&(b=this.findByName(b.name).not(this.settings.ignore)[0]);var c=a(b).rules(),d=!1;for(var e in c){var f={method:e,parameters:c[e]};try{var g=a.validator.methods[e].call(this,b.value.replace(/\r/g,""),b,f.parameters);if("dependency-mismatch"==g){d=!0;continue}if(d=!1,"pending"==g)return void(this.toHide=this.toHide.not(this.errorsFor(b)));if(!g)return this.formatAndAdd(b,f),!1}catch(h){throw this.settings.debug&&window.console&&console.log("exception occured when checking element "+b.id+", check the '"+f.method+"' method",h),h}}if(!d)return this.objectLength(c)&&this.successList.push(b),!0},customMetaMessage:function(b,c){if(a.metadata){var d=this.settings.meta?a(b).metadata()[this.settings.meta]:a(b).metadata();return d&&d.messages&&d.messages[c]}},customMessage:function(a,b){var c=this.settings.messages[a];return c&&(c.constructor==String?c:c[b])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(void 0!==arguments[a])return arguments[a]},defaultMessage:function(b,c){return this.findDefined(this.customMessage(b.name,c),this.customMetaMessage(b,c),!this.settings.ignoreTitle&&b.title||void 0,a.validator.messages[c],"<strong>Warning: No message defined for "+b.name+"</strong>")},formatAndAdd:function(a,b){var c=this.defaultMessage(a,b.method),d=/\$?\{(\d+)\}/g;"function"==typeof c?c=c.call(this,b.parameters,a):d.test(c)&&(c=jQuery.format(c.replace(d,"{$1}"),b.parameters)),this.errorList.push({message:c,element:a}),this.errorMap[a.name]=c,this.submitted[a.name]=c},addWrapper:function(a){return this.settings.wrapper&&(a=a.add(a.parent(this.settings.wrapper))),a},defaultShowErrors:function(){for(var a=0;this.errorList[a];a++){var b=this.errorList[a];this.settings.highlight&&this.settings.highlight.call(this,b.element,this.settings.errorClass,this.settings.validClass),this.showLabel(b.element,b.message)}if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(var a=0;this.successList[a];a++)this.showLabel(this.successList[a]);if(this.settings.unhighlight)for(var a=0,c=this.validElements();c[a];a++)this.settings.unhighlight.call(this,c[a],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(b,c){var d=this.errorsFor(b);d.length?(d.removeClass().addClass(this.settings.errorClass),d.attr("generated")&&d.html(c)):(d=a("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(b),generated:!0}).addClass(this.settings.errorClass).html(c||""),this.settings.wrapper&&(d=d.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(d).length||(this.settings.errorPlacement?this.settings.errorPlacement(d,a(b)):d.insertAfter(b))),!c&&this.settings.success&&(d.text(""),"string"==typeof this.settings.success?d.addClass(this.settings.success):this.settings.success(d)),this.toShow=this.toShow.add(d)},errorsFor:function(b){var c=this.idOrName(b);return this.errors().filter(function(){return a(this).attr("for")==c})},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(b){var c=this.currentForm;return a(document.getElementsByName(b)).map(function(a,d){return d.form==c&&d.name==b&&d||null})},getLength:function(b,c){switch(c.nodeName.toLowerCase()){case"select":return a("option:selected",c).length;case"input":if(this.checkable(c))return this.findByName(c.name).filter(":checked").length}return b.length},depend:function(a,b){return!this.dependTypes[typeof a]||this.dependTypes[typeof a](a,b)},dependTypes:{"boolean":function(a,b){return a},string:function(b,c){return!!a(b,c.form).length},"function":function(a,b){return a(b)}},optional:function(b){return!a.validator.methods.required.call(this,a.trim(b.value),b)&&"dependency-mismatch"},startRequest:function(a){this.pending[a.name]||(this.pendingRequest++,this.pending[a.name]=!0)},stopRequest:function(b,c){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[b.name],c&&0==this.pendingRequest&&this.formSubmitted&&this.form()?(a(this.currentForm).submit(),this.formSubmitted=!1):!c&&0==this.pendingRequest&&this.formSubmitted&&(a(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(b){return a.data(b,"previousValue")||a.data(b,"previousValue",{old:null,valid:!0,message:this.defaultMessage(b,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},dateDE:{dateDE:!0},number:{number:!0},numberDE:{numberDE:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(b,c){b.constructor==String?this.classRuleSettings[b]=c:a.extend(this.classRuleSettings,b)},classRules:function(b){var c={},d=a(b).attr("class");return d&&a.each(d.split(" "),function(){this in a.validator.classRuleSettings&&a.extend(c,a.validator.classRuleSettings[this])}),c},attributeRules:function(b){var c={},d=a(b);for(var e in a.validator.methods){var f=d.attr(e);f&&(c[e]=f)}return c.maxlength&&/-1|2147483647|524288/.test(c.maxlength)&&delete c.maxlength,c},metadataRules:function(b){if(!a.metadata)return{};var c=a.data(b.form,"validator").settings.meta;return c?a(b).metadata()[c]:a(b).metadata()},staticRules:function(b){var c={},d=a.data(b.form,"validator");return d.settings.rules&&(c=a.validator.normalizeRule(d.settings.rules[b.name])||{}),c},normalizeRules:function(b,c){return a.each(b,function(d,e){if(e===!1)return void delete b[d];if(e.param||e.depends){var f=!0;switch(typeof e.depends){case"string":f=!!a(e.depends,c.form).length;break;case"function":f=e.depends.call(c,c)}f?b[d]=void 0===e.param||e.param:delete b[d]}}),a.each(b,function(d,e){b[d]=a.isFunction(e)?e(c):e}),a.each(["minlength","maxlength","min","max"],function(){b[this]&&(b[this]=Number(b[this]))}),a.each(["rangelength","range"],function(){b[this]&&(b[this]=[Number(b[this][0]),Number(b[this][1])])}),a.validator.autoCreateRanges&&(b.min&&b.max&&(b.range=[b.min,b.max],delete b.min,delete b.max),b.minlength&&b.maxlength&&(b.rangelength=[b.minlength,b.maxlength],delete b.minlength,delete b.maxlength)),b.messages&&delete b.messages,b},normalizeRule:function(b){if("string"==typeof b){var c={};a.each(b.split(/\s/),function(){c[this]=!0}),b=c}return b},addMethod:function(b,c,d){a.validator.methods[b]=c,a.validator.messages[b]=void 0!=d?d:a.validator.messages[b],c.length<3&&a.validator.addClassRules(b,a.validator.normalizeRule(b))},methods:{required:function(b,c,d){if(!this.depend(d,c))return"dependency-mismatch";switch(c.nodeName.toLowerCase()){case"select":var e=a(c).val();return e&&e.length>0;case"input":if(this.checkable(c))return this.getLength(b,c)>0;default:return a.trim(b).length>0}},remote:function(b,c,d){if(this.optional(c))return"dependency-mismatch";var e=this.previousValue(c);if(this.settings.messages[c.name]||(this.settings.messages[c.name]={}),e.originalMessage=this.settings.messages[c.name].remote,this.settings.messages[c.name].remote=e.message,d="string"==typeof d&&{url:d}||d,this.pending[c.name])return"pending";if(e.old===b)return e.valid;e.old=b;var f=this;this.startRequest(c);var g={};return g[c.name]=b,a.ajax(a.extend(!0,{url:d,mode:"abort",port:"validate"+c.name,dataType:"json",data:g,success:function(d){f.settings.messages[c.name].remote=e.originalMessage;var g=d===!0;if(g){var h=f.formSubmitted;f.prepareElement(c),f.formSubmitted=h,f.successList.push(c),f.showErrors()}else{var i={},j=d||f.defaultMessage(c,"remote");i[c.name]=e.message=a.isFunction(j)?j(b):j,f.showErrors(i)}e.valid=g,f.stopRequest(c,g)}},d)),"pending"},minlength:function(b,c,d){return this.optional(c)||this.getLength(a.trim(b),c)>=d},maxlength:function(b,c,d){return this.optional(c)||this.getLength(a.trim(b),c)<=d},rangelength:function(b,c,d){var e=this.getLength(a.trim(b),c);return this.optional(c)||e>=d[0]&&e<=d[1]},min:function(a,b,c){return this.optional(b)||a>=c},max:function(a,b,c){return this.optional(b)||a<=c},range:function(a,b,c){return this.optional(b)||a>=c[0]&&a<=c[1]},email:function(a,b){return this.optional(b)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(a)},url:function(a,b){return this.optional(b)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)},date:function(a,b){return this.optional(b)||!/Invalid|NaN/.test(new Date(a))},dateISO:function(a,b){return this.optional(b)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(a)},number:function(a,b){return this.optional(b)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(a)},digits:function(a,b){return this.optional(b)||/^\d+$/.test(a)},creditcard:function(a,b){if(this.optional(b))return"dependency-mismatch";if(/[^0-9-]+/.test(a))return!1;var c=0,d=0,e=!1;a=a.replace(/\D/g,"");for(var f=a.length-1;f>=0;f--){var g=a.charAt(f),d=parseInt(g,10);e&&(d*=2)>9&&(d-=9),c+=d,e=!e}return c%10==0},accept:function(a,b,c){return c="string"==typeof c?c.replace(/,/g,"|"):"png|jpe?g|gif",this.optional(b)||a.match(new RegExp(".("+c+")$","i"))},equalTo:function(b,c,d){var e=a(d).unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){a(c).valid()});return b==e.val()}}}),a.format=a.validator.format}(jQuery),function(a){var b={};if(a.ajaxPrefilter)a.ajaxPrefilter(function(a,c,d){var e=a.port;"abort"==a.mode&&(b[e]&&b[e].abort(),b[e]=d)});else{var c=a.ajax;a.ajax=function(d){var e=("mode"in d?d:a.ajaxSettings).mode,f=("port"in d?d:a.ajaxSettings).port;return"abort"==e?(b[f]&&b[f].abort(),b[f]=c.apply(this,arguments)):c.apply(this,arguments)}}}(jQuery),function(a){jQuery.event.special.focusin||jQuery.event.special.focusout||!document.addEventListener||a.each({focus:"focusin",blur:"focusout"},function(b,c){function d(b){return b=a.event.fix(b),b.type=c,a.event.handle.call(this,b)}a.event.special[c]={setup:function(){this.addEventListener(b,d,!0)},teardown:function(){this.removeEventListener(b,d,!0)},handler:function(b){return arguments[0]=a.event.fix(b),arguments[0].type=c,a.event.handle.apply(this,arguments)}}}),a.extend(a.fn,{validateDelegate:function(b,c,d){return this.bind(c,function(c){var e=a(c.target);if(e.is(b))return d.apply(e,arguments)})}})}(jQuery),"function"!=typeof Object.create&&(Object.create=function(a){function b(){}return b.prototype=a,new b}),function(a,b,c,d){"use strict";var e={_positionClasses:["bottom-left","bottom-right","top-right","top-left","bottom-center","top-center","mid-center"],_defaultIcons:["success","error","info","warning"],init:function(b,c){this.prepareOptions(b,a.toast.options),this.process()},prepareOptions:function(b,c){var d={};"string"==typeof b||b instanceof Array?d.text=b:d=b,this.options=a.extend({},c,d)},process:function(){this.setup(),this.addToDom(),this.position(),this.bindToast(),this.animate()},setup:function(){var b="";if(this._toastEl=this._toastEl||a("<div></div>",{"class":"jq-toast-single"}),b+='<span class="jq-toast-loader"></span>',this.options.allowToastClose&&(b+='<span class="close-jq-toast-single">&times;</span>'),this.options.text instanceof Array){this.options.heading&&(b+='<h2 class="jq-toast-heading">'+this.options.heading+"</h2>"),b+='<ul class="jq-toast-ul">';for(var c=0;c<this.options.text.length;c++)b+='<li class="jq-toast-li" id="jq-toast-item-'+c+'">'+this.options.text[c]+"</li>";b+="</ul>"}else this.options.heading&&(b+='<h2 class="jq-toast-heading">'+this.options.heading+"</h2>"),b+=this.options.text;this._toastEl.html(b),this.options.bgColor!==!1&&this._toastEl.css("background-color",this.options.bgColor),this.options.textColor!==!1&&this._toastEl.css("color",this.options.textColor),this.options.textAlign&&this._toastEl.css("text-align",this.options.textAlign),this.options.icon!==!1&&(this._toastEl.addClass("jq-has-icon"),a.inArray(this.options.icon,this._defaultIcons)!==-1&&this._toastEl.addClass("jq-icon-"+this.options.icon))},position:function(){"string"==typeof this.options.position&&a.inArray(this.options.position,this._positionClasses)!==-1?"bottom-center"===this.options.position?this._container.css({left:a(b).outerWidth()/2-this._container.outerWidth()/2,bottom:20}):"top-center"===this.options.position?this._container.css({left:a(b).outerWidth()/2-this._container.outerWidth()/2,top:20}):"mid-center"===this.options.position?this._container.css({left:a(b).outerWidth()/2-this._container.outerWidth()/2,top:a(b).outerHeight()/2-this._container.outerHeight()/2}):this._container.addClass(this.options.position):"object"==typeof this.options.position?this._container.css({top:this.options.position.top?this.options.position.top:"auto",bottom:this.options.position.bottom?this.options.position.bottom:"auto",left:this.options.position.left?this.options.position.left:"auto",right:this.options.position.right?this.options.position.right:"auto"}):this._container.addClass("bottom-left")},bindToast:function(){var a=this;this._toastEl.on("afterShown",function(){a.processLoader()}),this._toastEl.find(".close-jq-toast-single").on("click",function(b){b.preventDefault(),"fade"===a.options.showHideTransition?(a._toastEl.trigger("beforeHide"),a._toastEl.fadeOut(function(){a._toastEl.trigger("afterHidden")})):"slide"===a.options.showHideTransition?(a._toastEl.trigger("beforeHide"),a._toastEl.slideUp(function(){a._toastEl.trigger("afterHidden")})):(a._toastEl.trigger("beforeHide"),a._toastEl.hide(function(){a._toastEl.trigger("afterHidden")}))}),"function"==typeof this.options.beforeShow&&this._toastEl.on("beforeShow",function(){a.options.beforeShow(a._toastEl)}),"function"==typeof this.options.afterShown&&this._toastEl.on("afterShown",function(){a.options.afterShown(a._toastEl)}),"function"==typeof this.options.beforeHide&&this._toastEl.on("beforeHide",function(){a.options.beforeHide(a._toastEl)}),"function"==typeof this.options.afterHidden&&this._toastEl.on("afterHidden",function(){a.options.afterHidden(a._toastEl)}),"function"==typeof this.options.onClick&&this._toastEl.on("click",function(){a.options.onClick(a._toastEl)})},addToDom:function(){var b=a(".jq-toast-wrap");if(0===b.length?(b=a("<div></div>",{"class":"jq-toast-wrap"}),a("body").append(b)):this.options.stack&&!isNaN(parseInt(this.options.stack,10))||b.empty(),b.find(".jq-toast-single:hidden").remove(),b.append(this._toastEl),this.options.stack&&!isNaN(parseInt(this.options.stack),10)){var c=b.find(".jq-toast-single").length,d=c-this.options.stack;d>0&&a(".jq-toast-wrap").find(".jq-toast-single").slice(0,d).remove()}this._container=b},canAutoHide:function(){return this.options.hideAfter!==!1&&!isNaN(parseInt(this.options.hideAfter,10))},processLoader:function(){if(!this.canAutoHide()||this.options.loader===!1)return!1;var a=this._toastEl.find(".jq-toast-loader"),b=(this.options.hideAfter-400)/1e3+"s",c=this.options.loaderBg,d=a.attr("style")||"";d=d.substring(0,d.indexOf("-webkit-transition")),d+="-webkit-transition: width "+b+" ease-in;                       -o-transition: width "+b+" ease-in;                       transition: width "+b+" ease-in;                       background-color: "+c+";",a.attr("style",d).addClass("jq-toast-loaded")},animate:function(){var a=this;if(this._toastEl.hide(),this._toastEl.trigger("beforeShow"),"fade"===this.options.showHideTransition.toLowerCase()?this._toastEl.fadeIn(function(){a._toastEl.trigger("afterShown")}):"slide"===this.options.showHideTransition.toLowerCase()?this._toastEl.slideDown(function(){a._toastEl.trigger("afterShown")}):this._toastEl.show(function(){a._toastEl.trigger("afterShown")}),this.canAutoHide()){var a=this;b.setTimeout(function(){"fade"===a.options.showHideTransition.toLowerCase()?(a._toastEl.trigger("beforeHide"),a._toastEl.fadeOut(function(){a._toastEl.trigger("afterHidden")})):"slide"===a.options.showHideTransition.toLowerCase()?(a._toastEl.trigger("beforeHide"),a._toastEl.slideUp(function(){a._toastEl.trigger("afterHidden")})):(a._toastEl.trigger("beforeHide"),a._toastEl.hide(function(){a._toastEl.trigger("afterHidden")}))},this.options.hideAfter)}},reset:function(b){"all"===b?a(".jq-toast-wrap").remove():this._toastEl.remove()},update:function(a){this.prepareOptions(a,this.options),this.setup(),this.bindToast()},close:function(){this._toastEl.find(".close-jq-toast-single").click()}};a.toast=function(a){var b=Object.create(e);return b.init(a,this),{reset:function(a){b.reset(a)},update:function(a){b.update(a)},close:function(){b.close()}}},a.toast.options={text:"",heading:"",showHideTransition:"fade",allowToastClose:!0,hideAfter:3e3,loader:!0,loaderBg:"#9EC600",stack:5,position:"bottom-left",bgColor:!1,textColor:!1,textAlign:"left",icon:!1,beforeShow:function(){},afterShown:function(){},beforeHide:function(){},afterHidden:function(){},onClick:function(){}}}(jQuery,window,document),function(a){for(var b=0,c=["webkit","moz"],d=a.requestAnimationFrame,e=a.cancelAnimationFrame,f=c.length;--f>=0&&!d;)d=a[c[f]+"RequestAnimationFrame"],e=a[c[f]+"CancelAnimationFrame"];d&&e||(d=function(a){var c=+new Date,d=Math.max(b+16,c);return setTimeout(function(){a(b=d)},d-c)},e=clearTimeout),a.requestAnimationFrame=d,a.cancelAnimationFrame=e}(window),function(a){function b(a){throw new RangeError(E[a])}function c(a,b){for(var c=a.length,d=[];c--;)d[c]=b(a[c]);return d}function d(a,b){var d=a.split("@"),e="";d.length>1&&(e=d[0]+"@",a=d[1]),a=a.replace(D,".");var f=a.split("."),g=c(f,b).join(".");return e+g}function e(a){for(var b,c,d=[],e=0,f=a.length;e<f;)b=a.charCodeAt(e++),b>=55296&&b<=56319&&e<f?(c=a.charCodeAt(e++),56320==(64512&c)?d.push(((1023&b)<<10)+(1023&c)+65536):(d.push(b),e--)):d.push(b);return d}function f(a){return c(a,function(a){var b="";return a>65535&&(a-=65536,b+=H(a>>>10&1023|55296),a=56320|1023&a),b+=H(a)}).join("")}function g(a){return a-48<10?a-22:a-65<26?a-65:a-97<26?a-97:t}function h(a,b){return a+22+75*(a<26)-((0!=b)<<5)}function i(a,b,c){var d=0;for(a=c?G(a/x):a>>1,a+=G(a/b);a>F*v>>1;d+=t)a=G(a/F);return G(d+(F+1)*a/(a+w))}function j(a){var c,d,e,h,j,k,l,m,n,o,p=[],q=a.length,r=0,w=z,x=y;for(d=a.lastIndexOf(A),d<0&&(d=0),e=0;e<d;++e)a.charCodeAt(e)>=128&&b("not-basic"),p.push(a.charCodeAt(e));for(h=d>0?d+1:0;h<q;){for(j=r,k=1,l=t;h>=q&&b("invalid-input"),m=g(a.charCodeAt(h++)),(m>=t||m>G((s-r)/k))&&b("overflow"),r+=m*k,n=l<=x?u:l>=x+v?v:l-x,!(m<n);l+=t)o=t-n,k>G(s/o)&&b("overflow"),k*=o;c=p.length+1,x=i(r-j,c,0==j),G(r/c)>s-w&&b("overflow"),w+=G(r/c),r%=c,p.splice(r++,0,w)}return f(p)}function k(a){var c,d,f,g,j,k,l,m,n,o,p,q,r,w,x,B=[];for(a=e(a),q=a.length,c=z,d=0,j=y,k=0;k<q;++k)p=a[k],p<128&&B.push(H(p));for(f=g=B.length,g&&B.push(A);f<q;){for(l=s,k=0;k<q;++k)p=a[k],p>=c&&p<l&&(l=p);for(r=f+1,l-c>G((s-d)/r)&&b("overflow"),d+=(l-c)*r,c=l,k=0;k<q;++k)if(p=a[k],p<c&&++d>s&&b("overflow"),p==c){for(m=d,n=t;o=n<=j?u:n>=j+v?v:n-j,!(m<o);n+=t)x=m-o,w=t-o,B.push(H(h(o+x%w,0))),m=G(x/w);B.push(H(h(m,0))),j=i(d,r,f==g),d=0,++f}++d,++c}return B.join("")}function l(a){return d(a,function(a){return B.test(a)?j(a.slice(4).toLowerCase()):a})}function m(a){return d(a,function(a){return C.test(a)?"xn--"+k(a):a})}var n="object"==typeof exports&&exports&&!exports.nodeType&&exports,o="object"==typeof module&&module&&!module.nodeType&&module,p="object"==typeof global&&global;p.global!==p&&p.window!==p&&p.self!==p||(a=p);var q,r,s=2147483647,t=36,u=1,v=26,w=38,x=700,y=72,z=128,A="-",B=/^xn--/,C=/[^\x20-\x7E]/,D=/[\x2E\u3002\uFF0E\uFF61]/g,E={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},F=t-u,G=Math.floor,H=String.fromCharCode;if(q={version:"1.4.1",ucs2:{decode:e,encode:f},decode:j,encode:k,toASCII:m,toUnicode:l},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return q});else if(n&&o)if(module.exports==n)o.exports=q;else for(r in q)q.hasOwnProperty(r)&&(n[r]=q[r]);else a.punycode=q}(this),Namespace("Imgur.History"),Imgur.History=Class.extend({init:function(a){this._=$.extend({popStates:{}},a),this.onPopState()},onPopState:function(){var a=this;window.onpopstate=function(b){try{a._.popStates[b.state].call(this,b)}catch(c){}}},addPopState:function(a,b){this._.popStates[a]=b},removePopState:function(a){delete this._.popStates[a]},addWindowState:function(a,b,c){if(window.history.replaceState){window.history.state||window.history.replaceState(a,"initial",window.location.href);var d={state:window.history.state,title:document.title,url:window.location.href},e={state:a,title:b,url:c};window.history.pushState(a,b,c);var f=$.Event("pushstate");f.previousState=d,f.currentState=e,$(window).trigger(f)}}}),Class.addSingleton(Imgur.History),Namespace("Imgur.InfiniteScroll"),Imgur.InfiniteScroll=Class.extend({init:function(a){this._=$.extend(!0,{speed:200,height:300,cont:!0,calcRight:!0},a)},levelReached:function(){var a=Math.max(document.body.scrollHeight||document.body.offsetHeight),b=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0,c=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;return this._.calcRight||(a-=$("#content").children(".right").height()),!(a<=0)&&a-b-c<this._.height},stopInfiniteScroll:function(){this._.cont=!1},continueInfiniteScroll:function(){this._.cont=!0},infiniteScroll:function(a){this.levelReached()?this._.cont&&a.call():this._.cont&&this.pollLevel(a)},pollLevel:function(a){var b=this;setTimeout(function(){b.infiniteScroll(a)},this._.speed)}}),Class.addSingleton(Imgur.InfiniteScroll),Namespace("Imgur.Utilities.ColorboxConfirm"),Imgur.Utilities.ColorboxConfirm=Class.extend({init:function(a){this._=$.extend(!0,{el:{$confirmation:$(".colorbox-confirm"),$noConfirm:$(".colorbox-no-confirm"),confirmed:"colorbox-confirmed"}},a),this.setupHandlers()},setupHandlers:function(){this._.el.$confirmation.unbind("click"),this._.el.$noConfirm.unbind("click");var a=this;this._.el.$confirmation.click(function(){$("."+a._.el.confirmed).val(!0),$.colorbox.close()}),this._.el.$noConfirm.click(function(){$.colorbox.close()})},show:function(a,b){var c=this;$.colorbox({href:$(a),open:!0,inline:!0,top:"15%",transition:"none",scrolling:!1,onComplete:function(){c.onComplete(a)},onClosed:function(){c.onClose(a,b)}})},onComplete:function(a){window.getSelection?window.getSelection().removeAllRanges():document.selection&&document.selection.empty();var b=$(a).children("."+this._.el.confirmed);b.length||(b=$("<input/>",{type:"hidden","class":this._.el.confirmed}),$(a).append(b)),b.val(!1)},onClose:function(a,b){var c=$(a).children("."+this._.el.confirmed);"false"!==c.val()&&b.call()}}),Class.addSingleton(Imgur.Utilities.ColorboxConfirm),Namespace("Imgur.Util"),Imgur.Util.Base64={PADCHAR:"=",ALPHA:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",getbyte64:function(a,b){var c=Imgur.Util.Base64.ALPHA.indexOf(a.charAt(b));if(c==-1)throw"Cannot decode base64";return c},getbyte:function(a,b){var c=a.charCodeAt(b);if(c>255)throw"INVALID_CHARACTER_ERR: DOM Exception 5";return c},encode:function(a){if(1!=arguments.length)throw"SyntaxError: Not enough arguments";var b,c,d=Imgur.Util.Base64.PADCHAR,e=Imgur.Util.Base64.ALPHA,f=Imgur.Util.Base64.getbyte,g=[];a=""+a;var h=a.length-a.length%3;if(0==a.length)return a;for(b=0;b<h;b+=3)c=f(a,b)<<16|f(a,b+1)<<8|f(a,b+2),g.push(e.charAt(c>>18)),g.push(e.charAt(c>>12&63)),g.push(e.charAt(c>>6&63)),g.push(e.charAt(63&c));switch(a.length-h){case 1:c=f(a,b)<<16,g.push(e.charAt(c>>18)+e.charAt(c>>12&63)+d+d);break;case 2:c=f(a,b)<<16|f(a,b+1)<<8,g.push(e.charAt(c>>18)+e.charAt(c>>12&63)+e.charAt(c>>6&63)+d)}return g.join("")},decode:function(a){a=""+a;var b,c,d,e=Imgur.Util.Base64.getbyte64,f=a.length;if(0==f)return a;if(f%4!=0)throw"Cannot decode base64";b=0,a.charAt(f-1)==Imgur.Util.Base64.PADCHAR&&(b=1,a.charAt(f-2)==Imgur.Util.Base64.PADCHAR&&(b=2),f-=4);var g=[];for(c=0;c<f;c+=4)d=e(a,c)<<18|e(a,c+1)<<12|e(a,c+2)<<6|e(a,c+3),g.push(String.fromCharCode(d>>16,d>>8&255,255&d));switch(b){case 1:d=e(a,c)<<18|e(a,c+1)<<12|e(a,c+2)<<6,g.push(String.fromCharCode(d>>16,d>>8&255));break;case 2:d=e(a,c)<<18|e(a,c+1)<<12,g.push(String.fromCharCode(d>>16))}return g.join("")}},Namespace("Imgur.Utilities.Embed"),Imgur.Utilities.Embed={elColorboxEmbed:function(){return{id:"#embed-post",form:$("#new-embed-post"),checkbox:$("#data-context"),embedCodeInput:$("#new-embed-post #embedcode"),clipboardLink:$("#new-embed-post #embed-clipboard-link"),clipboardContainer:$("#new-embed-post .clipboard-container"),preview:$("#embed-preview"),oldEmbed:$("#old-embed-view")}},elEmbedAlbumForm:function(){return{id:"#embed-album-form",form:$("#embed-album-form"),embedCodeInput:$("#embed-album-form #embedcode"),embedCodePreview:$("#embed-album-form #embedcodePreview a"),clipboardContainer:$("#embed-album-form .clipboard-container"),newEmbed:$("#new-embed-view"),hashRegex:new RegExp("/a/(.*?)/")}},embedModal:function(){Imgur.Utilities.Embed.setupEmbedImage.call(this),this._.el.colorboxEmbed.form.removeClass("nodisplay"),this._.el.embedAlbumForm.form.addClass("nodisplay"),this._.el.colorboxEmbed.oldEmbed.addClass("nodisplay"),this._.el.colorboxEmbed.checkbox.change(_.partial(Imgur.Utilities.Embed.onEmbedCheckboxClick,this)),$.colorbox({href:this._.el.colorboxEmbed.id,open:!0,width:"580px",inline:!0,top:"15%",className:"embed-post-colorbox",transition:"none",scrolling:!1,onComplete:_.bind(Imgur.Utilities.Embed.bindEmbedImage,this)})},getPostMetadata:function(){var a={event:"openEmbedModal"};if(this.imgurInsideNav){var b=this.imgurInsideNav.getHash();
if(b){var c=this.imgurInsideNav._.sideGallery.getImage(b);return c||(c=this._.image),this._.album=c.is_album?c:{},Imgur.Util.jafoLog(_.extend(a,{meta:{inGallery:!!_.isNumber(c.comment_count),hash:b,isAlbum:!!c.is_album,nsfw:!!c.nsfw,control:"postOptions"}})),{id:(c.is_album?"a/":"")+b,title:c.is_album?c.title:c.description}}}return Imgur.Util.jafoLog(_.extend(a,{meta:{inGallery:!1,hash:this._.album.id||this._.id,isAlbum:!0,nsfw:!1,control:"albumOptions"}})),{id:"a/"+(this._.album.id||this._.id),title:this._.album.title}},getSnippet:function(a,b,c,d){var e=Imgur.Environment.host,f=("imgur.com"===e?"s.imgur.com/min":e+"/include/minified")+"/embed.js",g=c===!1?' data-context="'+c+'"':"",h=d?"":' data-analytics="false"';return'<blockquote class="imgur-embed-pub" lang="en" data-id="'+a+'"'+g+h+'><a href="//'+e+"/"+a+'">'+_.escape(b)+'</a></blockquote><script async src="//'+f+'" charset="utf-8"></script>'},bindEmbedImage:function(a){this._.album=this._.album||{};var b=Imgur.Utilities.Embed.getPostMetadata.call(this);b.title||(b.title="View post on imgur.com");var c=Imgur.Utilities.Embed.getSnippet(b.id,b.title,a,!0);if(this._.el.colorboxEmbed.preview.html(Imgur.Utilities.Embed.getSnippet(b.id,b.title,a,!1)),this._.el.colorboxEmbed.embedCodeInput.val(c),flashElement(this._.el.colorboxEmbed.embedCodeInput),Imgur.Utilities.Embed.initEmbedClipboard.call(this,this._.el.colorboxEmbed.clipboardContainer),!this._.vars.newEmbedAlbumFormLoaded){this._.el.colorboxEmbed.embedCodeInput.focus(),_.defer(_.bind(this._.el.colorboxEmbed.embedCodeInput.selectAll,this));try{this._.vars.embedClipboard.glue("new-embedcode-clipboard","new-embedcode-container"),this._.vars.embedClipboard.addEventListener("onMouseUp",_.bind(function(){this._.vars.embedClipboard.setText(this._.el.colorboxEmbed.embedCodeInput.val())},this)),this._.vars.newEmbedAlbumFormLoaded=!0}catch(d){}}$.colorbox.resize()},viewOldEmbed:function(){var a;if(this._.el.colorboxEmbed.form.addClass("nodisplay"),this._.el.embedAlbumForm.form.removeClass("nodisplay"),a="/gallery"===this._.baseURL?this.imgurInsideNav.getHash():this._.album.id||this._.id,Imgur.Utilities.Embed.setEmbedUrl.call(this,"//"+this._.host+"/a/"+a+"/embed"),this._.el.embedAlbumForm.newEmbed.click(_.bind(function(){this._.el.colorboxEmbed.form.removeClass("nodisplay"),this._.el.embedAlbumForm.form.addClass("nodisplay"),Imgur.Utilities.Embed.initEmbedClipboard.call(this,this._.el.colorboxEmbed.clipboardContainer),$.colorbox.resize()},this)),Imgur.Utilities.Embed.initEmbedClipboard.call(this,this._.el.embedAlbumForm.clipboardContainer),flashElement(this._.el.embedAlbumForm.embedCodeInput),Imgur.Util.jafoLog({event:"oldEmbed",meta:{hash:this._.id}}),Imgur.Utilities.Embed.setEmbedCode.call(this),!this._.vars.embedAlbumFormLoaded){this._.el.embedAlbumForm.embedCodeInput.focus(),setTimeout(_.bind(function(){this._.el.embedAlbumForm.embedCodeInput.selectAll()},this),10);try{this._.vars.embedClipboard.glue("embedcode-clipboard","embedcode-container"),this._.vars.embedClipboard.addEventListener("onMouseUp",_.bind(function(){this._.vars.embedClipboard.setText(this._.el.embedAlbumForm.embedCodeInput.val())},this)),this._.vars.embedAlbumFormLoaded=!0}catch(b){}}$.colorbox.resize()},setupEmbedImage:function(){var a=window.addEventListener?"addEventListener":"attachEvent",b=window[a],c="attachEvent"==a?"onmessage":"message";b(c,_.bind(function(a){var b=JSON.parse(a.data);"resize_imgur"===b.message&&(this._.album.id&&(this._.el.colorboxEmbed.oldEmbed.removeClass("nodisplay"),this._.el.colorboxEmbed.oldEmbed.click(_.bind(Imgur.Utilities.Embed.viewOldEmbed,this))),this._.el.colorboxEmbed.preview.css("height",b.height+"px"),$(".imgur-embed-iframe-pub").height=b.height+"px",0===$(".cboxIframe").length&&$.colorbox.resize())},this),!1)},onEmbedCheckboxClick:function(a){$(this).is(":checked")?Imgur.Utilities.Embed.bindEmbedImage.call(a,!1):Imgur.Utilities.Embed.bindEmbedImage.call(a)},initEmbed:function(){Imgur.Utilities.Embed.setupEmbedCss.call(this),this._.el.layout.global.thumbsCarouselContainer.length&&this.initThumbsCarousel(),this.initMainCarousel(),Imgur.Utilities.Embed.setupEmbedScreen.call(this),$(window).resize(_.bind(function(){Imgur.Utilities.Embed.setupEmbedCss.call(this),Imgur.Utilities.Embed.setupEmbedScreen.call(this)},this))},setupEmbedCss:function(){$("head").append("<style>.main-carousel ul li { width: "+$(".embed").parent().width()+"px; }</style>"),this._.vars.bodyHeight=$(".embed").parent().height();var a=Imgur.Util.getQueryParams(window.location.search),b=$(_.templates["album.embedStyles"]({background:a.background,text:a.text,link:a.link}));this.chooseLogoColor(a.background)&&this._.el.layout.embed.offsite.addClass("light"),b.appendTo("head")},setupEmbedScreen:function(){var a=$(".embed").parent().width(),b=$(".embed").parent().height(),c=1,d=!0;this._.el.layout.global.thumbsCarouselContainer.length?c+=this._.el.layout.global.thumbsCarousel.height()+18:(d=!1,this._.el.layout.global.description.css("maxHeight",121)),this._.el.layout.global.title.is(":visible")&&(c+=$("#title").height()+10),this._.el.layout.global.container.css({lineHeight:b-c+"px",height:this._.vars.bodyHeight-c}),$(".embed #thumbs-top").css({width:Math.min(79*this._.images.count,a-65)}),$(".embed .thumbs-carousel").css({width:Math.min(79*this._.images.count+45,a-20)});var e=$(".embed .image").height();this._.el.layout.global.description.css({top:e-(d?48:Math.min(121,this._.el.layout.global.description.innerHeight()))})},setEmbedUrlAlbumId:function(a){Imgur.Utilities.Embed.setEmbedUrl.call(this,this._.embedUrl.replace(this._.el.embedAlbumForm.hashRegex,"/a/"+a+"/"))},setEmbedUrl:function(a){this._.embedUrl=a},setEmbedCode:function(){this._.el.embedAlbumForm.embedCodeInput.val('<iframe class="imgur-album" width="100%" height="550" frameborder="0" src="'+this._.embedUrl+'"></iframe>'),this._.el.embedAlbumForm.embedCodePreview.attr("href",this._.embedUrl)},clipboardClick:function(a){flashElement($(a).siblings("input")),$(a).attr("title","copied"),$(a).tipsy("show"),$(a).attr("original-title","copy")},initEmbedClipboard:function(a){this._.vars.embedClipboard=new ZeroClipboard.Client,this._.vars.embedClipboard.addEventListener("onMouseUp",_.partial(Imgur.Utilities.Embed.clipboardClick,a)),a.tipsy({gravity:"e",opacity:1,html:!0})}},Namespace("ImgurIface"),ImgurIface.NextImageReceiver=new Iface(["handleSelectEvent"]),Namespace("Imgur.Album"),Imgur.Album=Class.extend({init:function(a){a=a||{},this._=$.extend(!0,{id:null,album:null,images:null,cover:null,layout:null,cdnUrl:null,preloadCount:4,operation:null,mobile:!1,initialImage:!0,ajaxOptions:null,ajaxGetAlbumsURL:"/ajax/albumslist",ajaxParams:{},albumsPerPage:1e3,totalAlbumsCount:0,albumsLimitReached:!1,changingPage:!1,hasAccess:!1,el:{$albumsContainer:$("#album-thumbs"),$albumsScrollLoader:$("#albums-scroll-control"),$loader:$("#albums-loader"),links:{createAlbum:$(".album-create-link")},albumLinkClasses:{changeSettings:".album-settings-link",nonAuthorChangeSettings:".album-layout-link",changeImages:".album-images-link.unpublished",changeCover:".album-cover-link",deleteAlbum:".album-delete-link",embedAlbum:".album-embed-link",downloadAlbum:".album-download-link",hideAlbum:".album-hide-link"},embedAlbumForm:Imgur.Utilities.Embed.elEmbedAlbumForm(),colorboxEmbed:Imgur.Utilities.Embed.elColorboxEmbed(),createAlbumForm:{id:"#create-album-form",form:$("#create-album-form form"),header:$("#create-album-form h1"),titleInput:$("#album-title"),descriptionInput:$("#album-description"),layoutInput:$("#album-layout input[type=radio]"),privacyInput:$("#album-privacy input[type=radio]"),loader:$("#create-album-loader"),cover:$("#album-cover"),hiddenIcon:$(".privacy-icon.hidden"),secretIcon:$(".privacy-icon.secret"),exlanationPublic:$(".privacy-explanation.public"),exlanationHidden:$(".privacy-explanation.hidden"),exlanationSecret:$(".privacy-explanation.secret"),privacyTitle:$(".privacy-title"),errorbox:$("#create-album-form .error"),submitButton:$('#create-album-form input[type="submit"]')},changeLayout:{layoutButton:$(".userSessionLayout"),layoutForm:$("#userLayoutForm")},albumImagesForm:{id:"#album-images",form:$("#album-images form"),selectHeader:$("#album-images-select-header"),coverHeader:$("#album-images-cover-header"),menuFirstItemId:"#album-images .mode.start",imagesMenu:$("#images-menu"),mainColumn:$("#main-column")},deleteAlbumForm:{id:"#delete-album-form",yes:$("#delete-album-yes"),no:$("#delete-album-no"),loader:$("#delete-album-form .small-loader")},hideAlbumForm:{id:"#hide-album-form",yes:$("#hide-album-yes"),no:$("#hide-album-no"),loader:$("#hide-album-form .small-loader")},layout:{global:{title:$("#title"),description:$("#description"),container:$("#image-container"),mainImage:null,thumbsCarousel:$("#thumbs-top, #thumbs-bottom"),thumbsCarouselContainer:$(".thumbs-carousel"),thumbsCarouselNext:$(".thumbs-carousel .carousel-button.next"),thumbsCarouselPrev:$(".thumbs-carousel .carousel-button.prev"),thumbsCarouselTop:$("#thumbs-top"),thumbsCarouselBottom:$("#thumbs-bottom"),nextImage:$("#next"),prevImage:$("#prev"),imageHoverIconClass:".image-hover",actionOptionsClass:".action-options",actionOptionsItems:$(".image-hover .options .item")},blog:{leftPanel:$("#content .main"),sidebar:$("#scrollpanel")},embed:{offsite:$("#offsite")}},subdomain:{container:$(".left .panel"),albumClass:".album",editButtonClass:".edit-button",editOptionsClass:".edit-options",editOptionsItemsClass:".options .item"}},layouts:{blog:"b"},operations:{embed:"embed"},messages:{createAlbum:"Create an album",albumSettings:"Change album settings",switchLayout:"Switch album layout",updateSettings:"Album settings have been updated",updateImages:"Album images have been updated",updateCover:"Album cover has been updated",deleteAlbum:"Album has been deleted",hideAlbum:"Album has been hidden",privateGalleryMessage:"This album is in the gallery, please remove it before making it secret.",privateGalleryError:"A gallery album's privacy cannot be set to secret."},vars:{currentImageIndex:0,ajaxURL:"/ajaxalbums/",albumImages:null,interval:null,loadingViewport:!1,bodyHeight:0,thumbsSpeed:400,embedClipboard:null,scrolling:!1,creatingAlbum:!1,scrolledPage:0,bindings:{create:!1,images:!1,del:!1,thumbs:!1,main:!1},currentTheme:"dark",embedAlbumFormLoaded:!1,newEmbedAlbumFormLoaded:!1,needCaptchaToProceed:!1},themes:{dark:{background:"292929",text:"ffffff",link:"4e76c9"},light:{background:"f2f2f2",text:"1a1a1a",link:"4e76c9"},custom:{background:"292929",text:"ffffff",link:"4e76c9"}}},a),this._=$.extend(this._,Imgur.getInstance().getSettings()),this._.el.colorboxEmbed.embedCodeInput.click($(this).selectAll),this._.hasAccess=Imgur.Environment.auth.hasAccess,this.albumsScrollListener=this.albumsScrollListener.bind(this),this._scrollListener=_.throttle(this.albumsScrollListener,50),$(window).on("scroll",this._scrollListener)},albumsScrollListener:function(){this._.el.$albumsScrollLoader.is(":in-viewport")&&this.loadNextPage()},findImageIndex:function(a){for(var b=0;b<this._.images.count;++b)if(this._.images.images[b].hash==a)return b;return 0},getStartingIndex:function(){var a=Imgur.getInstance().getPageHash();return a?isNaN(a)?this.findImageIndex(a):parseInt(a):0},loadImage:function(a){if(a&&a.hasClass("unloaded")){a.attr("src",a.attr("data-src")),a.removeClass("unloaded");var b=new Image;b.src=a.attr("src");b.onload=function(){var a=$(this).attr("src");a.substring(a.lastIndexOf("/")+1,a.lastIndexOf("."))},b.onerror=function(){var b=$(this).attr("src"),c=b.substring(b.lastIndexOf("/")+1,b.lastIndexOf(".")).length;if(8===c||6===c){var d=b.substring(0,b.lastIndexOf(".")-1);d&&(d+=".jpg",this.src=d,$(a).attr("src",d),$(a).parent().hasClass("zoom")&&$(a).parent().attr("href",this.src))}}}},initAlbumImages:function(a,b,c,d){var e=this;null==this._.images?$.getJSON("/ajax/images",{album:this._.id,sort:0,order:1,page:1,perPage:999999},function(f){var g=f.data;e._.images={},e._.images.images=g.images,e._.images.count=g.count,d?"function"==typeof c&&c():e.setupAlbumImages(a,b,c),e._.images=null}):d?"function"==typeof c&&c():e.setupAlbumImages(a,b,c)},setupAlbumImages:function(a,b,c){var d=[];if(a)d[this._.cover]=!0,this._.el.albumImagesForm.coverHeader.show(),this._.el.albumImagesForm.selectHeader.hide();else{for(i=0;i<this._.images.count;++i)d[this._.images.images[i].hash]=!0;this._.el.albumImagesForm.coverHeader.hide(),this._.el.albumImagesForm.selectHeader.show()}var e=this,f=1;(this._.images.count&&this._.images.count>0||this._.images.images&&this._.images.images.length&&this._.images.images.length>0)&&(f=this._.id);var g={host:this._.host,album:this._.id,images:d,cdnUrl:this._.cdnUrl,totalCounter:$("<div/>"),totalCounterSuffix:$("<div/>"),imagesPerPage:64,changeCover:a,mode:f,onSubmitComplete:function(d){$.colorbox.close(),b&&(a?humanMsg.displayMsg(e._.messages.updateCover):humanMsg.displayMsg(e._.messages.updateImages));var f=e;a?$(document).bind("cbox_closed",function(){$(document).unbind("cbox_closed"),f._.cover=d.data[0][0],$("#album-"+e._.id).attr("data-cover",d.data[0][0]+"b.jpg").find(".cover img").attr("src",f._.cdnUrl+"/"+d.data[0][0]+"s.jpg"),f.changeSettings()}):"function"==typeof c?c(d.data):0!=location.pathname&&location.reload()}};this._.vars.albumImages=Imgur.Album.Images.getInstance(),this._.vars.albumImages.init(g)},bindchangeImages:function(){this._.vars.bindings.images=!0,this._.el.albumImagesForm.form.one("submit",function(){return this._.vars.albumImages._.album=this._.id,this._.vars.albumImages.submit(),!1}.bind(this))},bindDeleteAlbum:function(a){this._.vars.bindings.del=!0,this._.el.deleteAlbumForm.no.click(function(){$.colorbox.close()});var b=this;this._.el.deleteAlbumForm.yes.click(function(){b._.el.deleteAlbumForm.yes.disable(),b._.el.deleteAlbumForm.loader.show();var c=b;$.post(c._.vars.ajaxURL+"delete/"+c._.id,{msid:Imgur.Environment.msid},function(b){if(c._.el.deleteAlbumForm.loader.hide(),c._.el.deleteAlbumForm.yes.enable(),$.colorbox.close(),humanMsg.displayMsg(c._.messages.deleteAlbum),"function"==typeof a)a(b);else if("/"==location.pathname&&$("#album-"+c._.id).fadeOut(),"/"!=location.pathname){var d=c;setTimeout(function(){d._.signed?window.location=location.protocol+"//"+Imgur.getInstance()._.auth.url+"."+d._.host:window.location="/"},1e3)}}).error(function(){b._.el.deleteAlbumForm.yes.enable(),b._.el.deleteAlbumForm.loader.hide()})})},bindHideAlbum:function(a){this._.vars.bindings.del=!0,this._.el.hideAlbumForm.no.click(function(){$.colorbox.close()});var b=this;this._.el.hideAlbumForm.yes.click(function(){b._.el.hideAlbumForm.yes.disable(),b._.el.hideAlbumForm.loader.show(),$.post(b._.vars.ajaxURL+"hide/"+b._.id,{msid:Imgur.Environment.msid},function(c){b._.el.hideAlbumForm.loader.hide(),b._.el.hideAlbumForm.yes.enable(),$.colorbox.close(),humanMsg.displayMsg(b._.messages.hideAlbum),"function"==typeof a?a(c):("/"==location.pathname&&$("#album-"+b._.id).fadeOut(),"/"!=location.pathname&&setTimeout(function(){b._.signed?window.location=location.protocol+"//"+Imgur.getInstance()._.auth.url+"."+b._.host:window.location="/"},1e3))}).error(function(){b._.el.hideAlbumForm.yes.enable(),b._.el.hideAlbumForm.loader.hide()})})},bindCreateAlbum:function(a){this._.vars.bindings.create=!0;var b=this;this._.el.createAlbumForm.form.submit(function(){return b.createAlbumSubmitHandler(a),!1}),this._.el.createAlbumForm.form.change(function(a){$(a.target).attr("data-changed","true")}),this._.el.createAlbumForm.privacyInput.change(function(){b.hideAlbumPrivacy(),b.showAlbumPrivacy()}),this._.el.createAlbumForm.privacyTitle.tipsy({html:!1,opacity:1,gravity:"w"})},initCreateAlbum:function(){this._.vars.creatingAlbum=!0,$(this._.el.createAlbumForm.id).addClass("create"),this._.el.createAlbumForm.header.text(this._.messages.createAlbum),this._.el.createAlbumForm.titleInput.val(""),this._.el.createAlbumForm.descriptionInput.val(""),this._.el.createAlbumForm.layoutInput.removeAttr("checked").filter(":first").attr("checked","checked"),this._.el.createAlbumForm.cover.removeAttr("src"),this._.signed&&this._.auth?this._.el.createAlbumForm.privacyInput.removeAttr("checked").filter("[value="+this._.auth.album_privacy+"]").attr("checked","checked"):this._.el.createAlbumForm.privacyInput.removeAttr("checked").filter(":first").attr("checked","checked"),this._.el.createAlbumForm.titleInput.showPlaceholder(),this._.el.createAlbumForm.descriptionInput.showPlaceholder()},initChangeSettings:function(a){var b=this._.id?$("#album-"+this._.id):$(a).parents("[data-privacy]");if(this._.id||(this._.id=$(a).parents("[data-privacy]").attr("id").split("-")[1]),this._.vars.creatingAlbum=!1,b.length){this._.signed?$(this._.el.createAlbumForm.id).removeClass("create"):$(this._.el.createAlbumForm.id).addClass("create"),this._.el.createAlbumForm.titleInput.length>0?this._.el.createAlbumForm.header.text(this._.messages.albumSettings):this._.el.createAlbumForm.header.text(this._.messages.switchLayout),this._.el.createAlbumForm.titleInput.val(b.attr("data-title")),this._.el.createAlbumForm.descriptionInput.val(b.attr("data-description")),this._.el.createAlbumForm.privacyInput.removeAttr("checked").filter('[value="'+b.attr("data-privacy")+'"]').attr("checked","checked");var c=b.attr("data-cover");if(c){var d=this._.cdnUrl+"/"+b.attr("data-cover");Imgur.Util.basename(d).indexOf(".")==-1&&(d+="b.jpg"),this._.el.createAlbumForm.cover.attr("src",d)}this._.el.createAlbumForm.titleInput.val()?this._.el.createAlbumForm.titleInput.removeClass("placeholder"):this._.el.createAlbumForm.titleInput.showPlaceholder(),this._.el.createAlbumForm.descriptionInput.val()?this._.el.createAlbumForm.descriptionInput.removeClass("placeholder"):this._.el.createAlbumForm.descriptionInput.showPlaceholder()}},showAlbumPrivacy:function(){switch(this.hideAlbumPrivacy(),this._.el.createAlbumForm.privacyInput.filter(":checked").val()){case"0":this._.el.createAlbumForm.exlanationPublic.show();break;case"1":this._.el.createAlbumForm.hiddenIcon.show(),this._.el.createAlbumForm.exlanationHidden.show();break;case"2":this._.el.createAlbumForm.secretIcon.show(),this._.el.createAlbumForm.exlanationSecret.show()}this.resizeCreateAlbumForm()},hideAlbumPrivacy:function(){this._.el.createAlbumForm.hiddenIcon.hide(),this._.el.createAlbumForm.secretIcon.hide(),this._.el.createAlbumForm.exlanationPublic.hide(),this._.el.createAlbumForm.exlanationHidden.hide(),this._.el.createAlbumForm.exlanationSecret.hide()},resizeCreateAlbumForm:function(){var a=$(this._.el.createAlbumForm.id);$.colorbox.resize({innerWidth:a.width()+20,innerHeight:a.height()+20})},createAlbumSubmitHandler:function(a){var b=Imgur.Album.getInstance();if(this._.el.createAlbumForm.errorbox.is(":hidden")||(this._.el.createAlbumForm.errorbox.hide(),this.resizeCreateAlbumForm()),this._.el.createAlbumForm.titleInput.length>0&&"album title (optional)"==this._.el.createAlbumForm.titleInput.val().toLowerCase()&&this._.el.createAlbumForm.titleInput.val(""),this._.el.createAlbumForm.descriptionInput.length>0&&"album description (optional)"==this._.el.createAlbumForm.descriptionInput.val().toLowerCase()&&this._.el.createAlbumForm.descriptionInput.val(""),this._.vars.needCaptchaToProceed){var c=b._.el.createAlbumForm.form.serializeObject();return void $.ajax({url:"//"+Imgur.Environment.host+"/clearprotection",method:"POST",data:{"g-recaptcha-response":grecaptcha.getResponse()}}).success(function(c){c.data.error?(humanMsg.displayMsg("Captcha invalid: "+c.data.error),grecaptcha.reset()):(b._.vars.needCaptchaToProceed=!1,b.createAlbumSubmitHandler(a))}).error(function(a){humanMsg.displayMsg("An error occurred when trying to submit the Captcha."),grecaptcha.reset()})}this._.el.createAlbumForm.submitButton.disable(),this._.el.createAlbumForm.loader.show();var d=this._.vars.creatingAlbum?"create":"settings/"+this._.id,c=this._.el.createAlbumForm.form.serialize();if(!(this._.el.createAlbumForm.titleInput.length>0))return window.location=window.location.protocol+"//"+Imgur.Environment.host+"/a/"+this._.id+"/layout/"+this._.el.changeLayout.layoutForm.find(":radio:checked").attr("id"),a?a.stopPropagation():void 0,!1;var b=this;return $.post(this._.vars.ajaxURL+d,c,function(c){if("object"!=typeof c&&(c=$.parseJSON(c)),c=c.data,b._.el.createAlbumForm.submitButton.enable(),b._.el.createAlbumForm.loader.hide(),b._.vars.creatingAlbum)if($.colorbox.close(),"function"==typeof a)a(c);else if("/"==location.pathname){var d=b;$(document).bind("cbox_closed",function(){$(document).unbind("cbox_closed"),d._.id=c.id,d._.images=[],d.changeImages(!1,!1),$(document).bind("cbox_closed",function(){setTimeout(location.reload,1e3)})})}else window.location="/a/"+c.id;else if(c.id){$.colorbox.close(),humanMsg.displayMsg(b._.messages.updateSettings);var e=$("#album-"+c.id);e.attr("data-description",c.description).attr("data-privacy",c.privacy).attr("data-title",c.title),"function"==typeof a?a(c):location.reload()}else{var f="";for(key in errors)""!=f&&(f+="\n"),f+=errors[key];b._.el.createAlbumForm.errorbox.text(f).show(),b.resizeCreateAlbumForm()}}).error(function(a){b._.el.createAlbumForm.submitButton.enable(),b._.el.createAlbumForm.loader.hide(),a=$.parseJSON(a.responseText),a.data.error==b._.messages.privateGalleryError?humanMsg.displayMsg(b._.messages.privateGalleryMessage):403==a.status&&a.data.error?humanMsg.displayMsg(a.data.error,"error-msg"):429==a.status&&(b._.vars.needCaptchaToProceed=!0,b.showAlbumCaptcha(a))}),!1},showAlbumCaptcha:function(a){return"undefined"==typeof grecaptcha?(window.onloadAlbumCaptchaCallback=function(){this.showAlbumCaptcha.apply(this,a)}.bind(this),void $.getScript("https://www.google.com/recaptcha/api.js?render=explicit&onload=onloadAlbumCaptchaCallback",function(){humanMsg.displayMsg(a.data.error.message)}.bind(this))):(grecaptcha.render("albumCreateCaptcha",{sitekey:Imgur.Environment.recaptcha_key,theme:"dark"}),void this.resizeCreateAlbumForm())},openCreateAlbumColorbox:function(a,b){var c=this;$.colorbox({href:this._.el.createAlbumForm.id,open:!0,top:"15%",inline:!0,transition:"none",preloading:!1,scrolling:!1,onComplete:function(){c._.vars.bindings.create||c.bindCreateAlbum(a),c.showAlbumPrivacy(),c._.el.createAlbumForm.titleInput.focus()},onCleanup:function(){$(".tipsy").remove(),b&&(c._.id=null)}})},carouselItemFirstIn:function(a,b,c){0==a.index()?c.addClass("disabled"):c.removeClass("disabled")},carouselItemLastIn:function(a,b,c){var d=b.jcarousel("items").length;a.index()==d-1?c.addClass("disabled"):c.removeClass("disabled")},shrinkThumbsCarousel:function(){this._.el.layout.global.thumbsCarouselBottom.remove(),this._.el.layout.global.thumbsCarouselContainer.addClass("shrunk")},getThumbsCarouselScroll:function(){var a=this._.operations,b=this._.layouts;if(this._.operation==a.embed){var c=$(".embed").parent().width(),d=82;return Math.floor(c/d/2)}switch(this._.album.album_layout){case b.blog:return 6;case b.horizontal:return 5}return 0},thumbsCarouselScroll:function(a,b){var c=this._.operations,d=this._.layouts;try{if(!this._.operation&&this._.album.album_layout==d.horizontal||this._.operation==c.embed){var e=this.getThumbsCarouselScroll();a>=e&&a<this._.images.count-e?this._.el.layout.global.thumbsCarousel.jcarousel("scroll",a-e,b):a<e?this._.el.layout.global.thumbsCarousel.jcarousel("scroll",0,b):this._.el.layout.global.thumbsCarousel.jcarousel("scroll",this._.images.count-1,b)}}catch(f){}},thumbsCarouselBind:function(){var a=this._.operations,b=this._.layouts,c=this;this._.el.layout.global.thumbsCarouselNext.click(function(){var d=c.getThumbsCarouselScroll();return c._.operation!=a.embed&&c._.album.album_layout==b.blog&&(d/=2),c._.el.layout.global.thumbsCarousel.jcarousel("scroll","+="+d),!1}),this._.el.layout.global.thumbsCarouselPrev.click(function(){var d=c.getThumbsCarouselScroll();return c._.operation!=a.embed&&c._.album.album_layout==b.blog&&(d/=2),c._.el.layout.global.thumbsCarousel.jcarousel("scroll","-="+d),!1}),this._.el.layout.global.thumbsCarousel.find("img").click(function(){var d=parseInt($(this).attr("data-index")),e=c._.images.images[d];!c._.operation&&c._.album.album_layout==b.horizontal||c._.operation==a.embed?c.scrollMainImage(d):c._.album.album_layout==b.blog&&Imgur.getInstance().setPageHash(e.hash)}),$(".thumb-title-embed").tipsy({gravity:"s",opacity:.95,html:!0,live:!0});var d=this._.album.album_layout==b.blog?this.getThumbsCarouselScroll()/2:this.getThumbsCarouselScroll();this._.images.count<=d&&this.shrinkThumbsCarousel()},thumbsCarouselItemVisibleIn:function(a){Imgur.Album.getInstance().loadImage($(this).find("img"))},initThumbsCarousel:function(){var a=this;this._.el.layout.global.thumbsCarousel.find("li").bind("jcarouselitemvisiblein",a.thumbsCarouselItemVisibleIn),this._.el.layout.global.thumbsCarouselTop.find("li").bind("jcarouselitemfirstin",function(b){a.carouselItemFirstIn($(this),a._.el.layout.global.thumbsCarouselTop,a._.el.layout.global.thumbsCarouselPrev)}).bind("jcarouselitemlastin",function(b){a.carouselItemLastIn($(this),a._.el.layout.global.thumbsCarouselTop,a._.el.layout.global.thumbsCarouselNext)}),this._.el.layout.global.thumbsCarousel.jcarousel({animation:this._.vars.thumbsSpeed}),this.thumbsCarouselBind()},getImageSrc:function(a){a>=this._.images.count&&(a=this._.images.count-1),a<0&&(a=0);var b=this._.images.images[a];return this._.cdnUrl+"/"+b.hash+b.ext},scrollMainImage:function(a){if(0!=this._.images.count){a>=this._.images.count&&(a=this._.images.count-1),a<0&&(a=0);var b=(this.getImageSrc(a),this._.images.images[a]);this._.vars.currentImageIndex=a;var c=$("#image-container-inner"),d="";if(this._.operation==this._.operations.embed&&!b.animated){var e=this._.el.layout.global.container.height(),f=this._.el.layout.global.container.width(),g=e>f?e:f;g<=160?d="t":g<=320?d="m":g<=640?d="l":g<=1024&&(d="h")}this._.el.layout.global.mainImage=ReactDOM.render(React.createElement(Imgur.ImageViewer,{item:b,thumbsize:d,discarding_referrer:!this._.initialImage}),c.get(0));var h=$(".jquery-image-zoom");h.length&&h.click(),this.mainCarouselItemVisible(),Imgur.getInstance().setPageHash(a),this._.initialImage=!1}},mainCarouselSetup:function(){var a=this,b=this._.operations;this._.layouts;this._.el.layout.global.description.tipsy({gravity:$.fn.tipsy.autoNS,opacity:.95,offset:-10,html:!0,delayOut:1200,live:!0}),this._.el.layout.global.nextImage.click(function(){return a.scrollMainImage(a._.vars.currentImageIndex+1),$("."+a._.el.layout.global.actionButtonOpenClass).removeClass("opened"),!1}),this._.el.layout.global.prevImage.click(function(){return a.scrollMainImage(a._.vars.currentImageIndex-1),$("."+a._.el.layout.global.actionButtonOpenClass).removeClass("opened"),!1}),$(document).keydown(function(b){return!!(b.ctrlKey||b.altKey||b.metaKey)||(37==b.keyCode?a.scrollMainImage(a._.vars.currentImageIndex-1):39==b.keyCode&&a.scrollMainImage(a._.vars.currentImageIndex+1),!0)}),this._.operation==b.embed&&0==this._.el.layout.embed.offsite.length&&this._.el.layout.global.container.parent().mousewheel(function(b,c){return c=c?detla:b.originalEvent.wheelDeltaY||b.originalEvent.detail,c>0?a.scrollMainImage(a._.vars.currentImageIndex-1):a.scrollMainImage(a._.vars.currentImageIndex+1),b.preventDefault(),b.stopPropagation(),!1});var c=a.getStartingIndex();"g"==this._.album.album_layout&&isNaN(parseInt(window.location.hash.substr(1)))||a.scrollMainImage(c)},mainCarouselItemVisible:function(){var a=this._.vars.currentImageIndex,b=this._.images.images[a],c=(this._.layouts,b.prefer_video?".gifv":b.ext);if($(".tipsy").remove(),b.title?this._.el.layout.global.title.text(b.title).show():this._.el.layout.global.title.hide(),b.description){var d=Imgur.Util.htmlEntity(b.description);this._.el.layout.global.description.html(Imgur.Util.linkify(d,!0,!0)).show()}else this._.el.layout.global.description.hide();this._.el.layout.global.description.attr("title","").attr("original-title",""),this._.operation==this._.operations.embed?Imgur.Utilities.Embed.setupEmbedScreen.call(this):$(document).height()>this._.vars.bodyHeight&&(this._.vars.bodyHeight=$(document).height(),$("body").css("height",this._.vars.bodyHeight)),this.thumbsCarouselScroll(a,!1),this._.el.layout.global.thumbsCarousel.find("img").removeClass("selected"),$("#thumb-"+b.hash).addClass("selected"),$(this._.el.layout.global.imageHoverIconClass).find(".album-view-link").html('<a href="/a/'+this._.id+'" target="_blank">View album on Imgur</a>'),$(this._.el.layout.global.imageHoverIconClass).find(".album-view-image-link").html('<a href="'+this._.cdnUrl+"/"+b.hash+c+'" target="_blank">View full resolution</a>'),$(this._.el.layout.global.imageHoverIconClass).find(".download").html('<a href="//'+Imgur.Environment.host+"/download/"+b.hash+(b.title?"/"+encodeURIComponent(b.title):"")+'">Download full resolution</a>'),a==this._.images.count-1?this._.el.layout.global.nextImage.addClass("disabled"):this._.el.layout.global.nextImage.removeClass("disabled"),0==a?this._.el.layout.global.prevImage.addClass("disabled"):this._.el.layout.global.prevImage.removeClass("disabled");for(var e=a-1;e<a+this._.preloadCount&&e<=this._.images.count;++e)"undefined"!=typeof this._.images.images[e]&&(this._.images.images[e].animated&&".gif"===this._.images.images[e].ext||$.preloadImages(this.getImageSrc(e)))},initMainCarousel:function(){this.mainCarouselSetup()},chooseLogoColor:function(a){if(a){var b=parseInt(a.substr(0,2),16),c=parseInt(a.substr(2,2),16),d=parseInt(a.substr(4,2),16),e=(299*b+587*c+114*d)/1e3;return e>=128}return!1},albumSortStop:function(){var a=Imgur.Album.getInstance();if(a._.el.subdomain.container.find(a._.el.subdomain.albumClass).length>0){for(var b=a._.el.subdomain.container.sortable("toArray"),c=[],d=0,e=b.length;d<e;++d)c[d]=b[d].substr(b[d].indexOf("-")+1);$.post(a._.vars.ajaxURL+"rearrangeAlbums","order="+c+"&msid="+Imgur.Environment.msid)}},toggleEditButton:function(a){a.toggleClass("opened"),a.siblings(this._.el.subdomain.editOptionsClass).toggle()},editButtonClickHandler:function(a){$("body").unbind("click");var b=Imgur.Album.getInstance();return/album-/.test($(a.target).parent().attr("id"))&&b.setAlbumID($(a.target).parent().attr("id").replace(/album-/,"")),$("body").click(function(a){var c=b;$("body").find(".opened").each(function(){c.toggleEditButton($(this))})}),b.toggleEditButton($(this)),0!=$(a.target).closest(".gallery-submit-link").length||(a.stopPropagation(),a.preventDefault(),!1)},downloadAlbum:function(){var a=Imgur.Album.getInstance();window.location="https://"+Imgur.Environment.host+"/a/"+a._.id+"/zip"},createAlbum:function(a){var b=Imgur.Album.getInstance();b.initCreateAlbum(),b.openCreateAlbumColorbox(a)},changeSettings:function(a,b){var c=Imgur.Album.getInstance(),d=null===this._.id;c.initChangeSettings(b),c.openCreateAlbumColorbox(a,d)},changeImages:function(a,b,c){if(Imgur.Environment.published)return!1;var d=this;$.colorbox({href:this._.el.albumImagesForm.id,open:!0,inline:!0,transition:"none",scrolling:!1,onComplete:function(){d._.vars.bindings.images||d.bindchangeImages(),a?(d._.el.albumImagesForm.imagesMenu.hide(),$.colorbox.resize({innerWidth:d._.el.albumImagesForm.mainColumn.width()+20,innerHeight:d._.el.albumImagesForm.form.height()+20}),d._.el.albumImagesForm.coverHeader.width(d._.el.albumImagesForm.mainColumn.width()+20)):d._.el.albumImagesForm.imagesMenu.show(),d.initAlbumImages(a,b,c)},onCleanup:function(){d._.el.albumImagesForm.form.off("submit"),d._.vars.albumImages.destroy(),d._.vars.albumImages=null}})},deleteAlbum:function(a){var b=Imgur.Album.getInstance();$.colorbox({href:b._.el.deleteAlbumForm.id,open:!0,inline:!0,top:"15%",transition:"none",scrolling:!1,onComplete:function(){b._.vars.bindings.del||b.bindDeleteAlbum(a)}})},hideAlbum:function(a){var b=Imgur.Album.getInstance();$.colorbox({href:b._.el.hideAlbumForm.id,open:!0,inline:!0,top:"15%",transition:"none",scrolling:!1,onComplete:function(){b._.vars.bindings.del||b.bindHideAlbum(a)}})},generalInit:function(){var a=this._.operations;this._.operation===a.embed&&Imgur.Utilities.Embed.initEmbed.call(this),
this._.el.links.createAlbum.unbind("click"),this._.el.links.createAlbum.click(this.createAlbum),this._.el.embedAlbumForm.embedCodeInput.click($(this).selectAll),Imgur.Fullscreen&&Imgur.Fullscreen.getInstance()},afterRenderAlbumsBindMethods:function(){var a=this;$(".thumb-title").tipsy({gravity:"n",opacity:.95,offset:-10,html:!0});var b={changeSettings:$(a._.el.albumLinkClasses.changeSettings),nonAuthorChangeSettings:$(a._.el.albumLinkClasses.nonAuthorChangeSettings),changeImages:$(a._.el.albumLinkClasses.changeImages),changeCover:$(a._.el.albumLinkClasses.changeCover),deleteAlbum:$(a._.el.albumLinkClasses.deleteAlbum),embedAlbum:$(a._.el.albumLinkClasses.embedAlbum),downloadAlbum:$(a._.el.albumLinkClasses.downloadAlbum),hideAlbum:$(a._.el.albumLinkClasses.hideAlbum),editButton:$(a._.el.subdomain.editButtonClass),editOptionsItems:$(a._.el.subdomain.editOptionsItemsClass)};b.editOptionsItems.unbind("click"),b.editButton.unbind("click"),b.changeSettings.unbind("click"),b.hideAlbum.unbind("click"),b.deleteAlbum.unbind("click"),b.changeImages.unbind("click"),b.changeCover.unbind("click"),b.embedAlbum.unbind("click"),b.downloadAlbum.unbind("click"),b.editOptionsItems.click(function(){var b=$(this).parent().parent().parent().attr("id");a._.id=b.substr(b.indexOf("-")+1)}),b.editButton.click(this.editButtonClickHandler),b.changeSettings.click(function(){a.changeSettings(void 0,this)}),b.hideAlbum.click(this.hideAlbum),b.deleteAlbum.click(this.deleteAlbum),b.changeImages.click(function(){a.changeImages(!1,!0)}),b.changeCover.click(function(){a.changeImages(!0,!0)}),b.embedAlbum.click(_.bind(Imgur.Utilities.Embed.embedModal,this)),b.downloadAlbum.click(this.downloadAlbum),this._.vars.bodyHeight=$("body").height(),$(".album-images-link.published").tipsy({gravity:"w"})},profileInit:function(){this._.el.subdomain.container.sortable({stop:this.albumSortStop,items:".album"}),this.generalInit()},setAlbumID:function(a){this._.id=a,this._.vars.bindings.images=!1},getHash:function(){return window.location.hash.substring(1)},getInitPage:function(){var a=parseInt(this.getHash());return a<1&&(a=1),a?a:1},handleAlbumsData:function(a){if(null!=a)if(a.albums.length>0){var b=this;$.each(a.albums,function(a,c){b.addAlbumToContainer(c,!0)});var c=a.albums[a.albums.length-1];this._.ajaxParams.fromDate=c.datetime,this._.ajaxParams.fromOrder=c.order,a.albums.length<this._.ajaxParams.perPage&&(this._.albumsLimitReached=!0,$(window).off("scroll",this._scrollListener))}else this._.albumsLimitReached=!0,$(window).off("scroll",this._scrollListener);this._.changingPage=!1,this._.el.$loader.hide(),this.afterRenderAlbumsBindMethods()},loadNextPage:function(){if(this._.changingPage||this._.albumsLimitReached)return!1;var a=this;return this._.changingPage=!0,this._.el.$loader.show(),this._.ajaxParams.perPage=this._.albumsPerPage,this._.ajax=$.getJSON(this._.ajaxGetAlbumsURL,this._.ajaxParams,function(b){b.success&&a.handleAlbumsData(b.data)}).fail(function(b,c){a.handleAlbumsData(null)}),!0},setTotalAlbumsCount:function(a,b){this._.totalAlbumsCount=a,this._.albumsPerPage=b||this._.albumsPerPage},addAlbumToContainer:function(a,b){a.views=a.views||0,a.num_images=a.num_images||0;var c=["album"];this._.hasAccess&&(c.push("access"),1==a.privacy?c.push("hidden"):2==a.privacy&&c.push("secret"));var d,e='<div id="album-'+a.id+'" data-title="'+a.title+'" data-cover="'+a.cover+'" data-layout="'+a.layout+'" data-privacy="'+a.privacy+'"  data-description="'+a.description+'" class="album '+c.join(" ")+'">';d=0==a.num_images?Imgur.Environment.staticUrl+"/images/"+a.thumb:Imgur.Environment.cdnUrl+"/"+a.thumb;var f='<div class="cover"><a href="//'+this._.host+"/a/"+a.id+'"><img src="'+d+'" alt="'+a.title+'" /></a>';this._.hasAccess&&(f+='<div class="privacy-dot-container options">',f+=1==a.privacy?'<span class="privacy-dot orange title item album-settings-link" title="Privacy: Hidden"></span>':2==a.privacy?'<span class="privacy-dot red title item album-settings-link" title="Privacy: Secret"></span>':'<span class="privacy-dot green title item album-settings-link" title="Privacy: Public"></span>',f+="</div>"),f+="</div>";var g='<div class="info">';g+=a.title?a.title:"untitled",g+="</div>";var h='<div class="metadata">'+a.num_images+" "+Imgur.Util.pluralize(a.num_images,"image")+'&middot;<span title="'+moment(a.datetime).format("dddd, MMMM D, YYYY a\t HH:mm")+' GMT">'+moment(a.datetime).format("MMM D, YYYY")+"</span> &middot; "+Imgur.Util.numberFormat(a.views)+" "+Imgur.Util.pluralize(a.views,"view")+"</div>",i="";this._.hasAccess&&(i+='<div class="edit-button combobox left" title="edit this album"><div class="options"><div class="item album-images-link '+(a.in_gallery?"published":"unpublished")+'" '+(a.in_gallery?'title="Please remove this album from the gallery to change its images"':"")+'>Change images</div><div class="item album-settings-link">Change settings</div><div class="item album-embed-link">Embed album</div><div class="item album-download-link">Download album</div><div class="item album-delete-link">Delete album</div></div></div>',i+='<div class="move-icon" title="rearrange album"></div>'),e+=f+g+h+i,e+="</div>";var j=$(e);return b?j.appendTo(this._.el.$albumsContainer):j.prependTo(this._.el.$albumsContainer),!0}}),Class.addSingleton(Imgur.Album),Namespace("Imgur.Elements.Tag.View"),Imgur.Elements.Tag.View=React.createClass({displayName:"TagView",getDefaultProps:function(){return{redirectTo:"",redirectAnalytics:function(){},classNames:""}},getBackgroundImage:function(){return this.props.tag?this.props.tag.background?this.props.tag.background:this.props.tag.background_hash?Imgur.Environment.cdnUrl+"/"+this.props.tag.background_hash+"_d.png?maxwidth=200&fidelity=grand":"":""},handleTagClick:function(a){this.props.redirectAnalytics(),this.props.redirectTo||this.removeTag(a)},removeTag:function(a){a.preventDefault(),a.stopPropagation(),this.props.allowRemoval&&this.props.removeTag(this.props.tagName)},render:function(){var a="";this.props.allowRemoval&&(a=React.createElement("span",{className:"post-tag-delete pointer icon-x",onClick:this.removeTag}));var b={};return this.getBackgroundImage()&&(b={background:"linear-gradient(rgba(0, 0, 0, 0.15), rgba(0, 0, 0, 0.15)), url("+this.getBackgroundImage()+")"}),React.createElement("a",{style:b,className:this.props.classNames,onClick:this.handleTagClick,href:this.props.redirectTo},React.createElement("span",{className:"post-tag-link"},this.props.tagName),a)}}),Imgur.Elements.Tag.View.propTypes={tagName:React.PropTypes.string.isRequired,classNames:React.PropTypes.string,redirectTo:React.PropTypes.string,redirectAnalytics:React.PropTypes.func,allowRemoval:React.PropTypes.bool,removeTag:React.PropTypes.func,tag:React.PropTypes.object},Namespace("Imgur.PostOptions"),Imgur.PostOptions=React.createClass({displayName:"PostOptions",_:{embedcoder:null,saving:"Saving...",saved:"Saved!",optionsPos:0,albumInGalleryMessage:"Please remove this album from the gallery to change its images",MAX_TAG_LENGTH:5,tagSuggestPosition:{right:{left:17,top:16},left:{left:-230,top:16}}},getInitialState:function(){return{hash:this.props.initialHash,published:this.props.initialIsPublished,privacy:this.props.privacy,showAllLinks:Imgur.LocalStorage.get("post_options::showAllLinks")||!1,save:"",fixed:!1,deletehash:this.props.deletehash||Imgur.Environment.image.deletehash,isAlbum:this.props.isAlbum||Imgur.Environment.image.is_album,image:this.props.image||Imgur.Environment.image,showingGrid:!1,tags:[],suggestedTags:null,query:"",tagError:null,tagSuggestFlag:"right",isPostMarkedAsMature:!1}},componentWillMount:function(){this._.embedcoder=new Imgur.LinkGenerator,this._.embedcoder.setThumbSize(""),this.initPostMatureState()},componentDidMount:function(){$("#deletion-email").find("form").submit(this.deletionEmailSubmitHandler),this.props.emitter.on("saving",this,_.bind(function(){this.setState({save:this._.saving})},this)),this.props.emitter.on("saved",this,_.bind(function(){this.setState({save:this._.saved})},this)),this.props.emitter.on("initGrid",this,function(){this.setState({showingGrid:!0})}),this.props.emitter.on("closeGrid",this,function(){this.setState({showingGrid:!1})}),this.props.emitter.on("tagAdded",this,this.resetTags),this.props.emitter.on("tagRemoved",this,this.resetTags),this.calcOptionsPosition(),$(window).on("scroll",_.throttle(this.checkStickyOptions,50)),this.checkStickyOptions(),this.state.isAlbum||Imgur.TitleDesc.getInstance().bindTitleDescriptionSubmit(null,!0),$(this.refs["mature-tipsy"]).tipsy({opacity:1,gravity:"ne",html:!0}),this.state.published&&($(this.refs["add-images"]).tipsy({opacity:1,gravity:"s",html:!0,offset:10}),$(this.refs["init-rearrange"]).tipsy({opacity:1,gravity:"s",html:!0,offset:15}))},componentDidUpdate:function(a,b){if(this.state.tagInputActive&&!b.tagInputActive){this.refs.addtag.focus();var c=ReactDOM.findDOMNode(this.refs.tagsuggest).getBoundingClientRect();c.right>window.innerWidth?this.setState({tagSuggestFlag:"left"}):c.right+c.width<window.innerWidth&&this.setState({tagSuggestFlag:"right"})}},initPostMatureState:function(){var a=this.getLocalStorageMatureStateKey();Imgur.LocalStorage.exists(a)&&this.setState({isPostMarkedAsMature:!0})},handlePostMatureChanged:function(){var a=this.getLocalStorageMatureStateKey();this.setState({isPostMarkedAsMature:!this.state.isPostMarkedAsMature},function(){this.state.isPostMarkedAsMature?Imgur.LocalStorage.save(a,1):Imgur.LocalStorage.remove(a)})},getLocalStorageMatureStateKey:function(){return"PostMarkedAsMature-"+(this.state.isAlbum?"Album":"Image")+"-"+this.state.hash},resetTags:function(){this.setState({tags:this.props.tagStore.getTags()})},checkStickyOptions:function(){var a=$(window).scrollTop();a>=this._.optionsPos?this.setState({fixed:!0}):this.setState({fixed:!1})},calcOptionsPosition:function(){this._.optionsPos=$(ReactDOM.findDOMNode(this)).offset().top-20},initRearrangeIfUnpublished:function(){this.state.published||this.props.emitter.trigger("initGrid","rearrange")},closeRearrange:function(){this.props.emitter.trigger("closeGrid")},handleEmbed:function(a){a.preventDefault(),$.colorbox({href:'<div id="embed-modal"></div>',open:!0,inline:!0,top:40,transition:"none",scrolling:!1,width:500,height:581,className:"embed-wrapper",title:"Embed this post",onComplete:_.bind(function(){ReactDOM.render(React.createElement(Imgur.Gallery.Embed,{hash:this.state.image.hash,title:this.state.image.title,in_gallery:this.state.published,is_album:this.state.isAlbum,nsfw:!!this.state.image.nsfw}),document.getElementById("embed-modal"))},this)})},handleDelete:function(a){if(a.preventDefault(),!this.state.isAlbum)return void(window.location="/delete/"+this.props.deletehash);var b='<span class="attention">also be deleted</span>.',c="Delete Post & Images";Imgur.Environment.auth.id&&(b='<span class="attention">not be deleted</span> from your account.',c="Delete Post Only");var d="Are you sure you want to delete this post? The images in this post will "+b;$.colorbox({href:'<div id="delete-album-form"></div>',open:!0,inline:!0,top:"15%",transition:"none",scrolling:!1,width:420,height:245,className:"blurbox",title:"Delete Post",onComplete:_.bind(function(){ReactDOM.render(React.createElement(Imgur.Elements.Confirm,{message:d,yesButtonText:c,yesButtonClass:"btn-danger",handleNo:$.colorbox.close,handleYes:_.bind(function(){$.ajax({method:"post",url:"/ajaxalbums/delete/"+this.state.image.hash,data:{msid:Imgur.Environment.msid},success:function(){$.colorbox.close(),humanMsg.displayMsg("Album has been deleted"),setTimeout(_.bind(function(){window.location=Imgur.Environment.auth.url?location.protocol+"//"+Imgur.Environment.auth.url+"."+Imgur.Environment.host:"/"},this),1e3)}})},this)}),document.getElementById("delete-album-form"),$.colorbox.resize)},this)})},handleShare:function(a){if(a.preventDefault(),Imgur.Util.jafoLog({event:"shareOnImgurInvoked",meta:{hash:this.state.hash,location:this.state.isAlbum?"albumPostPage":"singleImagePostPage"}}),!Imgur.Environment.auth.id)return void Imgur.getInstance().signin({invokedRegisterSigninBy:"publishAttempt"});if(this.props.imageStore&&0==this.props.imageStore.getImages().count)return void humanMsg.displayMsg("Please add at least one image to submit to the gallery","error-msg");for(var b=[],c=void 0,d=0,e=0,f=0,g=0;g<this.state.tags.length;g++)switch(f++,b.push(this.state.tags[g].tagName),this.state.tags[g].addedVia){case"tagModule":d++;break;default:e++}switch(f){case d:c="tagModule";break;case e:c="hashtag";break;case 0:c=null;break;default:c="both"}if(Imgur.Util.jafoLog({event:"shareOnImgurButton",meta:{inGallery:!0,matureToggle:this.refs.mature.checked,imageCount:this.props.isAlbum?this.props.uploadStore.getImages().count:1,tagAddedVia:c,tagsViaHashtag:e,tagsViaModule:d,tagsTotal:f}}),"ImgurAds"==Imgur.Environment.auth.url)return window.location="//"+Imgur.Environment.host+"/share/"+(this.state.isAlbum?"a":"i")+"/"+this.state.hash;var h=$(".post-header"),i=$(".post-title").eq(0);return i.text()?void $.post("/ajax/share",{hash:this.state.hash,title:i.text(),is_album:this.state.isAlbum?1:0,mature:this.refs.mature.checked?1:0,tags:b},_.bind(function(a){var c=Imgur.UserStatistics.getInstance();c.emitActionUserSharesToTheGallery(b),window.location="//"+Imgur.Environment.host+"/gallery/"+this.state.hash},this)).fail(_.bind(function(a){try{if(!a)throw"bad response";a.responseText&&(a=$.parseJSON(a.responseText))}catch(b){return humanMsg.displayMsg("An unknown error occurred. Please try again.","error-msg"),void Imgur.Util.jafoLog({event:"shareOnImgurError",meta:{hash:this.state.hash,error:"unparsable",button:"share"}})}if(null==a.data||null==a.data.error||null==a.data.error.message)return humanMsg.displayMsg("An unknown error occurred. Please try again.","error-msg"),void Imgur.Util.jafoLog({event:"shareOnImgurError",meta:{hash:this.state.hash,error:"unknown",button:"share"}});var c=parseInt(a.data.error.message),d="unknown";if(!isNaN(c)&&c>0){d="rateLimit";var e=c>60?Math.round(c/60)+Imgur.Util.pluralize(Math.round(c/60)," minute"):c+Imgur.Util.pluralize(c," second");humanMsg.displayMsg("You're sharing too quickly. Please wait "+e+".","error-msg")}else"Banned"==a.data.error.message?(d="banned",humanMsg.displayMsg("Your account has been blocked. Please contact support@imgur.com.","error-msg")):"NotVerified"==a.data.error.message?(d="notVerified",$.colorbox({href:"/lightboxes/verifyemail",open:!0,iframe:!0,top:"15%",transition:"none",scrolling:!1,innerWidth:"520px",innerHeight:"256px",onComplete:_.bind(function(){$.get("/ajax/send_email_verification"),checkEmailVerification("",this.handleShare)},this)})):"OP"==a.data.error.message?humanMsg.displayMsg("OP must exist.","error-msg"):"Suspended"==a.data.error.message?(d="suspended",humanMsg.displayMsg("Your account is currently suspended","error-msg")):"exists"==a.data.error.message?window.location="//"+Imgur.Environment.host+"/gallery/"+this.state.hash:humanMsg.displayMsg("An unknown error occurred. Please try again.","error-msg");Imgur.Util.jafoLog({event:"shareOnImgurError",meta:{hash:this.state.hash,error:d,button:"share"}})},this)):(h.addClass("shake"),setTimeout(function(){h.removeClass("shake")},250),void i.focus())},showModalIfUnpublished:function(){this.state.published||this.props.showUploadModal()},addTag:function(a){var b=this;a=a||this.refs.addtag.innerText,this.props.tagStore.addTag(a,"tagModule",function(a,c){a?b.setState({tagInputActive:!1}):b.setState({tagError:c})})},removeTag:function(a){this.props.tagStore.removeTag(a)},renderTagInput:function(){var a=this;if(this.state.tags.length>=this._.MAX_TAG_LENGTH)return React.createElement("div",{className:"post-options-tag-limit center"},this._.MAX_TAG_LENGTH+" tag limit reached");if(!this.state.tagInputActive)return React.createElement("span",{className:"post-options-tag post-options-tag--add",onClick:function(){a.setState({tagInputActive:!0})}},React.createElement("span",{className:"symbol"},"+"),React.createElement("span",{className:"tag-name"},"Tag"));var b=this._.tagSuggestPosition[this.state.tagSuggestFlag],c=b.left,d=b.top;return React.createElement("div",{className:"post-options-tag-input-wrapper"},React.createElement("span",{contentEditable:!0,autoFocus:!0,ref:"addtag",key:"addtag",className:"post-options-tag-input center",onKeyUp:this.getSuggestions,onBlur:function(){a.setState({tagInputActive:!1})},onFocus:this.getSuggestions,onPaste:this.noHTML}),React.createElement(Imgur.Gallery.TagSuggest,{ref:"tagsuggest",onSelect:this.addTag,onHighlightedKeyDown:this.handleHighlighted,left:c,top:d,showingSuggestions:!0,suggestedTags:this.state.suggestedTags,query:this.state.query,error:this.state.tagError,classNames:"tag-suggest--flag-"+this.state.tagSuggestFlag}))},noHTML:function(){var a=this;setTimeout(function(){a.refs.addtag.innerText=a.refs.addtag.innerText.replace(/^\s+|\s+$|\n/g,"")},1)},getSuggestions:function(a){var b=this;if([38,40].indexOf(a.which)===-1){var c=this.refs.addtag.innerText,d=this.props.tagStore.getTagValidator();return d.isValidTag("",c,!1)?(this.setState({tagError:null,query:c}),13!==a.which||this.props.tagStore.isTagExists(c)?void this.props.tagStore.getSuggestions(c,function(a){b.setState({suggestedTags:a})}):void this.addTag(c)):void this.setState({tagError:d.whyNot("",c,!1)})}},handleHighlighted:function(a){this.refs.addtag.innerText=a;var b=this.refs.addtag;if(b.focus(),"undefined"!=typeof window.getSelection&&"undefined"!=typeof document.createRange){var c=document.createRange();c.selectNodeContents(b),c.collapse(!1);var d=window.getSelection();d.removeAllRanges(),d.addRange(c)}else if("undefined"!=typeof document.body.createTextRange){var e=document.body.createTextRange();e.moveToElementText(b),e.collapse(!1),e.select()}},render:function(){var a=this;if(this.props.display===!1)return!1;classNames({"new-panel":!0,"post-options-panel":!0});this._.embedcoder.setItem(this.state.image);var b=(classNames({"album-images-link":!0,published:this.state.published}),""),c=classNames({"post-saving-container":!0,fade:this.state.save==this._.saved});switch(this.state.save){case this._.saving:b=React.createElement("span",{className:"post-saving-status post-saving"});break;case this._.saved:b=React.createElement("span",{className:"post-saving-status icon-good"})}var d=classNames({copyflash:!0,"copy-input-post":!0,"copy-input-post--saving":this.state.save==this._.saving});return React.createElement("div",{className:this.state.fixed?"post-options-fixed":""},React.createElement("div",{className:"post-options-gallery-submit"+(this.props.showShareButton!==!1?" show":"")},this.state.published?React.createElement("div",null,React.createElement("div",{className:"post-options-publish published"},"You shared this post!"),React.createElement("a",{className:"post-options-view-gallery",href:"/gallery/"+this.state.hash},"View in gallery")):React.createElement("div",null,React.createElement("div",null,React.createElement("a",{className:"post-options-publish btn btn-action",onClick:this.handleShare},"Share to community")),React.createElement("div",{className:"divider"}),React.createElement("div",null,React.createElement("span",{className:"post-options-tags-header"},"Help people find your post"),React.createElement("div",{className:"post-options-tags-learn"},React.createElement("a",{target:"_blank",href:"https://help.imgur.com/hc/en-us/articles/115000621783"},"Learn More")),React.createElement("div",{className:"post-options-tag-block"},this.state.tags.map(function(b){return React.createElement(Imgur.Elements.Tag.View,{key:"@tag-"+b.tagName,tagName:b.tagName,classNames:"post-options-tag",allowRemoval:!0,removeTag:a.removeTag})}),this.renderTagInput()),React.createElement("div",{className:"post-options-tags-mature-wrap"},React.createElement("input",{ref:"mature",id:"post-options-mature",type:"checkbox",defaultChecked:this.state.isPostMarkedAsMature,onChange:this.handlePostMatureChanged,className:"post-options-mature checkbox-styled"}),React.createElement("label",{className:"icon-check",htmlFor:"post-options-mature"}," "),React.createElement("label",{htmlFor:"post-options-mature"}," Mature ",React.createElement("span",{className:"help",ref:"mature-tipsy",title:"Mature content may include content that is suggestive or provocative. Sexually explicit content is not allowed in the Imgur community."},"(?)"))))),React.createElement("div",{className:"divider"})),React.createElement("div",{className:"post-copy-options"},React.createElement("div",{className:c},b,this.state.save),React.createElement(Imgur.Elements.Copy,{value:this._.embedcoder.imageLink(this.state.isAlbum),inputClass:d,copyClass:"copy-post"})),React.createElement(Imgur.Elements.Socialicons,{classes:"post-options-social cf"}),React.createElement("ul",{className:"post-options-extra"},this.state.isAlbum&&this.props.showRearrange?React.createElement("li",{className:"extra-option"},this.state.showingGrid?React.createElement("div",{onClick:this.closeRearrange},React.createElement("span",{className:"extra-option-icon icon-rearrange"}),"Done rearranging"):React.createElement("div",{ref:"init-rearrange",onClick:this.initRearrangeIfUnpublished,title:this.state.published?this._.albumInGalleryMessage:null},React.createElement("span",{className:"extra-option-icon icon-rearrange"}),"Rearrange images")):null,this.state.isAlbum?React.createElement("li",{className:"extra-option",ref:"add-images",title:this.state.published?this._.albumInGalleryMessage:null,onClick:this.showModalIfUnpublished},React.createElement("span",{className:"extra-option-icon icon-plus-light"}),"Add more images"):null,React.createElement("li",{className:"extra-option",onClick:this.handleEmbed},React.createElement("span",{className:"extra-option-icon icon-embed"}),"Embed post"),React.createElement("li",{className:"extra-option delete",onClick:this.handleDelete},React.createElement("span",{className:"extra-option-icon icon-trash"}),"Delete post")))}}),Namespace("Imgur.PromotedSpotlight"),Imgur.PromotedSpotlight=React.createClass({displayName:"PromotedSpotlight",render:function(){return React.createElement("div",{className:"spotlight-container"},React.createElement("a",{href:"https://blog.imgur.com/2015/05/31/about-promoted-posts/",target:"_blank"},React.createElement("img",{className:"thumb",src:Imgur.Environment.staticUrl+"/images/giraffe-promo-spotlight.jpg"})),React.createElement("div",{className:"content"},React.createElement("div",{className:"headline"},React.createElement("a",{className:"headline-text",href:"https://blog.imgur.com/2015/05/31/about-promoted-posts/",target:"_blank"},"What are promoted posts?"),React.createElement("div",{className:"headline-label"},"imgur blog")),React.createElement("p",{className:"body"},"And why am I seeing them?"),React.createElement("a",{className:"cta",href:"https://blog.imgur.com/2015/05/31/about-promoted-posts/",target:"_blank"},"Learn More")))}});var ZeroClipboard={version:"1.0.7",clients:{},moviePath:"/include/flash/zeroclipboard.swf",nextId:1,$:function(a){return"string"==typeof a&&(a=document.getElementById(a)),a.addClass||(a.hide=function(){this.style.display="none"},a.show=function(){this.style.display=""},a.addClass=function(a){this.removeClass(a),this.className+=" "+a},a.removeClass=function(a){for(var b=this.className.split(/\s+/),c=-1,d=0;d<b.length;d++)b[d]==a&&(c=d,d=b.length);return c>-1&&(b.splice(c,1),this.className=b.join(" ")),this},a.hasClass=function(a){return!!this.className.match(new RegExp("\\s*"+a+"\\s*"))}),a},setMoviePath:function(a){this.moviePath=a},dispatch:function(a,b,c){var d=this.clients[a];d&&d.receiveEvent(b,c)},register:function(a,b){this.clients[a]=b},getDOMObjectPosition:function(a,b){for(var c={left:0,top:0,width:a.width?a.width:a.offsetWidth,height:a.height?a.height:a.offsetHeight};a&&a!=b;)c.left+=a.offsetLeft,c.top+=a.offsetTop,a=a.offsetParent;return c},Client:function(a){this.handlers={},this.id=ZeroClipboard.nextId++,this.movieId="ZeroClipboardMovie_"+this.id,ZeroClipboard.register(this.id,this),a&&this.glue(a)}};ZeroClipboard.Client.prototype={id:0,ready:!1,movie:null,clipText:"",handCursorEnabled:!0,cssEffects:!0,handlers:null,glue:function(a,b,c){this.domElement=ZeroClipboard.$(a);var d=99;this.domElement.style.zIndex&&(d=parseInt(this.domElement.style.zIndex,10)+1),"string"==typeof b?b=ZeroClipboard.$(b):"undefined"==typeof b&&(b=document.getElementsByTagName("body")[0]);var e=ZeroClipboard.getDOMObjectPosition(this.domElement,b);this.div=document.createElement("div");var f=this.div.style;if(f.position="absolute",f.left=""+e.left+"px",f.top=""+e.top-5+"px",f.width=""+e.width+"px",f.height=""+e.height+"px",f.zIndex=d,"object"==typeof c)for(addedStyle in c)f[addedStyle]=c[addedStyle];b.appendChild(this.div),this.div.innerHTML=this.getHTML(e.width,e.height)},getHTML:function(a,b){var c="",d="id="+this.id+"&width="+a+"&height="+b;if(navigator.userAgent.match(/MSIE/)){var e=location.href.match(/^https/i)?"https://":"http://";c+='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="'+e+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="'+a+'" height="'+b+'" id="'+this.movieId+'" align="middle"><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+ZeroClipboard.moviePath+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="'+d+'"/><param name="wmode" value="transparent"/></object>'}else c+='<embed id="'+this.movieId+'" src="'+ZeroClipboard.moviePath+'" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="'+a+'" height="'+b+'" name="'+this.movieId+'" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="'+d+'" wmode="transparent" />';return c},hide:function(){this.div&&(this.div.style.left="-2000px")},show:function(){this.reposition()},destroy:function(){if(this.domElement&&this.div){this.hide(),this.div.innerHTML="";var a=document.getElementsByTagName("body")[0];try{a.removeChild(this.div)}catch(b){}this.domElement=null,this.div=null}},reposition:function(a){if(a&&(this.domElement=ZeroClipboard.$(a),this.domElement||this.hide()),this.domElement&&this.div){var b=ZeroClipboard.getDOMObjectPosition(this.domElement),c=this.div.style;c.left=""+b.left+"px",c.top=""+b.top+"px"}},setText:function(a){this.clipText=a,this.ready&&this.movie.setText(a)},addEventListener:function(a,b){a=a.toString().toLowerCase().replace(/^on/,""),this.handlers[a]||(this.handlers[a]=[]),this.handlers[a].push(b)},setHandCursor:function(a){this.handCursorEnabled=a,this.ready&&this.movie.setHandCursor(a)},setCSSEffects:function(a){this.cssEffects=!!a},receiveEvent:function(a,b){switch(a=a.toString().toLowerCase().replace(/^on/,"")){case"load":if(this.movie=document.getElementById(this.movieId),!this.movie){var c=this;return void setTimeout(function(){c.receiveEvent("load",null)},1)}if(!this.ready&&navigator.userAgent.match(/Firefox/)&&navigator.userAgent.match(/Windows/)){var c=this;return setTimeout(function(){c.receiveEvent("load",null)},100),void(this.ready=!0)}this.ready=!0,this.movie.setText(this.clipText),this.movie.setHandCursor(this.handCursorEnabled);break;case"mouseover":this.domElement&&this.cssEffects&&(this.domElement.addClass("hover"),this.recoverActive&&this.domElement.addClass("active"));break;case"mouseout":this.domElement&&this.cssEffects&&(this.recoverActive=!1,this.domElement.hasClass("active")&&(this.domElement.removeClass("active"),this.recoverActive=!0),this.domElement.removeClass("hover"));break;case"mousedown":this.domElement&&this.cssEffects&&this.domElement.addClass("active");break;case"mouseup":this.domElement&&this.cssEffects&&(this.domElement.removeClass("active"),this.recoverActive=!1)}if(this.handlers[a])for(var d=0,e=this.handlers[a].length;d<e;d++){var f=this.handlers[a][d];"function"==typeof f?f(this,b):"object"==typeof f&&2==f.length?f[0][f[1]](this,b):"string"==typeof f&&window[f](this,b)}}};var _extends=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a};Namespace("Imgur.SideGallery"),Imgur.SideGallery=React.createClass({displayName:"SideGallery",HEIGHT:485,ROW_HEIGHT:{list:85,grid:138},ITEMS_PER_ROW:{list:1,grid:2},RENDER_BUFFER:1e3,FETCH_MORE_BUFFER:3e3,SELECTED_OFFSET:0,BREAK_HEIGHT:60,GRID_MARGIN:10,isLoading:!1,currentInserted:!1,el:{$sideGallery:null,$content:null,$nano:null},sectionTitles:{hot:"Most Viral Images","new":"User Submitted Images",top:"Highest Scoring Images",custom:"Custom Gallery Images",favorites:"Favorites",random:"Random"},sortTitles:{viral:"sorted by popularity",time:"newest first","new":"newest first",newest:"newest first",oldest:"oldest first",rising:"rising",random:"sorted by random"},windowTitles:{day:"today",week:"this week",month:"this month",year:"this year",all:"all time"},getInitialState:function(){return _.extend(this.getGalleryEnvironment(),{items:[],scrollTop:0,selectedHash:this.props.env.hash,endReached:!1,layout:Imgur.LocalStorage.get("sidegallery_layout_experiment")||"list"})},getGalleryEnvironment:function(){var a=void 0,b=void 0,c=void 0,d=document.createElement("a");return d.href=document.referrer,"twitch.tv"===d.host?(a="tag",b="/t/gaming"):this.props.env.subredditSource&&this.isFromReddit(d.host)?(a="subreddit",c="new",b="/r/"+this.getSubredditName()):Imgur.Environment.image.topic&&"No Topic"!==Imgur.Environment.image.topic&&null===d.host.match(/imgur(-dev)?.com/g)&&(a="tag",b="/t/"+Imgur.Environment.image.topic.replace(/ /g,"_")),Imgur.Environment.searchQuery&&(a="search"),{source:b||this.props.env.baseURL,section:a||this.props.env.section||"hot",sort:c||this.props.env.sort||"viral",window:this.props.env.window||"day",page:this.props.env.page||0}},isFromReddit:function(a){return a.indexOf("reddit.com")>=0},changeLayout:function(a){var b=this.state.scrollTop/(this.ROW_HEIGHT[this.state.layout]/this.ITEMS_PER_ROW[this.state.layout])*(this.ROW_HEIGHT[a]/this.ITEMS_PER_ROW[a]);this.setState({layout:a},function(){this.el.$content.scrollTop(b)}),Imgur.LocalStorage.save("sidegallery_layout_experiment",a),Imgur.Util.jafoLog({event:"sideGalleryLayout",meta:{layout:a}})},uniqueId:function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return b.filter(function(a){return void 0!==a}).join("-")},ajaxSuccess:function(a){var b=this;if(this.isLoading=!1,this.isMounted()){var c=this.state.items.length;this.setState({items:_.uniq(this.state.items.concat(a.data),!1,function(a){return b.uniqueId(a.hash,a.promotedPlacementCount)})},function(){this.checkEndReached(a.data.length),!this.currentInserted&&Imgur.Environment.captionsEnabled&&Imgur.Environment.image&&(this.insertSingleItem(Imgur.Environment.image,0,!0),this.currentInserted=!0),a.data.length>0&&this.props.emitter.trigger("sidegalleryPageLoad",0===c?"initial":"append"),"randomized-most-viral"==this.props.variation&&Imgur.Experiments.isActive("expT4377b")&&this.recommendations.fetchControl()}.bind(this))}},onScroll:function(){var a=this.el.$content.scrollTop();this.setState({scrollTop:a},this.checkScrollPageNeeded)},checkEndReached:function(a){(0===a||this.listHeight()<this.HEIGHT)&&this.setState({endReached:!0})},checkScrollPageNeeded:function(){this.state.scrollTop>this.listHeight()-this.FETCH_MORE_BUFFER&&!this.isLoading&&this.setState({page:this.state.page+1},this.loadPage)},listHeight:function(){return Math.ceil(this.state.items.length/this.ITEMS_PER_ROW[this.state.layout])*this.ROW_HEIGHT[this.state.layout]},itemOffset:function(a){return Math.ceil((a+1)/this.ITEMS_PER_ROW[this.state.layout])*this.ROW_HEIGHT[this.state.layout]-this.ROW_HEIGHT[this.state.layout]},loadPage:function(){if(this.state.endReached)return!1;var a={};this.isLoading=!0,
$.ajax({url:this.generateURL(),data:a,success:this.ajaxSuccess,error:this.switchToViral})},generateURL:function(){var a=void 0,b=this.state.section&&"group"!=this.state.section&&"tag"!=this.state.section&&"favorites"!=this.state.section&&"favoritefolders"!=this.state.section&&"topic"!=this.state.section&&"subreddit"!=this.state.section?"/"+this.state.section:"",c="top"!=this.state.section?this.state.sort+"/":"",d="top"==this.state.sort||"top"==this.state.section?this.state.window+"/":"",e=""+this.state.source+b+"/"+c+d,f="/gallery/hot/viral/"==e;if(Imgur.Environment.image.is_ad&&f)return"/t/Staff_Picks/viral/page/0/hit.json";if(Imgur.Environment.searchQuery){var g=Imgur.getInstance().getSearchUrl(Imgur.Environment,this.state.page,!0);a=g.url+"?"+g.query}else{var h=this.props.cache;!f||0!=this.state.page&&1!=this.state.page||this.props.votedFavedRecently||(h="/hit.json"+(this.props.showMature?"?mature":"")),a=e+"page/"+this.state.page+h}return a},switchToViral:function(){"hot"==this.state.section&&"viral"==this.state.sort&&"day"==this.state.window||this.setState({items:[],page:0,section:"hot",sort:"viral",window:"day",source:"/gallery",endReached:!1,selectedHash:null},this.loadPage)},nthFromHash:function(a,b){var c=this.hashPosition(b),d=c+a;if(c!==-1)return d>=this.state.items.length&&(d=this.state.items.length-1),this.state.items[d].hash},insertSingleItem:function(a,b,c,d,e){d=d||"inserted";var f=this.uniqueId(a.hash,a.promotedPlacementCount),g=this.hashPosition(f);if(g!==-1&&!a.isAd)return c?this.selectImage(f,null,"direct",d):null,"function"==typeof e&&e(),!1;for(;this.state.items[b]&&this.state.items[b].recommended;)b++;this.state.items.splice(b,0,a),this.setState({items:this.state.items},function(){c&&this.selectImage(f,null,"direct",d),"function"==typeof e&&e()})},selectedPosition:function(){return this.hashPosition(this.state.selectedHash)},hashPosition:function(a){var b=this,c=a.split&&a.split("-");return c&&c.length>1?this.state.items.map(function(a){return b.uniqueId(a.hash,a.promotedPlacementCount)}).indexOf(a):this.state.items.map(function(a){return a.hash}).indexOf(a)},selectImage:function(a,b,c,d){this.setState({selectedHash:a,scrollToHash:a},function(){var e=this.hashPosition(a);if(e===-1)return void(Imgur.Environment.image&&a===Imgur.Environment.image.hash&&(this.props.emitter.trigger("select",Imgur.Environment.image,b,c,d),this.props.emitter.trigger("postRendering",Imgur.Environment.image)));var f=this.state.items[e];this.props.emitter.trigger("select",f,b,c,d),this.props.emitter.trigger("postRendering",f),0==e?this.props.emitter.trigger("firstImage",f,!1):e==this.state.items.length-1&&this.props.emitter.trigger("lastImage",f,!1)})},getImage:function(a){return!this.currentInserted&&Imgur.Environment.image&&Imgur.Environment.image.hash===a?Imgur.Environment.image:this.state.items[this.hashPosition(a)]},getNextImage:function(){var a=this.getNextImageItem();return!!a&&a.hash},getPrevImage:function(){var a=this.getPrevImageItem();return!!a&&a.hash},getNextImageItem:function(a){var b=this.hashPosition(this.state.selectedHash)+1;if(a?b+=a:a=0,b<this.state.items.length){var c=this.state.items[b];return"down"===c.vote||c.nextable===!1?this.getNextImageItem(++a):c}return!1},getPrevImageItem:function(a){var b=this.hashPosition(this.state.selectedHash)-1;if(a?b-=a:a=0,b>=0){var c=this.state.items[b];return"down"===c.vote||c.nextable===!1?this.getPrevImageItem(++a):c}return!1},getSection:function(){return this.state.section},componentDidMount:function(){if(this.props.display!==!1){this.loadPage(),this.bindMouseMove();var a=_.throttle(_.bind(this.onScroll,this),500);this.el.$sideGallery=$(ReactDOM.findDOMNode(this)),this.el.$content=this.el.$sideGallery.find(".content"),this.el.$nano=this.el.$sideGallery.find(".content"),this.el.$content.scroll(a),this.props.emitter.on("keyboardNav",this,_.partialRight(this.nav,"keyboard")),this.props.emitter.on("buttonNav",this,_.partialRight(this.nav,"click"))}},bindMouseMove:function(){var a,b=0,c=(Imgur.Util.getBrowserScrollbarWidth(),$("#side-gallery").find(".content")[0]),d=function(d){var e=$(d.target),f=e.closest(".scroll-content").length,g=Math.abs(d.clientX-a),h=Math.abs(d.clientY-b);(g>5||h>5)&&f?c.style.overflowY="scroll":f||(c.style.overflowY="hidden"),a=d.clientX,b=d.clientY}.bind(this);$("body").mousemove(_.throttle(d,20))},nav:function(a,b){var c;switch(a){case"next":c=this.getNextImageItem();break;case"prev":c=this.getPrevImageItem()}if(c){var d=this.uniqueId(c.hash,c.promotedPlacementCount);this.selectImage(d,void 0,a,b)}return!1},updatePoints:function(a,b,c){var d=this.hashPosition(a);if(d!==-1){var e=this.state.items[d];e.ups=b,e.downs=c,e.points=b-c,this.setState({items:this.state.items})}},updateViews:function(a,b){var c=this.hashPosition(a);if(c!==-1){var d=this.state.items[c];d.views=b,this.setState({items:this.state.items})}},updateVote:function(a,b,c){var d=this.hashPosition(a);if(d===-1)return!1;var e=this.state.items[d];switch(e.vote){case"up":e.ups--;break;case"down":e.downs--}switch(b){case"up":e.ups++;break;case"down":e.downs++}e.vote=b,e.points=e.ups-e.downs,this.setState({items:this.state.items}),c(e.points)},updateFavorite:function(a,b){this.state.items[this.hashPosition(a)].favorited=b,this.setState({items:this.state.items})},shouldComponentUpdate:function(){return!0},componentDidUpdate:function(a,b){b.items.length===this.state.items.length&&b.layout===this.state.layout||this.el.$sideGallery.find(".nano").nanoScroller(),b.scrollToHash!==this.state.scrollToHash&&this.scrollToHash(this.state.scrollToHash)},scrollToHash:function(a){var b=ReactDOM.findDOMNode(this.refs[a]);b&&this.el.$content.stop().animate({scrollTop:b.offsetTop-this.SELECTED_OFFSET})},getSubredditName:function(){return Imgur.Environment.image.subreddit||this.props.env.subredditSource},render:function(){if(this.props.display===!1)return!1;var a,b,c,d,e,f,g,h,i,j=[],k={min:this.state.scrollTop-this.RENDER_BUFFER,max:this.state.scrollTop+this.HEIGHT+this.RENDER_BUFFER};switch(this.state.section){case"subreddit":h=this.getSubredditName();break;case"topic":h=Imgur.Environment.image.topic;break;case"tag":h=Imgur.Environment.tag;break;case"search":switch(h="Searching "+Imgur.Environment.searchQuery,this.state.sort){case"relevance":i="most relevant from "+this.windowTitles[this.state.window];break;case"score":i="highest scoring from "+this.windowTitles[this.state.window]}break;case"favorites":case"favoritefolders":var l=Imgur.Environment.favs_account_url||Imgur.Environment.auth.url,m="s"==l.substr(-1)?l+"'":l+"'s";h=React.createElement("span",null,React.createElement("span",{className:"sg-username"},m)," Favorites"),i=this.sortTitles[this.state.sort];break;case"top":h=this.sectionTitles[this.state.section],i="from "+this.windowTitles[this.state.window];break;default:h=this.sectionTitles[this.state.section]}i=i||("top"==this.state.sort?"from "+this.windowTitles[this.state.window]:this.sortTitles[this.state.sort]);for(var n=0;n<this.state.items.length;n++){g=this.state.items[n],f=this.state.items[n-1],c=this.itemOffset(n),b=c>k.min&&c<k.max,e=b?g.thumb?g.thumb:Imgur.Environment.cdnUrl+"/"+(g.is_album?g.album_cover:g.hash)+"b.jpg":"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";var o=this.uniqueId(g.hash,g.promotedPlacementCount);a=_.extend({},g,{thumb:e,selected:o===this.state.selectedHash,selectImage:this.selectImage,shouldRender:b,layout:this.state.layout,position:n+1}),j.push(React.createElement(Imgur.SideGalleryItem,_extends({ref:o,key:o},a)))}return d=this.state.endReached?React.createElement("div",{className:"sidegallery-end"},"You have reached the end of this stream. Continue browsing ",React.createElement("a",{className:"link",onClick:this.switchToViral},"Most Viral")):React.createElement("div",{className:"sidegallery-end loading"}),React.createElement("div",null,React.createElement("div",{className:"sg-header"},React.createElement("a",{className:"sg-title-container",href:this.state.source},React.createElement("h2",{className:"sg-title"},h),i?React.createElement("h3",{className:"sg-subtitle"},i):null),React.createElement("div",{className:"layout-options"},React.createElement("a",{className:classNames({"layout-button":!0,selected:"list"==this.state.layout}),onClick:this.changeLayout.bind(this,"list")},React.createElement("span",{className:"icon-right-list"})),React.createElement("a",{className:classNames({"layout-button":!0,selected:"grid"==this.state.layout}),onClick:this.changeLayout.bind(this,"grid")},React.createElement("span",{className:"icon-grid"})))),React.createElement("div",{className:"nano"},React.createElement("div",{className:"content scroll-content cf"},React.createElement("div",{className:classNames({items:!0,grid:"grid"==this.state.layout,list:"list"==this.state.layout})},j),d)),React.createElement("div",{className:"fade-out"}))}}),Namespace("Imgur.SideGalleryItem"),Imgur.SideGalleryItem=React.createClass({displayName:"SideGalleryItem",mixins:[React.addons.PureRenderMixin],handleClick:function(a){if(1!==a.button){var b=this.props.hash;this.props.promotedPlacementCount&&(b=this.props.hash+"-"+this.props.promotedPlacementCount),this.props.selectImage(b,!1,"targeted","click"),a.preventDefault()}},getWidePromotedThumb:function(){return React.createElement("a",{className:this.getThumbClasses("PromotedGridItem PromotedGridItem-wide left"),style:this.getThumbStyles(this.props.thumbnail_json.hash),onClick:this.handleClick,href:this.getHref(),title:this.props.title},this.getVoteMarkup(),React.createElement("div",{className:"PromotedGridItem-textContainer"},React.createElement("p",{className:"PromotedGridItem-op font-opensans-bold"},this.props.account_url),React.createElement("p",{className:"PromotedGridItem-text"},this.props.thumbnail_json.title||this.props.title)))},getHref:function(){return this.props.in_gallery?"/gallery/"+this.props.hash:(this.props.is_album?"/a/":"/")+this.props.hash},getThumbStyles:function(a){var b=a?Imgur.Environment.cdnUrl+"/"+a+".jpg":this.props.thumb;return{backgroundImage:"url("+b+")"}},getThumbClasses:function(a){var b={"sg-item":!0,selected:this.props.selected,recommended:this.props.recommended,base:!this.props.recommended,grid:"grid"===this.props.layout,list:"list"===this.props.layout,up:"up"===this.props.vote,down:"down"===this.props.vote,promoted:this.props.isAd&&!this.props.isCta,"sg-cta":this.props.isCta};return this.props.className&&(b[this.props.className]=!0),a&&(b[a]=!0),classNames(b)},getVoteMarkup:function(){var a=classNames({"sg-item-vote":!0,"icon-upvote-fill":"up"===this.props.vote,"icon-downvote-fill":"down"===this.props.vote});return this.props.shouldRender&&this.props.vote?React.createElement("div",{className:a}):null},renderItemStats:function(){return React.createElement("div",{className:"sg-item-stats"},_.isUndefined(this.props.points)?null:React.createElement("span",{className:"icon-upvote-outline"}),_.isUndefined(this.props.points)?null:React.createElement("span",{className:"sg-item-count"},Imgur.Util.numberFormat(this.props.points)),_.isUndefined(this.props.comment_count)?null:React.createElement("span",{className:"icon-messages"}),_.isUndefined(this.props.comment_count)?null:React.createElement("span",{className:"sg-item-count"},Imgur.Util.numberFormat(this.props.comment_count)))},render:function(){var a=this.props.isAd&&this.props.thumbnail_json&&"288x141"===this.props.thumbnail_json.size,b="grid"===this.props.layout;if(a&&b)return this.getWidePromotedThumb();var c=this.getThumbStyles(this.props.isAd&&this.props.thumbnail_json&&this.props.thumbnail_json.hash),d=this.props.isAd?React.createElement("div",{className:"sg-item-tag"},"PROMOTED"):this.props.shouldRender&&this.props.num_images>1?React.createElement("div",{className:"sg-item-tag"},this.props.num_images):null;if(this.props.isCta)return React.createElement("a",{className:this.getThumbClasses(),title:this.props.title,style:c,onClick:this.handleClick,href:this.getHref()});if(b){var e=this.props.shouldRender?React.createElement("div",{className:"sg-item-title"},this.props.title):null;return React.createElement("a",{className:this.getThumbClasses(),title:this.props.title,style:c,onClick:this.handleClick,href:this.getHref()},this.getVoteMarkup(),d,e)}return React.createElement("a",{className:this.getThumbClasses(),onClick:this.handleClick,href:this.getHref()},React.createElement("div",{className:"sg-list-image",style:c},d),React.createElement("div",{className:"sg-list-metadata"},React.createElement("div",{className:"sg-list-title"},this.props.title)))}}),Namespace("Imgur.ReportBadAds"),Imgur.ReportBadAds=React.createClass({displayName:"Report-Bad-Ads",thanksMessage:"Thanks! This ad has been reported.",componentDidMount:function(){runSlots.adRefresh=!1,this.adInfoAtTimeOfReport=JSON.parse(JSON.stringify(runSlots.currentAdInfo))},getInitialState:function(){return{name:"",value:""}},handleSubmit:function(a){a.preventDefault(),a.stopPropagation();var b=this.refs.form.elements.slotname.value,c=this.adInfoAtTimeOfReport[b]?this.adInfoAtTimeOfReport[b]:"generic-report-"+b;$.ajax({url:"/report-badads",method:"POST",data:{slot_name:b,qqid:c.qqid,adid:c.adid,bidder:c.bidder,cpm:c.cpm,oxb:c.oxb,comments:this.refs.comments.value},success:function(){humanMsg.displayMsg(this.thanksMessage)}.bind(this),error:function(a){humanMsg.displayMsg(a.error,"error-msg")}}),this.unmount()},unmount:function(){ReactDOM.unmountComponentAtNode(ReactDOM.findDOMNode(this).parentNode)},stopPropagation:function(a){a.stopPropagation()},render:function(){return React.createElement("div",{className:"modal-backdrop",onClick:this.unmount},React.createElement("form",{onSubmit:this.handleSubmit,onClick:this.stopPropagation,ref:"form"},React.createElement("div",{className:"modal bad-ads-modal"},React.createElement("div",{className:"bad-ads-modal-header"},React.createElement("h2",{className:"headline"},"Report Ad"),React.createElement("div",{className:"icon-x",onClick:this.unmount})),React.createElement("div",{className:"bad-ads-modal-body"},React.createElement("p",null,"See an ad that may violate our ",React.createElement("a",{href:"https://help.imgur.com/hc/en-us/articles/205107685-Bad-ads"},"advertising guidelines"),"? Its easy to report it using this form."),React.createElement("p",null,"Please indicate the location of the ad:"),React.createElement("div",{className:"bad-ads-layouts"}),React.createElement("radiogroup",null,React.createElement("label",{className:"radio"},React.createElement("input",{type:"radio",name:"slotname",value:"top_banner"}),"Upper Left"),React.createElement("label",{className:"radio"},React.createElement("input",{type:"radio",name:"slotname",value:"under_sidebar"}),"Middle Right"),React.createElement("label",{className:"radio"},React.createElement("input",{type:"radio",name:"slotname",value:"pop_sky"}),"Lower Right")),React.createElement("textarea",{className:"bad-ads-comments",ref:"comments",placeholder:"Please provide us with additional context for your submission"}),React.createElement("input",{type:"submit",value:"Report",className:"btn-action btn-large right"})))))}});var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),ImgurRecommendations=function(a){function b(){var a,c,d,e;_classCallCheck(this,b);for(var f=arguments.length,g=Array(f),h=0;h<f;h++)g[h]=arguments[h];return c=d=_possibleConstructorReturn(this,(a=b.__proto__||Object.getPrototypeOf(b)).call.apply(a,[this].concat(g))),d.state={recs:[]},e=c,_possibleConstructorReturn(d,e)}return _inherits(b,a),_createClass(b,[{key:"componentDidMount",value:function(){this.fetchRecommendations()}},{key:"fetchRecommendations",value:function(){return"lift-igniter-no-pp"==this.props.variation?void this.fetchLiftIgniter(!0):void this.fetchControl()}},{key:"fetchControl",value:function(){0!=this.props.sideGallery.state.items.length&&this.setState({recs:_.shuffle(this.props.sideGallery.state.items).slice(0,8)},function(){})}},{key:"fetchLiftIgniter",value:function(a){var b=this;a||$p("resetPageview"),$p("setRequestFields",["title","url","hash","account_id","account_url","album_cover","animated","comment_count","description","ext","height","id","is_album","looping","num_images","points","prefer_video","timestamp","views","recommended","width"]),$p("register",{max:8,widget:"afterContent",callback:function(a){var c=a.items.filter(function(a){return a.url.indexOf("/gallery/")>-1&&"undefined"!=typeof a.is_album}).map(function(a){return a.recommended=!0,a.looping=!0,a.prefer_video=!0,a.place=runSlots._place,a.ups=a.points,a.downs=0,a.in_gallery=!0,a});b.setState({recs:c},function(){$p("track",{elements:document.querySelectorAll(".rec-item"),name:"belowContent",source:"LI"})})},opts:{allowMature:(!(!Imgur.Environment.auth||!Imgur.Environment.auth.show_mature)).toString()}}),$p("fetch")}},{key:"navToRecommendation",value:function(a,b,c){var d=this;c.preventDefault();var e=this.props.sideGallery.selectedPosition()+1;a.recBoxPosition=b,this.props.sideGallery.insertSingleItem(a,e,!0,"recommendationClick",function(){d.fetchRecommendations()})}},{key:"render",value:function(){var a=this,b=this.state.recs.map(function(b,c){var d=Imgur.Environment.cdnUrl+"/"+(b.is_album?b.album_cover:b.hash)+"b.jpg";return React.createElement("a",{href:"/gallery/"+b.hash,key:b.hash,className:"rec-item",style:{backgroundImage:"url("+d+")"},onClick:a.navToRecommendation.bind(a,b,c)},React.createElement("div",{className:"title"},b.title))});return 0==b.length?null:React.createElement("div",null,React.createElement("h2",null,"Recommended On Imgur"),React.createElement("div",null,b))}}]),b}(React.Component);Imgur.Recommendations=ImgurRecommendations,Namespace("Imgur.ShareButtons"),Imgur.ShareButtons=Imgur.extend({init:function(a){this._=$.extend({resetUrl:!1,shareButtonClass:"addthis_button",addthisTimeout:null,shareData:{title:null,url:null,jafoMeta:{}},globalShareData:null},a),this._super(this._),this.bindButtons()},elements:{$social:$(".social")},getAddthisConfig:function(){return{pubid:"imgur",username:"imgur",ui_click:!0,ui_header_color:"#181817",ui_header_background:"#ddddd1",ui_offset_top:"0px",ui_open_windows:!0,data_ga_property:"UA-6671908-2",data_ga_tracker:window._gaq,data_track_clickback:!1,data_ga_social:!0,services_compact:"stumbleupon,google_plusone_share,pinterest_share,tumblr,email,gmail",services_exclude:"facebook,reddit",share:{url:this._.shareData.url,title:this.getShareTitle()}}},initAddthis:function(a){"undefined"==typeof window.addthis_config&&(window.addthis_config=this.getAddthisConfig(),$.getScript(location.protocol+"//s7.addthis.com/js/300/addthis_widget.js#pubid=imgur&domready=1",_.bind(function(){if(this.setupAddthis(),a){var b=function(a){$(".addthis_button").click()};window.addthis.addEventListener("addthis.ready",b),this._.addthisTimeout=setTimeout(b,400)}},this),!0))},setShareData:function(a,b){b=_.merge({global:!1},b),b.global&&(this._.globalShareData=a),this._setShareData(a)},resetShareData:function(){this._.globalShareData&&this._setShareData(this._.globalShareData),this._.shareData.url||(this._.shareData.url=this._.protocol+"//"+this._.host+this._.url)},_setShareData:function(a){this._setJafoMeta(a.jafoMeta),this._setShareTitle(a.title),this._setUrl(a.url)},_setJafoMeta:function(a){this._.shareData.jafoMeta=a},_setShareTitle:function(a){a||(a=document.title),a=a.replace(/\s*\- (?:Album on )?Imgur$/,""),this._.shareData.title=a,"addthis"in window&&"update"in window.addthis&&window.addthis.update("share","title",a)},_setUrl:function(a){this._.shareData.url=a,"addthis"in window&&"update"in window.addthis&&window.addthis.update("share","url",a)},bindButtons:function(){this._.shareData.url=this._.shareData.url?this._.shareData.url:this._.protocol+"//"+this._.host+this._.url,this.elements.$social.unbind("click"),this.elements.$social.on("click","li span[data-jshook]",_.bind(function(a){switch(this.resetShareData(),a.currentTarget.getAttribute("data-jshook")){case"twitter_custom":this.shareTwitter();break;case"facebook_custom":this.shareFacebook();break;case"reddit_custom":this.shareReddit();break;case"digg_custom":this.shareDigg();break;case"tumblr_custom":this.shareTumblr();break;case"stumbleupon_custom":this.shareStumbleupon();break;case"googleplus_custom":this.shareGoogleplus();break;case"pinterest_custom":this.sharePinterest();break;case"st_email_custom":this.shareEmail();break;case"addthis_custom":this.shareAddthis()}},this)),$(document.body).on("hover",".addthis_button",_.bind(function(){this.initAddthis()},this))},bindAddthisButton:function(){try{window.addthis.button("."+this._.shareButtonClass)}catch(a){}},setupAddthis:function(){try{window.addthis.ost=0,window.addthis.addEventListener("addthis.menu.open",_.bind(function(a){this.addthisOpen(a)},this)),window.addthis.addEventListener("addthis.menu.share",_.bind(function(a){this.logSharePostAddthis(a.data.service)},this)),window.addthis.ready(),clearTimeout(this._.addthisTimeout)}catch(a){this._.addthisTimeout=setTimeout(_.bind(this.setupAddthis,this),100)}},addthisOpen:function(a){a.data.share||(a.data.share={}),a.data.share.url=this._.shareData.url},logShare:function(a){this._.resetUrl&&this.resetShareData();try{addthis_share.url=this._.shareData.url,window.addthis.share.track(a,0,addthis_share,window.addthis_config)}catch(b){this.logSharePostAddthis(a)}},logSharePostAddthis:function(a){var b=this._.shareData.url;switch(a){case"google_plusone_share":a="googleplus";break;default:a=a.replace(/_share$/,"")}this._.shareData.jafoMeta.hash&&$.post("//"+this._.host+"/share/share",{hash:this._.shareData.jafoMeta.hash});var b=this._.shareData.url;Imgur.Util.jafoLog({event:"share",meta:_.merge({shareTo:a},this._.shareData.jafoMeta)});try{window.dataLayer=window.dataLayer||[],window.dataLayer.push({socialNetwork:a,socialAction:"share",socialTarget:b,event:"social"})}catch(c){}},getShareTitle:function(){return this._.shareData.title||this._setShareTitle(),this._.shareData.title},shareTwitter:function(){this.logShare("twitter"),Imgur.Util.newWindow("http://twitter.com/share?url="+encodeURIComponent(this._.shareData.url)+"&text="+encodeURIComponent(this.getShareTitle())+"&via=imgur",550,425)},shareFacebook:function(){this.logShare("facebook"),Imgur.Util.newWindow("http://www.facebook.com/sharer.php?u="+encodeURIComponent(this._.shareData.url),755,425)},shareReddit:function(){this.logShare("reddit"),Imgur.Util.newWindow("http://reddit.com/submit?url="+encodeURIComponent(this._.shareData.url)+"&title="+encodeURIComponent(this.getShareTitle()))},shareDigg:function(){this.logShare("digg"),Imgur.Util.newWindow("http://digg.com/submit?phase=2&url="+encodeURIComponent(this._.shareData.url),1060,655)},shareTumblr:function(){this.logShare("tumblr");var a=$('link[rel="image_src"]').attr("href");if(a)var b="http://www.tumblr.com/share/photo?source="+encodeURIComponent(a)+"&caption="+encodeURIComponent(this.getShareTitle())+"&click_thru="+encodeURIComponent(this._.shareData.url);else var b="http://www.tumblr.com/share/link?url="+encodeURIComponent(this._.shareData.url)+"&name="+encodeURIComponent(this.getShareTitle())+"&description="+encodeURIComponent($('meta[name="description"]').attr("content"));Imgur.Util.newWindow(b,450,430)},shareStumbleupon:function(){this.logShare("stumbleupon"),Imgur.Util.newWindow("http://www.stumbleupon.com/submit?url="+encodeURIComponent(this._.shareData.url),1060,500)},shareGoogleplus:function(){this.logShare("googleplus"),Imgur.Util.newWindow("https://plus.google.com/share?url="+encodeURIComponent(this._.shareData.url),520,500)},sharePinterest:function(){this.logShare("pinterest");var a=$('link[rel="image_src"]').attr("href");Imgur.Util.newWindow("http://pinterest.com/pin/create/button/?url="+encodeURIComponent(this._.shareData.url)+"&description="+encodeURIComponent(this.getShareTitle())+"&media="+a,800,340)},shareEmail:function(){},shareAddthis:function(){this.initAddthis(!0)}}),Class.addSingleton(Imgur.ShareButtons),Namespace("Imgur.Caption"),Imgur.Caption=Imgur.extend({sid:$("#sid").val(),init:function(a){this._=$.extend({sid:Imgur.getInstance()._.sid,auth_id:Imgur.Environment.auth.id,signed:Imgur.Environment.signed,baseURL:"/gallery",hash:null,popEventState:"comment",el:{$captions:$("#captions")},$captions:$("#captions"),children:"children",counterClass:".counter",captionBarClass:"caption-bar",commentName:"comment",userCommentsClass:".comment-item",mobile:!1,showRepliesCount:!1,captions:{}},a),this._super(this._)},setupHandlers:function(){Imgur.ShareButtons.getInstance().bindButtons()},addDownvoteLimit:function(){clearTimeout(this._.timeout),$(".caption .arrow.down").unbind("click"),$(".caption .arrow.down").attr("title","Downvoting on this image has been disabled for one minute because you made a comment."),$(".caption .arrow.down").tipsy({gravity:"nw",opacity:1})},removeDownvoteLimit:function(){var a=this;$(".caption .arrow").unbind("click"),$(".caption .arrow.down").unbind("hover"),$(".tipsy").remove(),$(".caption .arrow.down").attr("title","dislike"),$(".caption .arrow").click(function(b){a.vote(b)})},haveCaptionVotes:function(a){return a in this._.captions&&"votes"in this._.captions[a]},haveCaptions:function(a){return a in this._.captions&&"set"in this._.captions[a]},deleteCaption:function(a,b){this.haveCaptions(a)&&b in this._.captions[a].set&&(this._.captions[a].set[b].deleted=!0,this._.captions[a].set[b].just_deleted=!0)},undeleteCaption:function(a,b){this._.captions[a].set[b].deleted=!1,this._.captions[a].set[b].just_deleted=!1},getCaptionDepthById:function(a,b){if(b=Number(b),this.haveCaptions(a)&&b in this._.captions[a].set){for(var c=[],d=0,e=b;null!=e&&!(e in c);){c.push(e);var f=this._.captions[a].set[e];if(f&&f.hasOwnProperty("depth"))return d+f.depth;e=this._.captions[a].parent[e],d++}return d-1}},countComments:function(a){return this.haveCaptions(a)?Object.keys(this._.captions[a].set).length:null},getCaptionRepliesById:function(a,b){if(b=Number(b),this.haveCaptions(a)&&b in this._.captions[a].set)return _.filter(_.values(this._.captions[a].parent),function(a){return a===b}).length},getCaptionById:function(a,b){return b=Number(b),this.haveCaptions(a)&&b in this._.captions[a].set?this._.captions[a].set[b]:null},getCaptionPropertyById:function(a,b,c){return b=Number(b),this.haveCaptions(a)&&b in this._.captions[a].set&&c in this._.captions[a].set[b]?this._.captions[a].set[b][c]:null},getCaptionParentById:function(a,b){return b=Number(b),this.haveCaptions(a)&&b in this._.captions[a].parent?this._.captions[a].parent[b]:null},getParentIds:function(a){return this.haveCaptions(a)?_.uniq(_.values(this._.captions[a].parent)):[]},getCaptionChildrenIds:function(a,b){return b=b,this.haveCaptions(a)&&b in this._.captions[a].children?this._.captions[a].children[b]:[]},getCaptionIdsByFilter:function(a,b){if(!this.haveCaptions(a))return[];var c=[];return jQuery.each(this._.captions[a].set,function(a,d){b(d)&&c.push(a)}),c},mergeCaptions:function(a,b,c){var d=this;a in this._.captions?"set"in this._.captions[a]||(d._.captions[a].set={},d._.captions[a].parent={},d._.captions[a].children={}):d._.captions[a]={set:{},parent:{},children:{},votes:{}},jQuery.each(b,function(b,c){c.parent_id=Number(c.parent_id),c.id=Number(c.id),c.points=Number(c.points),c.visible_points=Number(c.points),0===c.parent_id&&(c.parent_id=null),d._.captions[a].set[c.id]=c,d._.captions[a].parent[c.id]=c.parent_id,c.parent_id in d._.captions[a].children||(d._.captions[a].children[c.parent_id]=[]),c.just_inserted?d._.captions[a].children[c.parent_id].unshift(c.id):d._.captions[a].children[c.parent_id].push(c.id)}),c&&c()},mergeCaption:function(a,b){this.mergeCaptions(a,[b])},mergeVotes:function(a,b,c){var d=this;b&&(this.haveCaptionVotes(a)||(a in this._.captions?this._.captions[a].votes={}:this._.captions[a]={parent:{},votes:{}}),jQuery.each(b,function(b,c){d._.captions[a].votes[c.caption_id]=c.vote}),c&&c())},getVotes:function(a){return this.haveCaptionVotes(a)?this._.captions[a].votes:{}},setVote:function(a,b,c){var d=this._.captions[a].votes[b];void 0!==d&&null!==d||(d="veto"),this._.captions[a].votes[b]=c;var e=this._.captions[a].set[b].visible_points,f={up:1,veto:0,down:-1},g=e-f[d],h=g+f[c];this._.captions[a].set[b].visible_points=h},getVoteByCaptionId:function(a,b){return this.haveCaptionVotes(a)&&b in this._.captions[a].votes?this._.captions[a].votes[b]:null},isCaptionOrItsSubtreeNSFW:function(a){var b=this._.captions[this._.hash].set;if(b.hasOwnProperty(a)){var c=b[a],d=_.filter(Object.keys(this._.captions[this._.hash].parent),_.bind(function(b){return!(this._.captions[this._.hash].set[b].points<0)&&("Mature"!==Imgur.InsideNav.getInstance()._.topic&&(this._.captions[this._.hash].parent[b]===a&&this._.captions[this._.hash].set[b].caption.match(/nsfw/gi)))},this));return c.caption.match(/nsfw/gi)||d.length}return!1},setCaptionVoteState:function(a){var b=["up","down"],c=a.vote,d=$(document.getElementById("caption-"+a.caption_id)).find(".arrows *");if("veto"==c)d.removeClass("pushed");else{var e=b[1-b.indexOf(c)],f=(d.filter(".up"),d.filter(".down"),d.filter("."+c)),g=d.filter("."+e);f.hasClass("pushed")||f.addClass("pushed"),g.removeClass("pushed")}return!0},purgeCaptionData:function(a){var b=this,c=Object.keys(this._.captions).filter(function(c){return Object.hasOwnProperty.call(b._.captions,c)&&a.indexOf(c)===-1});jQuery.each(c,function(a,c){delete b._.captions[c]})}}),Class.addSingleton(Imgur.Caption),Namespace("Imgur.Elements"),Imgur.Elements.Combobox=React.createClass({displayName:"Combobox",propTypes:{name:React.PropTypes.string.isRequired,value:React.PropTypes.string.isRequired,onChange:React.PropTypes.func.isRequired},getInitialState:function(){return{value:this.props.value}},componentDidMount:function(){$(this.refs.base).combobox({onChange:_.bind(function(a,b){switch(a){case this.props.name:var c=$(this.refs.base).find(".selection").text();this.props.onChange(c,b),this.setState({value:c})}},this)})},render:function(){return React.DOM.div({id:this.props.name,className:"combobox "+this.props.className,ref:"base",name:this.props.name},React.DOM.div({className:"selection"+(this.state.value==this.props.defaultValue?" default":" green")},this.state.value),React.DOM.div({className:"triangle"},""),React.DOM.div({className:"options"},this.props.defaultValue?React.DOM.div({className:"combobox-header"},this.props.defaultValue):"",_.map(this.props.values,_.bind(function(a){return React.DOM.div({className:"item "+(this.state.value==a.label?"selected":""),"data-value":a.value,key:a.label},a.label)},this))))}}),Namespace("Imgur.Elements"),Imgur.Elements.Confirm=React.createClass({displayName:"Elements-Confirm",handleNo:function(a){a.preventDefault(),this.props.handleNo()},handleYes:function(a){a.preventDefault(),this.props.handleYes()},render:function(){var a=this.props.yesButtonText||"I'm sure",b=this.props.noButtonText||"Cancel";return React.createElement("div",{className:"popup"},React.createElement("div",{className:"textbox",dangerouslySetInnerHTML:{__html:this.props.message}}),React.createElement("div",{className:"margin-top cf"},React.createElement("div",{className:"right btn-confirm-yes "+this.props.yesButtonClass},React.createElement("a",{ref:"yes",href:"",onClick:this.handleYes},a)),React.createElement("div",{className:"right btn-confirm-no"},React.createElement("a",{ref:"no",href:"",onClick:this.handleNo},b))))}}),Namespace("Imgur.Elements"),Imgur.Elements.PopupMenu=React.createClass({displayName:"PopupMenu",componentWillUnmount:function(){$("body").off("click",this.handleBodyClick)},getInitialState:function(){return{opened:!1}},handleBodyClick:function(a){this.setState({opened:!1})},handleMenuClick:function(a){a.stopPropagation(),"function"==typeof this.props.menuClick&&this.props.menuClick(!this.state.opened),this.setState({opened:!this.state.opened
},_.bind(function(){this.state.opened?$("body").on("click",this.handleBodyClick):$("body").off("click",this.handleBodyClick)},this))},handleChildClick:function(a){a.stopPropagation()},render:function(){return React.DOM.div({onClick:this.handleMenuClick,className:this.props.className+" like-combobox-but-not "+(this.state.opened?" opened":"")},React.DOM.span({},this.props.name),React.DOM.span({className:this.props.afterNameIcon}),React.DOM.div({className:"options"},React.DOM.div({onClick:this.handleChildClick},this.props.children)))}}),Namespace("Imgur.Comment"),Imgur.Comment=React.createClass({displayName:"Comment",_isMounted:!0,propTypes:{childmap:React.PropTypes.object.isRequired,contextids:React.PropTypes.object.isRequired,image:React.PropTypes.object.isRequired,comment:React.PropTypes.object.isRequired,votable:React.PropTypes.bool.isRequired,votemap:React.PropTypes.object,onSubmit:React.PropTypes.func,expanded:React.PropTypes.bool,haveChildren:React.PropTypes.bool,touchEnabled:React.PropTypes.bool.isRequired,forceRenderParent:React.PropTypes.func},getDefaultProps:function(){return{forceRenderParent:function(){}}},contextTypes:{msid:React.PropTypes.string.isRequired,onContextChange:React.PropTypes.func.isRequired,linkifier:React.PropTypes.object.isRequired,onVoteChange:React.PropTypes.func},getInitialState:function(){return{showingReply:!1,reported:!1}},componentWillUnmount:function(){this._isMounted=!1},componentWillUpdate:function(a){this.props.comment.id==a.comment.id&&this.props.comment.visible_points!=a.comment.visible_points&&this.refs.visible_points&&this.refs.visible_points.classList.add("post-action-stats-points--fade")},componentDidUpdate:function(){setTimeout(function(){this.refs.visible_points&&this.refs.visible_points.classList.remove("post-action-stats-points--fade")}.bind(this),150)},handleReplyClicked:function(){Imgur.Util.jafoLog({event:"newComment",meta:{parentId:this.props.comment.parent_id,hash:this.props.comment.hash,state:"initiated"}}),this.setState({showingReply:!0})},handleReplySuccess:function(){this.setState({showingReply:!1}),this.props.onSubmit&&this.props.onSubmit()},handlePermalinkClick:function(a){a.stopPropagation(),this.context.onContextChange(a,this.props.comment.id,0),Imgur.Util.jafoLog({event:"permalinkInvoked",meta:{type:"comment",commentId:this.props.comment.id,hash:this.props.comment.hash,isAlbum:this.props.comment.on_album,nsfw:this.props.image.nsfw,parentId:this.props.comment.parent_id}})},handleContextClick:function(a){a.stopPropagation(),this.context.onContextChange(a,this.props.comment.id,1),Imgur.Util.jafoLog({event:"contextInvoked",meta:{type:"comment",commentId:this.props.comment.id,hash:this.props.comment.hash,isAlbum:this.props.comment.on_album,nsfw:this.props.image.nsfw,parentId:this.props.comment.parent_id}})},handleShareClick:function(a){Imgur.Util.jafoLog({event:"shareInvoked",meta:{type:"comment",commentId:this.props.comment.id,hash:this.props.comment.hash,isAlbum:this.props.comment.on_album,nsfw:this.props.image.nsfw,parentId:this.props.comment.parent_id}});var b=window.location.protocol+"//"+Imgur.Environment.host+Imgur.Environment.baseURL+"/"+this.props.comment.hash+"/comment/"+this.props.comment.id,c=this.props.comment.author+" comments on '"+this.props.image.title+"' - Imgur",d=Imgur.ShareButtons.getInstance();d.setShareData({jafoMeta:_.extend(Imgur.Gallery.getInstance().getGalleryMetadata(),{type:"comment",hash:this.props.comment.hash,isAlbum:this.props.comment.on_album,inGallery:!0,commentId:this.props.comment.id,parentId:this.props.comment.parent_id}),title:c,url:b})},handleMobileIconClick:function(a){Imgur.Util.jafoLog({event:"viaAppIcon",meta:{type:"comment",commentId:this.props.comment.id,platform:this.props.comment.platform}})},handleDeleteClick:function(a){var b="Are you sure you want to delete this comment?";confirm(b)&&($.ajax({url:"/gallery/action/delete_caption/"+this.props.comment.id,type:"POST",data:{sid:this.context.msid}}).fail(_.bind(function(){Imgur.Caption.getInstance().undeleteCaption(this.props.comment.hash,this.props.comment.id),this._isMounted&&this.forceUpdate()},this)),Imgur.Caption.getInstance().deleteCaption(this.props.comment.hash,this.props.comment.id),this.props.forceRenderParent())},handleWarnDeleteClick:function(a){var b="Are you sure you want to delete this comment and warn the user?";confirm(b)&&$.ajax({url:"/adm/removals/delete",type:"POST",data:{caption:this.props.comment.id,warnAndDelete:!0,sid:this.context.msid}}).success(_.bind(function(a){Imgur.Caption.getInstance().deleteCaption(this.props.comment.hash,this.props.comment.id),this.props.forceRenderParent()},this)).fail(_.bind(function(){Imgur.Caption.getInstance().undeleteCaption(this.props.comment.hash,this.props.comment.id),this._isMounted&&this.forceUpdate()},this))},handleMuteUserClick:function(a){Imgur.Environment.auth.id?$.colorbox({html:'<div id="mute-container"></div>',open:!0,top:"10%",transition:"none",scrolling:!1,fixed:!0,width:Imgur.Elements.Mute.dimensions.width,height:Imgur.Elements.Mute.dimensions.height,className:"noBorder",close:"",onComplete:_.bind(function(){var a=window.ReactDOM||window.React;a.render(React.createElement(Imgur.Elements.Mute,{url:"https://api."+Imgur.Environment.host+"/account/v1/"+this.props.comment.author+"/block?type=comment&id="+this.props.comment.id}),$("#mute-container").get(0))},this)}):Imgur.getInstance().signin("muteAttempt")},handleReportClick:function(a){var b={type:"comment",commentId:this.props.comment.id,hash:this.props.comment.hash,isAlbum:this.props.comment.on_album,nsfw:this.props.image.nsfw};Imgur.Util.jafoLog({event:"reportInvoked",meta:b}),Imgur.Environment.auth.id?$.colorbox({html:'<div id="report-container"></div>',open:!0,top:"10%",transition:"none",scrolling:!1,fixed:!0,width:Imgur.Elements.Report.dimensions.width,height:Imgur.Elements.Report.dimensions.height,className:"noBorder",close:"",onComplete:_.bind(function(){var a=window.ReactDOM||window.React;a.render(React.createElement(Imgur.Elements.Report,{type:"comment",url:"/gallery/action/report_caption/"+this.props.comment.id,metadata:b,cb:_.bind(function(){this.setState({reported:!0})},this)}),$("#report-container").get(0))},this),onClosed:_.bind(function(){Imgur.Gallery.getInstance()._.preventReportCloseAnalytics||Imgur.Util.jafoLog({event:"reportCancel",meta:_.extend({method:"modal"},b)}),Imgur.Gallery.getInstance().resetReportCloseAnalytics()},this)}):Imgur.getInstance().signin("reportAttempt")},handleUpvoteClick:function(){var a=this.props.votemap[this.props.comment.id];"up"===a?this._vote("veto"):this._vote("up")},handleDownvoteClick:function(){var a=this.props.votemap[this.props.comment.id];"down"===a?this._vote("veto"):this._vote("down")},_vote:function(a){Imgur.Environment.signed||Imgur.getInstance().signin({invokedRegisterSigninBy:"voteAttempt",type:"comment"});var b=Imgur.InsideNav&&Imgur.InsideNav.getInstance().getHash()?"inside":"outside";Imgur.Caption.getInstance().setVote(this.props.comment.hash,this.props.comment.id,a),this.context.onVoteChange(this.props.comment,a),$.ajax({url:"/gallery/action/vote/"+this.props.comment.id,type:"POST",data:{vote:a,sid:this.context.msid,type:"caption",location:b,gallery:Imgur.Gallery.getInstance().getGalleryMetadata()}});var c={event:"vote"+(this.props.image.readonly?"ReadOnly":""),meta:_.extend(Imgur.Gallery.getInstance().getGalleryMetadata(),{type:"comment",vote:a,location:b,commentId:this.props.comment.id,hash:this.props.comment.hash,parentId:this.props.comment.parent_id})};Imgur.Util.jafoLog(c)},_nthIfy:function(a){return 1===a?"1st":2===a?"2nd":3===a?"3rd":String(a)+"th"},handleUserProfileClick:function(){Imgur.Util.jafoLog({event:"userProfileNav",meta:{accountId:this.props.comment.author_id,method:"usernameComment"}})},handleMenuClick:function(a){a&&Imgur.Util.jafoLog({event:"moreMenuInvoked",meta:{commentId:this.props.comment.id,hash:this.props.comment.hash,isAlbum:this.props.comment.on_album,nsfw:this.props.image.nsfw,parentId:this.props.comment.parent_id}})},closeReply:function(){this.setState({showingReply:!1})},render:function(){var a,b=0;if(this.props.comment.id in this.props.childmap&&this.props.haveChildren&&(b=this.props.childmap[this.props.comment.id].length,b>0)){var c=React.DOM.span({key:"reply-vertical",className:"comment-reply-icon "+(this.props.expanded?"":" comment-reply-icon--vertical")}),d=this.props.expanded?" Collapse":" "+b+(b>1?" replies":" reply");a=React.DOM.span({className:"comment-reply-count"},React.DOM.span({className:"comment-reply-icon"}),c,React.DOM.span({className:"comment-reply-count-text"},d))}var e="up"==this.props.votemap[this.props.comment.id],f="down"==this.props.votemap[this.props.comment.id],g=classNames({"comment-vote":!0,"icon-upvote-fill":!0,green:e}),h=classNames({"comment-vote":!0,"icon-downvote-fill":!0,red:f}),i=React.DOM.div({className:"comment-votes"+(this.props.touchEnabled?" touch":"")},this.props.comment.deleted?"":React.DOM.div({className:"comment-votes-wrapper"},this.props.votable?React.createElement(Imgur.Elements.PressButton,{onPress:this.handleUpvoteClick,className:g}):"",this.props.votable?React.createElement(Imgur.Elements.PressButton,{onPress:this.handleDownvoteClick,className:h}):"")),j=this.props.comment.best_comment?React.DOM.span({className:"caption-awards right title"},this._nthIfy(this.props.comment.best_comment)):null,k=classNames({caption:!0,pointer:this.props.haveChildren,"caption--haschildren":this.props.haveChildren,"caption-deleted":this.props.comment.deleted,"caption-deleted--noreply":this.props.comment.just_deleted&&!this.props.haveChildren,unvotable:!this.props.votable,contexted:this.props.comment.id in this.props.contextids}),l=classNames({usertext:!0,cf:!0,"comment-upvoted":e,"comment-downvoted":f}),m=this.context.linkifier.grab(this.props.comment.caption,!0),n=1===this.props.comment.visible_points?" pt":" pts",o=null,p={iphone:"iPhone",android:"Android"},q=Object.keys(p);return q.indexOf(this.props.comment.platform)>-1&&(o=React.DOM.span({className:"via"}," via ",React.DOM.a({href:"/apps",target:"_blank",onClick:this.handleMobileIconClick},p[this.props.comment.platform],React.DOM.span({className:"icon icon-mobile"},null)))),React.DOM.div({className:k,"data-id":this.props.comment.id},React.DOM.div({className:l},j,React.DOM.div({className:"author"},React.DOM.a({className:"comment-username",href:"/user/"+this.props.comment.author,title:this.props.comment.author,onClick:this.handleUserProfileClick},this.props.comment.author),this.props.image.account_id&&this.props.image.account_id===this.props.comment.author_id&&!this.props.comment.deleted?React.DOM.span({className:"comment-op"},"OP"):"",o,React.DOM.span({ref:"visible_points",className:this.props.comment.deleted?"":"comment-meta-spacer"},Imgur.Util.numberFormat(this.props.comment.visible_points)+n),React.createElement(Imgur.Elements.Timestamp,{classNames:"comment-meta-spacer",shouldUpdate:!1,timestamp:this.props.comment.datetime}),React.createElement(Imgur.Elements.PopupMenu,{className:"icon-ellipses caption-toolbar edit-button comment-meta-spacer",menuClick:this.handleMenuClick},React.DOM.div({onClick:this.handleShareClick,className:"addthis_button item share-caption-link"},"Share"),React.DOM.a({onClick:this.handlePermalinkClick,className:"item permalink-caption-link",href:"/gallery/"+this.props.comment.hash+"/comment/"+this.props.comment.id},"Permalink"),null!=this.props.comment.parent_id?React.DOM.a({onClick:this.handleContextClick,className:"item context-caption-link",href:"/gallery/"+this.props.comment.hash+"/comment/"+this.props.comment.id+"/1"},"Context"):"",Number(this.props.comment.author_id)!==Imgur.Environment.auth.id?React.DOM.div({onClick:this.handleMuteUserClick,className:"item"},"Mute User"):"",this.state.reported||1==$.cookie("c"+this.props.comment.id)?React.DOM.div({className:"item report-caption-link red"},"Reported"):React.DOM.div({onClick:this.handleReportClick,className:"item report-caption-link"},"Report"),Imgur.Environment.signed&&(Imgur.Environment.isAdmin||Imgur.Environment.isGalleryAdmin||Imgur.Environment.isGalleryModerator)?React.DOM.div({onClick:this.handleWarnDeleteClick,className:"item warn-caption-link"},"Warn"):"",Imgur.Environment.signed&&(Number(this.props.comment.author_id)===Imgur.Environment.auth.id||Imgur.Environment.isGalleryAdmin||Imgur.Environment.isGalleryModerator)?React.DOM.a({onClick:this.handleDeleteClick,className:"item delete-caption-link red",href:"javascript:void(0)"},"Delete"):"")),m,this.props.comment.deleted?"":React.DOM.div({className:"comment-create-reply",onClick:this.handleReplyClicked},React.DOM.div({className:"comment-create-reply-wrapper"},React.DOM.div({className:"icon-reply"}),React.DOM.div({},"Reply")))),this.state.showingReply||!this.props.haveChildren||this.props.expanded?"":React.DOM.div({className:"caption-gradient-wrapper"},React.DOM.div({className:"caption-gradient"})),i,a,this.state.showingReply?React.createElement(Imgur.Caption.Reply,{autofocus:!0,ref:"reply",image:this.props.image,parentId:this.props.comment.id,parentAuthorId:Number(this.props.comment.author_id),onSuccess:this.handleReplySuccess,onClose:this.closeReply}):"")}}),Namespace("Imgur.Comment"),Imgur.CommentTree=React.createClass({statics:{EXPAND_MODE_FORCE_COLLAPSED:-1,EXPAND_MODE_DEFAULT_COLLAPSED:0,EXPAND_MODE_FORCE_EXPANDED:1},displayName:"CommentTree",mixins:[React.addons.PureRenderMixin],propTypes:{comment:React.PropTypes.object.isRequired,image:React.PropTypes.object.isRequired,expandMode:React.PropTypes.number.isRequired,expandedFromPermalink:React.PropTypes.bool.isRequired,groupingBadReplies:React.PropTypes.bool.isRequired,contextids:React.PropTypes.object.isRequired,childmap:React.PropTypes.object.isRequired,votemap:React.PropTypes.object.isRequired,level:React.PropTypes.number,maxLevel:React.PropTypes.number,votable:React.PropTypes.bool},contextTypes:{onContextChange:React.PropTypes.func.isRequired},getInitialState:function(){return{removing:!1,expanded:this.props.expandMode===Imgur.CommentTree.EXPAND_MODE_FORCE_EXPANDED||this.props.expandedFromPermalink}},getDefaultProps:function(){return{level:0,maxLevel:7,votable:!0}},componentWillReceiveProps:function(a){(this.props.expandMode!=a.expandMode||a.expandedFromPermalink)&&(this.state.expanded&&a.expandMode<=Imgur.CommentTree.EXPAND_MODE_FORCE_COLLAPSED?this.setState({expanded:!1}):(!this.state.expanded&&a.expandMode===Imgur.CommentTree.EXPAND_MODE_FORCE_EXPANDED||a.expandedFromPermalink)&&this.setState({expanded:!0}))},handleCommentClick:function(a){var b=$(a.target);if(!b.is("a, button")&&!b.closest(".comment-create-reply").length&&b.closest(".usertext, .comment-reply-count").length){var c=this.props.comment.id in this.props.childmap,d={commentId:this.props.comment.id,hash:this.props.comment.hash,isAlbum:this.props.comment.on_album,nsfw:this.props.image.nsfw,parentId:this.props.comment.parent_id,location:$(a.target).closest(".comment-reply-count").length?"collapseLink":"commentBox"},d={commentId:this.props.comment.id,hash:this.props.comment.hash,isAlbum:this.props.comment.on_album,nsfw:this.props.image.nsfw,parentId:this.props.comment.parent_id};a.stopPropagation(),this.setState({removing:this.state.expanded},_.bind(function(){this.setState({removing:!1,expanded:!this.state.expanded})},this)),this.state.expanded===!1&&c===!0?Imgur.Util.jafoLog({event:"commentExpandInvoked",meta:d}):this.state.expanded===!0&&c===!0&&Imgur.Util.jafoLog({event:"commentCollapseInvoked",meta:d})}},handleSubmit:function(){this.setState({expanded:!0})},handleLoadMoreClicked:function(a){this.context.onContextChange(a,this.props.comment.id,0)},render:function(){var a,b=this.props.comment.id in this.props.childmap,c=this.props.childmap[this.props.comment.id]&&this.props.childmap[this.props.comment.id].length||0;this.props.level<this.props.maxLevel?this.state.expanded&&(a=React.createElement(Imgur.CommentList,{image:this.props.image,contextids:this.props.contextids,childmap:this.props.childmap,votemap:this.props.votemap,expandMode:this.props.expandMode,expandedFromPermalink:this.props.expandedFromPermalink,groupingBadReplies:this.props.groupingBadReplies,level:this.props.level+1,parent_id:this.props.comment.id,votable:this.props.votable,removing:this.state.removing,touchEnabled:this.props.touchEnabled})):b&&(a=React.DOM.a({className:"load-more",href:"javascript:void(0)",onClick:this.handleLoadMoreClicked},"load more"));var d=classNames({comment:!0,expanded:this.state.expanded});return React.DOM.div({onKeyDown:this.handleKeyDown,"data-level":this.props.level,onClick:this.handleCommentClick,className:d},React.createElement(Imgur.Comment,{childmap:this.props.childmap,contextids:this.props.contextids,votemap:this.props.votemap,image:this.props.image,comment:_.extend({},this.props.comment),votable:this.props.votable,onSubmit:this.handleSubmit,expanded:this.state.expanded,haveChildren:b&&this.props.level<this.props.maxLevel&&c>0,level:this.props.level,collapsing:this.state.removing,touchEnabled:this.props.touchEnabled,forceRenderParent:this.forceUpdate.bind(this)}),React.createElement(React.addons.CSSTransitionGroup,{key:"just-collapsed-"+this.props.image.hash,transitionName:"collapsetree",transitionEnter:!1,transitionLeaveTimeout:250},a))}}),Namespace("Imgur"),Imgur.CommentList=React.createClass({RENDERED_AT_A_TIME:20,displayName:"CommentList",mixins:[React.addons.PureRenderMixin],propTypes:{image:React.PropTypes.object.isRequired,contextids:React.PropTypes.object.isRequired,childmap:React.PropTypes.object.isRequired,votemap:React.PropTypes.object.isRequired,level:React.PropTypes.number.isRequired,expandMode:React.PropTypes.number.isRequired,expandedFromPermalink:React.PropTypes.bool.isRequired,groupingBadReplies:React.PropTypes.bool.isRequired,parent_id:React.PropTypes.number},getInitialState:function(){return{rendered:this.RENDERED_AT_A_TIME,bad_comments:!1,truncatingForRecommendations:!0}},_getChildrenIds:function(){return this.props.parent_id in this.props.childmap?this.props.childmap[this.props.parent_id]:[]},componentDidUpdate:function(){this._checkNeedToRenderMore()},componentDidMount:function(){this._mounted=!0,this._listener=_.throttle(this._checkNeedToRenderMore,50),$(window).on("scroll",this._listener),this._checkNeedToRenderMore()},componentWillUnmount:function(){$(window).off("scroll",this._listener),this._mounted=!1},toggleShowingBadComments:function(a){a.stopPropagation(),this.setState({bad_comments:!this.state.bad_comments})},_checkNeedToRenderMore:function(){if(this._mounted){var a=this._getChildrenIds();if(a.length>0&&a.length>this.state.rendered){var b=$(ReactDOM.findDOMNode(this.refs.last));b.is(":in-viewport")&&this.setState({rendered:this.state.rendered+this.RENDERED_AT_A_TIME})}}},_handleBadCaptionsContainerClick:function(a){a.stopPropagation()},render:function(){var a=this.props.image.hash,b=[],c=[],d=[],e=this._getChildrenIds(),f=!1;if(!this.props.removing)for(var g=0;g<Math.min(e.length,this.state.rendered);g++){var h=Imgur.Caption.getInstance().getCaptionById(a,e[g]),i={comment:h,image:this.props.image,key:h.id,level:this.props.level,expandMode:this.props.expandMode,expandedFromPermalink:this.props.expandedFromPermalink,contextids:this.props.contextids,childmap:this.props.childmap,votemap:this.props.votemap,votable:!0,groupingBadReplies:this.props.groupingBadReplies,touchEnabled:this.props.touchEnabled};g==Math.min(e.length,this.state.rendered)-1&&(i.ref="last"),h.points>=0||!this.props.groupingBadReplies?h.just_inserted?d.push(React.createElement(Imgur.CommentTree,i)):b.push(React.createElement(Imgur.CommentTree,i)):(c.push(React.createElement(Imgur.CommentTree,i)),f=!0)}var j=null;return this.state.truncatingForRecommendations&&this.props.inRecommendationsExperiment&&null===this.props.parent_id&&(j=b.length>5?React.DOM.button({className:"btn btn-grey",style:{margin:"0 auto",display:"block"},onClick:function(){this.setState({truncatingForRecommendations:!1})}.bind(this)},"Show More Comments"):null,b=b.slice(0,5)),React.DOM.div({className:"children"},React.createElement(React.addons.CSSTransitionGroup,{key:"just-inserted-"+this.props.image.hash,transitionName:"newcomment",transitionEnterTimeout:500,transitionLeave:!1},d),React.createElement(React.addons.CSSTransitionGroup,{key:"just-expanded-"+this.props.image.hash,transitionName:"expandcomment",transitionAppear:!0,transitionEnter:!1,transitionAppearTimeout:250,transitionLeaveTimeout:250},b,React.DOM.div({onClick:this._handleBadCaptionsContainerClick,className:"bad-captions "+(f?"":"nodisplay")},React.DOM.a({onClick:this.toggleShowingBadComments,href:"javascript:void(0)",className:"link"},(this.state.bad_comments?"hide":"show")+" bad replies"),React.DOM.div({className:this.state.bad_comments?"":"nodisplay"},c)),j))}}),Namespace("Imgur"),Imgur.InsideCommentsArea=React.createClass({displayName:"InsideCommentArea",propTypes:{image:React.PropTypes.object.isRequired,loading:React.PropTypes.bool.isRequired,defaultExpandMode:React.PropTypes.number.isRequired,expandedFromPermalink:React.PropTypes.bool.isRequired,childmap:React.PropTypes.object.isRequired,commentSort:React.PropTypes.string.isRequired,onCommentSortChange:React.PropTypes.func.isRequired,contextId:React.PropTypes.number,contextLevels:React.PropTypes.number,permalink:React.PropTypes.object},contextTypes:{onContextChange:React.PropTypes.func.isRequired},mixins:[React.addons.PureRenderMixin],handleClickPermalinkViewRestBanner:function(a){a.preventDefault(),this.context.onContextChange(a,void 0,void 0)},getInitialState:function(){return{commentReplyNumber:0,expandMode:this.props.defaultExpandMode,expandedFromPermalink:this.props.expandedFromPermalink,forceCollapsed:!1,touchEnabled:!!this.touchEnabled()}},touchEnabled:function(){return"ontouchstart"in window||navigator.maxTouchPoints},componentDidMount:function(){var a=$(ReactDOM.findDOMNode(this).parentNode);a.hasClass("comments-initialized")||a.addClass("comments-initialized"),$(document).on("keyup",this.handleDocumentKeyUp),this.props.emitter.on("pointUpdate",this,function(a){if("comment"===a.type){const b=Imgur.Caption.getInstance().getCaptionById(this.props.image.hash,a.comment);b&&b.visible_points!=a.points&&(b.visible_points=a.points,this.forceUpdate())}}.bind(this))},componentWillUnmount:function(){$(ReactDOM.findDOMNode(this).parentNode);$(document).off("keyup",this.handleDocumentKeyUp)},componentWillReceiveProps:function(a){this.props.contextId!==a.contextId&&a.contextId?this.setState({expandedFromPermalink:!0}):this.setState({expandedFromPermalink:!1}),this.props.image.hash===a.image.hash&&this.props.image.is_album===a.image.is_album||this.setState({showingReply:!0})},handleClickToggleForceExpanded:function(a){this.state.expandMode!==Imgur.CommentTree.EXPAND_MODE_FORCE_EXPANDED?(this.setState({expandMode:Imgur.CommentTree.EXPAND_MODE_FORCE_EXPANDED}),Imgur.Util.jafoLog({event:"expandCollapseAllInvoked",meta:{state:"expand",hash:this.props.image.hash}})):(this.setState({expandMode:Imgur.CommentTree.EXPAND_MODE_FORCE_COLLAPSED-Math.abs(this.state.expandMode)}),Imgur.Util.jafoLog({event:"expandCollapseAllInvoked",meta:{state:"collapse",hash:this.props.image.hash}}))},handleCommentSuccess:function(){this.setState({commentReplyNumber:this.state.commentReplyNumber+1})},handleDocumentKeyUp:function(a){if(!(a.ctrlKey||a.altKey||a.metaKey||$(a.target).is("input,textarea"))){var b={commentId:null,hash:this.props.image.hash,isAlbum:this.props.image.isAlbum,nsfw:this.props.image.nsfw,parentId:null,location:"hotkey"};219===a.keyCode?this.state.expandMode===Imgur.CommentTree.EXPAND_MODE_FORCE_EXPANDED?(Imgur.Util.jafoLog({event:"commentCollapseInvoked",meta:b}),this.setState({expandMode:Imgur.CommentTree.EXPAND_MODE_FORCE_COLLAPSED})):(Imgur.Util.jafoLog({event:"commentExpandInvoked",meta:b}),this.setState({expandMode:Imgur.CommentTree.EXPAND_MODE_FORCE_EXPANDED})):221===a.keyCode&&(Imgur.Util.jafoLog({event:"commentCollapseInvoked",meta:b}),this.setState({expandMode:Imgur.CommentTree.EXPAND_MODE_FORCE_COLLAPSED-Math.abs(this.state.expandMode)}))}},render:function(){var a=[],b=this.state.expandMode===Imgur.CommentTree.EXPAND_MODE_FORCE_EXPANDED;if(a.push(React.createElement(Imgur.Caption.Reply,{key:"reply:"+String(this.state.commentReplyNumber)+":"+this.props.image.hash,image:this.props.image,parentId:null,parentAuthorId:null,autofocus:!1,onBlur:_.noop,onSuccess:this.handleCommentSuccess})),a.push(React.DOM.div({key:"controls",className:"comments-info"},React.DOM.div({className:"left"},React.DOM.div({className:"inline"},React.DOM.span({className:"comments-count"},this.props.loading?"LOADING":Imgur.Caption.getInstance().countComments(this.props.image.hash))," COMMENTS")),React.createElement(Imgur.Elements.PopupMenu,{className:"comments-sort right",name:this.props.commentSort,afterNameIcon:"icon-arrow-down"},React.DOM.div({className:"item"+("best"==this.props.commentSort?" selected":""),onClick:_.partial(this.props.onCommentSortChange,"best")},"best"),React.DOM.div({className:"item"+("new"==this.props.commentSort?" selected":""),onClick:_.partial(this.props.onCommentSortChange,"new")},"new"),React.DOM.div({className:"item"+("top"==this.props.commentSort?" selected":""),onClick:_.partial(this.props.onCommentSortChange,"top")},"top")),React.DOM.span({className:(b?"icon-collapse-all":"icon-expand")+" comments-expand right pointer",onClick:this.handleClickToggleForceExpanded,href:"javascript:void(0)"},b?"Collapse All":"Expand All"),React.DOM.div({className:"clear"}))),!this.props.loading)if(this.props.contextId){a.push(React.DOM.div({key:"permalink-banner",className:"reply-header"},React.DOM.span(null,"You are viewing a single comment"),React.DOM.p(null,React.DOM.a({className:"load-more",href:"/gallery/"+this.props.image.hash,onClick:this.handleClickPermalinkViewRestBanner},"view the rest of the comments"))));var c={},d=Imgur.Caption.getInstance().getCaptionById(this.props.image.hash,this.props.contextId),e=Imgur.Caption.getInstance().getCaptionById(this.props.image.hash,this.props.permalink.commentId);if(Imgur.Environment.signed&&Imgur.Environment.auth.id==e.author_id){var f=Imgur.Caption.getInstance().getCaptionIdsByFilter(this.props.image.hash,_.bind(function(a){var b=moment.utc(a.datetime,"YYYY-MM-DD HH:mm:ss").unix(),c=e.id==a.parent_id,d=Imgur.Environment.auth.id==a.author_id,f=b>this.props.timeLastRead;return f&&c&&!d},this));_.each(f,function(a){c[a]=!0})}a.push(React.createElement(Imgur.CommentTree,{contextids:c,childmap:this.props.childmap,votemap:this.props.votemap,image:this.props.image,key:"tree:"+this.props.image.hash,expandMode:this.state.expandMode,expandedFromPermalink:this.state.expandedFromPermalink,groupingBadReplies:!1,comment:d,votable:!0,touchEnabled:this.state.touchEnabled}))}else{var g=Imgur.Experiments.getUserBucket("expT4377b"),h=g&&g.variation;Imgur.Experiments.isActive("expT4377b"),a.push(React.createElement(Imgur.CommentList,{contextids:{},childmap:this.props.childmap,votemap:this.props.votemap,image:this.props.image,key:"list:"+this.props.image.hash,expandMode:this.state.expandMode,expandedFromPermalink:this.state.expandedFromPermalink,level:0,parent_id:null,groupingBadReplies:!0,votable:!0,touchEnabled:this.state.touchEnabled,inRecommendationsExperiment:"control"!=h&&Imgur.Experiments.isActive("expT4377b")}))}return React.DOM.div({id:"comments",className:this.props.loading?"":"comments-loaded"},React.DOM.div({id:"captions",className:"root-caption-container"},a))}}),Imgur.PostViewSummary={},function(){function a(a){switch(a.galleryType){case"subreddit":return{galleryType:a.galleryType,galleryName:a.subreddit};case"tag":return{galleryType:a.galleryType,galleryName:a.tagName};case"new":return{galleryType:"gallery",galleryName:"User Submitted"};case"viral":return{galleryType:"gallery",galleryName:"User Submitted"};case"hot":return{galleryType:"gallery",galleryName:"Most Viral"};default:return{galleryType:"deeplink",galleryName:null}}}Imgur.PostViewSummary.ViewedPost=function(b,c,d,e){var f=a(b),g=f.galleryName,h=f.galleryType,i={"Total Count":1,"NSFW Count":d?1:0,"Promoted Count":c?1:0,"Promoted Eligible Count":e?1:0,Location:Imgur.Util.capitalizeString(h),Type:"Detail"};g&&(i["Location Identifier"]=g),Imgur.Util.jafoLogEvent(Imgur.AnalyticCategories.POST,Imgur.AnalyticEventNames.viewingSummary,i)},Imgur.PostViewSummary.getGalleryNameAndType=a}();var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};Namespace("Imgur.InsideNav"),Imgur.InsideNav=Imgur.extend({init:function(a,b,c,d,e,f,g){g=g||{},this._=$.extend({ad:{URL:void 0,timeTillRefresh:2e3,nextImageLoadRefreshesAd:!1,injectAd:!$(".advertisement").length,closed:!1,currentTimeout:void 0,abpAdId:$("#div-gpt-ad-1421193579422-0")},tallAdParams:{sqWidth:821,sqHeight:599,recWidth:1294,recHeight:599,rightContentHeight:$("#right-content").height()},skyPopMarginTop:40,labelWrapperMarginTop:32,captionLayout:{sort:null},depth:1,insideCommentsArea:null,emitter:c,autoBrowse:!1,autoBrowseTimeout:null,autoBrowseWait:7e3,isHotImage:!0,adType:null,captionInstance:b,albumImageStore:d,postSavingStore:e,tagStore:f,fetchQueue:[],fetchingCaptions:{},image:{},fetchPageEventCount:0,checkFetchQueueInterval:void 0,fetchInterval:250,sideGallery:a,initialImage:!0,isPromoted:!1,headerFixed:!1,scrollPosition:0,postTitleMaxHeight:120,vwUnderImage:{padding:20,timeout:500,lastHash:null},vwTime:{lastHash:null,msec:0},vwUnderComments:{lastHash:null},postContents:{loading:[],loaded:[],hash:null},post:null,elements:{$metadataLink:$('link[rel="image_src"]'),$window:$(window),$inside:$("#inside"),$postHeader:$(".post-header"),$postContainer:$(".post-container"),$navPrev:$(".navPrev"),$navNext:$(".navNext"),$postJump:$("#post-jump-container"),$nicetime:$("#nicetime"),$voteUp:$("#mainUpArrow"),$voteDown:$("#mainDownArrow"),$image:$(".post-images"),$embed:$("#stats-embed-codes"),$postActionBar:$(".post-action"),postActionBar:".post-action",$postTitleContainer:$(".post-title-container"),$captions_count:$("#comment-count"),$actionTabs:$("#action-tabs").find("> div"),$shareLink:$("#under-image").find(".share-link"),imageContainers:".post-images .post-image-container",adframe:$("#adiframe")[0],adWrapper:".advertisement",promoCompanion:".promoCompanion",albumTruncated:".js-post-truncated",albumDescription:".post-description",$favoritedImage:$(".favorite-image"),$randomButton:$(".random-button"),$sideFooterLinks:$("#fixed-side-footer-links")},skyPopYPos:null,insideCommentsAreaWithContext:React.createClass({displayName:"insideCommentsAreaWithContext",childContextTypes:{onContextChange:React.PropTypes.func,msid:React.PropTypes.string,onSubmit:React.PropTypes.func,linkifier:React.PropTypes.object,onVoteChange:React.PropTypes.func},getChildContext:function(){return{onContextChange:this.props.loadmore,msid:this.props.msid,onSubmit:this.props.onsubmit,linkifier:this.props.linkifier,onVoteChange:this.props.onvotechange}},render:function(){return React.createElement(Imgur.InsideCommentsArea,this.props)}})},g),this._super(this._),$(".footerlink-report-ads").removeClass("nodisplay").click(this.reportBadAds)},setHash:function(a){this._.hash=a,this.updateCaptionHash(),Imgur.getInstance().setHash(a)},getHash:function(){return this._.hash},updateCaptionHash:function(){this._.captionInstance.setHash(this._.hash)},updateShare:function(){if(!this.hasImage())return void console.warn("Can't find image when updating share");var a=this.getImage(),b="https://"+this._.host+this.getURL({type:"historyState",hash:a.hash});b=a.is_album?b.replace("/account/favorites/","/a/"):b.replace("/account/favorites/","/");var c=Imgur.ShareButtons.getInstance();c.setShareData({jafoMeta:_.merge(Imgur.Gallery.getInstance().getGalleryMetadata(),{type:"galleryPost"},this._.imageJafoMeta),title:a.title,url:b},{global:!0}),this._.elements.$shareLink.val(b).data("value",b);
},hasImage:function(a){return a=a||this._.hash,a==this._.image.hash||null!=this._.sideGallery.getImage(a)},getImage:function(a){return a=a||this._.hash,null==this._.sideGallery?this._.image:this.hasImage(a)?this._.sideGallery.getImage(a):null},getCurrentImage:function(){return this._.sideGallery.getImage(this.getHash())},checkFetchQueue:function(){if(0!==this._.fetchQueue.length){var a=this._.fetchQueue.shift();a&&a()}},generalInit:function(a){this._.signed?this._.auth.id:null;this.checkAdTime(),$(".post-image-placeholder").one("mousedown",function(a){a.target.setAttribute("src",a.target.parentNode.getAttribute("href"))}),this._.hasAccess&&!Imgur.Environment.captionsEnabled||(this.bindAutoBrowse(),this.bindHotKeys()),this.setupHistoryState(),a(),this._.checkFetchQueueInterval=window.setInterval(this.checkFetchQueue.bind(this),this._.fetchInterval),"onhashchange"in window&&$(window).bind("hashchange",_.bind(this.forceScrollToCaption,this)),$("body").on("hover",".image-id-link",_.bind(function(a){var b=$(a.target);b.hasClass("imgur-image")||(b.addClass("imgur-image"),$.ajax({url:"/gallery/action/image/"+this.getHash(),type:"GET",data:{order:b.text().match(/\d+/)[0]},success:function(a){a.data&&a.data.url&&a.data.hash&&(b.attr("href",a.data.url),b.attr("data-hash",a.data.hash))}}))},this)),$(window).on("scroll",_.throttle(_.bind(this.checkStickyHeader,this),50)),this.checkStickyHeader(),this._.elements.$navPrev.click(_.bind(function(){this._.emitter.trigger("buttonNav","prev")},this)),this._.elements.$navNext.click(_.bind(function(){this._.emitter.trigger("buttonNav","next")},this)),this._.emitter.on("select",null,_.bind(function(a,b,c,d){this.logNavigation(c,d,a)},this)),this._.emitter.on("select",null,_.bind(this.checkViewabilityTime,this)),$(window).on("beforeunload",_.bind(this.checkViewabilityTime,this)),this._.emitter.on("select",null,_.partial(setTimeout,_.bind(this.postLoadingQueueContents,this),this._.vwUnderImage.timeout)),this._.emitter.on("postContentsLoaded",null,_.once(_.bind(this.bindViewabilityScroll,this))),this._.emitter.on("postContentsLoaded",null,_.partial(setTimeout,_.bind(this.checkViewabilityScroll,this),this._.vwUnderImage.timeout)),this.bindViewabilityJafo(),this.bindSkyPopScroll(),this.bindPostJump()},bindSkyPopScroll:function(){if(this._.elements.$skyPop=this._.elements.$skyPop||$("#sidebar-bottom-ads"),0!==this._.elements.$skyPop.length){$("#abp-pop_sky").length&&(this._.skyPopMarginTop=this._.skyPopMarginTop-this._.labelWrapperMarginTop);var a,b=!1,c=_.throttle(function(){return!b&&this._.elements.$sideFooterLinks.length&&(a=this._.elements.$sideFooterLinks.offset().top+this._.elements.$sideFooterLinks.height()+this._.skyPopMarginTop),a}.bind(this),1e3),d=function(){this._.elements.$skyPop.css({right:this._.elements.$window.width()-(this._.elements.$skyPop.parent().offset().left+this._.elements.$skyPop.parent().outerWidth())})}.bind(this);this._.elements.$window.on("scroll.skyPopAdPositioning",_.debounce(function(){if(this._.elements.$sideFooterLinks.length){var a=this._.elements.$window.scrollTop()>c();!b&&a?(this._.elements.$skyPop.addClass("fixed"),b=!0,d()):b&&!a&&(this._.elements.$skyPop.removeClass("fixed"),b=!1)}}.bind(this),10,{trailing:!0})),this._.elements.$window.on("resize.skyPopAdPositioning",_.debounce(d.bind(this),200,{trailing:!0}))}},bindPostJump:function(){var a=!1;this._.elements.$window.on("scroll.postJump",_.debounce(function(){var b=this._.elements.$window.scrollTop(),c=0!=b&&b+this._.elements.$window.height()>this._.elements.$postActionBar.offset().top;!a&&c?(this._.elements.$postJump.addClass("in-comments"),a=!0):a&&!c&&(this._.elements.$postJump.removeClass("in-comments"),a=!1)}.bind(this),200)),this._.elements.$postJump.find(".go-to-comments").click(this.scrollToCaptions.bind(this)),this._.elements.$postJump.find(".take-me-up").click(function(){$("html, body").animate({scrollTop:0},500)}.bind(this))},bindViewabilityJafo:function(){Math.random()<.01&&(this._.emitter.on("vwTime",null,_.bind(function(a,b){Imgur.Util.jafoLog({event:"vwTime",meta:{hash:a,sec:Math.floor(parseInt(b,10)/1e3)}})},this)),this._.emitter.on("vwUnderImage",null,_.bind(function(a,b,c){Imgur.Util.jafoLog({event:"vwUnderImage",meta:{hash:a,pos:b,target:c}})},this)),this._.emitter.on("vwUnderComments",null,_.bind(function(a,b,c,d){var e={hash:a,isAlbum:b,nsfw:c};b||(e.isAnimated=d),Imgur.Util.jafoLog({event:"vwUnderComments",meta:e})},this)))},postLoadingQueueContents:function(){var a,b,c,d,e;if(this._.image&&!(this._.image.num_images<1))for(this._.postContents.loading=[],this._.postContents.loaded=[],this._.postContents.hash=this._.image.hash,a=$(this._.elements.imageContainers),b=0;b<a.length;b++)c=$(a[b]),e=c.attr("id"),d=c.find("video, img").first(),!e||d.length<1||(this._.postContents.loading.push(e),d.is("video")?this.postLoadingCheckVideo(e,d):this.postLoadingCheckImg(e,d))},postLoadedContentHash:function(a){this.postLoadingVerifyHash(a)&&(this._.postContents.loaded.push(a),this._.postContents.loading.length===this._.postContents.loaded.length&&this._.emitter.trigger("postContentsLoaded",this._.image))},postLoadingVerifyHash:function(a){return this._.postContents.hash===this._.image.hash&&this._.postContents.loaded.indexOf(a)<0&&this._.postContents.loading.indexOf(a)>-1},postLoadingCheckImg:function(a,b){this.postLoadingVerifyHash(a)&&(b[0].complete?this.postLoadedContentHash(a):b.on("load error",{imgHash:a},_.bind(this.postLoadingHandleImg,this)))},postLoadingHandleImg:function(a){var b=Imgur.Util.dive(a,"data.imgHash");_.isString(b)&&this.postLoadedContentHash(b)},postLoadingCheckVideo:function(a,b){return b[0].readyState<1?void b.on("loadeddata",{imgHash:a},_.bind(this.postLoadingHandleVideo,this)):void this.postLoadedContentHash(a)},postLoadingHandleVideo:function(a){var b=Imgur.Util.dive(a,"data.imgHash"),c=$(a.target);c[0].readyState>0&&this.postLoadedContentHash(b)},bindViewabilityScroll:function(){$(window).on("scroll resize",_.throttle(_.bind(this.checkViewabilityScroll,this),250))},checkStickyHeader:function(){var a=$(window).scrollTop(),b=$(".post-header"),c=$(".post-container"),d=c.offset().top,e=a-this._.scrollPosition;if(this._.scrollPosition=a,!this._.headerFixed&&a>d){var f=b.outerHeight();b.addClass("fixed"),c.css("padding-top",f),this._.headerFixed=!0}else this._.headerFixed&&a<=d&&(b.removeClass("fixed"),c.css("padding-top",0),this._.headerFixed=!1);a>d+this._.postTitleMaxHeight&&e>10&&!b.hasClass("animate")&&b.outerHeight()>80?(b.addClass("animate"),b.one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){$(this).addClass("animation-finished")})):(a<=d+this._.postTitleMaxHeight||e<-100)&&(b.off("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend"),b.removeClass("animation-finished"),b.removeClass("animate")),this._.captionsEnabled&&($.inviewport($("#right-content"),{threshold:0})?this._.elements.$postJump.removeClass("js-animate"):this._.elements.$postJump.addClass("js-animate"))},checkViewabilityTime:function(a){(_.isObject(a)||this._.vwTime.lastHash!==this._.hash)&&(this._.vwTime.msec>0&&this._.emitter.trigger("vwTime",this._.vwTime.lastHash,(new Date).valueOf()-this._.vwTime.msec),this._.vwTime.lastHash=""+this._.hash,this._.vwTime.msec=(new Date).valueOf())},checkViewabilityScroll:function(){var a=parseInt(this._.elements.$window.scrollTop()+this._.elements.$window.height(),10),b=parseInt(this._.elements.$postActionBar.offset().top+this._.elements.$postActionBar.outerHeight()+this._.vwUnderImage.padding,10),c=$("#comments-container");if(this._.captionsEnabled){var d=c.offset();if(d)var e=d.top+c.height();if(this._.vwUnderImage.lastHash!==this._.hash&&a>=b&&(this._.emitter.trigger("vwUnderImage",this._.hash,a,b),this._.vwUnderImage.lastHash=this._.hash),this._.captionsEnabled&&this._.vwUnderComments.lastHash!==this._.hash&&e<a&&e>=this._.elements.$window.scrollTop()){var f=this._.sideGallery.getImage(this._.hash)||{};this._.emitter.trigger("vwUnderComments",this._.hash,f.is_album,f.nsfw,f.animated),this._.vwUnderComments.lastHash=this._.hash}}},enablePrevButton:function(){this._.elements.$navPrev.removeClass("disabled")},enableNextButton:function(){this._.elements.$navNext.removeClass("disabled")},disablePrevButton:function(){this._.elements.$navPrev.addClass("disabled")},disableNextButton:function(){this._.elements.$navNext.addClass("disabled")},changeSection:function(a){this._.section=a},changeSort:function(a){this._.sort=a},changeWindow:function(a){this._.window=a},getURL:function(a){return{historyState:this._.baseURL+"/"+a.hash,image:this._.cdnURL+"/"+a.hash+a.ext,thumb:this._.cdnURL+"/"+a.hash+"b"+a.ext,imageVotesJSON:"//"+Imgur.Environment.host+"/gallery/"+a.hash+"/votes.json",captionsJSON:"//"+Imgur.Environment.host+"/gallery/"+a.hash+"/comment/best/hit.json"}[a.type]},fetchImage:function(a,b,c){var d=this._.sideGallery.getImage(a);d&&(d.is_album&&null==this._.albumImageStore.getImages(d.hash)?this._.albumImageStore.fetchImages(d.hash,_.bind(function(a){for(var c=0;c<a.count&&c<5;++c)this.preloadImage(a.images[c]);this.insertPost(d,!0),"function"==typeof b&&b(d)},this)):(this.preloadImage(d),"function"==typeof b&&b(d)),this.fetchCaptions(d.hash,c||_.noop))},fetchCaptions:function(a,b,c){if(this._.captionsEnabled){if(this._.captionInstance.haveCaptions(a))return void b();if(!this._.fetchingCaptions[a]){this._.fetchingCaptions[a]=!0;var d=this,e=this.getURL({type:"captionsJSON",hash:a}),f=this.getURL({type:"imageVotesJSON",hash:a});$.ajax(e,{displayGenericError:!1}).done(function(e){e&&e.data&&e.data.captions?(d._.captionInstance.mergeCaptions(a,e.data.captions),b(),delete d._.fetchingCaptions[a]):c||(delete d._.fetchingCaptions[a],d.fetchCaptions(a,b,!0))}).fail(function(){delete d._.fetchingCaptions[a],c||d.fetchCaptions(a,b,!0)}),this._.signed&&!c&&$.ajax(f,{displayGenericError:!1}).done(function(c){c&&c.data&&c.data.votes&&(d._.captionInstance.mergeVotes(a,c.data.votes),b())})}}},scrollToCaptions:function(a){var b=$(this._.elements.postActionBar).offset().top-this._.elements.$postHeader.outerHeight();a?$("html, body").animate({scrollTop:b},500,function(){}.bind(this)):window.scrollTo(0,b)},processCaptions:function(){var a=this,b=this._.hash,c=this.getCaptionSorter(),d=b===this._.image.hash?this._.image:this._.sideGallery.getImage(b),e=_.clone(this._.captionInstance.getParentIds(b)),f=_.transform(e,function(d,e){var f=a._.captionInstance.getCaptionChildrenIds(b,e),g=[];if(Imgur.Environment.auth.show_mature)g=f;else for(var h=0;h<f.length;h++){var i=a._.captionInstance.getCaptionById(b,f[h]),j=i.caption.match(/nsfw|mature/i),k=/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,l=i.caption.match(k);j&&l&&i.author_id!=Imgur.Environment.auth.id||g.push(f[h])}g.sort(function(d,e){var f=a._.captionInstance.getCaptionById(b,d),g=a._.captionInstance.getCaptionById(b,e);return c(f,g)}),d[e]=g},{}),g=_.bind(function(a,b,c){a.preventDefault(),this.pushWindowState(b,c),this.processCaptions()},this),h=_.bind(function(a){this.processCaptions(),this._.emitter.trigger("captionSubmit",a)},this),i=$.cookie("GCS");i||(i="best");var j=_.bind(function(a,b){this.processCaptions(),this._.emitter.trigger("captionVoted",a,b)},this),k=_.bind(function(a){this.setCaptionSort(a),$.cookie("GCS",a,{expires:7,path:"/"}),Imgur.Util.jafoLog({event:"commentSort",meta:{sort:a,state:"done",hash:b}}),this.processCaptions()},this),l=void 0,m=this.getPermalinkIfExists(),n=null;if("undefined"!=typeof m){l=m.commentId;var o=Imgur.Caption.getInstance().getCaptionById(b,l),p=1;if(null!==o){var q=o.parent_id,r=o.id;n=m.contextLevels||p;for(var s=0;s<n&&(f[q]=[r],null!==q);s++)r=q,q=Imgur.Caption.getInstance().getCaptionParentById(b,q);l=n>0?r:o.id}else l=void 0}var t="undefined"!=typeof m&&"undefined"!=typeof l,u=Imgur.Util.getQueryParams(window.location.search),v="lr"in u?parseInt(u.lr):Number.MAX_SAFE_INTEGER,w={image:d,loading:!Imgur.Caption.getInstance().haveCaptions(b),childmap:f,votemap:Imgur.Caption.getInstance().getVotes(b),contextId:l,contextLevels:n,defaultExpandMode:Imgur.CommentTree.EXPAND_MODE_DEFAULT_COLLAPSED,expandedFromPermalink:t,commentSort:i,onCommentSortChange:k,timeLastRead:v,permalink:m,loadmore:g,msid:Imgur.Environment.msid,onsubmit:h,linkifier:this._.linkifier,onvotechange:j,emitter:this._.emitter},x=this._.insideCommentsAreaWithContext,y=$("#comments-container").get(0);y&&(this._.insideCommentsArea=ReactDOM.render(React.createElement(x,w),y)),Imgur.ShareButtons.getInstance().bindAddthisButton()},getPermalinkIfExists:function(){var a=window.location.pathname,b=a.indexOf("comment")!==-1;if(b){var c=a.split("/comment/")[1].split("/");return{commentId:parseInt(c[0]),contextLevels:parseInt(c[1])}}},setupHistoryState:function(){var a=this,b=Imgur.History.getInstance();b.addPopState("inside_nav.comment",function(b){a.handlePopStateComment(b)}),b.addPopState("inside_nav.image",function(b){a.handlePopStateImage(b)})},handlePopStateComment:function(a){var b=window.location.pathname.split("/"),c=null;3==b.length&&b[2].length>=5&&(c=b[2]),b.length>3&&(c="r"===b[1]?b[b.length-1]:"user"===b[1]?b[4]:b[2]),this.setHash(c),this.scrollToCaptions(),this.processCaptions()},handlePopStateImage:function(a){var b=window.location.pathname.split("/"),c=null;3===b.length&&b[2].length>=5&&(c=b[2]),b[2]&&(c=_.indexOf(["r","t","topic"],b[1])!==-1?b[b.length-1]:"user"===b[1]?b[4]:b[2]),this._.sideGallery.getImage(b[1])&&(c=b[1]),this._.sideGallery.selectImage(c,!0),this.processCaptions(),this.updateShare()},pushWindowState:function(a,b){var c=this._.baseURL+"/"+this._.hash;a&&(c+="/comment/"+a,b&&(c+="/"+b)),Imgur.History.getInstance().addWindowState("inside_nav.comment","Comments on "+window.title,c)},setCaptionSort:function(a){var b=a.substr(0,1).toUpperCase()+a.substr(1);this._.captionLayout.sort=this["sortCaptionsBy"+b]},getCaptionSorter:function(){var a=[_.bind(this.sortCaptionsByMineJustSubmitted,this),this._.captionLayout.sort,_.bind(this.sortCaptionsByIdDesc,this)];return function(b,c){for(var d=0;d<a.length;d++){var e=a[d](b,c);if(0!=e)return e}return 0}},sortCaptionsByTop:function(a,b){var c=a.points,d=b.points;return c>d?-1:c<d?1:0},sortCaptionsByBest:function(a,b){var c=a.best_score,d=b.best_score;return c>d?-1:c<d?1:0},sortCaptionsByNew:function(a,b){var c=new Date(a.datetime),d=new Date(b.datetime);return c>d?-1:c<d?1:0},sortCaptionsByMineJustSubmitted:function(a,b){return"just_inserted"in a&&!("just_inserted"in b)?-1:"just_inserted"in b&&!("just_inserted"in a)?1:0},sortCaptionsById:function(a,b){return a.id<b.id?-1:a.id>b.id?1:0},sortCaptionsByIdDesc:function(a,b){return a.id>b.id?-1:a.id<b.id?1:0},blankPage:function(){this._.isPromoted&&this.removePromotedCompanion(),humanMsg.removeMsg(function(){$("#humanMsg").remove(),humanMsg.setup()}),this._.fetchQueue=[]},pushToFetchQueue:function(a,b,c){this._.fetchQueue.push(_.bind(this.fetchImage,this,a,b,c))},setupReportLink:function(){var a=this.getHash(),b=this._.sideGallery.getImage(a),c=Imgur.Environment.auth.url===this._.image.account_url||!this._.captionsEnabled||b.promoId||b.readonly;this._.el.inside.reportImageLink.toggleClass("nodisplay",c),1==$.cookie("r"+this.getHash())?(this._.el.inside.reportImageLink.addClass("red").text(" post reported"),this._.el.inside.reportImageLink.unbind("click")):(this._.el.inside.reportImageLink.removeClass("red").text(" report post"),this._.el.inside.reportImageLink.unbind("click"),this._.el.inside.reportImageLink.click(_.bind(function(){self._.emitter.trigger("report image")},this)))},handleAds:function(){var a=this.getHash(),b=this._.sideGallery.getImage(a);this._.ad.injectAd&&(!this._.isHotImage&&b.is_hot||b.hasOwnProperty("in_gallery")&&b.in_gallery)?this.showAds():this._.ad.injectAd&&this._.section&&0==$(this._.elements.adWrapper).length&&this.showAds()},isSafe:function(){var a=this._.sideGallery.getImage(this.getHash());return!!a&&(a.is_safe===!0||!(a.nsfw_tag||a.nsfw||a.hasOwnProperty("in_gallery")&&!a.in_gallery||a.is_moderated===!1))},updateSponsoredInfo:function(){var a=this.getHash();this._.elements,this._.sideGallery.getImage(a);this._.emitter.trigger("displayPromoted",a)},updateSubmissionInfo:function(){var a=this._.sideGallery.getImage(this.getHash());a.topic?$("#post-topic option").each(function(){if($(this).text()==a.topic)return $(this).attr("selected",!0),!1}):$("#post-topic option").eq(0).attr("selected",!0)},updatePage:function(a,b){var c=this.getHash(),d=this._.elements,e=this._.sideGallery.getImage(c),f=this;if(this._.image=e,Imgur.Gallery.getInstance()._.account_url=e.account_url,a||Imgur.History.getInstance().addWindowState("inside_nav.image",e.title,this.getURL({type:"historyState",hash:c})),$(".opened").removeClass("opened"),!e.comments_disabled&&("comment_count"in e||e.isAd||e.in_gallery)){$("#comments-container").length||($('<div id="comments-container">').insertAfter(".post-container"),this._.captionsEnabled=!0);var g=Imgur.Gallery.getInstance();if(null===g._.sort){var h=this._.sideGallery.getGalleryEnvironment();g._.sort=h.sort,g._.window=h.window,g._.section=h.section}}else $("#comments-container").remove(),this._.captionsEnabled=!1;e.isAd?ReactDOM.render(React.createElement(Imgur.PromotedSpotlight,null),document.getElementById("promoted-spotlight")):ReactDOM.unmountComponentAtNode(document.getElementById("promoted-spotlight")),this.blankPage(),this._.isPromoted=e.isAd,"object"===("undefined"==typeof runSlots?"undefined":_typeof(runSlots))&&runSlots.galleryNav(e),"object"===_typeof(window.cNEkDpHAxP)&&window.cNEkDpHAxP.push(function(a){a.recordPV()}),this.setupReportLink(),this._.isPromoted||this.handleAds(),this.checkAdTime(),e.is_album&&Imgur.Util.triggerView(e.hash,{album:!0,discard:!0});e.isAd?_.unescape(e.description):e.description;if(null==e.title||"untitled"==e.title?Imgur.Notification.getInstance().setTitle(this._.galleryTitle+" - Imgur"):Imgur.Notification.getInstance().setTitle(e.title+" - Imgur"),e.isAd?this.updateSponsoredInfo():this.updateSubmissionInfo(),e.comments_disabled||!this._.captionsEnabled||this._.captionInstance.haveCaptions(c))f.insertPost(e),this._.captionsEnabled&&this.processCaptions();else{if(this._.insideCommentsArea){var i=this._.insideCommentsArea.props;i.loading=!Imgur.Caption.getInstance().haveCaptions(e.hash),i.image=e;var j=this._.insideCommentsAreaWithContext;this._.insideCommentsArea=ReactDOM.render(React.createElement(j,i),$("#comments-container").get(0))}this.pushToFetchQueue(c,function(a){f.insertPost(a)},_.bind(this.processCaptions,this))}e.is_album===!0?d.$metadataLink.attr("href",this._.protocol+this._.cdnURL+"/"+e.album_cover+e.ext):d.$metadataLink.attr("href",this._.protocol+this._.cdnURL+"/"+e.hash+e.ext),d.$actionTabs.hide(),"up"==e.vote?(this._.elements.$voteUp.addClass("pushed"),this._.elements.$voteDown.removeClass("pushed")):"down"==e.vote?(this._.elements.$voteDown.addClass("pushed"),this._.elements.$voteUp.removeClass("pushed")):(this._.elements.$voteDown.removeClass("pushed"),this._.elements.$voteUp.removeClass("pushed"));var k=this._.sideGallery.getNextImage();null!=k&&this.pushToFetchQueue(k),$(".tipsy").remove(),Imgur.Util.googleTrackPageview(),this.purgeCommentData(),this.updateCaptionHash();var l="item",m=Imgur.Gallery.getInstance(),n=m.getGalleryMetadata(l);n.tags=[],Array.isArray(e.galleryTags)&&(n.tags=e.galleryTags.map(function(a){return a.tag})),n.promotedTagGallery=m.isPromotedTagGallery(n.tagName,e.galleryTags);var o="undefined"!=typeof Imgur.Gallery,p=!!e.isAd,q=e.nsfw,r=e.promotedPostRequestExpected,s=_.extend(n,{hash:e.hash,promoted:p,wasInserted:p,inGallery:o,isAlbum:e.is_album,showsAds:e.adConfig&&e.adConfig.showsAds,nsfw:q,galleryEntry:null});"undefined"!=typeof e.promotedPostRequestExpected&&(s.promotedPostRequestExpected=e.promotedPostRequestExpected),"string"==typeof e.subreddit&&(s.subreddit=e.subreddit);try{"string"==typeof e.reddit&&"string"==typeof e.hot_datetime?s.galleryEntry=moment.utc(e.hot_datetime,"YYYY-MM-DD HH:mm:ss").valueOf():"string"==typeof e.timestamp&&(s.galleryEntry=moment.utc(e.timestamp,"YYYY-MM-DD HH:mm:ss").valueOf())}catch(t){s.galleryEntry=null}this._.depth+=a?-1:1,s.depth=this._.depth,Imgur.Util.jafoLog({event:l,meta:s}),this._.imageJafoMeta=s,this.updateShare();var u=Imgur.Gallery.getInstance().getGalleryMetadata();Imgur.PostViewSummary.ViewedPost(u,p,q,r)},purgeCommentData:function(){var a=this,b=Object.keys(this._.captionInstance._.captions).filter(function(b){return Object.hasOwnProperty.call(a._.captionInstance._.captions,b)&&(a.isImageNearby(b)||a.isImagePromoted(b))});this._.captionInstance.purgeCaptionData(b)},isImagePromoted:function(a){var b=this._.sideGallery.getImage(a);return b.isAd},isImageNearby:function(a){var b=this._.sideGallery.selectedPosition(),c=this._.sideGallery.hashPosition(a);return c!==-1&&c>=b-3&&c<=b+1},_promotedTag:function(a,b){var c=React.DOM.div({className:"promoted-tag"},React.DOM.a({href:Imgur.Environment.ppBlog,className:"title",title:"learn more about promoted posts"},"promoted"));return c},_promotedWrap:function(a){return React.DOM.div({className:"promoted-wrap"},this._promotedTag(),a)},insertPost:function(a,b){if(a.hash==this.getHash()){if(a.is_album&&null==this._.albumImageStore.getImages(a.hash))return void this._.albumImageStore.fetchImages(a.hash,_.bind(this.insertPost,this,this._.sideGallery.getImage(a.hash)||a,b));var c=this._.hasAccess&&!Imgur.Environment.captionsEnabled;if(c&&a.is_album){var d={instance:"album",emitter:this._.emitter,hash:a.hash,privacy:a.album_privacy,deletehash:a.deletehash,datetime:a.datetime,images:this._.albumImageStore.getImages(a.hash),linkifier:this._.linkifier,data:a,host:Imgur.Environment.host};ReactDOM.render(React.createElement(Imgur.Upload,d),document.getElementById("upload-album"),_.bind(this.recachePostElements,this)),this._.elements.$inside.empty()}else{var e={data:a,initial:this._.initialImage,all_loaded:b,album_image_store:this._.albumImageStore,in_gallery:this._.captionsEnabled||a.isAd&&a.hasOwnProperty("starting_score"),has_access:this._.hasAccess,postSavingStore:this._.postSavingStore,showEditTools:c,emitter:this._.emitter,hide_points:!this._.captionsEnabled||this._.isPromoted||this._.image.ad_type>0,hide_views:this._.isPromoted||this._.image.ad_type>0,hide_tags:!this._.captionsEnabled,hide_report:Imgur.Environment.auth.url===a.account_url||this._.isPromoted,linkifier:this._.linkifier,sideGallery:this._.sideGallery,tagStore:this._.tagStore};this._.post=ReactDOM.render(React.createElement(Imgur.Gallery.Post,e),$(".post-images").get(0),_.bind(this.postRendered,this))}}},postRendered:function(){this._.emitter.trigger("postRendered",this._.sideGallery&&this._.sideGallery.getImage?this._.sideGallery.getImage(this.getHash()):{})},recachePostElements:function(){this._.elements.$postActionBar=$(".post-action"),this._.elements.$postHeader=$(".post-header"),this._.elements.$postContainer=$(".post-container"),this._.emitter.trigger("postRendering",this._.sideGallery&&this._.sideGallery.getImage?this._.sideGallery.getImage(this.getHash()):{})},preloadImage:function(a){var b,c=".gif"==a.ext&&a.animated&&a.size>2097152;if(c){var d=document.createElement("video"),e=document.createElement("source");d.canPlayType&&(e.src=Imgur.Environment.cdnUrl+"/"+a.hash+".mp4"),d.appendChild(e),b=d}else{var f=document.createElement("img");f.src=Imgur.Environment.cdnUrl+"/"+a.hash+a.ext,b=f}var g=function(){b&&(c?$(b).find("source").attr("src",""):$(b).attr("src",""),b=null)};b.onload=b.onerror=g,this._.emitter.once("select",null,g)},checkAdTime:function(){var a=(this._.elements,this);if(this._.ad.nextImageLoadRefreshesAd){a._.elements;if(window.usesABP&&"undefined"!=typeof window.abp_ad){this._.ad.abpAdId.removeClass("nodisplay");try{googletag.pubads().refresh([window.abp_ad])}catch(b){}}else if("undefined"!=typeof window.dfp_adslot)try{a._.elements.adframe.contentWindow.tagRefresh()}catch(b){}if("undefined"!=typeof window.leaderboard_slot&&window.leaderboard_slot&&!Imgur.Environment.auth.id)try{window.leaderboard_slot.setTargeting("url",location.href),googletag.pubads().refresh([window.leaderboard_slot])}catch(b){}this._.captionsEnabled||Imgur.Environment.auth.id||($(".trc_rbox").remove(),window._taboola=window._taboola||[],_taboola.push({mode:"thumbnails-a",container:"taboola-below-article-thumbnails",placement:"LoggedOut_NonGallery",target_type:"mix"}),window._taboola=window._taboola||[],_taboola.push({flush:!0})),this._.ad.nextImageLoadRefreshesAd=!1,window.clearTimeout(this._.ad.currentTimeout),this._.ad.currentTimeout=window.setTimeout(function(){a._.ad.nextImageLoadRefreshesAd=!0,a._.ad.currentTimeout=void 0},this._.ad.timeTillRefresh)}else this._.ad.currentTimeout||(this._.ad.currentTimeout=window.setTimeout(function(){a._.ad.nextImageLoadRefreshesAd=!0,a._.ad.currentTimeout=void 0},this._.ad.timeTillRefresh))},removePromotedCompanion:function(){$(this._.elements.promoCompanion).remove()},showAds:function(a,b){if(a&&(this._.adType="normal","undefined"==typeof Imgur.getInstance()._.auth||Imgur.getInstance()._.auth.isPro!==!0)){var c,d,e,f,g=this.getHash(),h=this._.sideGallery.getImage(g),i="//"+Imgur.Environment.host+"/ads?page=";if("https:"==document.location.protocol?(c="div-gpt-ad-1378449215044-0",i+="ssl"):h.hasOwnProperty("in_gallery")?(c="div-gpt-ad-1345436959737-0",i+="inside"):(c="div-gpt-ad-1407357841031-0",i+="inside&main=1&hot=1"),!window.usesABP){var j=$("#right-content #under-sidebar-parent.advertisement");j.length||$("#right-content #side-gallery").after('<div class="advertisement"></div>'),d=$("#right-content #under-sidebar-parent.advertisement .panel-ad"),e=$("#right-content #under-sidebar-parent.advertisement .custom-ad"),a?(d.length&&d.addClass("nodisplay"),e.length<1&&($("#right-content #under-sidebar-parent.advertisement").append('<div class="custom-ad">'+a+"</div>"),e=$("#right-content #under-sidebar-parent.advertisement .custom-ad")),e.html(a),f=e):(e.remove(),d.html('<iframe id="adiframe" class="adframe" src="'+i+'" scrolling="no" frameBorder="0"></iframe>'),f=d),a||(this._.elements.adframe=$("#adiframe").get(0))}this._.ad.nextImageLoadRefreshesAd=!0,this._.ad.injectAd=!1,"function"==typeof b&&b.apply(window,[a,f])}},reportBadAds:function(){runSlots.blocked()?humanMsg.displayMsg("Weve detected that you have an ad blocker enabled. If youd like to help report ads and support Imgur, please consider whitelisting us.","error-msg"):ReactDOM.render(React.createElement(Imgur.ReportBadAds,null),document.getElementById("report-bad-ads-modal"))},hideZoomedImage:function(){$(".jquery-image-zoom").is(":visible")&&$("div.jquery-image-zoom a").click(),$.colorbox.close()},timeoutNextImage:function(){if(this._.autoBrowse&&!this._.autoBrowseTimeout){var a=this._.autoBrowseWait,b=this;this._.autoBrowseTimeout=setTimeout(function(){b._.autoBrowseTimeout=null,b._.emitter.trigger("buttonNav","next")},a)}else this._.autoBrowse&&(window.clearTimeout(this._.autoBrowseTimeout),this._.autoBrowseTimeout=null,this.timeoutNextImage())},bindAutoBrowse:function(){var a=this;$(document).keyup(function(b){return b.ctrlKey&&120===b.keyCode&&(a._.autoBrowse=!a._.autoBrowse,a._.autoBrowse?(a.timeoutNextImage(),humanMsg.displayMsg("Starting auto browse in "+Math.ceil(a._.autoBrowseWait/1e3)+" seconds!")):(clearTimeout(a._.autoBrowseTimeout),humanMsg.displayMsg("Done already?"))),!0})},navToImage:function(a,b){if(!("hash"in a&&this._.hash==a.hash)){var c=this.getHash();this._.initialImage=!1,this.hideZoomedImage(),this.setHash(a.hash),this.updatePage(b,c),this.timeoutNextImage(),this._.emitter.trigger("navToImage",this.getHash())}},logNavigation:function(a,b,c){"inserted"!==b&&Imgur.Util.jafoLog({event:"galleryNav",meta:_.extend(Imgur.Gallery.getInstance().getGalleryMetadata(),{recommendationsBox:"recommendationClick"===b,direction:a,trigger:b,targeted:c.hash,visibleTooltip:this._.tooltip&&this._.tooltip.showing()?this._.tooltip.name():null,layout:this._.sideGallery.state.layout,position:this._.sideGallery.selectedPosition()+1+("next"==a?1:-1),recBoxPosition:c.recBoxPosition})})},isInvalidKeyContext:function(a){var b=$(a.target);return"true"===b.attr("contenteditable")||(!!(a.ctrlKey||a.altKey||a.metaKey)||b.is("input, textarea"))},bindHotKeys:function(){var a=this;this._.emitter.on("blockHotKeys",null,function(b){a.hotKeysBlocked=b});var b={ARROW_LEFT:[37],ARROW_RIGHT:[39],ENTER:[13],MINUS:[109,189],PLUS:[187,61,107],NINE:[57,105],ZERO:[45,48,96],R:[82],S:[83]};navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&b.MINUS.push(173),$(document).keydown(_.throttle(function(c){if(!a.hotKeysBlocked){if(!a.isInvalidKeyContext(c)){if(b.ARROW_LEFT.indexOf(c.keyCode)!==-1&&a._.sideGallery.getPrevImage())c.preventDefault(),a._.emitter.trigger("keyboardNav","prev");else if(b.ARROW_RIGHT.indexOf(c.keyCode)!==-1&&a._.sideGallery.getNextImage()){if(Imgur.Environment.hasAccess&&!Imgur.Environment.captionsEnabled)return!0;c.preventDefault(),a._.emitter.trigger("keyboardNav","next")}else if(b.ENTER.indexOf(c.keyCode)!==-1){var d=$(".jquery-image-zoom");if(d.length)d.click();else{var e=$(".post-image img");e.length&&e[0].click()}}else if(b.MINUS.indexOf(c.keyCode)!==-1&&a._.captionsEnabled){var f=$(".post-action-downvote");f.length&&!f.hasClass("red")&&humanMsg.displayMsg('<div class="favorited downvoted_msg"></div>',"action-msg");var g=new MouseEvent("mouseup",{view:window,bubbles:!0,cancelable:!0});f[0].dispatchEvent(g)}else if(b.PLUS.indexOf(c.keyCode)!==-1&&a._.captionsEnabled){var f=$(".post-action-upvote");f.length&&!f.hasClass("green")&&humanMsg.displayMsg('<div class="favorited upvoted_msg"></div>',"action-msg");var g=new MouseEvent("mouseup",{view:window,bubbles:!0,cancelable:!0});f[0].dispatchEvent(g)}else if(b.NINE.indexOf(c.keyCode)!==-1)a._.post?a._.post.loadAll():$(".post-loadall").click();else if(b.S.indexOf(c.keyCode)!==-1)$(".post-action-stats").click();else if(b.R.indexOf(c.keyCode)!==-1)a.reportBadAds();else if(b.ZERO.indexOf(c.keyCode)!==-1){var h=$(".post-action-favorite");h.length&&!h.hasClass("aqua")?humanMsg.displayMsg('<div class="favorited"></div>',"action-msg"):humanMsg.displayMsg('<div class="favorited unfavorited"></div>',"action-msg");var g=new MouseEvent("mouseup",{view:window,bubbles:!0,cancelable:!0});h[0].dispatchEvent(g)}return!0}return!0}},100)),this._.isRandom&&this._.elements.$randomButton.click(function(a){a.preventDefault(),self._.emitter.trigger("keyboardNav","next")})},getSideGallery:function(){return this._.sideGallery},forceScrollToCaption:function(){var a=document.location.hash.substr(1),b=parseInt(a,10);if(!isNaN(b)){var c=$("#caption-"+a);this.scrollToCaption(c)}},scrollToCaption:function(a){var b=a.offset().top;$("body").scrollTop(b);var c=a.find(".textbox").first();c.addClass("flash"),setTimeout(function(){c.removeClass("flash")},2e3)}}),Class.addSingleton(Imgur.InsideNav),Namespace("Imgur.Fullscreen"),Imgur.Fullscreen=Class.extend({init:function(a){this._=$.extend({signed:Imgur.getInstance()._.signed,el:{$fullscreenBox:$(".fullscreenBox"),$fullscreenLink:$(".album-fullscreen-link"),$userActionLinks:$(".userActionLinks"),$embed:$("#fullscreenEmbed")}},a),window.fullScreenApi&&fullScreenApi.supportsFullScreen&&this._.el.$embed.length&&(this._.signed&&(this._.el.$fullscreenBox.hide(),this._.el.$fullscreenBox=$(".fullscreenAlbumOptions"),this._.el.$fullscreenLink=$(".fullscreenAlbumOptions .album-fullscreen-link")),this._.el.$fullscreenLink.length&&(this._.el.$fullscreenLink.unbind("click"),this._.el.$fullscreenLink[0].removeEventListener("click",this.viewFullscreen),this._.el.$fullscreenLink[0].addEventListener("click",this.viewFullscreen,!0)),this._.el.$userActionLinks.hasClass("vertical")&&this._.el.$userActionLinks.css({"line-height":"22px",padding:"8px","font-size":"13px"}),this._.el.$embed.attr("src",""),this._.el.$fullscreenBox.show())},viewFullscreen:function(){var a=Imgur.Fullscreen.getInstance(),b=a._.el.$embed,c=b[0];if(a._.el.$embed.length){if(!a._.el.$embed.attr("src")||!a._.el.$embed.attr("src").length)return a._.el.$embed.attr("src","/a/"+Imgur.Album.getInstance()._.id+"/embed"),
$(a._.el.$embed[0].contentDocument).ready(a.viewFullscreen),void humanMsg.displayMsg("Starting fullscreen mode...")}else setTimeout(a.viewFullscreen,80);a._.el.$embed.show(),window.fullScreenApi.requestFullScreen(c),setTimeout(a.focusOverlayAfterOpen,99);var d=setInterval(function(){a.showOverlayIfOpen(d)},100),e=setInterval(function(){a.closeOverlayIfExited(e)},100)},focusOverlayAfterOpen:function(){var a=Imgur.Fullscreen.getInstance();fullScreenApi.isFullScreen()?(a._.el.$embed[0].contentWindow.focus(),$(a._.el.$embed[0].contentWindow).keydown(function(b){27==b.which&&a._.el.$embed.hide(),b.stopPropagation()})):(window.fullScreenApi.requestFullScreen(a._.el.$embed[0]),setTimeout(a.focusOverlayAfterOpen,200))},showOverlayIfOpen:function(a){var b=Imgur.Fullscreen.getInstance();b._.el.$embed.is(":visible")?clearInterval(a):b._.el.$embed.css({display:"block",opacity:"100%"})},closeOverlayIfExited:function(a){var b=Imgur.Fullscreen.getInstance();fullScreenApi.isFullScreen()||(b._.el.$embed.is(":visible")?b._.el.$embed.css({display:"none"}):clearInterval(a))}}),Class.addSingleton(Imgur.Fullscreen);var _extends=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},_createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),REACTION_STATE_COLLECTIONS="collections",REACTION_STATE_COLLECTION="collection",GRID_COLORS_LOADING=["#ffdd00","#1bb76e","#227efa","#4a58fb","#6432f9","#ec4081","#4366d0","#7b85f7","#fc6369","#f14768","#ff51ba","#2ccaff","#43d0bd","#20bee8","#ffd300","#ff7d00"],PROMO_COLLECTION_NAME="THE HAPPYTIME MURDERS",PROMO_COLLECTION={name:PROMO_COLLECTION_NAME,shortname:"the happytime murders",byline:"PROMOTED",preview:"xVU8xGU",promoted:!0},defaultCollectionState=[PROMO_COLLECTION,{name:"Hello",shortname:"hello",preview:"1eoMKhE"}],ReactionGifPickerHeader=function(a){function b(){return _classCallCheck(this,b),_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return _inherits(b,a),_createClass(b,[{key:"render",value:function(){return React.createElement("div",{className:"gifpicker-header"},React.createElement("div",{className:"gifpicker-header-content"},React.createElement("p",{className:"gifpicker-header-content-title"},"REACTION GIFs"),this.props.promoEnabled&&React.createElement("p",{className:"gifpicker-header-content-desc"},"Brought to you by",React.createElement("br",null),"THE HAPPYTIME MURDERS")))}}]),b}(React.Component);Imgur.ReactionGifPickerHeader=ReactionGifPickerHeader;var ReactionGifPickerCollectionItem=function(a){function b(){var a,c,d,e;_classCallCheck(this,b);for(var f=arguments.length,g=Array(f),h=0;h<f;h++)g[h]=arguments[h];return c=d=_possibleConstructorReturn(this,(a=b.__proto__||Object.getPrototypeOf(b)).call.apply(a,[this].concat(g))),d.showCollection=function(){var a=d.props,b=a.shortname,c=a.name,e=!!d.props.promoted;Imgur&&Imgur.Util&&Imgur.Util.jafoLog&&Imgur.Util.jafoLog({event:"searchTerm",meta:{query:b,searchLocation:"commentCreation",promoted:e}}),d.props.fetchCollection({shortname:b,name:c,promoted:e})},e=c,_possibleConstructorReturn(d,e)}return _inherits(b,a),_createClass(b,[{key:"render",value:function(){var a=this,b={backgroundImage:"linear-gradient("+getColorByPostIndex(this.props.index)+", #2e3035)"},c="https:"+Imgur.Environment.cdnUrl+"/"+this.props.preview,d=c+"_lq.mp4";return React.createElement("div",{ref:function(b){return a.collection=b},className:"gifpicker-collection",onClick:this.showCollection},React.createElement("video",{style:b,className:"gifpicker-collectionBackground",autoPlay:!0,preload:"none",loop:!0,playsInline:!0},React.createElement("source",{type:"video/mp4",src:d})),React.createElement("h2",{className:"gifpicker-collectionName"},this.props.name,this.props.promoted&&React.createElement("span",{className:"gifpicker-collectionByLine"},this.props.byline)))}}]),b}(React.Component);Imgur.ReactionGifPickerCollectionItem=ReactionGifPickerCollectionItem;var ReactionGifPickerCollections=function(a){function b(){return _classCallCheck(this,b),_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return _inherits(b,a),_createClass(b,[{key:"render",value:function(){var a=this.props.fetchCollection;return React.createElement("div",{className:"gifpicker-body"},this.props.collections.map(function(b,c){return React.createElement(ReactionGifPickerCollectionItem,_extends({key:b.shortname},{fetchCollection:a,index:c},b))}))}}]),b}(React.Component);Imgur.ReactionGifPickerCollections=ReactionGifPickerCollections;var ReactionGifPickerCollectionsLoader=function(a){function b(){return _classCallCheck(this,b),_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return _inherits(b,a),_createClass(b,[{key:"render",value:function(){for(var a=[],b=0;b<10;b++)a.push(React.createElement("div",{className:"gifpicker-collection",key:"CollectionsLoaderItem-"+b,style:{backgroundImage:"linear-gradient("+getColorByPostIndex(b)+", #2e3035)"}}));return React.createElement("div",{className:"gifpicker-body"},a)}}]),b}(React.Component);Imgur.ReactionGifPickerCollectionsLoader=ReactionGifPickerCollectionsLoader;var ReactionGifImage=function(a){function b(){var a,c,d,e;_classCallCheck(this,b);for(var f=arguments.length,g=Array(f),h=0;h<f;h++)g[h]=arguments[h];return c=d=_possibleConstructorReturn(this,(a=b.__proto__||Object.getPrototypeOf(b)).call.apply(a,[this].concat(g))),d.selectImage=function(a){Imgur&&Imgur.Util&&Imgur.Util.jafoLog&&Imgur.Util.jafoLog({event:"searchResultSelected",meta:{imageHash:d.props.id,hash:d.props.postHash,query:d.props.activeCollectionShortname,searchLocation:"commentCreation",promoted:d.props.promoted}}),d.props.handleImageSelection(a)},e=c,_possibleConstructorReturn(d,e)}return _inherits(b,a),_createClass(b,[{key:"render",value:function(){var a=this,b="https:"+Imgur.Environment.cdnUrl+"/"+this.props.id,c=b+".gif",d=b+"_lq.mp4",e={height:this.props.gifHeight};return React.createElement("div",{ref:function(b){return a.image=b},style:e,className:"gifpicker-image",onClick:function(){return a.selectImage(c)}},React.createElement("video",{autoPlay:!0,preload:"none",loop:!0,playsInline:!0,height:this.props.gifHeight,width:"142"},React.createElement("source",{type:"video/mp4",src:d})))}}]),b}(React.Component);Imgur.ReactionGifImage=ReactionGifImage;var ReactionGifPickerCollectionList=function(a){function b(){return _classCallCheck(this,b),_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return _inherits(b,a),_createClass(b,[{key:"render",value:function(){var a=this.props.images.slice(0,this.props.gifsToLoad).reduce(b.reduceToGrid,_.extend({},{colTotalHeights:[0,0],cols:[]},this.props)),c=a.cols;return React.createElement("div",{className:"gifpicker-body gifpicker-collectionBody"},c.map(function(a){return React.createElement("div",null,a)}),this.props.children)}}],[{key:"reduceToGrid",value:function(a,b,c){for(var d=a.colTotalHeights,e=a.postHash,f=a.handleImageSelection,g=a.promoted,h=a.activeCollectionShortname,i=d.length,j=0,k=Number.POSITIVE_INFINITY,l=142,m=l/b.width,n=b.height*m,o=0;o<i;o++)d[o]<k&&(j=o,k=d[o]);return a.cols[j]||(a.cols[j]=[]),a.cols[j].push(React.createElement(ReactionGifImage,_extends({activeCollectionShortname:h,postHash:e,key:b.id,gifHeight:n,promoted:g},{handleImageSelection:f,index:c},b))),a.colTotalHeights[j]=k+n,a}}]),b}(React.Component);Imgur.ReactionGifPickerCollectionList=ReactionGifPickerCollectionList;var ReactionGifPickerCollectionHeader=function(a){function b(){var a,c,d,e;_classCallCheck(this,b);for(var f=arguments.length,g=Array(f),h=0;h<f;h++)g[h]=arguments[h];return c=d=_possibleConstructorReturn(this,(a=b.__proto__||Object.getPrototypeOf(b)).call.apply(a,[this].concat(g))),d.isPromoCollectionActive=function(a){return d.props.promoEnabled&&PROMO_COLLECTION_NAME===a},e=c,_possibleConstructorReturn(d,e)}return _inherits(b,a),_createClass(b,[{key:"render",value:function(){var a=this,b=classNames({"gifpicker-collectionHeaderText":!0,"gifpicker-collectionHeaderText--Promo":this.isPromoCollectionActive(this.props.activeCollectionName)});return React.createElement("div",{className:"gifpicker-collectionHeader"},React.createElement("div",{ref:function(b){return a.backButton=b},className:"gifpicker-backButton",onClick:this.props.backToCollections},React.createElement(ArrowIcon,{color:this.isPromoCollectionActive(this.props.activeCollectionName)?"#ff3b5c":"#fff"})),React.createElement("h1",{className:b},this.props.activeCollectionName))}}]),b}(React.Component);Imgur.ReactionGifPickerCollectionHeader=ReactionGifPickerCollectionHeader;var DEFAULT_NUM_GIFS_IN_PICKER=10,NUM_GIFS_TO_ADD_TO_PICKER=5,ReactionGifPicker=function(a){function b(a){_classCallCheck(this,b);var c=_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.state={gifsToLoad:DEFAULT_NUM_GIFS_IN_PICKER},c.handleOnScrollCollection=_.throttle(c.handleOnScrollCollection.bind(c),50,{leading:!0,trailing:!0}),c}return _inherits(b,a),_createClass(b,[{key:"componentDidUpdate",value:function(a,b){a.mode!==this.props.mode&&this.setState({gifsToLoad:DEFAULT_NUM_GIFS_IN_PICKER})}},{key:"componentDidMount",value:function(){this.props.fetchReactionCollections()}},{key:"handleOnScrollCollection",value:function(){if(this.props.mode!==REACTION_STATE_COLLECTIONS&&this.triggerScroll&&this.gifpicker){var a=this.triggerScroll.getBoundingClientRect().top,b=this.gifpicker.getBoundingClientRect().bottom,c=this.props.activeCollectionItemsFetched<=this.state.gifsToLoad;if(c&&a-200<b)this.props.fetchCollection();else if(!c&&a-300<b){var d=this.state.gifsToLoad+NUM_GIFS_TO_ADD_TO_PICKER;this.setState({gifsToLoad:Math.min(d,this.props.activeCollectionItemsFetched)})}}}},{key:"render",value:function(){var a=this,b="400px",c=classNames({gifpicker:!0,"promo-gifpicker":this.props.promoEnabled});return React.createElement("div",{className:c,onScroll:this.handleOnScrollCollection,ref:function(b){return a.gifpicker=b}},React.createElement(ReactionGifPickerHeader,this.props),this.props.error&&React.createElement("p",{className:"gifpicker-error center"},this.props.error),React.createElement(Imgur.Nanoscroll,{key:"reaction-nanoscroller",options:{preventPageScrolling:!0},contentClassNames:"scroll-content",contentStyle:{height:b},nanoStyle:{height:b}},React.createElement("div",{className:"gifpicker-body-container"},this.props.mode===REACTION_STATE_COLLECTIONS&&React.createElement("div",null,this.props.loading&&React.createElement(ReactionGifPickerCollectionsLoader,null),!this.props.loading&&React.createElement(ReactionGifPickerCollections,{collections:this.props.collections,fetchCollection:this.props.fetchCollection})),this.props.mode===REACTION_STATE_COLLECTION&&React.createElement("div",null,React.createElement(ReactionGifPickerCollectionHeader,this.props),React.createElement(ReactionGifPickerCollectionList,{gifsToLoad:this.state.gifsToLoad,postHash:this.props.postHash,promoted:this.props.promoted,images:this.props.activeCollection,activeCollectionShortname:this.props.activeCollectionShortname,handleImageSelection:this.props.handleImageSelection},!this.props.loading&&this.props.activeCollectionPagingEnabled&&React.createElement("div",{key:"loader",style:{height:50},ref:function(b){return a.triggerScroll=b}}))))))}}]),b}(React.Component);Imgur.ReactionGifPicker=ReactionGifPicker;var ReactionGifPickerContainer=function(a){function b(){var a,c,d,e;_classCallCheck(this,b);for(var f=arguments.length,g=Array(f),h=0;h<f;h++)g[h]=arguments[h];return c=d=_possibleConstructorReturn(this,(a=b.__proto__||Object.getPrototypeOf(b)).call.apply(a,[this].concat(g))),d.state={mode:REACTION_STATE_COLLECTIONS,collections:d.props.promoEnabled?defaultCollectionState:[],promoted:!1,loading:!0,error:"",activeCollection:[],activeCollectionName:"",activeCollectionShortname:"",activeCollectionPagingEnabled:!0,activeCollectionItemsFetched:0,activeCollectionParams:{q:"",page:0}},d.fetchReactionCollections=function(){var a=d.getCollectionsApiEndpoint()+d.getEndpointParameters();fetch(a).then(function(a){if(200===a.status)return a.json();throw new Error(a.statusText)}).then(function(a){d.setState({loading:!1,collections:d.state.collections.concat(a.data),mode:REACTION_STATE_COLLECTIONS,error:""},d.handleOnScrollCollection)})["catch"](function(a){d.setState({loading:!1,error:"There was an error getting reactions",mode:REACTION_STATE_COLLECTIONS})})},d.fetchReactionCollection=function(a){var b=d.state.activeCollectionParams,c={mode:REACTION_STATE_COLLECTION,loading:!0};a&&(b=Object.assign(b,{q:a.shortname}),c.activeCollectionName=a.name,c.activeCollectionShortname=a.shortname,c.promoted=a.promoted);var e=d.getSearchFullApiEndpoint()+d.getEndpointParameters(b);d.setState(c),fetch(e).then(function(a){if(200===a.status)return a.json();throw new Error(a.statusText)}).then(function(c){a&&a.shortname!==c.data.query||d.setState({loading:!1,activeCollection:d.state.activeCollection.concat(c.data.images),error:"",activeCollectionItemsFetched:d.state.activeCollectionItemsFetched+c.data.images.length,activeCollectionPagingEnabled:c.data.images.length>0,activeCollectionParams:Object.assign({page:d.state.activeCollectionParams.page++},b)})})["catch"](function(a){d.setState({loading:!1,activeCollectionParams:b,error:"There was an error finding images"})})},d.resetCollectionMode=function(){d.setState({mode:REACTION_STATE_COLLECTIONS,activeCollection:[],activeCollectionName:"",activeCollectionShortname:"",activeCollectionItemsFetched:0,error:"",activeCollectionPagingEnabled:!0,activeCollectionParams:{q:"",page:0},imageSelected:!1})},d.handleImageSelection=function(a){d.setState({imageSelected:!0},function(){d.props.handleImageSelection(a)})},e=c,_possibleConstructorReturn(d,e)}return _inherits(b,a),_createClass(b,[{key:"componentWillUnmount",value:function(){this.state.imageSelected||Imgur.Util.jafoLog({event:"searchResultCancelled",meta:{searchLocation:"commentCreation",query:this.state.activeCollectionShortname}})}},{key:"getReactionApiBaseUrl",value:function(){return Imgur.Environment.apiUrl+"/3/reaction"}},{key:"getCollectionsApiEndpoint",value:function(){return this.getReactionApiBaseUrl()+"/collections"}},{key:"getSearchFullApiEndpoint",value:function(){return this.getReactionApiBaseUrl()+"/search_full"}},{key:"getEndpointParameters",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"?client_id="+Imgur.Environment.apiClientId+"&"+$.param(a)}},{key:"render",value:function(){var a={fetchReactionCollections:this.fetchReactionCollections,fetchCollection:_.debounce(this.fetchReactionCollection.bind(this),100,{leading:!0,trailing:!0}),backToCollections:this.resetCollectionMode,loading:this.state.loading,error:this.state.error,collections:this.state.collections,activeCollection:this.state.activeCollection,activeCollectionName:this.state.activeCollectionName,activeCollectionShortname:this.state.activeCollectionShortname,activeCollectionItemsFetched:this.state.activeCollectionItemsFetched,mode:this.state.mode,promoted:this.state.promoted,handleImageSelection:this.handleImageSelection,activeCollectionPagingEnabled:this.state.activeCollectionPagingEnabled,postHash:this.props.postHash,promoEnabled:this.props.promoEnabled};return React.createElement(ReactionGifPicker,a)}}]),b}(React.Component);Imgur.ReactionGifPickerContainer=ReactionGifPickerContainer,Namespace("Imgur.Caption.Reply"),Imgur.Caption.Reply=React.createClass({displayName:"Reply",propTypes:{image:React.PropTypes.object.isRequired,parentId:React.PropTypes.number,parentAuthorId:React.PropTypes.number,autofocus:React.PropTypes.bool,onSuccess:React.PropTypes.func,closeReply:React.PropTypes.func,imagePreviewEnabled:React.PropTypes.bool},contextTypes:{msid:React.PropTypes.string.isRequired,onSubmit:React.PropTypes.func.isRequired},getDefaultProps:function(){return{maxLength:140,autofocus:!1,imagePreviewEnabled:!0}},getInitialState:function(){return{text:"",imageLinks:[],error:"",showingLoader:!1,showReactionGifPicker:!1}},componentDidMount:function(){$(this.refs.textarea).autoResize({animate:!1,extraSpace:0}),$(this.refs.gifButton).tipsy({opacity:.95,gravity:$.fn.tipsy.autoNS,fade:!0}),this.props.autofocus&&this.refs.textarea.focus()},getValue:function(){return $.trim(this.state.text)},handleSubmit:function(a){a.preventDefault(),a.stopPropagation(),this._submit()},handleEmailNotVerifiedError:function(){$.colorbox({href:"/lightboxes/verifyemail",open:!0,iframe:!0,top:"15%",transition:"none",scrolling:!1,innerWidth:"520px",innerHeight:"256px",onComplete:_.bind(function(){$.get("/ajax/send_email_verification"),checkEmailVerification("",this.handleShare)},this)})},handleError:function(a){var b=_.isObject(a.responseJSON)?a.responseJSON:a;if(b&&"data"in b&&"error"in b.data&&"message"in b.data.error){var c=b.data.error.message;"NotVerified"===c?this.handleEmailNotVerifiedError():this.setState({error:c})}else this.setState({error:"An unknown error occurred."})},getLength:function(a){var b=/((?:[\0-\u02FF\u0370-\u0482\u048A-\u0590\u05BE\u05C0\u05C3\u05C6\u05C8-\u060F\u061B-\u064A\u0660-\u066F\u0671-\u06D5\u06DD\u06DE\u06E5\u06E6\u06E9\u06EE-\u0710\u0712-\u072F\u074B-\u07A5\u07B1-\u07EA\u07F4-\u07FC\u07FE-\u0815\u081A\u0824\u0828\u082E-\u0858\u085C-\u08D2\u08E2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0964-\u0980\u0984-\u09BB\u09BD\u09C5\u09C6\u09C9\u09CA\u09CE-\u09D6\u09D8-\u09E1\u09E4-\u09FD\u09FF\u0A00\u0A04-\u0A3B\u0A3D\u0A43-\u0A46\u0A49\u0A4A\u0A4E-\u0A50\u0A52-\u0A6F\u0A72-\u0A74\u0A76-\u0A80\u0A84-\u0ABB\u0ABD\u0AC6\u0ACA\u0ACE-\u0AE1\u0AE4-\u0AF9\u0B00\u0B04-\u0B3B\u0B3D\u0B45\u0B46\u0B49\u0B4A\u0B4E-\u0B55\u0B58-\u0B61\u0B64-\u0B81\u0B83-\u0BBD\u0BC3-\u0BC5\u0BC9\u0BCE-\u0BD6\u0BD8-\u0BFF\u0C05-\u0C3D\u0C45\u0C49\u0C4E-\u0C54\u0C57-\u0C61\u0C64-\u0C80\u0C84-\u0CBB\u0CBD\u0CC5\u0CC9\u0CCE-\u0CD4\u0CD7-\u0CE1\u0CE4-\u0CFF\u0D04-\u0D3A\u0D3D\u0D45\u0D49\u0D4E-\u0D56\u0D58-\u0D61\u0D64-\u0D81\u0D84-\u0DC9\u0DCB-\u0DCE\u0DD5\u0DD7\u0DE0-\u0DF1\u0DF4-\u0E30\u0E32\u0E33\u0E3B-\u0E46\u0E4F-\u0EB0\u0EB2\u0EB3\u0EBA\u0EBD-\u0EC7\u0ECE-\u0F17\u0F1A-\u0F34\u0F36\u0F38\u0F3A-\u0F3D\u0F40-\u0F70\u0F85\u0F88-\u0F8C\u0F98\u0FBD-\u0FC5\u0FC7-\u102A\u103F-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u109E-\u135C\u1360-\u1711\u1715-\u1731\u1735-\u1751\u1754-\u1771\u1774-\u17B3\u17D4-\u17DC\u17DE-\u180A\u180E-\u1884\u1887-\u18A8\u18AA-\u191F\u192C-\u192F\u193C-\u1A16\u1A1C-\u1A54\u1A5F\u1A7D\u1A7E\u1A80-\u1AAF\u1ABF-\u1AFF\u1B05-\u1B33\u1B45-\u1B6A\u1B74-\u1B7F\u1B83-\u1BA0\u1BAE-\u1BE5\u1BF4-\u1C23\u1C38-\u1CCF\u1CD3\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1CFA-\u1DBF\u1DFA\u1E00-\u20CF\u20F1-\u2CEE\u2CF2-\u2D7E\u2D80-\u2DDF\u2E00-\u3029\u3030-\u3098\u309B-\uA66E\uA673\uA67E-\uA69D\uA6A0-\uA6EF\uA6F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA828-\uA87F\uA882-\uA8B3\uA8C6-\uA8DF\uA8F2-\uA8FE\uA900-\uA925\uA92E-\uA946\uA954-\uA97F\uA984-\uA9B2\uA9C1-\uA9E4\uA9E6-\uAA28\uAA37-\uAA42\uAA44-\uAA4B\uAA4E-\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2-\uAAEA\uAAF0-\uAAF4\uAAF7-\uABE2\uABEB\uABEE-\uD7FF\uE000-\uFB1D\uFB1F-\uFDFF\uFE10-\uFE1F\uFE30-\uFFFF]|\uD800[\uDC00-\uDDFC\uDDFE-\uDEDF\uDEE1-\uDF75\uDF7B-\uDFFF]|[\uD801\uD808-\uD819\uD81C-\uD82E\uD830-\uD833\uD835\uD837\uD839\uD83B-\uDB3F\uDB41-\uDBFF][\uDC00-\uDFFF]|\uD802[\uDC00-\uDE00\uDE04\uDE07-\uDE0B\uDE10-\uDE37\uDE3B-\uDE3E\uDE40-\uDEE4\uDEE7-\uDFFF]|\uD803[\uDC00-\uDD23\uDD28-\uDF45\uDF51-\uDFFF]|\uD804[\uDC03-\uDC37\uDC47-\uDC7E\uDC83-\uDCAF\uDCBB-\uDCFF\uDD03-\uDD26\uDD35-\uDD44\uDD47-\uDD72\uDD74-\uDD7F\uDD83-\uDDB2\uDDC1-\uDDC8\uDDCD-\uDE2B\uDE38-\uDE3D\uDE3F-\uDEDE\uDEEB-\uDEFF\uDF04-\uDF3A\uDF3D\uDF45\uDF46\uDF49\uDF4A\uDF4E-\uDF56\uDF58-\uDF61\uDF64\uDF65\uDF6D-\uDF6F\uDF75-\uDFFF]|\uD805[\uDC00-\uDC34\uDC47-\uDC5D\uDC5F-\uDCAF\uDCC4-\uDDAE\uDDB6\uDDB7\uDDC1-\uDDDB\uDDDE-\uDE2F\uDE41-\uDEAA\uDEB8-\uDF1C\uDF2C-\uDFFF]|\uD806[\uDC00-\uDC2B\uDC3B-\uDE00\uDE0B-\uDE32\uDE3A\uDE3F-\uDE46\uDE48-\uDE50\uDE5C-\uDE89\uDE9A-\uDFFF]|\uD807[\uDC00-\uDC2E\uDC37\uDC40-\uDC91\uDCA8\uDCB7-\uDD30\uDD37-\uDD39\uDD3B\uDD3E\uDD46\uDD48-\uDD89\uDD8F\uDD92\uDD98-\uDEF2\uDEF7-\uDFFF]|\uD81A[\uDC00-\uDEEF\uDEF5-\uDF2F\uDF37-\uDFFF]|\uD81B[\uDC00-\uDF50\uDF7F-\uDF8E\uDF93-\uDFFF]|\uD82F[\uDC00-\uDC9C\uDC9F-\uDFFF]|\uD834[\uDC00-\uDD64\uDD6A-\uDD6C\uDD73-\uDD7A\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDE41\uDE45-\uDFFF]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85-\uDE9A\uDEA0\uDEB0-\uDFFF]|\uD838[\uDC07\uDC19\uDC1A\uDC22\uDC25\uDC2B-\uDFFF]|\uD83A[\uDC00-\uDCCF\uDCD7-\uDD43\uDD4B-\uDFFF]|\uDB40[\uDC00-\uDCFF\uDDF0-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))((?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDF46-\uDF50]|\uD804[\uDC00-\uDC02\uDC38-\uDC46\uDC7F-\uDC82\uDCB0-\uDCBA\uDD00-\uDD02\uDD27-\uDD34\uDD45\uDD46\uDD73\uDD80-\uDD82\uDDB3-\uDDC0\uDDC9-\uDDCC\uDE2C-\uDE37\uDE3E\uDEDF-\uDEEA\uDF00-\uDF03\uDF3B\uDF3C\uDF3E-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC35-\uDC46\uDC5E\uDCB0-\uDCC3\uDDAF-\uDDB5\uDDB8-\uDDC0\uDDDC\uDDDD\uDE30-\uDE40\uDEAB-\uDEB7\uDF1D-\uDF2B]|\uD806[\uDC2C-\uDC3A\uDE01-\uDE0A\uDE33-\uDE39\uDE3B-\uDE3E\uDE47\uDE51-\uDE5B\uDE8A-\uDE99]|\uD807[\uDC2F-\uDC36\uDC38-\uDC3F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD8A-\uDD8E\uDD90\uDD91\uDD93-\uDD97\uDEF3-\uDEF6]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF51-\uDF7E\uDF8F-\uDF92]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uDB40[\uDD00-\uDDEF])+)/g,c=a.replace(b,function(a,b,c){return b});return punycode.ucs2.decode(c).length},_submit:function(){var a=this.getLength(this.state.text);if(!(0===a||a>this.props.maxLength)){var b={parent_id:this.props.parentId,parent_author:this.props.parentAuthorId,caption:this.state.text,sid:this.context.msid,gallery:Imgur.Gallery.getInstance().getGalleryMetadata()};Imgur.Environment.signed||(Imgur.getInstance().signin("commentAttempt"),b.redirect=!0),this.setState({showingLoader:!0});var c=$.ajax({url:"/gallery/action/caption/"+this.props.image.hash,type:"POST",data:b});c.always(_.bind(function(){this.setState({showingLoader:!1})},this)),Imgur.Util.jafoLog({event:"commentSubmissionButton",meta:{parentId:this.props.parentId||null,hash:this.props.image.hash}}),Imgur.Environment.signed&&(c.done(_.bind(function(a){if(a.success){var b=_.map(document.querySelectorAll(".post-tag-link"),function(a){return a.innerText}),c=Imgur.UserStatistics.getInstance();c.emitActionUserAddedComment(b),a.data.caption.just_inserted=!0,this.props.onSuccess(),Imgur.Caption.getInstance().mergeCaptions(a.data.caption.hash,[a.data.caption]);var d={caption_id:a.data.caption.id,vote:"up"};Imgur.Caption.getInstance().mergeVotes(a.data.caption.hash,[d]),this.context.onSubmit(a.data.caption)}else this.handleError(a)},this)),c.fail(_.bind(this.handleError,this)))}},handleTextChanged:function(a){var b={text:a.target.value};this.props.imagePreviewEnabled&&(b.imageLinks=this.handleImagePreviewUpdate(a.target.value)),this.setState(b)},handleImagePreviewUpdate:function(a){const b=new Imgur.Linkify.CommentImageGrabber(Imgur.Environment.host,Imgur.Environment.cdnUrl);var c=b.scan(a);return 0===c.length?[]:c.map(function(b){return a.slice(b.begin,b.end+1)})},handleClick:function(a){a.stopPropagation(),this.refs.textarea.focus()},handleKeyDown:function(a){13===a.keyCode?(a.preventDefault(),this._submit()):27===a.keyCode&&this.refs.textarea.blur()},handleReactionGifSelection:function(a){var b=this.refs.textarea.value,c="";b.length&&" "!==b[b.length]&&(c=" ");var d={target:{value:b+c+a}};this.handleTextChanged(d),this.toggleShowReactionGifPicker()},getImagePreview:function(){if(0===this.state.imageLinks.length)return"";var a,b=this.state.imageLinks[0],c=b.match(/\.(gifv|mp4|webm)$/);return c?(".gifv"===c[0]&&(b=b.replace(".gifv",".mp4")),a=React.DOM.video({src:b,autoPlay:!0,muted:!0,loop:!0,className:"commentImagePreview-image"})):a=React.DOM.img({src:b,className:"commentImagePreview-image"}),React.DOM.div({className:"commentImagePreview relative display-inline-block"},a,React.DOM.div({className:"commentImagePreview-close",onClick:this.removePreview},React.DOM.img({src:Imgur.Environment.staticUrl+"/images/icons/close-outline.svg",className:"left"})))},removePreview:function(){var a=this.state.imageLinks[0];this.setState({text:this.state.text.replace(a,"").replace("  "," "),imageLinks:this.state.imageLinks.slice(1)})},toggleShowReactionGifPicker:function(){this.setState({showReactionGifPicker:!this.state.showReactionGifPicker},_.bind(function(){this.state.showReactionGifPicker?$("body").on("click",this.handleBodyClick):$("body").off("click",this.handleBodyClick)},this))},handleReactionGifButtonClick:function(a){a.stopPropagation(),Imgur.Util.jafoLog({event:"commentReactInitiate",meta:{hash:this.props.image.hash}}),this.toggleShowReactionGifPicker()},handleBodyClick:function(a){$.contains($(".gifpicker").get(0),a.target)||(a.stopPropagation(),this.setState({showReactionGifPicker:!1},_.bind(function(){$("body").off("click",this.handleBodyClick)},this)))},handleReactionGifClick:function(a){a.stopPropagation()},componentWillUnmount:function(){$(this.refs.gifButton).unbind("mouseenter mouseleave")},render:function(){var a=this.props.maxLength-this.getLength(this.state.text),b=classNames,c=b({"caption-create":!0,loading:this.state.showingLoader,"counter-exceeded":a<0});return React.DOM.form({className:c,onClick:this.handleClick,onSubmit:this.handleSubmit},React.DOM.span({className:"icon-x right pointer",onClick:this.props.onClose}),React.DOM.textarea({ref:"textarea",className:"commentForm",onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onChange:this.handleTextChanged,onFocus:this.handleFocus,placeholder:"Write a comment",value:this.state.text}),this.getImagePreview(),this.state.error.length>0?React.DOM.div({className:"error"},this.state.error):"",React.DOM.div({className:"summary"},React.DOM.input({ref:"submitCommentBtn",value:"Post",type:"submit",id:"submit-comment",className:"right btn btn-main",disabled:a==this.props.maxLength||a<0?"disabled":""}),React.DOM.div({className:"right comment-gif-container",onClick:this.handleReactionGifClick},React.DOM.button({type:"button",id:"comment-gif",ref:"gifButton",className:"title btn btn-main right",onClick:this.handleReactionGifButtonClick,title:"Add reaction GIF"},"GIF"),this.state.showReactionGifPicker&&React.createElement(Imgur.ReactionGifPickerContainer,{handleImageSelection:this.handleReactionGifSelection,postHash:this.props.image.hash,promoEnabled:Imgur.Environment.gifPromoEnabled},null)),React.DOM.a({className:"rules left",href:"/rules",target:"_blank"},"remember the community rules"),React.DOM.div({className:"counter right"},a)))}}),Namespace("Imgur.Gallery"),Imgur.Gallery=Imgur.extend({init:function(a,b,c){return $.extend(this.settings,b),this._=_.merge({sid:b.sid,auth:b.auth||{},signed:!1,cdnURL:b.cdnUrl,baseURL:b.baseURL,sort:"hot",section:null,window:"day",page:0,maxPage:0,jafoPage:0,hash:null,nextHash:null,prevHash:null,showPast:!0,commentName:"comment",comment_sort:"best",indexName:"gallery",searchQuery:null,account_url:null,emitter:a,mobile:!1,isRandom:!1,gallery_type:null,tagsCookie:"tags",isIPad:navigator.userAgent.match(/iPad/i),history:c,el:{arrows:$(".arrow-up, .arrow-down"),randomButton:$(".random-button"),outside:{pageDivider:"#imagelist .page-divider",noMorePagesID:"#nomore",tagLoaderClass:".outside-loader",loaderID:".imagelist-loader",extendedImagelist:"#extended-imagelist",loadMoreID:"#load-more",$sortOptions:$(".sentence-sorting .options a"),content:$("#imagelist"),messagebox:$("#messagebox"),comboboxes:$(".combobox"),$toggleViral:$("#showviral"),$toggleUserSub:$("#showusersub"),galleryNewInfo:{id:"#gallery-new-info",$okay:$("#gallery-new-info-okay"),$no:$("#gallery-new-info-decline")}},inside:{reportImageLink:$("#report-image"),$shareTabButton:$(".button-container .share"),$optionsButton:$(".button-container .options-btn"),$shareLink:$(".button-container .share-link"),counter:null,image:$(".image"),zoom:$(".zoom"),submitCaptionButton:$(".submit-caption-button"),commentExpand:$("#expand-comments"),comboboxes:$(".combobox"),commentSort:$("#comment-sort"),$comments:$("#captions"),reCaptionLink:$("#meme-image"),downloadAlbumForm:{id:"#download-album-form",emailInput:$("#download-album-form #email"),form:$("#download-album-form #download-form"),message:$("#message"),save:$("#download-album-form #save"),loader:$("#download-loader")}},user:{notorietyLink:$("#notoriety-link"),notorietyList:$("#notoriety-list"),buttonComments:$(".button.comments"),buttonFavorites:$(".button.likes"),buttonSubmitted:$(".button.submitted"),buttonReplies:$(".button.replies"),captions:$("#captions"),favorites:$("#likes"),loader:$("#loader"),pmButton:$("#pm-button"),pmWrapper:$("#pm-wrapper"),pmBody:$("#pm-wrapper textarea"),pmSendButton:$("#pm-send-button"),pmForm:$("#pm-wrapper form"),pmSent:$("#pm-sent"),updateLevelTable:$("#update-level-table"),$carousel:$("#thumbs-top")},past:{wrapper:$("#past-wrapper"),previewContent:$("#past-preview"),loader:$("#past-loader"),link:$("#past-link"),slider:$("#slider"),days:$("#days"),ticker:$("#slider-wrapper .ticker"),
positiveTickClass:"positive",negativeTickClass:"negative",submitButton:$("#past-submit"),calendar:$("#past-calendar")},colorboxConfirmForm:{id:"#colorbox-confirm",title:$("#colorbox-confirm h3"),message:$("#colorbox-confirm-message"),yes:$("#colorbox-confirm-yes"),no:$("#colorbox-confirm-no"),loader:$("#colorbox-confirm .small-loader")},embedAlbumForm:Imgur.Utilities.Embed.elEmbedAlbumForm(),colorboxEmbed:Imgur.Utilities.Embed.elColorboxEmbed(),search:{$headerSearch:$(".search-container"),$headerSearchInput:$('.search-container input[name="q"]'),$advanced:$("#search_advanced"),$advancedForm:$("#search_advanced form"),$advancedAllInput:$('#search_advanced form input[name="q_all"]'),imageCard:".posts-search .post-list, .posts-search .post",$container:$("#imagelist"),size:"#q_size",$sizePx:$('input[name="q_size_px"]'),$sizeMpx:$('input[name="q_size_mpx"]'),$sizeFmt:$('input[name="q_size_fmt"]'),$sizeToggle:$("#q_size_is_mpx"),$pxCombo:$("#size_in_px"),$mpxCombo:$("#size_in_mpx")},side:{links:$("#fixed-side-footer-links"),imagePanels:$(".imagelist-panels")},adm:{$addTag:$("#adm-add-gallery-tag")}},vars:{pastPage:0,scrolledPage:0,scrolledImageSet:0,pastTickerTimer:null,currentTheme:"dark"},messages:null,undoDelay:4e3},b),this._super(this._),this._},getEmitter:function(){return this._.emitter},getCacheValue:function(){var a="";return $("script[type*=javascript]").each(function(){if(this.src){var b=this.src.split("?"),c=$.trim(b[0].split("/").pop());if("gallery.js"==c)return void(a=b[1])}}),a},isNumberKey:function(a){var b=a.which?a.which:a.keyCode;return!(b>31&&(b<48||b>57))},ungallery:function(a){humanMsg.displayMsg("Working...");var b={hash:a,type:"gallery",kill:"true",sid:this._.sid};$.post("/adm/removals/delete",b,function(){humanMsg.displayMsg("Image was removed from the gallery")})},"delete":function(a){humanMsg.displayMsg("Working...");var b={hash:a,type:"gallery",kill:"true",sid:this._.sid};$.post("/adm/removals/delete",b,function(){humanMsg.displayMsg("Post was deleted")})},spamPost:function(a){humanMsg.displayMsg("Working...");var b=this._.baseURL+"/action/remove_image/"+a,c={remove:!0,sid:this._.sid};$.post(b,c,function(){humanMsg.displayMsg("Image was marked as spam")})},mature:function(a){humanMsg.displayMsg("Working...");var b=this._.baseURL+"/action/mature_image/"+a,c={sid:this._.sid};$.post(b,c,_.bind(function(){humanMsg.displayMsg("Image was marked mature")},this))},ban:function(a,b){var c;""!=this._.account_url&&(c={account_url:a,type:"main",sid:this._.sid,offending_url:b},$.post("/adm/removals/ban",c,_.bind(function(b){var d="The ban hammer hit "+a+" successfully for "+c.offending_url;humanMsg.displayMsg(d)},this)))},obfuscate:function(a){$.post("/adm/obfuscate",{hash:a,sid:this._.sid},_.bind(function(a){humanMsg.displayMsg("Post has been obfuscated")},this))},spam:function(a,b){""!=a&&(postParams={account_url:a,type:"gallery",hash:b,sid:this._.sid},$.post("/adm/removals/markspammer",postParams,_.bind(function(){humanMsg.displayMsg(this._.account_url+" has been spammed")},this)))},warn:function(a){var b=window.location.href;""!=this._.account_url&&$.post("/adm/removals/warn",{account_url:a,data:b,sid:this._.sid},_.bind(function(){humanMsg.displayMsg(a+" has been warned")},this))},ncmec:function(a){""!=this._.account_url&&(postParms={hash:a,is_album:this._.image.is_album,sid:this._.sid},$.post("/adm/ncmec/report",postParms,_.bind(function(a){humanMsg.displayMsg("Post has been queued for NCMEC reporting and removal")},this)))},trophy:function(a){var b,c,d=$(a.target),e=d.attr("data-type"),f=d.text(),g=d.val(),h=this.imgurInsideNav.getCurrentImage();if("comment"===e){if(b=document.location.pathname.match(/^\/gallery\/[^\/]+\/comment\/([0-9]+)\/?/),!b)return void humanMsg.displayMsg("Please visit a comment permalink to award that.","error-msg");c={comment_id:b[1]}}if("image"===e&&h.account_url){if(!/^\/(gallery\/[^\/]+|topic\/[a-zA-Z0-9_-]+\/[^\/]+)\/?/.test(document.location.pathname))return void humanMsg.displayMsg("Please visit the gallery or topic page for this post to award that.","error-msg");c={hash:h.hash}}"object"==typeof c&&$.post("/adm/trophies/"+g,c,_.bind(function(a){humanMsg.displayMsg("Awarded "+f+" trophy!")},this)),a.preventDefault()},reportImage:function(){var a=this,b=a.imgurInsideNav.getHash(),c={type:"galleryPost",hash:b,isAlbum:a.imgurInsideNav._.image.is_album,nsfw:a.imgurInsideNav._.image.nsfw};Imgur.Util.jafoLog({event:"reportInvoked",meta:c})},bindDeleteImage:function(){var a=this;this._.el.colorboxConfirmForm.no.unbind("click"),this._.el.colorboxConfirmForm.yes.unbind("click"),this._.el.colorboxConfirmForm.title.html("Remove Submission from Gallery"),this._.el.colorboxConfirmForm.message.html(this._.messages.deleteImage),$.colorbox.resize(),this._.el.colorboxConfirmForm.no.click(function(){$.colorbox.close()}),this._.el.colorboxConfirmForm.yes.click(function(){a._.el.colorboxConfirmForm.yes.disable(),a._.el.colorboxConfirmForm.loader.show(),$.post(a._.baseURL+"/action/delete_image/"+a._.hash,{sid:a._.sid},function(b){a._.el.colorboxConfirmForm.loader.hide(),a._.el.colorboxConfirmForm.yes.enable(),Imgur.Util.jafoLog({event:"removeFromGallery",meta:{hash:a._.hash,isAlbum:a._.image.is_album}}),a._.signed&&($.colorbox.close(),humanMsg.displayMsg("Submission has been removed"),setTimeout(function(){window.location="//"+a._.host},500))}).error(function(){a._.el.colorboxConfirmForm.yes.enable(),a._.el.colorboxConfirmForm.loader.hide()})})},deleteImage:function(){var a=this;$.colorbox({href:a._.el.colorboxConfirmForm.id,open:!0,inline:!0,top:"15%",transition:"none",scrolling:!1,onComplete:function(){a.bindDeleteImage()}})},reCaption:function(){var a=Imgur.InsideNav.getInstance().getHash();window.location="/memegen/create/"+a},insertAd:function(a){var b=Math.floor(1e3*Math.random()),c=$('<div id="bottom-ad" class="advertisement"></div>'),d=$('<div class="panel-ad advertisement"></div>'),e=$('<iframe src="//imgur.com/include/rc-iframe.html?cb='+b+'" framespacing="0" frameborder="no" scrolling="no" width="300" height="250" allowtransparency="true"></iframe>');$(d).append(e),$(c).append(d),$(c).css("top",a+"px"),$("#content").append(c)},fadeInLoader:function(a){var b=this._.el.outside.content.find(this._.el.outside.tagLoaderClass);b.length&&b.eq(b.length-1).fadeIn(75,a)},fadeOutLoader:function(a){var b=this._.el.outside.content.find(this._.el.outside.tagLoaderClass);b.length&&b.eq(b.length-1).fadeOut(75,a)},initialPopState:function(a){window.location=window.location},initTipsy:function(){if(!this._.isIPad){var a=$("#imagelist img, .thumbnails img, .thumbs img, .image img, .thumb-title");a.each(function(){$(this).attr("title",$(this).attr("data-title"))}),a.tipsy({gravity:"n",opacity:.95,offset:-15,html:!0,live:!0})}},initAdmAddGalleryTag:function(){var a=new Imgur.Tag.TagValidator(Imgur.Constants.MIN_TAG_LENGTH,Imgur.Constants.MAX_TAG_LENGTH),b=this.getEmitter(),c=new Imgur.Gallery.Store.Tag(null,a,b);ReactDOM.render(React.createElement(Imgur.Adm.GalleryAddTag,{baseUrl:this._.baseURL,insideNav:this.imgurInsideNav,tagStore:c,emitter:b}),this._.el.adm.$addTag.get(0))},initZoom:function(){this._.el.inside.zoom.imageZoom()},showPastPreview:function(){this._.vars.pastPage>this._.vars.maxDays&&(this._.vars.pastPage=this._.vars.maxDays,this._.el.past.days.val(this._.vars.pastPage)),$(".tipsy").remove(),this._.el.past.previewContent.empty(),this._.el.past.loader.show();var a=this,b=Imgur.getInstance()._.signed?"miss":"hit";$.cookie("gallerypage",this._.vars.pastPage+1,{domain:Imgur.Environment.host,path:"/"});var c=this._.vars.pastPage;Imgur.Util.jafoLog({event:"pastImages",meta:{days:c}}),$.get(this._.baseURL+"/past/page/"+(this._.showPast?this._.vars.pastPage+1:this._.vars.pastPage-1)+"/"+b+"?scrolled",function(b){a._.el.past.loader.hide(),a._.el.past.previewContent.html(b),a._.el.past.previewContent.find("img").tipsy({gravity:"n",opacity:.95,offset:-8,html:!0}).on("click",function(a){Imgur.Util.jafoLog({event:"pastImagesClick",meta:{days:c}})})})},pastOnLoad:function(){this.hideAds(),0==this._.el.past.previewContent.find("h3").size()&&this.showPastPreview(),this._.el.past.days.val(this._.vars.pastPage);var a=this;this._.el.past.calendar.DatePicker({format:"m/d/Y",date:"",current:"",starts:1,position:"bottom",onBeforeShow:function(){var b=new Date;b.setUTCHours(0),b.setUTCMinutes(0),b.setUTCSeconds(0),b.setUTCMilliseconds(0);var c=864e5*a._.el.past.days.val(),d=new Date(b.getTime()-c),e=d.getUTCMonth()+1+"/"+d.getUTCDate()+"/"+d.getUTCFullYear();$(this).DatePickerSetDate(e,!0),$(".datepicker").css("z-index",1e4),Imgur.Util.jafoLog({event:"pastImagesCalendarOpen"})},onHide:function(){$(".datepicker").css("z-index",""),Imgur.Util.jafoLog({event:"pastImagesCalendarClose"})},onChange:function(b,c){var d=new Date,e=new Date(c);d.setUTCHours(0),d.setUTCMinutes(0),d.setUTCSeconds(0),d.setUTCMilliseconds(0),e.setUTCHours(0),e.setUTCMinutes(0),e.setUTCSeconds(0),e.setUTCMilliseconds(0);var f=Math.max(Math.floor((d.getTime()-e.getTime())/864e5),0);f=Math.min(f,a._.maxPage),a._.el.past.days.val(f),a._.vars.pastPage=f,a._.el.past.calendar.DatePickerHide(),a._.el.past.slider.val(a._.vars.pastPage),a.showPastPreview(),Imgur.Util.jafoLog({event:"pastImagesCalendarChange"})}}),this._.el.past.slider.val(this._.vars.pastPage).attr("min",this._.vars.showPast?0:1).attr("max",this._.maxPage).on("input",function(){a._.vars.pastPage=$(this).val(),a._.el.past.days.val(a._.vars.pastPage)}).on("change",function(){a.showPastPreview()})},pastClickHandler:function(){var a=this;Imgur.Util.jafoLog({event:"pastImagesClock"}),$.colorbox({href:"#"+this._.el.past.wrapper.attr("id"),inline:!0,innerWidth:this._.el.past.wrapper.width()+20,innerHeight:this._.el.past.wrapper.height()+20,className:"blurbox",transition:"none",title:"Show images from the past",open:!0,onLoad:function(){a.pastOnLoad()},onClosed:function(){$.cookie("gallerypage",null,{expires:-1,domain:Imgur.Environment.host,path:"/"}),a.showAds()}})},pastDaysChangeHandler:function(a){isFinite(a.currentTarget.value)?(this._.vars.pastPage=parseInt(a.currentTarget.value,10),this._.el.past.slider.val(this._.vars.pastPage)):humanMsg.displayMsg("Please enter a number","error-msg")},pastDaysKeypressHandler:function(a){return this.isNumberKey(a)},pastTickerClickHandler:function(a){clearTimeout(this._.vars.pastTickerTimer),$(a.target).hasClass(this._.el.past.positiveTickClass)?this._.vars.pastPage=this._.vars.pastPage+1<this._.maxPage?this._.vars.pastPage+1:this._.maxPage:this._.vars.pastPage=this._.vars.pastPage-1>0?this._.vars.pastPage-1:0,this._.el.past.days.val(this._.vars.pastPage),this._.el.past.slider.val(this._.vars.pastPage);var b=this,c=function(){b.showPastPreview()};this._.vars.pastTickerTimer=setTimeout(c,400)},pastSubmitClickHandler:function(){var a=this._.showPast?this._.vars.pastPage:this._.vars.pastPage-1;Imgur.Util.jafoLog({event:"pastImagesGo",meta:{page:a}}),$.colorbox.close(),window.location=this._.baseURL+"/hot/viral/page/"+a},galleryTagObject:function(a,b){return a&&Array.isArray(b)?b.find(function(b){return b.tag===a}):null},isPromotedTagGallery:function(a,b){var c=this.galleryTagObject(a,b);return!(!c||!parseInt(c.is_promoted))},getGalleryMetadata:function(a){var b={};switch(b.gallerySort=this._.sort,b.galleryWindow=this._.window,b.galleryType=this._.section,this._.subreddit&&(b.galleryType="subreddit"),b.galleryType){case"subreddit":b.subreddit=this._.subreddit;break;case"topic":b.topic=this._.topic;break;case"tag":b.tagName=this._.tag}return b.topicTag=b.tag||b.topic,a&&"item"===a&&(b.promoted=!!this._.image.is_ad,b.promotedTagGallery=this.isPromotedTagGallery(b.tagName,Imgur.Environment.image.galleryTags),b.tags=[],Array.isArray(this._.image.galleryTags)&&(b.tags=this._.image.galleryTags.map(function(a){return a.tag}))),b},getVoteSourceFromEnvironment:function(){return"undefined"!=typeof Imgur.Environment.searchQuery&&null!==Imgur.Environment.searchQuery&&""!==Imgur.Environment.searchQuery?"search:"+Imgur.Environment.sort:"tag"===Imgur.Environment.section?"tag:"+Imgur.Environment.tag+":"+Imgur.Environment.sort:"favorites"===Imgur.Environment.section?"favorites:"+Imgur.Environment.sort:"hot"===Imgur.Environment.section?"mostviral:"+Imgur.Environment.sort:"new"===Imgur.Environment.section?"usersub:"+Imgur.Environment.sort:"feed"===Imgur.Environment.section?"feed":null},getBaseUrl:function(){return this._.overRideUrl?this._.overRideUrl:this._.baseURL},getSectionUrl:function(){var a=this._.section&&!this._.subreddit&&"tag"!=this._.section&&"group"!=this._.section&&"topic"!=this._.section&&"favorites"!=this._.section?"/"+this._.section:"",b=this._.baseURL+a+"/";return b},getUrl:function(a,b){var c="top"==this._.section?"":this._.sort+"/",d="top"==this._.sort||"top"==this._.section?this._.window+"/":"",e=this.getSectionUrl()+c+d+"page/"+a+"/"+(Imgur.Environment.signed?"miss":"hit")+"?scrolled";if(this._.overRideUrl)return this._.overRideUrl+"/"+c+"/page/"+a+"/"+(Imgur.Environment.signed?"miss":"hit")+"?scrolled";if(this._.inSearch){var f=Imgur.getInstance().getSearchUrl(this._,a);e=f.url+"?scrolled&"+f.query}else"hot"==this._.section&&(e+="&set="+b);return e},handleResponse:function(a,b,c){var d=$(a).find("img").length;if(d>0&&(this._.vars.scrolledImageSet>=1||"new"==this._.section)&&!$(this._.el.outside.extendedImagelist).length&&$.cookie("showComments")){var e;e=0==this._.vars.scrolledImageSet?$('<div id="extended-imagelist"></div>'):$('<div id="extended-imagelist"><div class="posts br5"></div><div class="page-divider"><a href="javascript:;" class="scroll-top-text">back to top</a></div></div>'),$(this._.el.outside.pageDivider).remove(),this._.el.outside.content.after(e),this._.el.outside.content=e}if(d>0&&c&&(window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"load-more"})),0==this._.vars.scrolledPage&&this._.vars.scrolledImageSet<=0){var f=this._.el.outside.content.find(this._.el.outside.tagLoaderClass);if(f.length&&f.eq(f.length-1).is(":visible"))return void this.fadeOutLoader(_.bind(this.handleResponse,this,a,b));$(this._.el.outside.extendedImagelist).length&&(this._.el.outside.content=this._.el.outside.content.prev(),$(this._.el.outside.extendedImagelist).remove()),this._.el.outside.content.find(".posts").remove(),this._.el.outside.content.find(".imagelist-header:gt(0)").remove(),this._.el.outside.content.append(a)}else this._.vars.scrolledImageSet>=1?(this._.el.outside.content.find(".posts:last .clear").remove(),this._.el.outside.content.find(".posts:last").append(a),this._.el.outside.content.find(".posts:last").append('<div class="clear"></div>')):this._.el.outside.content.append(a);this._.el.outside.content.find(".posts:last").find("img").each(function(){$(this).attr("title",$(this).attr("data-title")),$(this).tipsy({gravity:"n",opacity:.95,offset:-15,html:!0})});var g=$(".arrow-up, .arrow-down");g.unbind("click"),g.click(_.bind(function(a){this.vote(a)},this)),this.initOutsideComboboxes(),this.searchHighlight(),0==$(this._.el.outside.noMorePagesID).length?(d<60&&(this._.vars.scrolledPage++,this._.vars.scrolledImageSet=-1),$(this._.el.outside.loaderID+":lt(-1)").remove(),Imgur.InfiniteScroll.getInstance().infiniteScroll(_.bind(function(){this.loadMore()},this))):this._.vars.scrolledImageSet>0?($(this._.el.outside.noMorePagesID).remove(),this._.vars.scrolledPage++,this._.vars.scrolledImageSet=-1,this.loadMore()):$(this._.el.outside.loaderID).eq(0).remove(),this._.emitter.trigger("new gallery page"),"function"==typeof b&&b(),this._.emitter.trigger("gallery page refetched"),this._.jafoPage++,Imgur.Util.jafoLog({event:"galleryPageShown",meta:_.merge(Imgur.Gallery.getInstance().getGalleryMetadata(),{pageNum:this._.jafoPage,itemCount:d})})},fetchImages:function(a,b,c){var d=this.getUrl(a,b);this._.vars.loading=!0,$.ajax({url:d,success:_.bind(function(a){this._.vars.loading=!1,this.handleResponse(a,c,d)},this)}),$(_.bind(function(){Imgur.Util.jafoLog({event:"galleryPageRequest",meta:_.merge(Imgur.Gallery.getInstance().getGalleryMetadata(),{pageNum:a})})},this))},showLoadMore:function(a){$(this._.el.outside.loaderID).eq(0).html(this._.messages.loadMore),$(this._.el.outside.loadMoreID).click(_.bind(function(a){$(a.target).unbind("click"),$(a.target).parent().html('<img src="//s.imgur.com/images/loaders/ddddd1_181817/48.gif" />'),this.loadMore(!0)},this))},loadMore:function(a){if(!this._.vars.loading)return!a&&this._.vars.scrolledPage>0&&this._.vars.scrolledPage%5==0&&this._.vars.scrolledImageSet==-1?void this.showLoadMore():void($(this._.el.outside.loaderID).length>0&&("hot"!=this._.section||this._.inSearch||this._.overRideUrl?this._.vars.scrolledPage++:this._.vars.scrolledImageSet++,this.fetchImages(this._.vars.scrolledPage,this._.vars.scrolledImageSet)))},notorietyLinkClickHandler:function(){this._.el.user.notorietyList.is(":hidden")?(this._.el.user.notorietyList.slideDown(),this._.el.user.notorietyLink.find("a").html("hide list")):(this._.el.user.notorietyList.slideUp(),this._.el.user.notorietyLink.find("a").html("show list"))},userButtonCommentsClickHandler:function(){window.location="/user/"+this._.account_url},userButtonFavoritesClickHandler:function(){window.location="/user/"+this._.account_url+"/favorites"},userButtonSubmittedClickHandler:function(){window.location="/user/"+this._.account_url+"/submitted"},userButtonRepliesClickHandler:function(){window.location="/user/"+this._.account_url+"/replies"},setupUserCaptions:function(){var a=new Imgur.Linkifier;a.addGrabber(new Imgur.Linkify.ImgurGrabber(Imgur.Environment.host,Imgur.Environment.cdnUrl)),a.addGrabber(new Imgur.Linkify.PlainGrabber),a.addGrabber(new Imgur.Linkify.UsernameGrabber),a.addGrabber(new Imgur.Linkify.HashtagGrabber),a.addViewer("youtube",new Imgur.Linkify.YoutubeViewer),a.addViewer("html5video",new Imgur.Linkify.Html5VideoViewer),a.addViewer("gifv",new Imgur.Linkify.ImgurGifvViewer(new Imgur.Linkify.Html5VideoViewer)),a.addViewer("imgur",new Imgur.Linkify.ImgurViewer),a.addViewer("image",new Imgur.Linkify.ImageViewer);var b=React.createClass({childContextTypes:{linkifier:React.PropTypes.object},getChildContext:function(){return{linkifier:a}},render:function(){return React.createElement(Imgur.UserCommentsArea,this.props)}});ReactDOM.render(React.createElement(b,{user:this._.account_url,sort:this._.sort}),$(".left .panel .captions-container").get(0))},setupUserFavorites:function(){var a=this,b=function(){a._.el.user.loader.show(),$.get("/user/"+a._.account_url+"/favorites/page/"+ ++a._.page+"?scrolling",function(c){c?(a._.el.user.loader.hide(),a._.el.user.favorites.append(c),Imgur.InfiniteScroll.getInstance().infiniteScroll(b)):a._.el.user.loader.remove()})};this._.el.user.loader.length>0&&Imgur.InfiniteScroll.getInstance().infiniteScroll(b)},setupUserReplies:function(){var a=new Imgur.Linkifier;a.addGrabber(new Imgur.Linkify.ImgurGrabber(Imgur.Environment.host,Imgur.Environment.cdnUrl)),a.addGrabber(new Imgur.Linkify.PlainGrabber),a.addGrabber(new Imgur.Linkify.UsernameGrabber),a.addGrabber(new Imgur.Linkify.HashtagGrabber),a.addViewer("youtube",new Imgur.Linkify.YoutubeViewer),a.addViewer("html5video",new Imgur.Linkify.Html5VideoViewer),a.addViewer("gifv",new Imgur.Linkify.ImgurGifvViewer(new Imgur.Linkify.Html5VideoViewer)),a.addViewer("imgur",new Imgur.Linkify.ImgurViewer),a.addViewer("image",new Imgur.Linkify.ImageViewer);var b=React.createClass({childContextTypes:{linkifier:React.PropTypes.object},getChildContext:function(){return{linkifier:a}},render:function(){return React.createElement(Imgur.UserRepliesArea,this.props)}});ReactDOM.render(React.createElement(b,{auth:this._.auth}),$(".left .panel .replies-div .captions-container").get(0))},setupUserSubmitted:function(){var a=this,b=function(){a._.el.user.loader.show(),$.get("/user/"+a._.account_url+"/submitted/page/"+ ++a._.page+"?scrolling",function(c){c?(a._.el.user.loader.hide(),a._.el.user.favorites.append(c),Imgur.InfiniteScroll.getInstance().infiniteScroll(b)):a._.el.user.loader.remove()})};this._.el.user.loader.length>0&&Imgur.InfiniteScroll.getInstance().infiniteScroll(b)},userPmButtonClickHandler:function(){return this._.signed?void(window.location="/account/messages#"+this._.account_url):Imgur.getInstance().signin("messageUserAttempt")},userPmSendButton:function(){var a=this;if(""!=a._.el.user.pmBody.val()&&a._.el.user.pmBody.val()!=a._.el.user.pmBody.attr("title")){for(var b=a._.el.user.pmForm.find("input, textarea"),c=0;c<b.length;++c){var d=$(b[c]);d.val()==d.attr("title")&&d.val("")}$.post("/account/messages/create",a._.el.user.pmForm.serialize(),function(b){a._.el.user.pmSent.fadeIn(250),setTimeout(function(){$.colorbox.close(),a._.el.user.pmSent.hide(),a._.el.user.pmBody.val(""),a._.el.user.pmBody.showPlaceholder()},600)})}},carouselItemFirstIn:function(a,b,c){0==a.index()?c.addClass("disabled"):c.removeClass("disabled")},carouselItemLastIn:function(a,b,c){var d=b.jcarousel("items").length;a.index()==d-1?c.addClass("disabled"):c.removeClass("disabled")},userInit:function(){var a=this;this.generalInit(),this._.el.user.notorietyLink.click(function(){a.notorietyLinkClickHandler()}),this._.el.user.buttonComments.click(function(){a.userButtonCommentsClickHandler()}),this._.el.user.buttonFavorites.click(function(){a.userButtonFavoritesClickHandler()}),this._.el.user.buttonSubmitted.click(function(){a.userButtonSubmittedClickHandler()}),this._.el.user.buttonReplies.click(function(){a.userButtonRepliesClickHandler()}),this._.el.user.pmButton.click(function(){a.userPmButtonClickHandler()}),this._.el.user.pmSendButton.click(function(){a.userPmSendButton()}),"index"===this._.window?this.setupUserCaptions():"submitted"===this._.window?this.setupUserSubmitted():"replies"===this._.window?this.setupUserReplies():this.setupUserFavorites(),this._.el.user.$carousel.jcarousel({animation:300}),$(".next").click(function(){a._.el.user.$carousel.jcarousel("scroll","+=3",!0)}),$(".prev").click(function(){a._.el.user.$carousel.jcarousel("scroll","-=3",!0)}),a._.el.user.$carousel.find("li").bind("jcarouselitemfirstin",function(b){a.carouselItemFirstIn($(this),a._.el.user.$carousel,$(".prev"))}).bind("jcarouselitemlastin",function(b){a.carouselItemLastIn($(this),a._.el.user.$carousel,$(".next"))})},toggleShowViral:function(){$.cookie("hidingviral")?$.removeCookie("hidingviral",{path:"/"}):$.cookie("hidingviral",!0,{expires:30,path:"/"}),window.location=window.location},initOutsideInfScroll:function(){Imgur.InfiniteScroll.getInstance().infiniteScroll(_.bind(function(){this.loadMore()},this))},bindOutsideSortOptions:function(){this._.el.outside.$sortOptions.bind("click",function(a){var b,c=$(this).attr("href").split("?")[0],d=c.split("/");b=d.indexOf("new")!==-1?"User Submitted":d.indexOf("hot")!==-1?"Most Viral":d.pop(),Imgur.Util.jafoLog({event:"galleryDropdownSelection",meta:{galleryName:b,promoted:!1}})})},searchAdvancedHandleSubmit:function(a){a.preventDefault();var b,c,d,e,f=document.location,g=this._.el.search.$advancedForm.find("input"),h=[],i=!0,j=this._.el.search.$advancedAllInput.val(),k=g.length,l=f.protocol+"//"+f.host;if(skip={qs:1,q_all:1},f.port.length&&(l+=":"+f.port),l+="/search/"+this._.sort+"/"+this._.window,k){for(e=0;e<k;e++)if(b=$(g[e]),c=$(g[e]).attr("name"),d=String($(g[e]).val()),!(c in skip))switch(b.attr("type")){case"hidden":d!=$(g[e]).attr("data-default")&&(h.push(c+"="+encodeURIComponent(d)),i=!1);break;case"text":d.length&&(h.push(c+"="+encodeURIComponent(d)),i=!1);break;case"checkbox":b.is(":checked")&&h.push(c+"=on")}i?h=["q="+encodeURIComponent(j)]:h.push("q_all="+encodeURIComponent(j)),h.length&&(l+="?"+h.join("&")),document.location=l}},searchAdvancedToggleHandler:function(a){var b=this,c=$(a.target);this._.el.search.$advanced.is(":visible")?(this._.el.search.$advanced.fadeOut(150,function(){b.syncSearchSimpleAndAdvanced()}),$(a.target).attr("title","show advanced search")):(this._.el.search.$advanced.fadeIn(150,function(){b.syncSearchSimpleAndAdvanced()}),$(a.target).attr("title","hide advanced search")),c.parent().toggleClass("active"),c.tipsy("hide")},searchAdvancedToggleSizeType:function(a){this._.el.search.$sizeToggle.is(":checked")?(this._.el.search.$pxCombo.hide(0),this._.el.search.$mpxCombo.show(0)):(this._.el.search.$mpxCombo.hide(0),this._.el.search.$pxCombo.show(0))},searchHighlight:function(){var a,b,c="",d=!1,e=!1,f={className:"matched-search-term"},g=$(this._.el.search.imageCard);if(this._.inSearch){if("object"!=typeof this._.advSearch||"string"==typeof this._.searchQuery&&""!==this._.searchQuery)this._.searchQuery&&g.strEle(this._.searchQuery,f);else{if("string"==typeof this._.advSearch.q_all&&(c+=" "+this._.advSearch.q_all),"string"==typeof this._.advSearch.q_exactly&&(d=this._.advSearch.q_exactly),"string"==typeof this._.advSearch.q_any&&(c+=" "+this._.advSearch.q_any),c.length&&(e=c.match(/("[^"]+"|[^\s]+)/g),b=e.length,b>0))for(a=0;a<b;a++)g.strEle(e[a],f);d&&g.strEle(d,f)}g.find(".bottom-box span").removeClass(f.className)}},syncSearchSimpleAndAdvanced:function(){this._.el.search.$advanced.length<1||(this._.el.search.$advanced.is(":visible")?(this._syncSearchSimpleAndAdvancedElements(this._.el.search.$headerSearchInput,this._.el.search.$advancedAllInput),this._.el.search.$headerSearch.removeClass("search-focused").addClass("search-forced-closed"),this._.el.search.$advancedAllInput.focus().select()):(this._syncSearchSimpleAndAdvancedElements(this._.el.search.$advancedAllInput,this._.el.search.$headerSearchInput),this._.el.search.$headerSearch.removeClass("search-forced-closed").addClass("search-focused"),this._.el.search.$headerSearchInput.focus().select()))},_syncSearchSimpleAndAdvancedElements:function(a,b){var c=String(b.val()),d=a.val(),e=a.attr("placeholder");c.length<1&&d!=e&&b.val(d).trigger("change"),a.val("")},outsideInit:function(){var a=this;this._.vars.scrolledPage=this._.vars.pastPage=this._.page,this._.showPast||(this._.vars.pastPage+=1),this.generalInit(),this.initOutsideInfScroll(),this.bindOutsideSortOptions(),$(".tooltip").tooltipster({interactive:!0,position:"left",speed:100,offsetX:7}),this._.el.arrows.click(function(b){a.vote(b)}),this._.el.past.link.click(function(){a.pastClickHandler()}),this._.el.past.days.change(function(b){a.pastDaysChangeHandler(b)}),this._.el.past.days.keypress(function(b){a.pastDaysKeypressHandler(b)}),this._.el.past.ticker.click(function(b){a.pastTickerClickHandler(b)}),this._.el.past.submitButton.click(function(){a.pastSubmitClickHandler()}),this._.el.search.$sizeToggle.on("change",function(b){a.searchAdvancedToggleSizeType(b)}),this._.el.search.$advancedForm.on("submit",function(b){a.searchAdvancedHandleSubmit(b)}),"new"==this._.section&&this._.el.outside.$toggleViral.click(function(){a.toggleShowViral()}),this.initOutsideComboboxes(),this.searchHighlight(),this._.el.outside.content.on("mouseenter",".post a",function(a){var b=$(this).data("page");$.cookie("gallerypage",b,{domain:Imgur.Environment.host,path:"/"})}),this._.el.outside.content.on("mouseleave",".post a",function(a){$.cookie("gallerypage",null,{expires:-1,domain:Imgur.Environment.host,path:"/"})}),$(document).ready(function(){a._.showGalleryNewInfo&&$.colorbox({href:a._.el.outside.galleryNewInfo.id,open:!0,inline:!0,top:"15%",transition:"none",scrolling:!1,onComplete:function(){a._.el.outside.galleryNewInfo.$okay.click(function(){$.cookie("IGT",1,{expires:7,path:"/"}),$.colorbox.close()}),a._.el.outside.galleryNewInfo.$no.click(function(){window.location="//"+a._.host+"/hot"})}})})},initOutsideComboboxes:function(){$(".combobox:not(#section):not(#sort)").combobox({onChange:_.bind(function(a,b,c){switch(a){case"q_size_px":$(this._.el.search.size).val(b),this._.el.search.$sizeMpx.val(b);var d=this._.el.search.$mpxCombo.find(".options .item").removeClass("selected").filter('[value="'+b+'"]').addClass("selected").text();this._.el.search.$mpxCombo.find("div.selection").first().text(d);break;case"q_size_mpx":$(this._.el.search.size).val(b),this._.el.search.$sizePx.val(b);var d=this._.el.search.$pxCombo.find(".options .item").removeClass("selected").filter('[value="'+b+'"]').addClass("selected").text();this._.el.search.$pxCombo.find("div.selection").first().text(d)}},this)})},insideInit:function(){var a=_.bind(function(a,b,c){var d=this.imgurInsideNav.getHash(),e=this.imgurInsideNav._.sideGallery.getImage(d);switch(e||(e=this._.image),b){case"download":Imgur.Util.jafoLog({event:"downloadImage",meta:{control:"postOptions",nsfw:e.nsfw,hash:e.hash,isAlbum:e.is_album,isAnimated:e.animated}}),e.is_album?this.imgurInsideNav.startDownload(e.hash):window.location="/download/"+d+"/"+encodeURIComponent(e.title);break;case"meme":Imgur.Util.jafoLog({event:"makeAMeme",meta:{control:"postOptions",nsfw:e.nsfw,hash:e.hash,isAlbum:e.is_album,isAnimated:e.animated}}),window.location="/memegen/create/"+d;break;case"report":1!=$.cookie("r"+d)&&this.reportImage();break;case"delete":this.deleteImage();break;case"embed":Imgur.Utilities.Embed.embedModal.call(this)}return!1},this);if(this.generalInit(),Imgur.getInstance().setHash(this._.hash),this._.el.embedAlbumForm.embedCodeInput.click($(this).selectAll),this._.comment_id||this._.mobile||this._.el.inside.$comments.html('<img class="small-margin-top" src="//s.imgur.com/images/loaders/ddddd1_2b2b2b/24.gif"/>'),Imgur.Util.triggerView(this._.hash,{album:this._.image.is_album,discard:!1}),this._.image.is_album)for(var b=0;b<this._.image.album_images.images.length&&b<10;b++){var c=this._.image.album_images.images[b];Imgur.Util.triggerView(c.hash,{image:!0,discard:!1})}this._.el.adm.$addTag.length&&this.initAdmAddGalleryTag(),this.initZoom(),this._.el.colorboxEmbed.embedCodeInput.click($(this).selectAll),this.imgurInsideNav.generalInit(_.bind(function(){this.imgurInsideNav.setCaptionSort(this._.comment_sort),this._.image.comments_disabled||this._.mobile||null===this._.section||!this._.captionsEnabled||this.imgurInsideNav.fetchCaptions(this._.hash,_.bind(function(){Imgur.Caption.getInstance().haveCaptions(this._.hash)&&this.imgurInsideNav.processCaptions(this._.hash)},this)),$(".post-loadall").click(_.bind(function(){return this.imgurInsideNav.insertPost(this._.image,!0),!1},this))},this)),this._.el.inside.reCaptionLink.click(this.reCaption),this._.el.inside.$shareTabButton.click(this.toggleTab),1==$.cookie("r"+this.imgurInsideNav.getHash())?this._.el.inside.reportImageLink.addClass("red").text(" post reported"):this._.el.inside.reportImageLink.removeClass("red").text(" report post"),this.initModerationPanel(),this._.el.inside.$shareLink.focus(this.select),this._.el.inside.$optionsButton.combobox({maybe:a}),$(document).ready(_.bind(function(){this.updateShare()},this))},toggleTab:function(a){if(!a)return void $(".button-container .btn").removeClass("opened");a.stopPropagation();var b=$(a.currentTarget),c=b.hasClass("opened");$(".opened").removeClass("opened"),c||b.addClass("opened")},generalInit:function(){this._.sid=$("#sid").val(),this._.messages={deleteImage:"Are you sure you want to remove this submission from the gallery?",loadMore:'<div id="load-more">load more images</div>',reportImage:"Are you sure you want to report this submission for spam or abuse?"},this.initTipsy()},updateShare:function(){var a=this._.image;if(a){var b=Imgur.ShareButtons.getInstance();b.bindButtons();var c="https://"+this._.host+this._.baseURL+"/"+this._.hash;c=a.is_album?c.replace("/account/favorites/","/a/"):c.replace("/account/favorites/","/"),b.setShareData({title:a.title,jafoMeta:_.merge(this.getGalleryMetadata(),{type:"galleryPost",hash:this._.hash,isAlbum:a.is_album,inGallery:!0,nsfw:a.nsfw}),url:c},{global:!0})}},getInsideNav:function(){return this.imgurInsideNav},resetReportCloseAnalytics:function(){this._.preventReportCloseAnalytics=!1},preventReportCloseAnalytics:function(){this._.preventReportCloseAnalytics=!0},initModerationPanel:function(){function a(){if(this._.pendingActions.val>0)return"Some moderation actions have not yet saved. Leaving will discard some actions you have taken!"}function b(a){return params={type:"image",
hash:a.imgurInsideNav.getImage().album_cover||a.imgurInsideNav.getImage().hash,ext:a.imgurInsideNav.getImage().ext},a.imgurInsideNav.getURL(params)}undoDelay=this._.undoDelay;var c=this;this._.pendingActions={val:0,increment:function(){this.val++},decrement:function(){this.val--}},pendingActions=this._.pendingActions,window.onbeforeunload=a.bind(c),$("#dboi-post").click(function(){var a=b(this),d=this._.account_url,e=this.imgurInsideNav.getHash();pendingActions=createUndoToast(null,"Warning and removing",function(){this.warn(d),this.ungallery(e)}.bind(c),!0,undoDelay,pendingActions,a)}.bind(c)),$("#ungallery-post").click(function(){var a=b(this),d=this.imgurInsideNav.getHash();pendingActions=createUndoToast(null,"Removing from gallery",function(){this.ungallery(d)}.bind(c),!0,undoDelay,pendingActions,a)}.bind(c)),$("#delete-post").click(function(){var a=b(this),d=this.imgurInsideNav.getHash();pendingActions=createUndoToast(null,"Deleting post",function(){this["delete"](d)}.bind(c),!0,undoDelay,pendingActions,a)}.bind(c)),$("#spam-post").click(function(){var a=b(this),d=this.imgurInsideNav.getHash();pendingActions=createUndoToast(null,"Marking post as spam",function(){this.spamPost(d)}.bind(c),!0,undoDelay,pendingActions,a)}.bind(c)),$("#mature-post").click(function(){var a=b(this),d=this.imgurInsideNav.getHash(),e=this.imgurInsideNav.getImage();pendingActions=createUndoToast(null,"Marking post as mature",function(){this.mature(d),e.nsfw=!0}.bind(c),!0,undoDelay,pendingActions,a)}.bind(c)),$("#warn-user").click(function(){var a=b(this),d=this._.account_url;pendingActions=createUndoToast(null,"Warning user",function(){this.warn(d)}.bind(c),!0,undoDelay,pendingActions,a)}.bind(c)),$("#ban-user").click(function(){var a=b(c),d=c._.account_url,e=window.location.href;pendingActions=createUndoToast(null,"Banning user",function(){this.ban(d,e)}.bind(c),!0,undoDelay,pendingActions,a)}.bind(c)),$("#obfuscate-post").click(function(){var a=b(this),d=this.imgurInsideNav.getHash();pendingActions=createUndoToast(null,"Obfuscating post",function(){this.obfuscate(d)}.bind(c),!0,undoDelay,pendingActions,a)}.bind(c)),$("#spam-user").click(function(){var a=b(c),d=c._.account_url,e=this.imgurInsideNav.getHash();pendingActions=createUndoToast(null,"Spamming user & removing",function(){this.spam(d,e)}.bind(c),!0,undoDelay,pendingActions,a)}.bind(c)),$("#ncmec-post").click(function(){var a=b(c),d=c.imgurInsideNav.getHash();pendingActions=createUndoToast(null,"Reporting post to NCMEC",function(){this.ncmec(d)}.bind(c),!0,undoDelay,pendingActions,a)}.bind(c)),$("#trophy-mod").on("click","button",_.bind(this.trophy,this))}}),Class.addSingleton(Imgur.Gallery),Namespace("Imgur.Gallery"),Imgur.Gallery.Inside=Imgur.Gallery.extend({init:function(a,b,c){this.imgurInsideNav=a,this._super(b,c)}}),Namespace("Imgur.Gallery"),Imgur.Gallery.Outside=Imgur.Gallery.extend({}),Namespace("Imgur.Gallery"),Imgur.Gallery.MainOutside=Imgur.Gallery.Outside.extend({init:function(a,b,c,d){this._super(b,c,d),this._.outsideActiveTagStore=a},handleTagChanged:function(a){var b=this._.outsideActiveTagStore.getIsActive();b?this._handleTagSelect(a):this._handleTagDeselect(a)},_handleTagDeselect:function(){this._.overRideUrl=null,this._.history.addWindowState("initial","tagDeselect",this.getSectionUrl()),this.refetchPage()},_handleTagSelect:function(a){var b=this._.outsideActiveTagStore.getActiveTag(),c=encodeURIComponent(this._.outsideActiveTagStore.getActiveTagEncoded());this._.overRideUrl="/t/"+c,"rising"==this._.sort&&(this._.sort="viral"),a||(window.history.replaceState&&!window.history.state&&window.history.replaceState("initial","initial",window.location.href),this._.history.addWindowState("tag","Imgur - "+b,this._.overRideUrl)),this._updatePageOnTagChange(this._.overRideUrl)},_updatePageOnTagChange:function(a){var b=$("#sort"),c=$("#section"),d=b.find('.item[value="rising"]');b.find('.item[value="top"]');if(c.find(".selected").removeClass("selected"),d.hasClass("selected")){var e=b.find('.item[value="'+this._.sort+'"]').addClass("selected");b.find(".selection").html(e.text())}d.hide(),$(".sort-options").hide(),this.refetchPage()},refetchPage:function(){this._.vars.loading||(this._.vars.scrolledPage>0&&(this._.vars.scrolledImageSet=-1),this._.vars.scrolledPage=0,Imgur.InfiniteScroll.getInstance().stopInfiniteScroll(),$(this._.el.outside.pageDivider).remove(),this.fadeInLoader(),this.fetchImages(0,0,_.bind(function(){this._.vars.loading||(Imgur.InfiniteScroll.getInstance().continueInfiniteScroll(),this.initOutsideInfScroll())},this)))}}),Namespace("Imgur.Gallery"),Imgur.Gallery.Header=React.createClass({displayName:"Gallery-Header",MAX_ALBUM_TITLE:255,MAX_IMAGE_TITLE:128,propTypes:{noNav:React.PropTypes.bool},getInitialState:function(){return{first:!0,last:!1,image:this.props.initialImage,initial:!0,showingGrid:!1}},componentDidMount:function(){this.props.emitter.on("initGrid",this,function(){this.setState({showingGrid:!0})})},componentWillUnmount:function(){this.props.emitter.off("initGrid")},_next:function(){this.props.emitter.trigger("buttonNav","next")},_prev:function(){this.props.emitter.trigger("buttonNav","prev")},closeRearrange:function(){this.props.emitter.trigger("closeGrid"),this.setState({showingGrid:!1})},componentDidUpdate:function(){if(!this.state.initial){var a=$(".post-header");if(a.hasClass("fixed")&&"click"==this.state.navTrigger){a.removeClass("animate fixed animation-finished");var b=a.outerHeight();a.addClass("fixed"),$(".post-container").css("padding-top",b),$(document).scrollTop($(".post-container").offset().top+1)}else $(document).scrollTop(0)}},render:function(){var a,b="";return(this.props.noNav||Imgur.Environment.hasAccess&&!Imgur.Environment.captionsEnabled&&!this.state.image.is_album)&&(b=" nodisplay"),a=this.state.showingGrid?React.createElement("div",{onClick:this.closeRearrange,className:"right btn btn-action btn-rearrange-done'"},"Done"):React.createElement("div",{className:"next-prev"+b},React.createElement("div",{onClick:this.state.first?_.noop:this._prev,className:"btn navPrev icon icon-arrow-left"+(this.state.first?" disabled":"")}),React.createElement("div",{onClick:this.state.last?_.noop:this._next,className:"btn btn-action navNext"+(this.state.last?" disabled":"")},React.createElement("div",{className:"text"},"Next Post"),React.createElement("span",{className:"icon icon-arrow-right"}))),React.createElement("div",null,a,React.createElement("div",{className:"post-title-container"},React.createElement(Imgur.Gallery.TitleDesc,{postSavingStore:this.props.postSavingStore,element:"h1",type:"title",classes:"post-title"+(this.state.image.nsfw?" mature-indicator":""),placeholder:"Give your post a title...",text:this.state.image.title,is_album:this.state.image.is_album,deletehash:this.state.image.deletehash,max_length:this.state.image.is_album?this.MAX_ALBUM_TITLE:this.MAX_IMAGE_TITLE,no_enter:!0,published:this.props.published,showEditTools:this.props.showEditTools,tabindex:this.props.showEditTools?1:""})),React.createElement(Imgur.Gallery.SourceBar,{image:this.state.image,slim:this.props.showEditTools}))}}),Namespace("Imgur.Gallery"),Imgur.Gallery.Embed=React.createClass({displayName:"Gallery-Embed",getInitialState:function(){return{showContext:!0}},componentDidMount:function(){Imgur.Util.jafoLog({event:"openEmbedModal",meta:{inGallery:this.props.in_gallery,hash:this.props.hash,isAlbum:this.props.is_album,nsfw:this.props.nsfw,control:"postOptions"}}),$.ajax({url:this.getEmbedScript(),dataType:"script",cache:!0}),window.addEventListener("message",_.bind(function(a){var b=JSON.parse(a.data);"resize_imgur"===b.message&&(this.refs.preview.style.height=b.height+"px",$.colorbox.resize())},this),!1)},getEmbedScript:function(){return"//"+(Imgur.Environment.isDev?Imgur.Environment.host+"/include/minified":"s.imgur.com/min")+"/embed.js"},getEmbedCode:function(a,b){var c=a===!1?' data-context="'+a+'"':"",d=b?"":' data-analytics="false"';return'<blockquote class="imgur-embed-pub" lang="en" data-id="'+(this.props.is_album?"a/":"")+this.props.hash+'"'+c+d+'><a href="//'+Imgur.Environment.host+"/"+this.props.hash+'">'+_.escape(this.props.title)+'</a></blockquote><script async src="'+this.getEmbedScript()+'" charset="utf-8"></script>'},handlerHideTitle:function(a,b){a.setState({showContext:!b},function(){window.imgurEmbed.createIframe()})},render:function(){var a=this.state.showContext;return React.createElement("div",null,React.createElement("p",{className:"embed-action"},"Copy + Paste this Code"),React.createElement(Imgur.Elements.Copy,{value:this.getEmbedCode(a,!0),inputClass:"copy-input embed-copy",copyClass:"copy"}),React.createElement("div",{ref:"preview",dangerouslySetInnerHTML:{__html:this.getEmbedCode(a,!1)}}),React.createElement("div",{className:"embed-meta"},React.createElement("span",null,"Include this post in your blog, news site, or anywhere else on the web!"),React.createElement(Imgur.Elements.CheckBox,{className:"right",label:"Hide Title",id:"hideTitle",onChange:this.handlerHideTitle.bind(null,this)})))}});var _slicedToArray=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();Namespace("Imgur.Gallery");var scaleSpring={stiffness:180,damping:10},positionSpring={stiffness:120,damping:17},width=189,height=189;Imgur.Gallery.Grid=React.createClass({displayName:"Gallery-Grid",COLUMN_COUNT:4,_:{onScroll:null,$window:$(window)},getDefaultProps:function(){return{gridImageClasses:""}},getInitialState:function(){for(var a=this.props.album_image_store.getImages(this.props.hash).images,b=a.length,c=[],d=null,e=0;e<b;e++){var f=Math.floor(e/this.COLUMN_COUNT),g=e%this.COLUMN_COUNT;c.push([width*g,height*f])}return{images:a,count:b,row_count:Math.floor(b/this.COLUMN_COUNT),mouse:[0,0],delta:[0,0],lastPressKey:d,lastPressIndex:null,isPressed:!1,layout:c,container_height:Math.ceil(b/4)*height,offset:this.props.offset,scrolltop:0,window_height:600}},componentWillMount:function(){this._.onScroll=_.throttle(_.bind(this.handleScroll,this),250),this._.$window.on("scroll",this._.onScroll),this.handleScroll()},findIndexByHash:function(a){for(var b=0;b<this.state.count;b++)if(this.state.images[b].hash==a)return b;return-1},handleScroll:function(){this.setState({scrolltop:this._.$window.scrollTop(),window_height:this._.$window.height()})},handleMouseMove:function(a){var b=a.pageX,c=a.pageY,d=this.state,e=d.images,f=d.lastPressKey,g=d.isPressed,h=_slicedToArray(d.delta,2),i=h[0],j=h[1];if(g){var k=[b-i,c-j],l=clamp(Math.floor(k[0]/width),0,this.COLUMN_COUNT-1),m=clamp(Math.floor(k[1]/height),0,this.state.row_count),n=m*this.COLUMN_COUNT+l,o=this.findIndexByHash(f),p=reinsert(e,o,n);this.setState({mouse:k,images:p})}},handleMouseDown:function(a,b,c){var d=_slicedToArray(b,2),e=d[0],f=d[1],g=c.pageX,h=c.pageY;this.setState({lastPressKey:a,lastPressIndex:this.findIndexByHash(a),isPressed:!0,delta:[g-e,h-f],mouse:[e,f]})},handleMouseUp:function(a){a.preventDefault(),this.props.mouseUp(this.state.images,a),this.setState({isPressed:!1,delta:[0,0]})},createRearrangeComponent:function(a){var b,c,d,e=this,f=a.hash,g=Imgur.Environment.cdnUrl+"/"+(a.hash+a.ext);if(f===this.state.lastPressKey&&this.state.isPressed){var h=_slicedToArray(this.state.mouse,2);c=h[0],d=h[1],b={translateX:c,translateY:d,scale:ReactMotion.spring(1.2,scaleSpring)}}else{var i=_slicedToArray(this.state.layout[this.findIndexByHash(f)],2);c=i[0],d=i[1],b={translateX:ReactMotion.spring(c,positionSpring),translateY:ReactMotion.spring(d,positionSpring),scale:ReactMotion.spring(1,scaleSpring)}}return".gif"===a.ext&&(g=Imgur.Environment.cdnUrl+"/"+a.hash+".mp4"),React.createElement(ReactMotion.Motion,{key:f,style:b},function(b){var h=b.translateX,i=b.translateY,j=b.scale;return React.createElement("span",{onMouseDown:_.partial(e.handleMouseDown,f,[c,d]),onMouseUp:e.handleMouseUp,className:"post-grid-image "+e.props.gridImageClasses,"data-href":g,"data-title":a.title,style:{backgroundImage:"url("+(Imgur.Environment.cdnUrl+"/"+a.hash+"b.jpg")+")",WebkitTransform:"translate("+h+"px, "+i+"px) scale("+j+")",transform:"translate("+h+"px, "+i+"px) scale("+j+")",zIndex:f===e.state.lastPressKey?9997:0}})})},render:function(){var a=[],b=this.state,c=b.window_height,d=b.scrolltop,e=b.offset,f=b.container_height,g=b.count,h=b.images,i=5,j=Math.floor((d-e)/height)-i;j<0?(j=0,i*=3):i*=2;for(var k=j+Math.floor(c/height)+i,l=j*this.COLUMN_COUNT,m=k*this.COLUMN_COUNT,n=l;n<m&&n<g;n++)a.push(this.createRearrangeComponent(h[n]));return this.state.isPressed&&(this.state.lastPressIndex<l||this.state.lastPressIndex>=m)&&a.push(this.createRearrangeComponent(h[this.state.lastPressIndex])),React.createElement("div",{ref:"container",className:"post-grid-images",style:{height:f+"px"},onMouseMove:!!this.props.allowRearrange&&this.handleMouseMove},a)}}),Namespace("Imgur.Gallery"),Imgur.Gallery.PostActionBar=React.createClass({PROMOTED_POST_TAG_NAME:"promotedpost",displayName:"Gallery-PostActionBar",actionType:{UPVOTE:"upvote",DOWNVOTE:"downvote",FAVORITE:"favorite"},voteType:{UP:"up",DOWN:"down"},getInitialState:function(){return{ups:this.props.ups,downs:this.props.downs,views:this.props.views,upvoted:"up"==this.props.vote,downvoted:"down"==this.props.vote,favorited:this.props.favorited,points:this.props.points,reported:1==$.cookie("r"+this.props.hash),postOptionsOpened:!1,signupTooltipOptions:null,galleryTags:this.props.galleryTags||[]}},componentDidMount:function(){this.props.in_gallery&&(this.props.emitter.on("pointUpdate",this,this.handlePointUpdate),this.props.emitter.on("addedToFolder",this,this.handleAddedToFolder),this.props.emitter.on("admTagAdded",this,this.handleAdmTagAdded))},componentWillUpdate:function(a,b){this.props.hash!=a.hash||this.props.isAd||(this.refs.points&&this.state.points!=b.points&&this.refs.points.classList.add("post-action-stats-points--fade"),this.refs.views&&this.state.views!=b.views&&this.refs.views.classList.add("post-action-stats-points--fade"))},componentDidUpdate:function(){this.props.isAd||setTimeout(_.bind(function(){this.refs.points&&this.refs.points.classList.remove("post-action-stats-points--fade"),this.refs.views&&this.refs.views.classList.remove("post-action-stats-points--fade")},this),150)},componentWillUnmount:function(){this.props.emitter.off("pointUpdate",this,this.handlePointUpdate),this.props.emitter.off("closed dropdown menu"),this.props.emitter.off("admTagAdded",this,this.handleAdmTagAdded)},handlePointUpdate:function(a){if("hash"in a)switch(a.type){case"image":if(this.state.points==a.points)return;this.props.sideGallery.updatePoints(a.hash,a.ups,a.downs),this.setState({ups:a.ups,downs:a.downs,points:a.points});break;case"views":if(this.state.views==a.views)return;this.props.sideGallery.updateViews(a.hash,a.views),this.setState({views:a.views})}},logCreateSignupTooltip:function(a){var b={type:"gallery"};switch(a){case this.actionType.FAVORITE:b.invokedToolTipBy="favoriteAttempt";break;case this.actionType.UPVOTE:b.voteType=this.voteType.UP,b.invokedToolTipBy="voteAttempt";break;case this.actionType.DOWNVOTE:b.voteType=this.voteType.DOWN,b.invokedToolTipBy="voteAttempt"}Imgur.Util.jafoLog({event:"toolTipAppear",meta:b})},createSignupTooltip:function(a){var b=this,c=a.type,d=a.title,e=a.body,f=Imgur.Environment.staticUrl+"/images/icons/large_"+c+".png",g=this.props.in_gallery?"":"-nongallery",h="ActionCard-post ActionCard-animate ActionCard-"+c+g,i=c+"-signup-card",j={invokedRegisterSigninBy:"voteAttempt",type:"image"},k=[Imgur.Elements.ActionCard.createAction("signin","Sign in",function(){return Imgur.getInstance().signin(j,!0)},"btn btn-left-edge"),Imgur.Elements.ActionCard.createAction("signup","Sign up",function(){return Imgur.getInstance().signin(j)},"btn btn-action btn-action-card")];return this.logCreateSignupTooltip(c),React.createElement("div",{id:"signup-tooltip"},React.createElement(Imgur.Elements.ActionCard,{key:c,classNames:h,name:i,title:d,body:e,actions:k,imageUrl:f,close:function(){b.setState({signupTooltipOptions:null})}}))},showSignupTooltip:function(a){var b=this;return this.state.signupTooltipOptions&&a.type===this.state.signupTooltipOptions.type?void this.setState({signupTooltipOptions:null}):void setTimeout(function(){b.setState({signupTooltipOptions:a})},1)},handleVote:function(a,b){if((this.state.upvoted&&"up"==a||this.state.downvoted&&"down"==a)&&!b&&(a="veto"),!Imgur.Environment.auth.id&&!b){var c=void 0;return c="up"===a?{type:this.actionType.UPVOTE,title:"Up and Away!",body:"Sign up to upvote the posts you like and make them more popular."}:{type:this.actionType.DOWNVOTE,title:"Beg to differ?",body:"Sign up to downvote the posts that rub you the wrong way."},void this.showSignupTooltip(c)}if("up"===a){var d=Imgur.UserStatistics.getInstance();d.emitActionUserUpvote(this.getTagsNames())}this.setState({upvoted:"up"==a,downvoted:"down"==a}),$.ajax({url:"/gallery/action/vote/"+this.props.hash,type:"POST",data:{vote:a,sid:Imgur.Environment.msid,type:"image",location:"inside",gallery:Imgur.Gallery.getInstance().getGalleryMetadata(),source:Imgur.Gallery.getInstance().getVoteSourceFromEnvironment()},displayGenericError:!1,success:_.bind(function(b){b.gallery&&b.gallery.message&&humanMsg.displayMsg(b.gallery.message),Imgur.Environment.auth.id&&Imgur.Util.jafoLog({event:"vote"+(this.props.readonly?"ReadOnly":""),meta:_.merge(Imgur.Gallery.getInstance().getGalleryMetadata(),{hash:this.props.hash,type:"image",vote:a,location:"inside"})})},this)}),this.props.sideGallery.updateVote(this.props.hash,a,_.bind(function(a){this.setState({points:a})},this))},handleAddedToFolder:function(){this.setState({favorited:!0})},handleAdmTagAdded:function(a){this.setState(function(b){return{galleryTags:[].concat(_toConsumableArray(b.galleryTags),[{tag:a,display:a}])}})},handleFavorite:function(){var a=this.state.favorited;if(!Imgur.Environment.auth.id)return void this.showSignupTooltip({type:this.actionType.FAVORITE,title:"Fave and Never Forget",body:"Sign up to save your favorite posts to your profile."});if(!this.state.favorited){var b=Imgur.UserStatistics.getInstance();b.emitActionUserAddInFavorite(this.getTagsNames())}this.setState({favorited:!this.state.favorited});var c="/"+this.props.hash+"/fav.json";this.props.is_album&&(c="/a"+c),$.ajax({url:c,type:"POST",data:{ajax:!0,msid:Imgur.Environment.msid,location:"inside"},error:_.bind(function(){Imgur.Environment.auth.id&&this.setState({favorited:!this.state.favorited})},this)}),Imgur.Util.jafoLog({event:"favorite",meta:{isAlbum:this.props.is_album,hash:this.props.hash,location:"inside",state:a?"unfavorite":"favorite"}})},showAnalytics:function(){var a=this.props.size;if(!this.props.isAd){if(this.props.is_album&&this.props.album_images){a=0;for(var b=0;b<this.props.album_images.length;b++)a+=this.props.album_images[b].size}$.colorbox({html:'<div id="analytics-container"></div>',open:!0,top:"10%",transition:"none",scrolling:!1,fixed:!0,width:636,height:465,className:"blurbox",close:"",title:"Analytics",onComplete:_.bind(function(){ReactDOM.render(React.createElement(Imgur.Elements.Analytics,{ups:this.state.ups,downs:this.state.downs,thumbhash:this.props.is_album?this.props.album_cover:this.props.hash,views:this.state.views,size:a,comments:this.props.comment_count,timestamp:this.props.timestamp,title:this.props.title,inGallery:this.props.in_gallery,galleryHash:this.props.in_gallery?this.props.hash:"",isAlbum:this.props.is_album,favoriteCount:this.props.favorite_count}),document.getElementById("analytics-container"),$.colorbox.resize)},this)})}},handleReport:function(a){a.preventDefault();var b={type:"galleryPost",hash:this.props.hash,isAlbum:this.props.is_album,nsfw:this.props.nsfw};Imgur.Util.jafoLog({event:"reportInvoked",meta:b}),Imgur.Environment.auth.id?$.colorbox({html:'<div id="report-container"></div>',open:!0,top:"10%",transition:"none",scrolling:!1,fixed:!0,width:Imgur.Elements.Report.dimensions.width,height:Imgur.Elements.Report.dimensions.height,className:"noBorder",close:"",onComplete:_.bind(function(){ReactDOM.render(React.createElement(Imgur.Elements.Report,{type:"post",url:"/gallery/action/report_image/"+this.props.hash,metadata:b,cb:_.bind(function(){this.setState({reported:!0})},this)}),$("#report-container").get(0))},this),onClosed:_.bind(function(){Imgur.Gallery.getInstance()._.preventReportCloseAnalytics||Imgur.Util.jafoLog({event:"reportCancel",meta:_.extend({method:"modal"},b)}),Imgur.Gallery.getInstance().resetReportCloseAnalytics()},this)}):Imgur.getInstance().signin("reportAttempt")},handleDownload:function(a){a.preventDefault(),Imgur.Util.jafoLog({event:"downloadImage",meta:{control:"postOptions",nsfw:this.props.nsfw,hash:this.props.hash,isAlbum:this.props.is_album,isAnimated:this.props.animated}}),this.props.is_album?window.location="/a/"+this.props.hash+"/zip":window.location="/download/"+this.props.hash+"/"+encodeURIComponent(this.props.title)},handleEmbed:function(a){a.preventDefault(),$.colorbox({href:'<div id="embed-modal"></div>',open:!0,inline:!0,top:40,transition:"none",scrolling:!1,width:500,height:581,className:"embed-wrapper",title:"Embed this post",onComplete:_.bind(function(){ReactDOM.render(React.createElement(Imgur.Gallery.Embed,{hash:this.props.hash,title:this.props.title,in_gallery:!!this.props.in_gallery,is_album:!!this.props.is_album,nsfw:!!this.props.nsfw}),document.getElementById("embed-modal"))},this)})},handleMarkMature:function(a){a.preventDefault();var b="Are you sure you want to mark this submission as mature?";Imgur.Environment.auth.show_mature||(b="<p>"+b+'</p><p>If you\'d like to enable mature content for your account, please visit your <a href="/account/settings">account settings</a> and choose &quot;Show mature posts and comments.&quot; If you mark a post as mature, but choose not to enable mature content, you may not see your post when browsing Imgur.</p>'),$.colorbox({href:'<div id="mark-mature"></div>',open:!0,inline:!0,top:"15%",transition:"none",scrolling:!1,width:420,height:160,className:"blurbox",title:"Mark this submission as mature?",onComplete:_.bind(function(){ReactDOM.render(React.createElement(Imgur.Elements.Confirm,{message:b,handleNo:$.colorbox.close,handleYes:_.bind(function(){$.post("/gallery/action/mature_image/"+this.props.hash,{sid:Imgur.Environment.msid},_.bind(function(a){Imgur.Util.jafoLog({event:"markGalleryAsMature",meta:{hash:this.props.hash,isAlbum:this.props.is_album}}),$.colorbox.close(),humanMsg.displayMsg("Submission marked as mature")},this))},this)}),document.getElementById("mark-mature"),$.colorbox.resize)},this)})},togglePostOptions:function(){this.setState({postOptionsOpened:!this.state.postOptionsOpened},_.bind(function(){this.state.postOptionsOpened?document.addEventListener("click",this.togglePostOptions):document.removeEventListener("click",this.togglePostOptions)},this))},handleHideAlbumFromAccount:function(a){a.preventDefault(),$.colorbox({href:'<div id="hide-album"></div>',open:!0,inline:!0,top:"15%",transition:"none",scrolling:!1,width:420,height:160,className:"blurbox",title:"Hide Album From Account",onComplete:_.bind(function(){ReactDOM.render(React.createElement(Imgur.Elements.Confirm,{message:"Are you sure you want to hide this album? It will still be accessible through the link, but it won't show up in your account. You will also no longer be able to edit it.",handleNo:$.colorbox.close,handleYes:_.bind(function(){$.post("/ajaxalbums/hide/"+this.props.hash,{msid:Imgur.Environment.msid},function(a){$.colorbox.close(),humanMsg.displayMsg("Album has been hidden")})},this)}),document.getElementById("hide-album"),$.colorbox.resize)},this)})},logTopicClick:function(){Imgur.Util.jafoLog({event:"openTopicTag",meta:{hash:this.props.hash,isAlbum:this.props.is_album,nsfw:this.props.nsfw,isHot:this.props.is_hot,control:"topic",location:"inside",galleryType:"topic",topicTag:this.props.topic}})},handleDelete:function(a){a.preventDefault(),$.colorbox({href:'<div id="delete-album-form"></div>',open:!0,inline:!0,top:"15%",transition:"none",scrolling:!1,width:420,height:160,className:"blurbox",title:"Remove Submission from Gallery",onComplete:_.bind(function(){ReactDOM.render(React.createElement(Imgur.Elements.Confirm,{message:"Are you sure you want to remove this submission from the gallery?",handleNo:$.colorbox.close,handleYes:_.bind(function(){$.post("/gallery/action/delete_image/"+this.props.hash,{sid:Imgur.Environment.msid},_.bind(function(a){Imgur.Util.jafoLog({event:"removeFromGallery",meta:{hash:this.props.hash,isAlbum:this.props.is_album}}),Imgur.Environment.auth.id&&($.colorbox.close(),humanMsg.displayMsg("Submission has been removed"),setTimeout(_.bind(function(){this.props.is_album?window.location="/a/"+this.props.hash:window.location="/"+this.props.hash},this),500))},this))},this)}),document.getElementById("delete-album-form"),$.colorbox.resize)},this)})},handleRemoveTag:function(a){var b=this;$.post("/gallery/action/remove_tag/"+this.props.hash,{sid:Imgur.Environment.msid,tag:a.tag},function(){b.setState({galleryTags:b.state.galleryTags.filter(function(b){return b.tag!==a.tag})}),b.props.emitter.trigger("admTagRemoved",a.tag),humanMsg.displayMsg(a.display+" removed from post")}).fail(function(){humanMsg.displayMsg("Unable to remove tag "+a.display+" from post","error-msg")})},getTagsNames:function(){var a=_.values(this.state.galleryTags);return _.map(a,function(a){return a.display||a.tag})},renderTags:function(){var a=this;return this.props.in_gallery?this.props.hide_tags?null:this.state.galleryTags?Object.values(this.state.galleryTags).map(function(b){return React.createElement(Imgur.Elements.Tag.View,{key:b.tag,tagName:b.display||b.tag,redirectTo:"/t/"+b.tag,redirectAnalytics:a.handleTagClick(b.tag),classNames:"post-action-tags-tag",allowRemoval:Imgur.Environment.isGalleryAdmin||Imgur.Environment.isGallerySupermoderator,removeTag:a.handleRemoveTag.bind(a,b),tag:b})}):null:null},handleTagClick:function(a){return function(){var b=_.extend(Imgur.Gallery.getInstance().getGalleryMetadata(),{location:"tagModule",promotedTagGallery:!1,tagName:a});Imgur.Util.jafoLog({event:"tagClick",meta:b})}},postOption:function(a,b,c){var d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#";return React.createElement("li",{key:b},React.createElement("a",{className:"post-action-option",href:d,onClick:c},React.createElement("span",{className:"icon-"+a+" post-action-options-items-icon"}),React.createElement("span",{className:"post-action-link-text"},b)))},openSaveToFolder:function(a){if(a.preventDefault(),!Imgur.Environment.auth.id)return void Imgur.getInstance().signin("favFolderAttempt");var b=.9*window.innerHeight;window.document.body.classList.add("modal-open"),$.colorbox({html:'<div id="favorite-folder-container"></div>',open:!0,top:.05*window.innerHeight,transition:"none",scrolling:!1,fixed:!0,width:640,height:b,className:"noBorder",close:"",onComplete:_.bind(function(){ReactDOM.render(React.createElement(Imgur.Elements.FavoriteFolderChooser,{id:this.props.hash,height:b,emitter:this.props.emitter}),$("#favorite-folder-container").get(0))},this),onClosed:_.bind(function(){window.document.body.classList.remove("modal-open")},this)})},render:function(){var a=!this.props.in_gallery||this.props.hide_points,b=classNames({"post-action-icon":!0,"post-action-upvote":!0,"icon-upvote-outline":!this.state.upvoted,"icon-upvote-fill":this.state.upvoted,green:this.state.upvoted}),c=classNames({"post-action-icon":!0,"post-action-downvote":!0,"icon-downvote-outline":!this.state.downvoted,"icon-downvote-fill":this.state.downvoted,red:this.state.downvoted}),d=classNames({"post-action-icon":!0,"post-action-favorite":!0,"icon-favorite-outline":!this.state.favorited,"icon-favorite-fill":this.state.favorited,aqua:this.state.favorited}),e={className:"post-action-stats"};this.props.in_gallery&&(e.className+=" pointer",e.onClick=this.showAnalytics);var f=classNames({"post-action-stats-points":!0,nodisplay:a}),g=classNames({nodisplay:0==this.state.views||this.props.hide_views}),h=classNames({"post-action-options":!0,pointer:!0,right:!0,"post-action-options--opened":this.state.postOptionsOpened}),i=[],j=Imgur.Environment.auth.url&&Imgur.Environment.auth.url==this.props.account_url;this.props.in_gallery&&(this.props.hide_report||(this.state.reported?i.push(this.postOption("flag","Post Reported")):i.push(this.postOption("report-outline","Report Post",this.handleReport))),!this.props.nsfw&&j&&i.push(this.postOption("alert","Mark As Mature",this.handleMarkMature)),j&&i.push(this.postOption("trash","Delete Post",this.handleDelete))),i.push(this.postOption("download","Download Post",this.handleDownload)),i.push(this.postOption("embed","Embed Post",this.handleEmbed)),this.props.is_album||this.props.animated||i.push(this.postOption("meme","Make Meme",void 0,"/memegen/create/"+this.props.hash));var k=null;this.state.signupTooltipOptions&&(k=this.createSignupTooltip(this.state.signupTooltipOptions));var l=React.createElement("a",{className:"Open-Save-To-Folder-Button",onClick:this.openSaveToFolder},"+");return a?React.createElement("div",null,React.createElement("div",{className:"post-action-actions post-action-single"+(this.props.add_border?" post-action-border":"")},k,this.props.in_gallery?React.createElement("span",null,React.createElement(Imgur.Elements.PressButton,{onPress:_.partial(this.handleVote,"up"),className:b}),React.createElement(Imgur.Elements.PressButton,{onPress:_.partial(this.handleVote,"down"),className:c})):"",React.createElement(Imgur.Elements.PressButton,{onPress:_.partial(this.handleFavorite),className:d}),l,React.createElement("span",e,React.createElement("span",{className:g},Imgur.Util.numberFormat(this.state.views)," view",1!=this.state.views&&this.state.views!=-1?"s":"")),React.createElement("div",{onClick:this.togglePostOptions,className:h},React.createElement("span",{className:"icon-ellipses"}),React.createElement("ul",{className:"post-action-options-items"},i)),!this.props.in_gallery||this.props.hide_report||this.state.reported||"new"!=this.props.sideGallery.getSection()?"":React.createElement("a",{href:"",onClick:this.handleReport,className:"icon-flag post-action-report right"}),React.createElement(Imgur.Elements.Socialicons,{classes:"right",tagsNames:this.getTagsNames()})),React.createElement("div",{className:"post-action-tags"},this.renderTags())):React.createElement("div",{className:this.props.add_border?"post-action-border":""},React.createElement("div",{className:"post-action-actions"},k,React.createElement(Imgur.Elements.PressButton,{onPress:_.partial(this.handleVote,"up"),className:b}),React.createElement(Imgur.Elements.PressButton,{onPress:_.partial(this.handleVote,"down"),className:c}),React.createElement(Imgur.Elements.PressButton,{onPress:_.partial(this.handleFavorite),className:d}),l,React.createElement("div",{onClick:this.togglePostOptions,className:h},React.createElement("span",{className:"icon-ellipses"}),React.createElement("ul",{className:"post-action-options-items"},i)),React.createElement(Imgur.Elements.Socialicons,{classes:"right",tagsNames:this.getTagsNames()})),React.createElement("div",{className:"post-action-meta"},React.createElement("span",e,React.createElement("span",{ref:"points",className:f},Imgur.Util.numberFormat(this.state.points)," Point",1!=this.state.points&&this.state.points!=-1?"s":""),React.createElement("span",{ref:"views",className:g},Imgur.Util.numberFormat(this.state.views)," View",1!=this.state.views&&this.state.views!=-1?"s":""))),React.createElement("div",{className:"post-action-tags"},this.renderTags()))}}),Namespace("Imgur.Gallery"),Imgur.Gallery.Privacy=React.createClass({displayName:"Gallery-Privacy",PUBLIC:0,
HIDDEN:1,getInitialState:function(){return{publicPrivacy:this.props.privacy==this.PUBLIC}},handleChange:function(a){this.setState({publicPrivacy:this.refs.privacyForm.elements.privacy.value==this.PUBLIC})},handleSave:function(){var a=this.state.publicPrivacy?this.PUBLIC:this.HIDDEN;$.ajax({method:"POST",url:"/ajaxalbums/settings/"+this.props.hash,data:{privacy:a},success:function(){this.props.handleSuccess(a)}.bind(this)})},render:function(){var a="Your posts are hidden to anyone coming to your profile, but can still be accessed via the direct URL.",b="privacy-hidden-message";return this.state.publicPrivacy&&(a="When a post is marked 'public', it can be seen in your profile and shared around the web.",b="privacy-public-message"),React.createElement("div",null,React.createElement("div",{className:"privacy-selection"},React.createElement("div",{className:"privacy-title"},"Select a setting"),React.createElement("div",{className:"spaceform"},React.createElement("form",{ref:"privacyForm"},React.createElement("label",{className:"privacy-public"+(this.state.publicPrivacy?" privacy-selected":"")},React.createElement("input",{type:"radio",name:"privacy",value:this.PUBLIC,checked:this.state.publicPrivacy,onChange:this.handleChange}),React.createElement("i",{className:"spaceform-radio"})," ",React.createElement("span",{className:"privacy-setting"},"Public")," ",React.createElement("i",{className:"icon-globe"})),React.createElement("label",{className:this.state.publicPrivacy?"":"privacy-selected"},React.createElement("input",{type:"radio",name:"privacy",value:this.HIDDEN,checked:!this.state.publicPrivacy,onChange:this.handleChange}),React.createElement("i",{className:"spaceform-radio"})," ",React.createElement("span",{className:"privacy-setting"},"Hidden")," ",React.createElement("i",{className:"icon-lock"}))))),React.createElement("p",{className:b},a),React.createElement("button",{className:"btn btn-action right privacy-save",onClick:this.handleSave},"Save"))}}),Namespace("Imgur.Gallery"),Imgur.Gallery.ShareImage=React.createClass({displayName:"Gallery-ShareImage",render:function(){return React.createElement("div",null,React.createElement("div",{className:"left"},React.createElement("h3",{className:"font-opensans-reg"},"Share Link"),React.createElement(Imgur.Elements.Copy,{value:this.props.embedcoder.imageLink(),inputClass:"copy-input",copyClass:"copy"}),React.createElement("h3",{className:"font-opensans-reg"},"BBCode (Forums)"),React.createElement(Imgur.Elements.Copy,{value:this.props.embedcoder.bbcode(),inputClass:"copy-input",copyClass:"copy"})),React.createElement("div",{className:"right"},React.createElement("h3",{className:"font-opensans-reg"},"Embed in HTML"),React.createElement(Imgur.Elements.Copy,{value:this.props.embedcoder.embed(),inputClass:"copy-input",copyClass:"copy"}),React.createElement("h3",{className:"font-opensans-reg"},"Markdown (Reddit)"),React.createElement(Imgur.Elements.Copy,{value:this.props.embedcoder.markdown(),inputClass:"copy-input",copyClass:"copy"})))}}),Namespace("Imgur.Gallery"),Imgur.Gallery.SharePost=React.createClass({displayName:"Gallery-ShareImage",getInitialState:function(){return{topics:[],validTitle:!1,topicSelected:-1}},componentWillMount:function(){this.topics_request=$.get("https://api.imgur.com/3/topics/defaults",_.bind(function(a){this.setState({topics:a.data},$.colorbox.resize)},this))},componentWillUnmount:function(){this.topics_request.abort()},handleTopicSelect:function(a){this.setState({topicSelected:a})},handleTitleValidation:function(a){this.setState({validTitle:a})},handleShare:function(){},handleFail:function(a){var b=this;try{if(!a)throw"bad response";a.responseText&&(a=$.parseJSON(a.responseText))}catch(c){return humanMsg.displayMsg("An unknown error occurred. Please try again.","error-msg"),void Imgur.Util.jafoLog({event:"shareOnImgurError",meta:{hash:this.props.hash,error:"unparsable",button:"share"}})}if(null==a.data||null==a.data.error||null==a.data.error.message)return humanMsg.displayMsg("An unknown error occurred. Please try again.","error-msg"),void Imgur.Util.jafoLog({event:"shareOnImgurError",meta:{hash:this.props.hash,error:"unknown",button:"share"}});var d=parseInt(a.data.error.message),e="unknown";if(!isNaN(d)&&d>0){e="rateLimit";var f=d>60?Math.round(d/60)+Imgur.Util.pluralize(Math.round(d/60)," minute"):d+Imgur.Util.pluralize(d," second");humanMsg.displayMsg("You're sharing too quickly. Please wait "+f+".","error-msg")}else"Banned"==a.data.error.message?(e="banned",humanMsg.displayMsg("Your account has been blocked. Please contact support@imgur.com.","error-msg")):"Terms"==a.data.error.message?(e="terms",this.showTerms(savePreview)):"NotVerified"==a.data.error.message?(e="notVerified",this.showEmailVerification(function(){savePreview?b.handleSave():b.handleSubmit()})):"OP"==a.data.error.message?humanMsg.displayMsg("OP must exist.","error-msg"):"Suspended"==a.data.error.message?(e="suspended",humanMsg.displayMsg("Your account is currently suspended","error-msg")):humanMsg.displayMsg("An unknown error occurred. Please try again.","error-msg");Imgur.Util.jafoLog({event:"shareOnImgurError",meta:{hash:this.props.hash,error:e,button:"share"}})},render:function(){var a=[],b=this.state.topicSelected>=0,c=classNames({right:!0,btn:!0,"btn-grey":!this.state.validTitle||!b,"btn-action":this.state.validTitle&&b}),d="Share";this.state.validTitle||b?this.state.validTitle?b||(d="Topic Required"):d="Title Required":d="Title & Topic Required";for(var e=0;e<this.state.topics.length;e++){var f="";this.state.topicSelected==e&&(f=" green"),a.push(React.createElement("div",{className:"post-share-topic pointer"+f,onClick:_.partial(this.handleTopicSelect,e),key:"topic"+e},React.createElement("i",{className:"icon-checkmarkcircle"})," ",React.createElement("span",{className:"post-share-topic-name"},this.state.topics[e].name),React.createElement("div",{className:"post-share-topic-desc"+f},this.state.topics[e].description)))}return React.createElement("div",null,React.createElement("div",{className:"tooltip"},"Contains Mature Content ",React.createElement("input",{type:"checkbox"}),React.createElement("span",{className:"tooltip-text tooltip-text-bottom"},"What's this? Mature content is intended for adult audiences only. Selecting this option also enables mature content in your stream.")),React.createElement(Imgur.Elements.NanoScroller,{classes:"post-share-options"},React.createElement(Imgur.Share.Title,{handleChange:this.handleTitleValidation,title:this.props.title,maxLength:255,inputClasses:"post-share-input",limitClasses:"right post-share-counter"}),React.createElement("div",{className:"cf"}),React.createElement("span",{className:"post-share-topics-header"},"Topic"),React.createElement("div",{className:"post-share-topics"},a)),React.createElement("div",{className:"post-share-save"},React.createElement("button",{className:c},d)))}}),Namespace("Imgur.Gallery"),Imgur.Gallery.SourceBar=React.createClass({displayName:"Gallery-SourceBar",viaAppIconClick:function(){Imgur.Util.jafoLog({event:"viaAppIcon",meta:{type:"upload",hash:this.props.image.hash,isAlbum:this.props.image.is_album,nsfw:this.props.image.nsfw,inGallery:!0,platform:"ios"===this.props.image.platform?"iphone":this.props.image.platform}})},_redditSource:function(a,b){return React.DOM.a({href:"https://www.reddit.com"+a,target:"_blank",key:"reddit"},b)},handleUserProfileClick:function(){Imgur.Util.jafoLog({event:"userProfileNav",meta:{accountId:this.props.image.account_id,method:"usernamePost"}})},componentDidMount:function(){this.sendToUserStatisticsIfPostIsPromoted()},componentDidUpdate:function(a){a.image.hash!==this.props.image.hash&&this.sendToUserStatisticsIfPostIsPromoted()},sendToUserStatisticsIfPostIsPromoted:function(){if(this.props.image.isAd||this.props.image.is_ad){var a=Imgur.UserStatistics.getInstance();a.emitActionUserInteractsWithPromotedPost(this.props.image.account_url)}},render:function(){var a=[],b=!1;if((this.props.image.isAd||this.props.image.is_ad)&&a.push(React.DOM.a({href:"https://imgur.com/blog/2015/05/31/about-promoted-posts/",className:"title promoted-tag",title:"learn more about promoted posts",key:"promoted"},"Promoted")),this.props.image.account_url)a.push(React.DOM.span({key:"by"}," by "),React.DOM.a({href:"/user/"+this.props.image.account_url,onClick:this.handleUserProfileClick,title:"view account of "+this.props.image.account_url,className:"post-account",key:"account"},this.props.image.account_url));else if(this.props.image.reddit){var c=this.props.image.video_source&&!this.props.image.is_album?" (source) ":"(source) ";a.push(this._redditSource(this.props.image.reddit,c))}else this.props.image.subreddit?a.push(this._redditSource(this.props.image.permalink,"(source) ")):(b=!0,a.push(React.DOM.span({key:"anon"},"Uploaded ")));var d={className:"post-title-meta font-opensans-semibold"};return this.props.image.title||Imgur.Environment.hasAccess||this.props.slim||(d.className+=" post-title-meta--notitle"),this.props.image.isAd||this.props.image.is_ad?React.DOM.div(d,a):(["ios","android"].indexOf(this.props.image.platform)>=0&&a.push(React.DOM.span({key:"platform"}," via ",React.DOM.a({href:"//"+Imgur.Environment.host+"/apps",onClick:this.viaAppIconClick},"ios"==this.props.image.platform?"iPhone":"Android",React.DOM.span({className:"icon-mobile"},null)))),(this.props.image.timestamp||this.props.image.datetime)&&a.push(React.createElement(Imgur.Elements.Timestamp,{key:"humantime"+(this.props.image.timestamp||this.props.image.datetime),shouldUpdate:!1,timestamp:this.props.image.timestamp||this.props.image.datetime})),this.props.image.video_source&&!this.props.image.is_album&&a.push(React.DOM.span({className:"vidgif-info",key:"vidgif"},"Made with ",React.DOM.a({href:"//imgur.com/vidgif",target:"_blank"},"Video to GIF"))),React.DOM.div(d,a))}}),Namespace("Imgur.Gallery.Post"),Imgur.Gallery.Post=React.createClass({INITIAL_LOAD:10,MAX_WIDTH:728,MAX_NON_GALLERY_TITLE:128,MAX_TEXTAREA:32767,ADD_IMAGE_ROW_HEIGHT:30,RENDER_STATE:{PRE:1,POST:2},updatingState:!1,_:{onScroll:null,$window:$(window),audioState:Imgur.VideoControls.AudioState.PRESENT_MUTED,audioStateSessionStorage:new Imgur.Storage.Session("audioState")},displayName:"GalleryPost",getInitialState:function(){var a="";return this.props.data.force_grid&&(a="browse"),{all_loaded:!1,gridType:a,render_state:this.RENDER_STATE.PRE,scrolltop:0,window_height:600,thumb_size:"0"==localStorage.getItem("retina")?"g":"r",isLoadingTags:!1}},componentDidMount:function(){if(this.props.data.is_album&&(this._calculateContainerHeights(),this.setState({render_state:this.RENDER_STATE.POST}),this.props.in_gallery||(this.props.emitter.on("initGrid",this,function(a){this._.$window.off("scroll",this._.onScroll),this.setState({gridType:a})}),this.props.emitter.on("closeGrid",this,function(){this._.$window.on("scroll",this._.onScroll),this._handleScroll(),this.setState({gridType:""})}))),this.props.data.is_viral){var a='<div id="post-edit-message">';a+='<div class="post-edit-message-header"></div>',a+='<div class="post-edit-message-body">',a+="<p><strong>Your post is in Most Viral! Please edit responsibly.</strong></p>",a+='<p>It\'s good Imgur-etiquette to use the phrase "Edit" to distinguish new details about your post.</p>',a+='<p>Bad edits change the context of the post, solicit Imgurians to send inappropriate things, add spammy links, or violate our <a href="/rules">community rules</a>.</p>',a+='<div class="right margin-top margin-bottom"><button class="btn btn-action" onclick="$.colorbox.close()">Okay, got it!</button></div>',a+="</div></div>",$.colorbox({html:a,open:!0,top:"10%",transition:"none",scrolling:!1,fixed:!0,width:540,height:445,className:"noBorder noX"})}this.showTitles=Imgur.LocalStorage.get("showTitles")||!1,this.props.emitter.on("audioStateChange",this,this.handleAudioStateChange)},componentWillMount:function(){this.props.all_loaded&&this.setState({all_loaded:!0}),this._.onScroll=_.throttle(_.bind(this._handleScroll,this),250),this._.$window.on("scroll",this._.onScroll),this._handleScroll()},componentWillUnmount:function(){this.props.data.is_album&&this._.$window.off("scroll",this._.onScroll)},componentDidUpdate:function(a,b){this.props.data.is_album&&(this.state.render_state==this.RENDER_STATE.PRE||this.props.has_access&&this.updatingState===!0)&&(this._calculateContainerHeights(),this.updatingState=!1,this.setState({render_state:this.RENDER_STATE.POST}))},componentWillReceiveProps:function(a){this.setState({all_loaded:a.all_loaded,render_state:this.RENDER_STATE.PRE,gridType:a.gridType})},getSessionAudioState:function(){return this._.audioStateSessionStorage.get()},_handleScroll:function(){this.setState({scrolltop:this._.$window.scrollTop(),window_height:this._.$window.height()})},_scaleWidth:function(a,b,c){if(b&&a){var d=b/a;if(a>=c)return Math.round(c*d)}return b},updateTagsFromText:function(a,b,c){var d=this;if("description"===b){var e=a+b,f=new RegExp("#([a-zA-Z0-9_]{"+Imgur.Constants.MIN_TAG_LENGTH+","+Imgur.Constants.MAX_TAG_LENGTH+"})","g"),g=[],h=void 0;do h=f.exec(c),h&&g.push(h[1]);while(h);this.props.tagStore.getTags().forEach(function(a){a.addedVia===e&&g.indexOf(a.tagName)===-1&&d.props.tagStore.removeTag(a.tagName)}),g.forEach(function(a){d.props.tagStore.addTag(a,e,function(){})})}},_setContainerHeightByIndex:function(a,b,c){var d=this.props.album_image_store.getImages(this.props.data.hash),e=d.images[a],f=e.containerHeight;e[b]=c;var g=e.reactKey?e.reactKey:e.hash,h=this._calculateElementHeight(ReactDOM.findDOMNode(this.refs[g]));e.containerHeight=h!==!1?h:e.containerHeight,f!=e.containerHeight&&this._handleScroll(),this.updateTagsFromText(a,b,c)},_calculateContainerHeights:function(){var a=this.props.album_image_store.getImages(this.props.data.hash),b=a.count;a=a.images,this.state.all_loaded||(b=Math.min(b,this.INITIAL_LOAD));for(var c=0;c<b;c++)if("number"!=typeof a[c].containerHeight||a[c].recalcReady){var d=a[c].reactKey?a[c].reactKey:a[c].hash,e=this._calculateElementHeight(ReactDOM.findDOMNode(this.refs[d]));a[c].containerHeight=e!==!1?e:a[c].containerHeight,a[c].needsRecalc=!1,a[c].recalcReady=!1}},_calculateElementHeight:function(a){if(!a)return 0;var b=document.defaultView.getComputedStyle(a,null),c=b.getPropertyValue("height");if("auto"==c)return!1;var d=parseFloat(b.getPropertyValue("height"),10),e=parseFloat(b.getPropertyValue("margin-top"),10)+parseFloat(b.getPropertyValue("margin-bottom"),10);return d+e},loadAll:function(){var a=this.props.album_image_store.getImages(this.props.hash);null!=a?this.setState({all_loaded:!0,render_state:this.RENDER_STATE.PRE}):this.props.album_image_store.fetchImages(this.props.hash,_.bind(function(a){this.setState({all_loaded:!0,render_state:this.RENDER_STATE.PRE})},this))},_createRenderedImage:function(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},d={thumbsize:a.thumbsize,width:this.MAX_WIDTH,minHeight:a.minHeight,item:a,wrap_with_direct_link:!1,poster:!1,promoted:this.props.data.isAd||this.props.data.is_ad,showShareLinks:c.showShareLinks||this.props.has_access,discarding_referrer:!this.props.initial||b>=this.INITIAL_LOAD&&!a.shown,firing_pixel:!this.props.initial||b>=this.INITIAL_LOAD&&!a.shown,handleRemove:this.handleRemove,album_hash:this.props.data.hash,emitter:this.props.emitter,playAudioIfAvailable:0===b&&c.sessionAudioState===Imgur.VideoControls.AudioState.PRESENT_ON,handleVideoUpdate:this.handleVideoUpdate};return React.createElement(Imgur.ImageViewer,d)},_createComponent:function(a,b,c,d){var e=c==d-1,f=classNames({"post-image-container":!0,"post-image-container--spacer":!(e||this.props.has_access||a.title||a.description)}),g=classNames({"post-image-meta":a.title||a.description||this.props.showEditTools,"post-image-meta--last":e&&!this.props.showEditTools}),h=a.reactKey?a.reactKey:a.hash,i=2*c+2,j=2*c+3;return React.DOM.div({ref:h,id:a.hash,className:f,key:h},b,React.DOM.div({className:g},this.showTitles||a.title?React.createElement(Imgur.Gallery.TitleDesc,{postSavingStore:this.props.postSavingStore,element:"h2",type:"title",classes:"post-image-title",placeholder:"Image title",text:a.title,deletehash:a.deletehash,triggerSave:a.triggerSaveTitleDesc,max_length:this.MAX_NON_GALLERY_TITLE,no_enter:!0,dont_protect:!0,updateContainer:_.bind(this._setContainerHeightByIndex,this,c),showEditTools:this.props.showEditTools,tabindex:this.props.showEditTools?i:"",handleKeyDown:_.bind(this.editKeyHandler,this,i),key:"tabindex"+i,ref:"tabindex"+i}):null,React.createElement(Imgur.Gallery.DescriptionTagSuggestContainer,{postSavingStore:this.props.postSavingStore,tagStore:this.props.tagStore,element:"div",type:"description",classes:"post-image-description"+(this.props.showEditTools?" post-image-description--editable":""),placeholder:"Add a description #tags and @mention",text:a.description,deletehash:a.deletehash,triggerSave:a.triggerSaveTitleDesc,max_length:this.MAX_TEXTAREA,dont_protect:this.props.data.isAd||this.props.data.is_ad,linkify:!0,linkifier:this.props.linkifier,updateContainer:_.bind(this._setContainerHeightByIndex,this,c),showEditTools:this.props.showEditTools,tabindex:this.props.showEditTools?j:"",handleKeyDown:_.bind(this.editKeyHandler,this,j),key:"tabindex"+j,ref:"tabindex"+j})))},_getThumbSize:function(a){return a.prefer_video?"":"r"==this.state.thumb_size?a.width>2*this.MAX_WIDTH?"r":"":a.width>this.MAX_WIDTH?"g":""},handleRemove:function(a){this.props.album_image_store.deleteImage(this.props.data.hash,a),this.forceUpdate()},editKeyHandler:function(a,b){if(9==b.keyCode){b.shiftKey?a--:a++;var c=ReactDOM.findDOMNode(this.refs["tabindex"+a]);if(!c)return;b.preventDefault(),$("html, body").animate({scrollTop:c.offsetTop-200},100,function(){c.focus()})}},handleGridColorbox:function(a,b){$target=$(b.target),$target.colorbox({rel:"post-grid-image",href:$target.attr("data-href"),open:!0,scrolling:!1,maxWidth:"90%",maxHeight:"90%",className:"blurbox",title:$target.attr("data-title"),transition:"none",onOpen:function(){this.props.emitter.trigger("blockHotKeys",!0)}.bind(this),onClosed:function(){this.props.emitter.trigger("blockHotKeys",!1)}.bind(this)})},handleVideoUpdate:function(a,b,c,d,e,f){var g=this.props.album_image_store.getImage(a,b);g&&(g=Object.assign({},g,{playState:c,audioState:d,volume:e,currentTime:f}),this.props.album_image_store.setImage(a,b,g))},handleAudioStateChange:function(a){this._.audioStateSessionStorage.save(a)},render:function(){var a,b=this.props.album_image_store.getImages(this.props.data.hash),c=[],d=[],e=0,f=null,g=null,h=!1,i=this.getSessionAudioState(),j=this.props.has_access?null:React.DOM.div({className:"post-action"},React.createElement(Imgur.Gallery.PostActionBar,_.extend(this.props.data,{key:this.props.data.hash+"postactionbar",insideTagController:this.props.insideTagController,has_access:this.props.has_access,in_gallery:this.props.in_gallery,emitter:this.props.emitter,analytics:this.props.analytics,hide_points:this.props.hide_points,hide_views:this.props.hide_views,hide_tags:this.props.hide_tags,hide_report:this.props.hide_report,sideGallery:this.props.sideGallery,add_border:h,album_images:this.props.data.is_album?b.images:[]})));if(this.props.data.is_album&&b){e=b.count;var k=$(".post-images"),l=0,m=0,n=0,o=k.length?k.offset().top:0;if("rearrange"===this.state.gridType)return React.createElement(Imgur.Gallery.Grid,{album_image_store:this.props.album_image_store,postSavingStore:this.props.postSavingStore,deletehash:this.props.data.deletehash,hash:this.props.data.hash,thumbnail:this.props.data.album_cover,offset:o,mouseUp:this.props.rearrangeImages,allowRearrange:!0,gridImageClasses:"grab"});if("browse"===this.state.gridType)return React.DOM.div({},React.createElement(Imgur.Gallery.Grid,{album_image_store:this.props.album_image_store,postSavingStore:this.props.postSavingStore,deletehash:this.props.data.deletehash,hash:this.props.data.hash,thumbnail:this.props.data.album_cover,offset:o,mouseUp:this.handleGridColorbox,allowRearrange:!1,gridImageClasses:"pointer"}),j);var p=this.props.data.is_ad||this.props.data.isAd;this.state.all_loaded||p||(e=Math.min(e,this.INITIAL_LOAD));for(var q=0;q<e;q++){var r=b.images[q];if(r.minHeight&&!r.needsRecalc||(!r.animated&&r.width>this.MAX_WIDTH?r.thumbsize=this._getThumbSize(r):r.thumbsize="",r.minHeight=this._scaleWidth(r.width,r.height,this.MAX_WIDTH)),p||this.state.render_state==this.RENDER_STATE.PRE)p||q<this.INITIAL_LOAD?(a=this._createRenderedImage(r,q,{showShareLinks:!1,sessionAudioState:i}),r.shown=!0):a=React.DOM.div({ref:r.hash,style:{minHeight:r.minHeight}}),c.push(this._createComponent(r,a,q,e));else{if("number"!=typeof r.containerHeight||r.needsRecalc){a=this._createRenderedImage(r,q,{sessionAudioState:i}),d.push(this._createComponent(r,a,q,e)),r.recalcReady=!0;continue}var s=this.state.scrolltop-this.state.window_height,t=this.state.scrolltop+2*this.state.window_height,u=o+l+m,v=u+r.containerHeight,w=this.props.has_access&&!this.props.in_gallery&&q!=e-1;u>s&&u<t||v>s&&v<t||u<s&&v>t?(m+=r.containerHeight,a=this._createRenderedImage(r,q,{sessionAudioState:i}),r.shown=!0,c.push(this._createComponent(r,a,q,e)),w&&this.props.addImage&&c.push(React.DOM.label({key:"add-between-"+(q+1),htmlFor:"add-between"},React.DOM.div({key:"addimage"+q,className:"post-add-image between",onClick:function(a){this.props.addImage(a)}.bind(this,q+1)},React.DOM.div({className:"tear"}),React.DOM.div({className:"icon-plus"}))))):0==m?l+=r.containerHeight+(w?this.ADD_IMAGE_ROW_HEIGHT:0):n+=r.containerHeight+(w?this.ADD_IMAGE_ROW_HEIGHT:0)}h=!!(r.description||r.title||b.count>this.INITIAL_LOAD&&e==this.INITIAL_LOAD)}d.length>0&&(this.updatingState=!0),!p&&!this.state.all_loaded&&b.count>this.INITIAL_LOAD&&(f=React.DOM.div({className:"js-post-truncated"},React.DOM.a({className:"post-loadall btn btn-action",onClick:this.loadAll},"Load "+(b.count-this.INITIAL_LOAD)+" more "+Imgur.Util.pluralize(b.count-this.INITIAL_LOAD,"image")),React.DOM.span({className:"post-gridview"},React.DOM.span({className:"icon-grid"}),React.DOM.a({className:"post-gridview-link",target:"_blank",href:"/a/"+this.props.data.hash+"?grid"},"Grid view")))),this.props.data.album_description&&(g=React.createElement(Imgur.Gallery.TitleDesc,{postSavingStore:this.props.postSavingStore,element:"div",type:"description",classes:"post-description",placeholder:"Add a post description",text:this.props.data.album_description,is_album:!0,deletehash:this.props.data.deletehash,max_length:this.MAX_TEXTAREA,dont_protect:this.props.data.isAd||this.props.data.is_ad,linkify:!0,linkifier:this.props.linkifier,showEditTools:this.props.showEditTools,tabindex:this.props.showEditTools?2*e+2:""}));for(var q=0;l>=1e6;q++)c.unshift(React.DOM.div({key:"padtop"+q,style:{height:1e6}})),l-=1e6;c.unshift(React.DOM.div({key:"padtop",style:{height:l}})),c.push(React.DOM.div({key:"padbot",style:{height:n}}))}else{var x=0,y=2;if(this.props.data.width>this.MAX_WIDTH){var z=this.MAX_WIDTH/this.props.data.width;x=this.props.data.height*z}else x=this.props.data.height||0;var A=function(){humanMsg.displayMsg("Deleted"),setTimeout(function(){window.location=Imgur.Environment.auth.url?"//"+Imgur.Environment.auth.url+"."+Imgur.Environment.host:"/"},1e3)};a=React.createElement(Imgur.ImageViewer,{emitter:this.props.emitter,thumbsize:this._getThumbSize(this.props.data),minHeight:x,width:this.MAX_WIDTH,promoted:this.props.data.isAd||this.props.data.is_ad,item:this.props.data,wrap_with_direct_link:!1,poster:!1,showShareLinks:this.props.has_access,discarding_referrer:!this.props.initial,firing_pixel:!this.props.initial,singleImage:!0,handleRemove:A,playAudioIfAvailable:i===Imgur.VideoControls.AudioState.PRESENT_ON});var B=React.DOM.div({id:this.props.data.hash,className:"post-image-container",key:this.props.data.hash},a,React.DOM.div({className:this.props.data.description||this.props.showEditTools?"post-image-meta":""},React.createElement(Imgur.Gallery.DescriptionTagSuggestContainer,{postSavingStore:this.props.postSavingStore,tagStore:this.props.tagStore,element:"div",type:"description",classes:"post-image-description",placeholder:"Image description",text:this.props.data.description,deletehash:this.props.data.deletehash,max_length:this.MAX_TEXTAREA,dont_protect:this.props.data.isAd||this.props.data.is_ad,linkify:!0,showEditTools:this.props.showEditTools,tabindex:this.props.showEditTools?y:"",handleKeyDown:_.bind(this.editKeyHandler,this,y),autoSuggestTags:!0,key:"tabindex"+y,ref:"tabindex"+y,updateContainer:_.bind(this.updateTagsFromText,this,0)})));c.push(B)}var C=this.props.has_access&&this.props.addImage&&!this.props.in_gallery?React.DOM.div({onClick:this.props.addImage.bind(null,b.images.length),className:"post-add-image end"},React.DOM.span({className:"icon-plus"}),React.DOM.span(null,"Add another image")):null,D=void 0,E=this.props.data.isAd||this.props.data.is_ad;if(E&&this.props.data.customTags){var F='<iframe srcdoc="'+_.escape(this.props.data.customTags)+'"></iframe>';D=React.createElement("div",{style:{display:"none"},dangerouslySetInnerHTML:{__html:F}})}return React.DOM.div({},c,d,f,g,C,D,j)}}),Namespace("Imgur.Gallery.TitleDesc"),Imgur.Gallery.TitleDesc=React.createClass({displayName:"TitleDesc",TYPING_SPEED:500,savedRequest:null,getDefaultProps:function(){return{linkifier:{grab:function(a){return a}}}},getInitialState:function(){return{savedText:this.props.text}},placeCaretAtEnd:function(a){if(a.focus(),"undefined"!=typeof window.getSelection&&"undefined"!=typeof document.createRange){var b=document.createRange();b.selectNodeContents(a),b.collapse(!1);var c=window.getSelection();c.removeAllRanges(),c.addRange(b)}else if("undefined"!=typeof document.body.createTextRange){var d=document.body.createTextRange();d.moveToElementText(a),d.collapse(!1),d.select()}},handlePaste:function(a){a.preventDefault();var b="";a.clipboardData?b=a.clipboardData.getData("Text"):window.clipboardData&&(b=window.clipboardData.getData("Text")),b=Imgur.Util.htmlEntity(b),this.props.linkify&&!this.props.dont_protect&&(b=Imgur.Util.linkify(b,!0,!0,!0)),this.insertText(b)},insertText:function(a){var b,c;if(window.getSelection&&(b=window.getSelection(),b.getRangeAt&&b.rangeCount)){c=b.getRangeAt(0),c.deleteContents();var d=document.createElement("div");d.innerHTML=a;for(var e,f,g=document.createDocumentFragment();e=d.firstChild;)f=g.appendChild(e);c.insertNode(g),f&&(c=c.cloneRange(),c.setStartAfter(f),c.collapse(!0),b.removeAllRanges(),b.addRange(c)),this._save(!1,this.TYPING_SPEED)}},handleKeyDown:function(a){var b=a.which||a.keyCode;this.props.no_enter&&13==b&&(this.refs.text.blur(),window.getSelection().removeAllRanges()),this.props.handleKeyDown&&this.props.handleKeyDown(a)},_save:function(a,b,c){var d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(this.props.deletehash&&(!c||9!=c.keyCode)){var e=this.refs.text,f=e.textContent.length,g={is_album:this.props.is_album};clearTimeout(this.typingTimer),f>this.props.max_length&&(e.textContent=e.textContent.substring(0,this.props.max_length),this.placeCaretAtEnd(e));var h=document.createElement("div");h.innerHTML=e.innerHTML.replace(/(<div>|<p>)(.+?)(<br\s*[\/]?>)?(<\/p>|<\/div>)/gi,"\n$2").replace(/<br\s*[\/]?>/gi,"\n");var i=h.textContent.trim();if(a&&this.props.linkify&&!this.props.dont_protect&&(e.innerHTML=Imgur.Util.linkify(Imgur.Util.htmlEntity(i),!0,!0,!0,"postDescription")),i==this.state.savedText)return void this.props.postSavingStore.remove(this.props.deletehash,this.props.type);this.props.postSavingStore.add(this.props.deletehash,this.props.type),"function"==typeof this.props.updateContainer&&this.props.updateContainer(this.props.type,i),g[this.props.type]=i,this.typingTimer=setTimeout(_.bind(function(){this.savedRequest&&this.savedRequest.abort(),this.savedRequest=$.ajax({url:"/ajax/titledesc/"+this.props.deletehash,method:"POST",data:g,success:function(){this.props.postSavingStore.remove(this.props.deletehash,this.props.type),this.savedRequest=null,this.setState({savedText:i})}.bind(this),error:function(a,c){return a.responseJSON&&a.responseJSON.data.error?(this.savedRequest=null,clearTimeout(this.typingTimer),humanMsg.displayMsg(a.responseJSON.data.error,"error-msg")):void("abort"!=c&&(3==d&&humanMsg.displayMsg("Saving is taking longer than expected. We're still trying!","error-msg"),this._save(!1,Math.pow(2,d)*b,null,d+1)))}.bind(this)})},this),b)}},shouldComponentUpdate:function(a,b){return this.props.text!=a.text&&!this.props.showEditTools},componentDidUpdate:function(a){if(this.refs.text){var b=this.props.deletehash?this.refs.text.textContent.length:0;a.triggerSave!=this.props.triggerSave&&0!==b&&this._save(!1,this.TYPING_SPEED)}},render:function(){var a=this.props.text;if(a&&!this.props.dont_protect&&(a=Imgur.Util.htmlEntity(a),this.props.linkify&&(a=Imgur.Util.linkify(a,!0,!0,!0,"postDescription"))),this.props.showEditTools&&!this.props.published){var b={className:this.props.classes+" post-contenteditable",contentEditable:!0,tabIndex:this.props.tabindex,placeholder:this.props.placeholder,ref:"text",onInput:_.partial(this._save,!1,this.TYPING_SPEED),onBlur:_.partial(this._save,!0,0),onPaste:this.handlePaste,dangerouslySetInnerHTML:{__html:a},onKeyDown:this.handleKeyDown,onKeyUp:this.props.onKeyUp};return React.createElement(this.props.element,b)}return!!a&&React.createElement(this.props.element,{className:this.props.classes,dangerouslySetInnerHTML:{__html:a}})}}),Namespace("Imgur.Gallery.TagSuggest"),Imgur.Gallery.TagSuggest=React.createClass({displayName:"TagSuggest",MAX_HEIGHT:223,ROW_HEIGHT:40,getDefaultProps:function(){return{onHighlightedKeyDown:function(){},classNames:"",query:""}},getInitialState:function(){return{highlightedTag:null,mouseOverTag:!1}},componentDidMount:function(){document.addEventListener("keydown",this.handleKeyDown),this.updatePosition()},componentWillUnmount:function(){document.removeEventListener("keydown",this.handleKeyDown)},componentWillReceiveProps:function(a){JSON.stringify(this.props.suggestedTags)!==JSON.stringify(a.suggestedTags)&&this.setState({highlightedTag:null})},componentDidUpdate:function(a){this.props.left!==a.left&&this.updatePosition()},highlightedTagIndex:function(){return this.props.suggestedTags.map(function(a){return a.tag}).indexOf(this.state.highlightedTag)},handleKeyDown:function(a){if([38,40,13].indexOf(a.which)==-1)return void(this.state.mouseOverTag||this.setState({highlightedTag:null}));a.preventDefault();var b=this.highlightedTagIndex(),c=void 0;38==a.which&&(c=this.props.suggestedTags[Math.max(b-1,0)].tag,this.setState({highlightedTag:c}),this.props.onHighlightedKeyDown(c)),40==a.which&&(c=this.props.suggestedTags[Math.min(b+1,this.props.suggestedTags.length-1)].tag,this.setState({highlightedTag:c}),this.props.onHighlightedKeyDown(c)),13==a.which&&this.state.highlightedTag&&this.props.onSelect(this.state.highlightedTag)},updatePosition:function(){this.refs.suggest.style.top=this.props.top+30+"px",this.refs.suggest.style.left=this.props.left-15+"px"},mouseEnter:function(a){this.setState({highlightedTag:a,mouseOverTag:!0})},mouseLeave:function(){this.setState({highlightedTag:null,mouseOverTag:!0})},mouseDown:function(a,b){b.preventDefault(),this.props.onSelect(a)},renderTagRow:function(a){return React.createElement("tr",{className:"tag pointer"+(this.state.highlightedTag==a.tag?" tag-suggest-highlighted":""),onMouseDown:this.mouseDown.bind(this,a.tag),onMouseEnter:this.mouseEnter.bind(this,a.tag),onMouseLeave:this.mouseLeave,key:a.tag},React.createElement("td",{className:"tag-suggest-left"},a.tag),React.createElement("td",{className:"tag-suggest-right"},a.images,"",Imgur.Util.pluralize(a.images,"post")))},render:function(){var a=this,b=void 0;if(this.props.error)b=React.createElement("p",{className:"tag-suggest-error"},this.props.error);else{var c=this.props.suggestedTags?this.props.suggestedTags.length:0,d=Math.min(c*this.ROW_HEIGHT,this.MAX_HEIGHT),e=void 0;if(0===c&&this.props.query.length>0)e=React.createElement("p",{key:"noresults",className:"tag-suggest-noresults"
},"Sorry no results");else{if(!(c>0))return React.createElement("span",{ref:"suggest"});e=React.createElement(Imgur.Nanoscroll,{key:"nanoscroller",options:{preventPageScrolling:!0},contentClassNames:"scroll-content",contentStyle:{height:d},nanoStyle:{height:d}},React.createElement("table",null,React.createElement("tbody",null,this.props.suggestedTags.map(function(b){return a.renderTagRow(b)}))))}b=Imgur.Environment.auth.isLoggedIn&&0===this.props.query.length?[React.createElement("div",{key:"header",className:"tag-suggest-header"},"RECENT TAGS"),e]:[React.createElement("div",{key:"header",className:"tag-suggest-header"},"POPULAR ON IMGUR"),e]}return React.createElement("div",{ref:"suggest",className:"tag-suggest "+this.props.classNames},b)}});var _extends=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a};Namespace("Imgur.Gallery.DescriptionTagSuggestContainer"),Imgur.Gallery.DescriptionTagSuggestContainer=React.createClass({displayName:"DescriptionTagSuggestContainer",TRANSITION_TIMEOUT:150,TAG_SUGGEST_CARRET_DISTANCE_FROM_LEFT:30,getInitialState:function(){return{showingSuggestions:!1,suggestKeyword:null,suggestedTags:[],query:""}},componentDidMount:function(){this.textNode=ReactDOM.findDOMNode(this.refs.text)},tagSelected:function(a){var b=window.getSelection().getRangeAt(0),c=b.startContainer.textContent.substring(0,this.getCaretPosition()).split("#").pop().length,d=b.cloneRange();d.setStart(b.startContainer,b.startOffset-c),d.setEnd(b.startContainer,b.startOffset),d.deleteContents(),this.refs.text.insertText(a+" "),this.setState({showingSuggestions:!1})},handleKeyUp:function(a){if(this.xhr&&this.xhr.abort(),27==a.which)return void this.setState({showingSuggestions:!1});var b=this.getCaretPosition(),c=window.getSelection().getRangeAt(0).startContainer.textContent.substring(0,b).replace(/\n/g," ").split(" ").pop();if("#"==c.substring(0,1)){var d=c.split("#").pop().substr(1);this.fetchSuggestions({updateCoords:!this.state.showingSuggestions,keyword:d}),this.setState({query:d})}else this.setState({showingSuggestions:!1,query:""})},fetchSuggestions:function(){var a=this,b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=this.getCaretPosition(),d=window.getSelection().getRangeAt(0).startContainer.textContent.substring(0,c).replace(/\n/g," ").split(" ").pop().substr(1),e=b.updateCoords?this.getSelectionCoords():{y:this.state.cursorTop,x:this.state.cursorLeft};this.props.tagStore.getSuggestions(d,function(b){a.setState({suggestedTags:a.formatTagSuggestionResponse(b),showingSuggestions:!0,cursorTop:e.y,cursorLeft:e.x})})},formatTagSuggestionResponse:function(a){return a?a.map(function(a){return a.tag=a.tag.replace(" ","_"),a}):a},getCaretPosition:function(){var a,b,c=this.textNode,d=0;return window.getSelection&&(a=window.getSelection(),a.rangeCount&&(b=a.getRangeAt(0),b.commonAncestorContainer.parentNode==c&&(d=b.endOffset))),d},getSelectionCoords:function(a){a=a||window;var b,c,d,e=a.document,f=e.selection,g=0,h=0;return f?"Control"!=f.type&&(b=f.createRange(),b.collapse(!0),g=b.boundingLeft,h=b.boundingTop):a.getSelection&&(f=a.getSelection(),f.rangeCount&&(b=f.getRangeAt(0).cloneRange(),b.getClientRects&&(b.collapse(!0),c=b.getClientRects(),c.length>0&&(d=c[0]),g=d.left,h=d.top))),{x:g,y:h}},hideSuggestions:function(){this.setState({showingSuggestions:!1})},render:function(){return React.createElement("div",null,React.createElement(Imgur.Gallery.TitleDesc,_extends({ref:"text",onKeyUp:this.handleKeyUp},this.props)),React.createElement(React.addons.CSSTransitionGroup,{transitionName:"suggest",transitionEnterTimeout:this.TRANSITION_TIMEOUT,transitionLeaveTimeout:this.TRANSITION_TIMEOUT},this.state.showingSuggestions&&this.state.suggestedTags.length>0?React.createElement(Imgur.Gallery.TagSuggest,{ref:"suggest",onSelect:this.tagSelected,left:this.state.cursorLeft-this.TAG_SUGGEST_CARRET_DISTANCE_FROM_LEFT,top:this.state.cursorTop+$(document).scrollTop(),showingSuggestions:this.state.showingSuggestions,unmount:this.hideSuggestions,suggestedTags:this.state.suggestedTags,query:this.state.query}):null))}}),Namespace("Imgur.Gallery.Store.Saving"),Imgur.Gallery.Store.Saving=Class.extend({init:function(a){this._={posts:{},saving:0,emitter:a}},add:function(a,b){this._.posts[a+b]||(0==this._.saving&&(window.onbeforeunload=function(){return"Your updates are still saving. Are you sure you want to leave?"}),this._.posts[a+b]=!0,this._.saving++,this._.emitter.trigger("saving"))},remove:function(a,b){this._.posts[a+b]&&(this._.posts[a+b]=!1,this._.saving--,0==this._.saving&&(window.onbeforeunload=null,this._.emitter.trigger("saved")))}}),Namespace("Imgur.Gallery.Store"),Imgur.Gallery.Store.Tag=Class.extend({init:function(a,b,c){this._={queries:{},pendingRequestUrl:null,tags:[],maxTags:a,tagValidator:b,emitter:c}},getTagValidator:function(){return this._.tagValidator},getTags:function(){return this._.tags},addTag:function(a,b,c){if(this._.maxTags&&this._.tags.length>=this._.maxTags)return c(!1,this._.maxTags+" limit reached");var d=a.toLowerCase().replace("_"," "),e=this.isTagExists(d);if(!this._.tagValidator.isValidTag("submit",a,e))return c(!1,this._.tagValidator.whyNot("submit",a,e));var f={tagName:a,tagNameNormalized:d,addedVia:b};return this._.tags.push(f),this._.emitter.trigger("tagAdded",f),c(!0,null)},removeTag:function(a){for(var b=[],c=void 0,d=0;d<this._.tags.length;d++)this._.tags[d].tagName!==a?b.push(this._.tags[d]):c=this._.tags[d];c&&(this._.tags=b,this._.emitter.trigger("tagRemoved",c))},flushTags:function(){for(var a=0;a<this._.tags.length;a++)this.removeTag(this._.tags[a].tagName)},getSuggestions:function(a,b){var c=this._.queries[a]?this._.queries[a]:null;return c?b(c):this.fetchSuggestions(a,b)},setSuggestions:function(a,b){this._.queries[a]=b},fetchSuggestions:function(a,b){var c="//"+Imgur.Environment.host+"/ajax/suggest_tags";this.xhr&&this.xhr.abort(),this.xhr=$.ajax({method:"GET",url:c,data:{q:a,size:10},success:function(c){for(var d=[],e=a.toLowerCase(),f=!0,g=0;g<c.data.length;g++)d.push({tag:c.data[g].tag,images:c.data[g].images}),c.data[g].tag===e&&(f=!1);f&&this._.tagValidator.isValidTag("submit",a,!1)&&d.push({tag:a,images:0}),this.setSuggestions(a,d),this.getSuggestions(a,b)}.bind(this)})},isTagExists:function(a){return this._.tags.some(function(b){return b.tagNameNormalized===a})}}),Namespace("Imgur.Factory"),Imgur.Factory.Gallery=Class.extend({_getDefaultPredicates:function(a){var b=function(b){return b instanceof a},c=function(a){return function(a){return a instanceof Imgur.Tag.SuggestedTag}};return{base:b,providerByLevDistance:c}},_getAjaxGetWithLoader:function(a){return function(b,c,d,e){return a.show(),e=e||_.noop,d=d||_.noop,$.get(b,c,d).fail(e).always(_.bind(a.hide,a))}},_standardDataResponsePost:function(a){return function(b,c,d,e){e=e||_.noop,d=d||_.noop;var f=function(a,b,c){a&&a.success||!a&&"success"===b?d(a,b,c):e(a&&a.data&&a.data.error&&a.data.error.message||a&&a.data&&a.data.error||b,c,b)},g=function(a,b,c){var d=c;try{var f=a.responseJSON||$.parseJSON(a.responseText);return void e(f.data.error.message,a,b)}catch(g){}e(d,a,b)};return a(b,c,f,g)}},_getStandardPostAuthorized:function(){return this._standardDataResponsePost(this._.postProvider())},_getStandardPostAuthorizedWithLoader:function(a){var b=this._standardDataResponsePost(this._.postProvider());return function(c,d,e,f){return a.show(),b(c,d,e).always(_.bind(a.hide,a))}},_getPostAuthorizedWithLoader:function(a){var b=this._.postProvider();return function(c,d,e,f){return a.show(),b(c,d,e).always(_.bind(a.hide,a))}},_produceEmptyMessageProviderForQuery:function(a){return function(){return _.templates["tags.empty-message-makeone"]({query:a})}},_produceUserGroupProvider:function(a,b,c,d,e,f){var g=new Imgur.Tag.Comparator,h=(_.bind(g.compare,g),_.bind(this._produceUserGroupController,this,a,b,c,d,e,f)),i=_.bind(this._produceUserGroupFromData,this,g),j=_.bind(this._produceUserGroupFromDom,this,h,g,a),k=_.compose(j,i);return k},_produceUserGroupController:function(a,b,c,d,e,f,g,h){return new Imgur.Tag.Controller.UserGroup(a,b,c,g,h,d,e,f)},_produceUserGroupFromData:function(a,b,c,d){return $(_.templates["tags.user-group"]({group:{name:b,hash:c}}))},_produceUserGroupFromDom:function(a,b,c,d,e){var f=new Imgur.Element.SortedListEmptyable($(),b,e||[]),g=new Imgur.Tag.UserGroup(d,f),h=a(g,f);return g.get$RemoveButton().on("click",_.bind(h.handleRemoveEvent,h)),c.on("group.remove",h,h.handleRemoveEventOther),{group:g,adapter:h}}}),Namespace("Imgur.Factory"),Imgur.Factory.InsideGallery=Imgur.Factory.Gallery.extend({init:function(a,b,c,d){this._={parent_factory:a,env:b,gallery_env:b,groups:c,postProvider:d,stores:{},header:null}},produceInsideGallery:function(a){var b,c=Imgur.Environment.hasAccess&&!Imgur.Environment.captionsEnabled,d=new Imgur.Tag.TagValidator(Imgur.Constants.MIN_TAG_LENGTH,Imgur.Constants.MAX_TAG_LENGTH),e=new Imgur.Gallery.Store.Tag(Imgur.Constants.MAX_TAGS_PER_POST,d,a),f=this._.env,g=$("#side-gallery");if(c){if(g.remove(),!Imgur.Environment.image.is_album){var h={initialHash:Imgur.Environment.image.hash,initialIsPublished:Imgur.Environment.image.in_gallery,emitter:a,deletehash:Imgur.Environment.image.deletehash,isAlbum:Imgur.Environment.image.is_album,image:Imgur.Environment.image,tagStore:e};b=ReactDOM.render(React.createElement(Imgur.PostOptions,h),document.getElementById("post-options"))}}else{var i=Imgur.Experiments.getUserBucket("expT4377b"),j=i&&i.variation,k={env:f,variation:j,cache:Imgur.Environment.signed?"/miss.json":"/hit.json",votedFavedRecently:Imgur.Environment.votedFavedRecently,showMature:Imgur.Environment.auth.show_mature,emitter:a};if(b=ReactDOM.render(React.createElement(Imgur.SideGallery,k),g[0]),"control"!=j&&Imgur.Experiments.isActive("expT4377b")){var l=ReactDOM.render(React.createElement(ImgurRecommendations,{variation:j,sideGallery:b,host:Imgur.Environment.host}),$("#recommendations")[0]);b.recommendations=l}}var m=navigator.userAgent.match(/iPad/i),n=this._.parent_factory.produceLinkify(a);n.addGrabber(new Imgur.Linkify.AlbumImageGrabber);var o=new Imgur.Linkify.AlbumImageViewer(f.hash);n.prependViewer("albumimage",o),a.on("select",o,o.handleUpdatedImage),a.trigger("beforeComments",this._.gallery_env.image);var p=new Imgur.Caption({sid:this._.env.sid,signed:this._.env.signed,auth_id:this._.env.auth.id,hash:f.hash,baseURL:f.baseURL,defaultText:"Submit a ",commentName:f.commentName,target:$("#submit-caption"),loadingClass:"#save-caption-loader",isReply:!1,isIPad:m,showRepliesCount:!0,emitter:a});n.prependViewer("nsfw",new Imgur.Linkify.NSFWViewer(p)),Imgur.Caption._instance=p;var q=new Imgur.Store.AlbumImage,r=new Imgur.Gallery.Store.Saving(a),s=this.produceInsideNav(a,b,p,f,n,q,r,e);Imgur.InsideNav._instance=s;var t=new Imgur.Gallery.Inside(s,a,f);Imgur.Gallery._instance=t,a.on("report image",t,t.reportImage),Imgur.Environment.adsEnabled&&this.producePromoted(a,s,b),n.attachDelegate("#comments-container");var u={showEditTools:c,initialImage:Imgur.Environment.image,emitter:a,postSavingStore:r},v=!1;if(Imgur.Environment.image.is_album){var w=10,x=Imgur.Environment.image.album_images.images.length,y=x-1;if(y>-1){var z=Imgur.Environment.image.album_images.images[y];v=!!(z.title||z.description||Imgur.Environment.image.album_images.count>w&&x==w)}}else v=!!Imgur.Environment.image.description;var A=_.extend({},Imgur.Environment.image,{in_gallery:Imgur.Environment.captionsEnabled||Imgur.Environment.image.isAd&&Imgur.Environment.image.in_gallery,has_access:Imgur.Environment.hasAccess,emitter:a,sideGallery:b,hide_points:Imgur.Environment.image.isAd||Imgur.Environment.image.ad_type>0,hide_views:Imgur.Environment.image.isAd||Imgur.Environment.image.ad_type>0,hide_report:Imgur.Environment.auth.url===Imgur.Environment.image.account_url||Imgur.Environment.image.isAd,add_border:v,album_images:Imgur.Environment.image.is_album?Imgur.Environment.image.album_images.images:[]});this._.header=ReactDOM.render(React.createElement(Imgur.Gallery.Header,u),$(".post-header").get(0)),ReactDOM.render(React.createElement(Imgur.Gallery.PostActionBar,A),$(".post-action").get(0));var B=!0;return a.on("select",null,function(a,b,c,d){return!!this._.header&&(this._.header.setState({image:a,first:!1,last:!1,initial:B,navTrigger:d}),void(B=!1))}.bind(this)),t},produceInsideNav:function(a,b,c,d,e,f,g,h){var i=new Imgur.InsideNav(b,c,a,f,g,h,_.merge(d,{isPromoted:d.image.isAd||d.image.is_ad,el:{inside:{reportImageLink:$("#report-image"),image:$(".image"),arrows:$(".image-arrows"),zoom:$(".zoom"),accountBio:$("#account-bio.access"),submitCaptionButton:$(".submit-caption-button"),commentExpand:$("#expand-comments"),comboboxes:$(".combobox"),commentSort:$("#comment-sort"),$comments:$("#captions"),favoriteImageLink:$(".favorite-image"),reCaptionLink:$("#meme-image"),downloadAlbumForm:{id:"#download-album-form",emailInput:$("#download-album-form #email"),form:$("#download-album-form #download-form"),message:$("#message"),save:$("#download-album-form #save"),loader:$("#download-loader")}}},linkifier:e}));return a.on("imageRendered",null,function(a,c){a.click(function(a){a.preventDefault(),b.selectImage(c.hash)})}),a.on("reset",null,function(a){b.selectImage(a.hash)}),a.on("select",i,i.navToImage),a.on("firstImage",i,function(a){return!!this._.header&&void this._.header.setState({first:!0,last:!1})}.bind(this)),a.on("lastImage",i,function(a){return!!this._.header&&void this._.header.setState({first:!1,last:!0})}.bind(this)),a.on("sectionChange",i,i.changeSection),a.on("sortChange",i,i.changeSort),a.on("windowChange",i,i.changeWindow),a.on("sidegalleryPageLoad",null,_.bind(function(a){switch(a){case"append":i.enableNextButton();break;case"prepend":i.enablePrevButton()}},this)),i},producePromoted:function(a,b,c){if("undefined"==typeof Imgur.getInstance()._.auth||Imgur.getInstance()._.auth.isPro!==!0){var d=this._.parent_factory.getConfig("promoted"),e=new Imgur.Promoted.Events(d,a,b),f=new Imgur.Promoted.Source.Adzerk(d,a),g=new Imgur.Promoted(d,a,b,c,e,f,Imgur.Gallery.getInstance()._.safe_tags,Imgur.Environment,Imgur.Util.jafoLog);return g}}}),Namespace("Imgur.Factory"),Imgur.Factory.OutsideGallery=Imgur.Factory.Gallery.extend({init:function(a,b,c,d){this._={env:{global:a,gallery:b,groups:c},gallery_env:b,postProvider:d}},produceOutsideGallery:function(a){var b=new Imgur.Tag.Store.OutsideActiveTag(a),c=new Imgur.History,d=this._.env.gallery,e=new Imgur.Gallery.MainOutside(b,a,d,c);return a.on("show tagset loader",e,e.fadeInLoader),a.on("hide tagset loader",e,e.fadeOutLoader),a.on("new tagset",e,e.refetchPage),a.on("new outside active tag",e,e.handleTagChanged),$("#imagelist").on("click",".remove-outside-image",function(a){var b=$(a.target).attr("data-hash");e.remove(b),$("#"+b).fadeOut()}),$("#imagelist").on("click",".scroll-top-text",function(a){$("html, body").animate({scrollTop:0},"500","easeInOutCirc")}),$("#sponsored-upload").click(_.bind(function(){if(this._.env.gallery.signed)$("#topbar li.upload-button").click();else{var a=new Imgur;a.signin("sponsoredUploadAttempt",!0)}},this)),c.addPopState("initial",_.bind(e.initialPopState,e)),Imgur.Gallery._instance=e,{gallery:e,history:c,outsideActiveTagStore:b}},produceOutsideUser:function(a){var b=this._.env.gallery,c=new Imgur.Gallery.Outside(a,b);return Imgur.Gallery._instance=c,c},produceOutsideMemes:function(a){var b=this._.env.gallery,c=new Imgur.Gallery.Outside(a,b);return Imgur.Gallery._instance=c,c},sectionMenuOpened:function(){Imgur.Util.jafoLog({event:"galleryTopicScreenDisplayed",meta:{}})},produceOutsideNonMainSectionChooser:function(a){$("#section").combobox({maybe:function(a,b,c){return!1}}),$("#section").on("open",this.sectionMenuOpened.bind(this)),$("#sort").combobox();var b=null;new Imgur.Tag.GroupSelector(a,this._.env.gallery.section,this._.env.gallery.sort,this._.env.gallery.searchQuery,$(".sentence-sorting"),b)},produceOutsideTaggingWidget:function(a,b){var c=(this._.env.gallery.sid,this._.env.gallery.signed),d=(this._.env.gallery.group,this._.env.gallery.group_type),e=new Imgur,f=function(a){a.preventDefault(),a.stopPropagation(),e.signin("tagAttempt",!0)},g=$("#outside-tagging"),h=$("#content .panel"),i=$("#outside-tagging-showhide");$("#section").combobox({maybe:function(a,b,c){return!1}}),$("#section").on("open",this.sectionMenuOpened.bind(this)),$("#sort").combobox({maybe:function(a,b,c){return!1},onChange:function(b,c,d){a.trigger("chosen.sort",c,d)}});var j=new Imgur.Tag.Store.Tag(a),k=new Imgur.Tag.Store.TagGroup(a),l=new Imgur.Tag.Store.Group(a,this._.env.groups.groups),m=new Imgur.Tag.GroupModel(this._getStandardPostAuthorized(),k,a),n=new Imgur.Tag.TagValidator(Imgur.Constants.MIN_TAG_LENGTH,Imgur.Constants.MAX_TAG_LENGTH),o=new Imgur.Tag.Store.Suggestion(a,n);Imgur.Dev.DebugVar("suggestionstore",o);var p=this._.env.gallery.group.id;_.each(this._.env.gallery.group.tags,function(a){k.addTagToGroup(a,p)}),Imgur.Dev.DebugVar("tagGroupStore",k),Imgur.Dev.DebugVar("outsideActiveTagStore",b.outsideActiveTagStore),Imgur.Dev.DebugVar("tagstore",j),Imgur.Dev.DebugVar("groupstore",l),Imgur.Dev.DebugVar("taggroupstore",k);var q=function(){var a=$("script[type='text/tag-group-data']");a.each(function(){var a={};try{a=$.parseJSON($(this).html())}catch(b){}_.each(a,function(a,b){_.each(a,function(a){k.isTagInGroup(b,a)||k.addTagToGroup(b,a)})}),$(this).remove()})};q();var r=function(){var a=$("script[type='text/tag-data']");a.each(function(){var a=null;try{a=$.parseJSON($(this).html())}catch(b){}a&&j.addTag(a),$(this).remove()})};r(),a.on("new gallery page",null,r);var m=this._produceGroupModel(a,k),s=_.bind(function(){0==k.getTagsForGroup(p).length&&"base"!=d?this._produceEmptyGalleryTagList(a,k,b.outsideActiveTagStore,o,m):this._produceUserTagList(a,k,b.outsideActiveTagStore,o,m)},this);"group"!=this._.env.gallery.section&&"custom"!=this._.env.gallery.section||"base"==d||(s(),a.on("gallery page refetched",null,s));var t=new Imgur.Tag.OutsideTaggingWidget(g,h,i,a);i.on("click",_.bind(t.toggle,t,this._.env.gallery.bestCaps));var u=$(".sentence-sorting"),v=(new Imgur.Tag.GroupValidator(2,25),new Imgur.Tag.Sentence(u.find(".before-text"),u.find(".middle-text"),l)),w=new Imgur.Tag.MainGroupSelector(a,this._.env.gallery.section,this._.env.gallery.sort,this._.env.gallery.inSearch,u,v,b.outsideActiveTagStore);if(b.history.addPopState("tag",function(a){var c=window.location.href.replace(/.*\/t\//i,"").replace(/_/g," ");b.outsideActiveTagStore.setActiveTag(c,!0)}),this._.env.gallery.bestCaps&&$("#top-comments .best-captions img").tipsy({opacity:.95,offset:-2,gravity:"n",html:!0}),!c)return void $("#custom-group a").on("click",f);var x=new Imgur.Tag.Controller.GroupSelectorLimits(a,w,l);return a.on("group.remove",x,x.handleGroupRemove),a.on("group.add",x,x.handleGroupAdd),m},produceSharePage:function(a,b,c,d,e,f,g,h,i){var j=new Imgur.Tag.Store.Tag(a,e);_.each(d,function(a){j.addTag({tag:a})});var k=new Imgur.Tag.TagValidator(2,36),l=new Imgur.Tag.Store.Suggestion(a,k),m="//es."+this._.env.global.host,n=new Imgur.Tag.SuggestModelNoProvider(this._.postProvider(),m),o=$("#tags input"),p=o.attr("placeholder"),q=o.attr("tabindex"),r=function(){ReactDOM.render(React.createElement(Imgur.Share.Title,{title:g,maxLength:255,inputClasses:"required input-bb",limitClasses:"limit"}),$("#submission-title").get(0))};r();var s=function(){ReactDOM.render(React.createElement(Imgur.Tag.ShareTagComponent,{tagStore:j,suggestionStore:l,placeholder:p,tabIndex:q,id:"tagbox",gallery_type:f,defaultTags:i,tagLimit:e}),$("#tags").get(0))};s();var t=Imgur.ShareOnImgur.getInstance({type:b,hash:c,tagStore:j,emitter:a,hasTitle:!!g,hasTopic:!!h});t.generalInit();var u=new Imgur.Tag.Controller.OutsideComponent(n,l);a.on("new suggest query",null,_.bind(u.handleChangedQuery,u)),a.on("select",null,s),a.on("new suggest query",null,s),a.on("new finished query",null,s),a.on("new suggestions",null,s),a.on("tag removed",null,s),a.on("tag limit reached",null,function(){humanMsg.displayMsg("You have already added the maximum number of tags","error-msg")}),$(document).on("click",function(a){return $(a.target).closest(".tag-filter, .tag-list-content").length?void $("#tags").addClass("focus"):void $("#tags").removeClass("focus")})},_produceUserTagList:function(a,b,c,d,e){var f=this._.postProvider(),g="//es."+this._.env.global.host,h=new Imgur.Tag.SuggestModelNoProvider(f,g),i={tagGroupStore:b,groupId:this._.env.gallery.group.id,outsideActiveTagStore:c,groupModel:e,suggestionStore:d,placeholder:"add tags to this gallery"};$("#tags-current-list, #outside-tagging-showhide").show(),$.cookie("showTags")&&$("#content > .panel").removeClass("hidden");var j=function(){ReactDOM.render(React.createElement(Imgur.Tag.TagListComponent,i),$("#tags-current-list").get(0))};j(),a.on("tag added to group",null,j),a.on("tag removed from group",null,j),a.on("new tag-group event",null,j),a.on("pending tag removed from group",null,j),a.on("new outside active tag",null,j),a.on("new suggestions",null,j),a.on("new suggest query",null,j),a.on("new finished query",null,j),a.on("new suggest validation mode",null,j);var k=new Imgur.Tag.Controller.OutsideComponent(h,d);a.on("new suggest query",null,_.bind(k.handleChangedQuery,k))},_produceGroupModel:function(a,b){var c=new Imgur.Tag.GroupModel(this._getStandardPostAuthorized(),b,a);return c},_produceSuggestedTagFromData:function(a,b,c,d,e){var f=$(_.templates["tags.tag-suggested"]({is_first:!!e,tag:{name:c,subscribers:d,urlencoded:""}})),g=new Imgur.Tag.SuggestedTag(f,b);return g.get$Add().on("click",_.partial(a,g)),g},_produceRemovableTagFromData:function(a,b,c){var d=$(_.templates["tags.tag-removable"]({tag:b}));return d},produceRemovableTagFromDom:function(a,b,c,d){var e=new Imgur.Tag.RemovableTag(a,d);e.get$RemoveButton().on("click",_.bind(b.handleRemovedTagEvent,b,e));var f=[{spot:"markConfirmed",cover:"recomputeNanoScroller",type:"passAfter"}];return e=Imgur.Util.decorateWithDetailed(e,c,f)},_produceComboboxItemFromSomething:function(a,b){var c=$(_.templates["tags.combobox-item"]({value:b}));return c.append(a),c},_produceEmptyGalleryTagList:function(a,b,c,d,e){var f=this._.postProvider(),g="//es."+this._.env.global.host,h=new Imgur.Tag.SuggestModelNoProvider(f,g),i={tagGroupStore:b,groupId:this._.env.gallery.group.id,outsideActiveTagStore:c,groupModel:e,suggestionStore:d,id:"add-tag",placeholder:"Start following tags and stay up to date with the most viral images on the Internet"};$("#tags-current-list, #outside-tagging-showhide").hide(),$("#content > .panel").addClass("hidden");var j=function(){var a=$("#add-tag-container").get(0);a&&ReactDOM.render(React.createElement(Imgur.Tag.TagListComponent,i),a)};j(),a.on("select",null,j),a.on("new suggest query",null,j),a.on("new finished query",null,j),a.on("new suggest validation mode",null,j),a.on("new suggestions",null,j);var k=new Imgur.Tag.Controller.OutsideComponent(h,d);a.on("new suggest query",null,_.bind(k.handleChangedQuery,k)),$(".popular-tag .add-tag").on("click",function(){var a=$(this).parent().find(".tag-name").text();e.subscribe(i.groupId,a)})}}),Namespace("Imgur.Favorite"),Imgur.Favorite=Imgur.extend({init:function(a){this._=$.extend({method:null,hash:null,$favButton:$(".favorite-image"),confirm:{target:"#colorbox-confirm",$message:$("#colorbox-confirm-message"),$title:$("#colorbox-confirm-title")},messages:{favorited:'<div class="favorited"></div>',unfavorited:'<div class="favorited unfavorited"></div>',confirmMsg:function(a){return"Are you sure you want to "+(a?"unfavorite":"favorite")+" this image?"},confirmTitle:function(a){return(a?"Unfavorite":"Favorite")+" this image?"}}},a),this._.method=$.trim(this._.method),this._super(this._),this._.hash||(this._.hash=Imgur.InsideNav.getInstance().getHash())},_init:function(){this.showMessage(),this._init_click_handler()},_init_click_handler:function(){this._.$favButton.unbind("click").on("click",_.bind(function(a){var b,c,d,e=!1;"undefined"!=typeof a.fav_display_msg&&a.fav_display_msg===!0&&(e=!0);try{Imgur.InsideNav&&(c=Imgur.InsideNav.getInstance().getImage()),c&&this._.hash===c.hash&&(b=c.is_album,d=function(a){Imgur.InsideNav.getInstance().updateFavorite("favorited"==a)})}catch(f){}this.favorite(this._.hash,b,d,e)},this))},handleKey:function(a){if(!(a.ctrlKey||a.altKey||a.metaKey||48!=a.keyCode&&45!=a.keyCode&&96!=a.keyCode||$(a.target).is("input, textarea")||"true"==$(a.target).attr("contenteditable"))){var b=jQuery.Event("click",{fav_display_msg:!0});this._.$favButton.trigger(b)}},showMessage:function(a){"undefined"==typeof a&&(a=this._.method),"favorited"==a?this.showFavorited():"unfavorited"==a?this.showUnfavorited():"confirm"==a&&this.showConfirm()},showFavorited:function(){humanMsg.displayMsg(this._.messages.favorited,"action-msg")},showUnfavorited:function(){humanMsg.displayMsg(this._.messages.unfavorited,"action-msg")},showConfirm:function(){this._.confirm.$message.html(this._.messages.confirmMsg(this.isFavorited())),this._.confirm.$title.html(this._.messages.confirmTitle(this.isFavorited())),Imgur.Utilities.ColorboxConfirm.getInstance().show(this._.confirm.target,_.bind(this.favorite,this))},favorite:function(a,b,c,d){Imgur.getInstance()._.signed||($(".tipsy,#favorite-bar").remove(),Imgur.getInstance().signin("favoriteAttempt",!0)),"undefined"==typeof a?a=this._.hash:"function"==typeof a&&(a=a()),Imgur.getInstance()._.signed&&(this._.$favButton.hasClass("favorited")?(this._.$favButton.removeClass("favorited"),this._.method="unfavorited"):(this._.$favButton.addClass("favorited"),this._.method="favorited",$("#mainUpArrow").is(":visible")&&this.upvote()),d&&this.showMessage());var e="/"+a+"/fav.json";(window.location.href.indexOf("/a/")!==-1||b)&&(e="/a"+e);var f={ajax:!0,msid:Imgur.Environment.msid,location:Imgur.InsideNav?"inside":"outside"};Imgur.getInstance()._.signed?Imgur.Util.jafoLog({event:"favorite",meta:{isAlbum:b?b:window.location.href.indexOf("/a/")!==-1,hash:a,location:Imgur.InsideNav?"inside":"outside",state:"unfavorited"===this._.method?"unfavorite":"favorite"}}):_.extend(f,{sid:Imgur.Environment.sid,vote:"up",type:"image"}),$.ajax({url:e,type:"POST",data:f,success:_.bind(this.favoriteSuccess,this,c),error:_.bind(this.favoriteError,this)})},favoriteSuccess:function(a,b){b&&"success"in b&&b.success&&(this._.method=b.data.fav_method,a&&a(b.data.fav_method))},favoriteError:function(){Imgur.getInstance()._.signed&&("favorited"==this._.method?(this._.$favButton.removeClass("favorited"),this._.method="unfavorited"):(this._.$favButton.addClass("favorited"),this._.method="favorited"))},isFavorited:function(){return this._.$favButton.hasClass("favorited")},upvote:function(){Imgur.getInstance()._.signed&&($("#mainUpArrow").hasClass("pushed")||$("#mainDownArrow").hasClass("pushed")||$("#mainUpArrow").click())}}),Namespace("Imgur.ShareOnImgur"),Imgur.ShareOnImgur=Imgur.extend({init:function(a){return a=a||{},this._=$.extend(!0,{gallerySubmitTermsUrl:"/lightboxes/galleryterms",galleryVerifyEmailFormUrl:"/lightboxes/verifyemail",gallerySubmitURL:"/share/i/",loading:!1,shareing:!1,terms:0,messages:{postingTooFast:function(a){var b=a>60?Math.round(a/60)+Imgur.Util.pluralize(Math.round(a/60)," minute"):a+Imgur.Util.pluralize(a," second");return"You're sharing too quickly. Please wait "+b+"."},banned:"Your account has been blocked. Please contact support@imgur.com."},el:{$shareonimgur:$("#shareonimgur"),$shareAlbum:$("#share-album"),$preview:$("#preview"),$descriptions:$("#submission-title input, .data-col textarea"),$topic_id:$('input[name="topic_id"]'),$titleDesc:$('input[name="imageTitle[]"], textarea[name="description[]"]'),$imageTitles:$(".image-title"),$deleteContainers:$(".delete-col"),$required:$(".required"),$submit:$("#share"),$terms:$('input[name="terms"]'),$tagbox:$("#tagbox"),$contentContainer:$("#content-container"),$topicSelect:$(".topic-select"),$publishButtons:$("#publish-buttons"),$missingFields:$("#missing-fields"),$promotedPlatBoxes:$('#platform-target-prompt input[type="checkbox"]'),$promotedPlatAll:$('#platform-target-prompt input[type="checkbox"]#targeting-all'),sortHandler:".move",images:".image-container .zoom"}},a),this._.galleryLink="//"+imgur._.host+"/gallery/"+this._.hash+"/new",this._.publishCortex=new Cortex({submitting:!1,promoted:!1,missingFields:2}),this._=this._super(this._),this._},generalInit:function(){var a=this,b=function(){ReactDOM.render(React.createElement(Imgur.Share.Publish,{cortex:a._.publishCortex,hash:a._.hash,isAlbum:"a"==a._.type,handlePreview:function(b){a._.originalState=a._.el.$shareAlbum.serialize(),a.handleSave(b)},handleSubmit:_.bind(a.handleSubmit,a)}),a._.el.$publishButtons.get(0))};b(),this._.publishCortex.on("update",function(){b()}),$(this._.el.images).imageZoom(),this._.el.$deleteContainers.on("click",function(b){a.handleDelete(b)}),this._.el.$required.on("keyup",function(){""!=$(this).val()?(a._.hasTitle=!0,$(this).removeClass("error")):a._.hasTitle=!1,a.checkMissingFields()}),this._.el.$descriptions.on("keydown",function(a){if(9==a.keyCode&&!a.shiftKey){var b,c=$(this);b=c.hasClass("required")?$(".image-container").eq(0):c.parents(".image-container").next(),$.smoothScroll({scrollTarget:b})}}),this._.el.$titleDesc.on("change",function(){$(this).parents(".image-container").find('input[name="dirty[]"]').val(1)}),this._.originalState=this._.el.$shareAlbum.serialize(),this._.el.$topicSelect.combobox({onChange:function(b,c,d){a._.hasTopic=!0,a.checkMissingFields(),a._.el.$topicSelect.removeClass("error")}}),this._.el.$promotedPlatBoxes.on("change click",_.bind(_.debounce(this.handlePromoPlatformChange,500),this)),this.handlePromoPlatformChange(),this.placeShareButtons(),$(window).on("resize",_.bind(a.placeShareButtons,this)),$(window).on("beforeunload",function(){if(a._.el.$shareAlbum.serialize()!=a._.originalState&&!a._.sharing)return"You have unsaved changes"})},placeShareButtons:function(){$("#topbar").height()+$("#shareonimgur").height()+$("#cta-container-placeholder").height()>$(window).height()&&$(window).width()>960?this._.el.$publishButtons.addClass("js-fixed"):this._.el.$publishButtons.removeClass("js-fixed")},retabindex:function(){$("#tagbox, #submission-title input, .data-col input, .data-col textarea").each(function(a){$(this).attr("tabindex",a+1)})},handleDelete:function(a){a.preventDefault(),$(a.target).closest(".image-container").remove(),1==$(this._.el.images).length&&this._.el.$imageTitles.remove(),this.retabindex()},serialize:function(){for(var a={},b="",c=this._.el.$shareAlbum.find(":input"),d=0;d<c.length;d++){var e=c[d].name.indexOf("[]"),f=c[d].name.replace("[]",""),g=c[d].value;""!=f&&("dirty"==f?b=g:("description"==f&&!b||"imageTitle"==f&&!b)&&(g=""),e!=-1?Array.isArray(a[f])?a[f].push(g):a[f]=[g]:"radio"==c[d].type||"checkbox"==c[d].type?c[d].checked&&(a[f]=g):a[f]=g)}return JSON.stringify(a)},handleSave:function(a){if(a&&a.preventDefault(),this.handleValidation(!0)){var b=this;this._.previewWindow=window.open("/share/"+this._.type+"/"+this._.hash+"/loading","_blank"),Imgur.Util.jafoLog({event:"shareOnImgurPreview",meta:{hash:this._.hash}}),$.ajax({method:"POST",url:"/share/"+this._.type+"/"+this._.hash+"/save",data:{msid:Imgur.Environment.msid,data:this.serialize()},success:function(a){if(!a||!a.success)return b.handleFail(!0,a)},error:this.handleFail.bind(this,!0)})}},handleSubmit:function(a){if(a&&a.preventDefault(),this.handleValidation()&&!this._.loading){var b=this;this._.loading=!0,this._.publishCortex.submitting.set(!0),Imgur.Util.jafoLog({event:"shareOnImgurButton",meta:{hash:this._.hash,topic:$(".topic-select .selection h4").text().trim(),matureToggle:$("#mature").is(":checked"),location:"uploadModal"}}),$.ajax({method:"POST",url:"/share/"+this._.type+"/"+this._.hash+"/share",data:{msid:Imgur.Environment.msid,data:this.serialize()},success:function(a){if(!a||!a.success)return b.handleFail(!1,a);if(b._.sharing=!0,a.data&&a.data.promoPage){var c="";c+='<div class="panel" id="promo-success">',
c+="<h1>Success!</h1>",c+="<ul>",c+='<li><a href="//'+imgur._.host+"/gallery/"+b._.hash+'/" target="_blank">View the gallery page</a></li>',c+='<li><a href="'+a.data.promoPage+'" target="_blank">View the promo flight</a></li>',c+="</ul>",c+="</div>",b._.el.$contentContainer.html(c)}else window.location="//"+imgur._.host+"/gallery/"+b._.hash+"/new"},error:this.handleFail.bind(this,!1)})}},handlePromoPlatformChange:function(a){var b="#targeting-all",c=":not("+b+")",d=this._.el.$promotedPlatAll.attr("checked"),e="object"==typeof a&&$(a.target).is(b);if(this._.el.$promotedPlatBoxes.length)if(e)d?this._.el.$promotedPlatBoxes.filter(c).attr("checked",!0):this._.el.$promotedPlatAll.removeAttr("checked");else{for(var f=this._.el.$promotedPlatBoxes.filter(c).length,g=0,h=0;h<this._.el.$promotedPlatBoxes.length;h++){var i=$(this._.el.$promotedPlatBoxes[h]);i.is(b)||i.attr("checked")&&g++}f==g?this._.el.$promotedPlatAll.attr("checked",!0):this._.el.$promotedPlatAll.removeAttr("checked")}},redirectToGallery:function(){this._.previewWindow.close(),window.location=this._.galleryLink},handleFail:function(a,b){var c=this;this._.loading=!1,this._.publishCortex.submitting.set(!1);try{if(!b)throw"bad response";b.responseText&&(b=$.parseJSON(b.responseText))}catch(d){return humanMsg.displayMsg("An unknown error occurred. Please try again.","error-msg"),$.colorbox.close(),void Imgur.Util.jafoLog({event:"shareOnImgurError",meta:{hash:this._.hash,error:"unparsable",button:"share"}})}if(null==b.data||null==b.data.error||null==b.data.error.message)return humanMsg.displayMsg("An unknown error occurred. Please try again.","error-msg"),$.colorbox.close(),void Imgur.Util.jafoLog({event:"shareOnImgurError",meta:{hash:this._.hash,error:"unknown",button:"share"}});var e=parseInt(b.data.error.message),f="unknown";!isNaN(e)&&e>0?(f="rateLimit",humanMsg.displayMsg(this._.messages.postingTooFast(e),"error-msg")):"Banned"==b.data.error.message?(f="banned",humanMsg.displayMsg(this._.messages.banned,"error-msg"),$.colorbox.close()):"Terms"==b.data.error.message?(f="terms",this.showTerms(a)):"NotVerified"==b.data.error.message?(f="notVerified",this.showEmailVerification(function(){a?c.handleSave():c.handleSubmit()})):"OP"==b.data.error.message?(humanMsg.displayMsg("OP must exist.","error-msg"),$.colorbox.close()):"Suspended"==b.data.error.message?(f="suspended",humanMsg.displayMsg("Your account is currently suspended","error-msg")):(humanMsg.displayMsg("An unknown error occurred. Please try again.","error-msg"),$.colorbox.close()),Imgur.Util.jafoLog({event:"shareOnImgurError",meta:{hash:this._.hash,error:f,button:"share"}})},handleValidation:function(a){var b=!1,c="",d=a===!0?"preview":"share";return this._.el.$required.val()||(this._.el.$required.addClass("error"),this._.el.$required.focus(),b=!0,c+="noTitle"),""==this._.el.$topic_id.val()&&(this._.el.$topicSelect.addClass("error"),b=!0,c+="noTitle"==c?"NoTags":"noTags"),!b||(Imgur.Util.jafoLog({event:"shareOnImgurError",meta:{hash:this._.hash,error:c,button:d}}),!1)},checkMissingFields:function(){var a=0;return this._.hasTopic||a++,this._.hasTitle||a++,this._.publishCortex.missingFields.set(a),a},showTerms:function(a){var b=this,c=Imgur.ShareOnImgur.getInstance();$.colorbox.close(),$.colorbox({href:b._.gallerySubmitTermsUrl,open:!0,iframe:!0,top:"15%",transition:"none",scrolling:!1,innerWidth:"520px",innerHeight:"234px",onComplete:function(){b._.publishCortex.submitting.set(!1)},onCleanup:function(){c._.terms&&(b._.el.$terms.val(1),a?b.handleSave():b.handleSubmit())}})},acceptTerms:function(a,b){var c=Imgur.ShareOnImgur.getInstance();c._.terms=1,c._.el.$terms.val(1),b||$.colorbox.close()},declineTerms:function(){var a=Imgur.ShareOnImgur.getInstance();a._.terms=0,a._.el.$terms.val(0),$.colorbox.close()},showEmailVerification:function(a){var b=Imgur.ShareOnImgur.getInstance();$.colorbox.close(),setTimeout(function(){var c=b;$.colorbox({href:b._.galleryVerifyEmailFormUrl,open:!0,iframe:!0,top:"15%",transition:"none",scrolling:!1,innerWidth:"520px",innerHeight:"256px",onComplete:function(){b.sendVerificationEmail(),c.checkEmailVerification()},onCleanup:function(){a&&a()}})},600)},sendVerificationEmail:function(){$.get("/ajax/send_email_verification")},checkEmailVerification:function(a,b){var c=this;a||(a=""),$.post("/ajax/verify_email/"+a,function(d){d.data.verified?($.colorbox.close(),b&&b()):(d.data.invalid&&a&&humanMsg.displayMsg("Verification code is invalid","error-msg"),setTimeout(function(){c.checkEmailVerification()},1500))})}}),Class.addSingleton(Imgur.ShareOnImgur),Namespace("Imgur"),Imgur.GalleryPost=React.createClass({displayName:"GalleryPost",getInterestingEvents:function(){return["select"]},render:function(){var a=this.props.currentImageStore.getCurrentImage(),b=a.title,c=a.nsfw?"mature-indicator":"";return"untitled"==b&&(b=""),a.isAd?React.DOM.div(null,this.props.promotedTag(),React.DOM.h1({id:"image-title",className:c},b)):React.DOM.div(null,React.DOM.h1({id:"image-title",className:c},b))}}),Namespace("Imgur.Share"),Imgur.Share.Title=React.createClass({displayName:"Share-Title",getInitialState:function(){return{title:this.props.title,titleLength:this.props.title.length}},handleChange:function(a){var b=a.target.value.length;if(this.setState({title:a.target.value,titleLength:b}),"function"==typeof this.props.handleChange){var c=!1;b>0&&b<=this.props.maxLength&&(c=!0),this.props.handleChange(c)}},render:function(){var a="";return this.state.titleLength>=this.props.maxLength?a=" filled":this.state.titleLength>0&&(a=" filling"),React.DOM.div({},React.DOM.input({type:"text",className:this.props.inputClasses,ref:"title",name:"title",placeholder:"Give your post a title",value:this.state.title,autoComplete:"off",maxLength:this.props.maxLength,tabIndex:1,onChange:this.handleChange}),React.DOM.p({className:this.props.limitClasses+a},"("+this.state.titleLength+"/"+this.props.maxLength+")"))}}),Namespace("Imgur.Share"),Imgur.Share.Publish=React.createClass({displayName:"Share-Publish",handleRules:function(){Imgur.Util.jafoLog({event:"reportRules",meta:{type:"galleryPost",hash:this.props.hash,isAlbum:this.props.is_album}})},render:function(){var a,b,c=this.props.cortex.missingFields.getValue();return c?(a=React.DOM.button({id:"share",className:"btn btn-grey",disabled:"disabled"},"Finish & Share"),b=React.DOM.p({id:"missing-fields"},"missing "+c+" required field"+(0!=c?"s":""))):(a=React.DOM.button({id:"share",className:"btn btn-main",onClick:this.props.handleSubmit},"Finish & Share"),b=React.DOM.p({id:"missing-fields",className:"success"},"Remember our ",React.DOM.a({href:"/rules",target:"_blank",onClick:this.handleRules},"community rules"))),React.DOM.div({},a,React.DOM.span({id:"share-loader",className:this.props.cortex.submitting.getValue()?"":"nodisplay"}),this.props.cortex.promoted.getValue()?"":React.DOM.a({id:"preview",href:"",onClick:this.props.handlePreview},"preview post"),b)}}),Namespace("Imgur.Element"),Imgur.Element.SortedList=Class.extend({init:function(a,b,c){this._={el:{$container:a},comparator:b,list:c||[]}},getComparator:function(){return this._.comparator},getList:function(){return this._.list},get$Container:function(){return this._.el.$container},add:function(a){for(var b=!1,c=0;c<this._.list.length;c++){var d=this._.list[c],e=this._.comparator(a,d);if(e<=0){d.get$Container().before(a.get$Container()),this._.list.splice(c,0,a),b=!0;break}}b||this.append(a)},prepend:function(a){this._.list.length?this._.list[0].insertBefore(a):this._.el.$container.append(a.get$Container()),this._.list.unshift(a)},append:function(a){this._.el.$container.append(a.get$Container()),this._.list.push(a)},remove:function(a){this.removeElementPredicate(function(b){return b.equals(a)})},removeElementPredicate:function(a){this._.list=_.filter(this._.list,function(b){var c=a(b);return c&&b.remove(),!c})},clear:function(){for(var a=0;a<this._.list.length;a++)this._.list[a].remove();this._.list=[]},extend:function(a){_.each(a,_.bind(this.add,this))},length:function(){return this._.list.length},contains:function(a){return _.some(this._.list,function(b){return a.equals(b)})},containsBy:function(a){return _.some(this._.list,a)},moveToTop:function(a){a.remove(),this.remove(a),this.prepend(a)},findFirstBy:function(a){var b=_.filter(this._.list,a);return b.length?b[0]:null}}),Namespace("Imgur.Element"),Imgur.Element.SortedListEmptyable=Imgur.Element.SortedList.extend({init:function(a,b,c,d,e){this._super(a,c,d),this._.el.$empty=b,this._.emptyMessageProvider=e||function(){return b}},setEmptyMessageProvider:function(a){this._.emptyMessageProvider=a},getEmptyMessageProvider:function(){return this._.emptyMessageProvider},_replaceEmptyMessage:function(){var a=$(this._.emptyMessageProvider());this._.el.$empty.replaceWith(a),this._.el.$empty=a},add:function(a){this._super(a),this.hideEmptyMessage()},prepend:function(a){this.hideEmptyMessage(),this._super(a)},append:function(a){this.hideEmptyMessage(),this._super(a)},remove:function(a){this._super(a),0==this._.list.length&&this.showEmptyMessage()},removeElementPredicate:function(a){this._super(a),0==this._.list.length&&this.showEmptyMessage()},clear:function(){this._super(),this.showEmptyMessage()},hasEmptyMessage:function(){return!this._.el.$empty.hasClass("nodisplay")},hideEmptyMessage:function(){this.hasEmptyMessage()&&this._.el.$empty.addClass("nodisplay")},showEmptyMessage:function(){this._replaceEmptyMessage(),this.hasEmptyMessage()||this._.el.$empty.removeClass("nodisplay")}}),Namespace("Imgur.Element"),Imgur.Element.OutsideSortedListEmptyable=Imgur.Element.SortedListEmptyable.extend({hasEmptyMessage:function(){return this._.el.$selectorContainer.hasClass("noGroups")},hideEmptyMessage:function(){this.hasEmptyMessage()&&this._.el.$selectorContainer.removeClass("noGroups")},showEmptyMessage:function(){this._replaceEmptyMessage(),this.hasEmptyMessage()||this._.el.$selectorContainer.addClass("noGroups")}}),Namespace("Imgur.Tag"),Imgur.Tag.Follow=React.createClass({displayName:"Tag-Follow",_handleUnsubscribe:function(){this.props.groupModel.unsubscribe("[custom]",this.props.tag)},_handleSubscribe:function(){this.props.groupModel.subscribe("[custom]",this.props.tag)},render:function(){return this.props.tagFollower?React.DOM.div({className:"btn btn-small btn-main",onClick:_.bind(this._handleUnsubscribe,this)},"following"):React.DOM.div({className:"btn btn-small btn-secondary",onClick:_.bind(this._handleSubscribe,this)},"follow")}}),Namespace("Imgur.Tag"),Imgur.Tag.GroupSelector=Class.extend({init:function(a,b,c,d,e,f){this._=_.merge(this._||{},{emitter:a,section:b,sort:c,inSearch:d,activeGroup:f,el:{$selection:e.find("#section .selection")}})},changeSelectionToTag:function(a){this._.el.$sectionName.html(a)},getActiveGroupId:function(){return this._.activeGroup.getId()},getActiveGroup:function(){return this._.activeGroup},getActiveGroupName:function(){return this._.activeGroup.getName()},getActiveTag:function(){return this._.tag},getActiveTagName:function(){return this._.tag.getName()},setActiveGroupName:function(a){this._.activeGroup.setName(a),this._.el.$selection.text(a).trim()},findTagInActiveGroup:function(a){return this._.activeGroup.findFirstTagBy(function(b){return b.getName()===a})}}),Namespace("Imgur.Tag"),Imgur.Tag.MainGroupSelector=Imgur.Tag.GroupSelector.extend({init:function(a,b,c,d,e,f,g){this._super(a,b,c,d,e),this._=_.merge(this._||{},{emitter:a,section:b,sort:c,inSearch:d,sentence:f,outsideActiveTagStore:g,el:{$container:e,$selectionName:e.find("#section .selection .name")}})},get$Container:function(){return this._.el.$container}}),Namespace("Imgur.Tag"),Imgur.Tag.Group=Class.extend({init:function(a,b){this._={list:b,el:{$container:a,$name:a.find(".name")}}},getId:function(){return this.getIdFrom$Container(this._.el.$container)},getList:function(){return this._.list},setList:function(a){this._.list=a},getName:function(){return this._.el.$name.text()},get$Container:function(){return this._.el.$container},get$Name:function(){return this._.el.$name},setName:function(a){this._.el.$name.text(a)},add:function(a){this._.list.add(a)},contains:function(a){return this._.list.contains(a)},containsBy:function(a){return this._.list.containsBy(a)},findFirstTagBy:function(a){return this._.list.findFirstBy(a)},getIdFrom$Container:function(a){return a.children("div").attr("value")},getTypeFrom$Container:function(a){return a.children("div").attr("data-type")},equals:function(a){return a===this.getId()},insertBefore:function(a){this.get$Container().before(a.get$Container())}}),Namespace("Imgur.Tag"),Imgur.Tag.UserGroup=Imgur.Tag.Group.extend({init:function(a,b){this._super(a,b),this._.el.$remove=a.find(".remove")},setName:function(a){this._.el.$name.text(a)},get$RemoveButton:function(){return this._.el.$remove},remove:function(){this._.el.$container.remove()},equals:function(a){return a===this.getId()}}),Namespace("Imgur.Tag"),Imgur.Tag.GroupModel=Class.extend({init:function(a,b,c){this._={post:a,tagGroupStore:b,emitter:c}},unsubscribe:function(a,b){this._.tagGroupStore.removeTagFromGroup(b,a);var c=_.bind(function(){this._.tagGroupStore.setFailedTag(""),this._.tagGroupStore.pushHistory(b,a,this._.tagGroupStore.ACTIONS.REMOVED),this._.emitter.trigger("new tagset")},this),d=_.bind(function(){this._.tagGroupStore.setFailedTag("Failed to unsubscribe from "+b),this._.tagGroupStore.addTagToGroup(b,a),this._.tagGroupStore.pushHistory(b,a,this._.tagGroupStore.ACTIONS.ERROR),humanMsg.displayMsg("Failed to unfollow tag","error-msg")},this);this._.post("/account/groups/unsubscribe",{group:a,tag:b},c,d)},subscribe:function(a,b){this._.tagGroupStore.addPendingTag(b,a);var c=_.bind(function(){this._.tagGroupStore.addTagToGroup(b,a),this._.tagGroupStore.removePendingTag(b,a),this._.tagGroupStore.setFailedTag(""),this._.tagGroupStore.pushHistory(b,a,this._.tagGroupStore.ACTIONS.ADDED),this._.emitter.trigger("new tagset")},this),d=_.bind(function(){this._.tagGroupStore.setFailedTag("Failed to subscribe to "+b),this._.tagGroupStore.removePendingTag(b,a),this._.tagGroupStore.pushHistory(b,a,this._.tagGroupStore.ACTIONS.ERROR),humanMsg.displayMsg("Failed to follow tag","error-msg")},this);this._.post("/account/groups/subscribe",{group:a,tag:b},c,d)},block:function(a,b){this._.tagGroupStore.addPendingTag(b,a);var c=_.bind(function(){this._.tagGroupStore.addTagToGroup(b,a),this._.tagGroupStore.removePendingTag(b,a),this._.tagGroupStore.setFailedTag(""),this._.tagGroupStore.pushHistory(b,a,this._.tagGroupStore.ACTIONS.BLOCKED),this._.emitter.trigger("new tagset")},this),d=_.bind(function(){this._.tagGroupStore.setFailedTag("Failed to block "+b),this._.tagGroupStore.removePendingTag(b,a),this._.tagGroupStore.pushHistory(b,a,this._.tagGroupStore.ACTIONS.ERROR)},this);this._.post("/account/groups/blocktag",{tag:b},c,d),this._.tagGroupStore.block(b)},unblock:function(a,b){this._.tagGroupStore.removeTagFromGroup(b,a);var c=_.bind(function(){this._.tagGroupStore.setFailedTag(""),this._.tagGroupStore.pushHistory(b,a,this._.tagGroupStore.ACTIONS.UNBLOCKED),this._.emitter.trigger("new tagset")},this),d=_.bind(function(){this._.tagGroupStore.pushHistory(b,a,this._.tagGroupStore.ACTIONS.ERROR),this._.tagGroupStore.setFailedTag("Failed to unblock "+b),this._.tagGroupStore.addTagToGroup(b,a)},this);this._.post("/account/groups/unblocktag",{tag:b},c,d),this._.tagGroupStore.unblock(b)}}),Namespace("Imgur.Tag"),Imgur.Tag.Tag=Class.extend({init:function(a){this._={el:{$container:a,$name:Object.getPrototypeOf(this).get$NameFrom$Container(a)}}},insertBefore:function(a){this._.el.$container.before(a.get$Container())},remove:function(){this._.el.$container.remove()},getName:function(){return this._.el.$name.text().toLowerCase()},get$Container:function(){return this._.el.$container},get$Name:function(){return this._.el.$name},get$NameFrom$Container:function(a){return a.children(".name")},getNameFrom$Container:function(a){return a.children(".name").text()},equals:function(a){return a instanceof Imgur.Tag.Tag&&a.getName()==this.getName()},addSelection:function(){this.get$Container().addClass("selected")},removeSelection:function(){this.get$Container().removeClass("selected")}}),Namespace("Imgur.Tag"),Imgur.Tag.RemovableTag=Imgur.Tag.Tag.extend({init:function(a,b){this._super(b),this._.emitter=a,this._.el.$remove=b.find(".remove")},getEmitter:function(){return this._.emitter},get$RemoveButton:function(){return this._.el.$remove},markConfirmed:function(){this._.el.$container.removeClass("pending")},remove:function(){this._.emitter.trigger("tag.remove",this.getName()),this._super()}}),Namespace("Imgur.Tag"),Imgur.Tag.OutsideTaggingWidget=Class.extend({init:function(a,b,c,d){this._={emitter:d,showBestCommentsCookie:"showComments",showTagsCookie:"showTags",el:{$outsideTaggingParent:b,$outsideTagging:a,$tagShowHide:c}}},isOpen:function(){return $.cookie(this._.showTagsCookie)},toggle:function(a){var b=this._.el.$outsideTaggingParent.hasClass("hidden");$(".tipsy").remove(),b?(this._.el.$outsideTaggingParent.removeClass("hidden"),this._.el.$tagShowHide.attr("title","Hide Sidebar"),this._.el.$outsideTagging.stop(!0,!0).fadeTo(0,1)):(this._.el.$outsideTaggingParent.addClass("hidden"),this._.el.$tagShowHide.attr("title","Show Sidebar"),this._.el.$outsideTagging.stop(!0,!0).delay(100).fadeTo(100,0)),a?this.setBestCommentsCookie(b?1:0):this.setTagBoxCookie(b?1:0)},openTagBox:function(){this.isOpen()||this.toggle(!1)},setTagBoxCookie:function(a){a?$.cookie(this._.showTagsCookie,a,{path:"/",expires:1e4}):$.removeCookie(this._.showTagsCookie,{path:"/"})},setBestCommentsCookie:function(a){a?$.cookie(this._.showBestCommentsCookie,a,{path:"/",expires:1e4}):$.removeCookie(this._.showBestCommentsCookie,{path:"/"})}}),Namespace("Imgur.Tag"),Imgur.Tag.Model=Class.extend({init:function(a,b){this._={ajax:a,tagProvider:b,queryNonce:0,pendingRequest:null}},cancel:function(){this._.queryNonce++,null!=this._.pendingRequest&&this._.pendingRequest.abort()},fetch:function(a,b,c,d){this.cancel(),this._.pendingRequest=this._.ajax(b,d,_.bind(this._handleResponse,this,this._.queryNonce,a,c||_.noop),_.bind(this._handleError,this,a))},responseWasSuccessful:function(a){return!!a.success},_handleResponse:function(a,b,c,d){this._.pendingRequest=null,a<this._.queryNonce||(this._.queryNonce++,d&&this.responseWasSuccessful(d)&&c(b,this._handleResponseSuccess(b,d)))},_handleError:function(a){throw"abstract"},_handleResponseSuccess:function(a,b){throw"abstract"}}),Namespace("Imgur.Tag"),Imgur.Tag.SuggestModel=Imgur.Tag.Model.extend({init:function(a,b,c){this._super(a,b),this._.autoSuggestUrl=c},fetch:function(a,b,c,d){this._super([a,b,d],this._.autoSuggestUrl+"/tags/_suggest",c,JSON.stringify({tags:{text:b,completion:{field:"name_suggest",size:10,fuzzy:{edit_distance:1}}}}))},responseWasSuccessful:function(a){return a._shards.successful>0},_handleResponseSuccess:function(a,b){var c=[],d=a[0],e=(a[1],a[2]);return _.each(b.tags[0].options,_.bind(function(a,b){c.push(this._.tagProvider(e,d,a.text,a.payload.subscribed))},this)),c},toString:function(){return"[tag suggestion model]"}}),Namespace("Imgur.Tag"),Imgur.Tag.SuggestModelNoProvider=Imgur.Tag.Model.extend({init:function(a,b){this._super(a,null),this._.autoSuggestUrl=b},fetch:function(a,b){a?this._super(a,this._.autoSuggestUrl+"/tags/_suggest",b,JSON.stringify({tags:{text:a,completion:{field:"name_suggest",size:10,fuzzy:{edit_distance:1}}}})):b("",[])},responseWasSuccessful:function(a){return a._shards.successful>0},_handleResponseSuccess:function(a,b){var c=[];return _.each(b.tags[0].options,_.bind(function(a,b){c.push({tag:a.text,subscribers:a.payload.subscribed,images:a.payload.images})},this)),c},_handleError:_.noop}),Namespace("Imgur.Tag"),Imgur.Tag.AutocompleteComponent=React.createClass({displayName:"Tag-AutocompleteComponent",getInitialState:function(){return{hidden:""}},getDefaultProps:function(){return{KEYCODES:{KEY_T:84,KEY_ESC:27,KEY_DOWN_ARROW:40,KEY_RIGHT_ARROW:39,KEY_UP_ARROW:38,KEY_ENTER:13,KEY_TAB:9}}},focus:function(){this.refs.query.focus()},moveCursorToEnd:function(a){a.selectionStart=a.selectionEnd=a.value.length,a.style.display="none",a.offsetHeight,a.style.display="block",a.focus()},handleKeyDown:function(a){$(".tipsy").remove(),9==a.keyCode&&""!=this._getAcInfo().queryDisplayed&&a.preventDefault();var b={down_arrow:a.keyCode===this.props.KEYCODES.KEY_DOWN_ARROW,up_arrow:a.keyCode===this.props.KEYCODES.KEY_UP_ARROW,right_arrow:a.keyCode===this.props.KEYCODES.KEY_RIGHT_ARROW,enter:a.keyCode===this.props.KEYCODES.KEY_ENTER,tab:a.keyCode===this.props.KEYCODES.KEY_TAB,modifier:!!a.metaKey||!!a.ctrlKey||!!a.altKey};if(!b.modifier){b.enter&&this.handleSubmit(a);var c=this.props.suggestionStore.getSuggestions();if(0==c.length&&(c=this.props.defaultTags||[]),c.length){var d=this.props.getAutocompleteIdx();if(b.down_arrow||b.up_arrow){var e=0;if(e=b.down_arrow?1:-1,0===d&&b.up_arrow||d===c.length-1&&b.down_arrow)return void this.props.setComponentState({selectionActive:!1,autocompleteIdx:null});d=null==d?b.up_arrow?c.length-1:0:((d+e)%c.length+c.length)%c.length,this.props.setComponentState({selectionActive:!0,autocompleteIdx:d})}else if(b.right_arrow||b.tab){var f=c[0].tag,g=this.refs.query;null!=d?f=c[d].tag:"number"==typeof g.selectionEnd&&g.selectionEnd==g.value.length&&this.moveCursorToEnd(g),this.props.suggestionStore.setQuery(f),this.handleKeyPress(a),b.tab&&this.props.setComponentState({focusDue:!0})}}}},handleKeyPress:function(a){var b=this._getAcInfo().queryDisplayed+(32==a.which?"m":String.fromCharCode(a.which)),c=$("<span />").text(b);$("body").append(c),c.width()>$(this.refs.query).width()?this.setState({hidden:"hidevis"}):this.setState({hidden:""}),c.remove()},handleChangedQuery:function(a){this.props.suggestionStore.setValidationMode("query"),this.props.suggestionStore.setQuery(a.target.value),this.props.setComponentState({selectionActive:!1,autocompleteIdx:null})},handleSubmit:function(a){a.preventDefault(),this.props.suggestionStore.setValidationMode("submit");var b=this._getAcInfo(),c=b.queryDisplayed,d=this.props.suggestionStore.getIsValidQuery(c);d&&this.props.onSubmit(c,a)},focused:function(){this.props.setComponentState({focusDue:!1})},_getAcInfo:function(){var a=this.props.suggestionStore.getQuery(),b="",c=this.props.suggestionStore.getSuggestions();0==c.length&&(c=this.props.defaultTags||[]),c.length&&null!=this.props.getAutocompleteIdx()?b=c[this.props.getAutocompleteIdx()].tag:c.length&&(b=c[0].tag);var d=this._longestCommonPrefix(b,a);return d&&(d==a||this.props.getSelectionActive())||(b=""),{acText:b,queryDisplayed:null!=this.props.getAutocompleteIdx()&&this.props.getSelectionActive()?b:a}},_longestCommonPrefix:function(a,b){if(!b)return a;for(var c=Math.min(a.length,b.length);c>=0;){if(a.substr(0,c)==b.substr(0,c))return a.substr(0,c);c--}return""},componentDidUpdate:function(){(this.props.maybeErrorLabel||this.props.maybeAjaxErrorLabel)&&$(".tipsy-error").tipsy({cls:"error-tipsy",gravity:"w",trigger:"manual",title:"data-title"}).tipsy("show")},render:function(){return React.DOM.div({className:"acContainer"},React.DOM.input({ref:"query",onChange:this.handleChangedQuery,type:"text",id:this.props.id?this.props.id:"tagbox",placeholder:this.props.placeholder,tabIndex:this.props.tabIndex,value:this._getAcInfo().queryDisplayed,onKeyDown:this.handleKeyDown,onKeyPress:this.handleKeyPress,autoComplete:"off","data-title":this.props.maybeErrorLabel?this.props.maybeErrorLabel:this.props.maybeAjaxErrorLabel?this.props.maybeAjaxErrorLabel:"",className:this.props.className+(this.props.maybeErrorLabel||this.props.maybeAjaxErrorLabel?" tipsy-error":"")}),React.DOM.input({id:"acText",type:"text",autoComplete:"off",readOnly:!0,ref:"hint",className:this.state.hidden,value:this._getAcInfo().acText}))}}),Namespace("Imgur.Tag"),Imgur.Tag.Comparator=Class.extend({compare:function(a,b){var c=a.getName(),d=b.getName();if(d==c)return 0;var e=[c,d];return e.sort(),e[0]==c?-1:1}}),Namespace("Imgur.Tag"),Imgur.Tag.ShareTagComponent=React.createClass({displayName:"Tag-ShareTagComponent",getInitialState:function(){return{focusDue:!0,selectionActive:!1,autocompleteIdx:null}},_encode:function(a){return a.replace(new RegExp(" ","g"),"_")},handleTagClicked:function(a,b){b.preventDefault()},handleRemoveClicked:function(a,b){b.preventDefault(),this.props.tagStore.removeTag(a)},handleQueryChange:function(a){this.props.suggestionStore.setQuery(a.target.value)},handleChoice:function(a,b){b.preventDefault(),this.props.suggestionStore.setValidationMode("query"),this.props.suggestionStore.clear(),this.props.suggestionStore.setQuery(""),this.props.tagStore.addTag({tag:a}),this.setState({selectionActive:!1,autocompleteIdx:null})},getSelectionActive:function(){return this.state.selectionActive},getAutocompleteIdx:function(){return this.state.autocompleteIdx},setComponentState:function(a){this.setState(a)},componentDidMount:function(){this._updateNano()},componentDidUpdate:function(){this._updateNano()},_updateNano:function(){var a=$(this.refs.nano),b=this.refs.content;a.height("inherit").height(b.scrollHeight),a.nanoScroller({preventPageScrolling:!0,alwaysVisible:!0}),a.children(".pane").is(":visible")?a.addClass("nano-visible"):a.removeClass("nano-visible")},stopPropagation:function(a){a.stopPropagation()},_produceTag:function(a,b,c){return React.DOM.div({onClick:_.partial(this.handleChoice,b),className:"tag suggested pointer"+(a?" hover":"")},React.DOM.div({className:"name"},b),React.DOM.div({className:"images"},Imgur.Util.numberFormat(c)+" images"))},render:function(){var a=this.props.suggestionStore.getLastFinishedQuery(),b=this.props.suggestionStore.getQuery(),c=this.props.suggestionStore.getIsValidQuery(b),d=this.props.suggestionStore.getWhyNot(b),e=this.props.suggestionStore.getIsLoading(),f=this.props.suggestionStore.getSuggestions(),g=[],h=[],i=[],j=[],k=Object.keys(this.props.tagStore.getTags()),l=0,m="";if(tagCountText="",a.length){if(_.each(f,_.bind(function(a,b){var c=null!=this.state.autocompleteIdx&&b==this.state.autocompleteIdx&&this.state.selectionActive;g.push(this._produceTag(c,a.tag,a.images))},this)),!f.length&&c){var n=e?a:b;g.push(React.DOM.p({className:"empty"},"No tag like ",React.DOM.em(null,n)," found. ",React.DOM.a({className:"tag-create-from-empty-query",href:"#",onClick:_.partial(this.handleChoice,n)},"Make it!")))}}else g.push(React.DOM.div({className:"empty"},""));return!(g.length<2&&0==k.length)||f.length||e&&b.length||(i=_.filter(this.props.defaultTags,function(a){return k.indexOf(a.tag)==-1}),_.each(i,_.bind(function(a,b){if(k.indexOf(a.tag)==-1){var c=null!=this.state.autocompleteIdx&&b==this.state.autocompleteIdx&&this.state.selectionActive;h.push(this._produceTag(c,a.tag,a.images))}},this))),j=_.map(k,_.bind(function(a){return a==this.props.gallery_type?React.DOM.div({className:"tag-removable"},React.DOM.span(null,a)):React.DOM.div({className:"tag-removable"},React.DOM.span(null,a),React.DOM.a({onClick:_.partial(this.handleRemoveClicked,a),href:"#",className:"remove"},""),React.DOM.input({type:"hidden",name:"tag[]",value:a}))},this)),l=j.length,l>=this.props.tagLimit?m="filled":l>0&&(m="filling"),this.refs.query&&$(this.refs.query).find("input").is(":focus")&&(tagCountText="Press enter to add tag "),React.DOM.div(null,j,React.DOM.div({className:"tag-filter"},React.createElement(Imgur.Tag.AutocompleteComponent,{onSubmit:this.handleChoice,ref:"query",id:l>=this.props.tagLimit?"tagbox-hidden":this.props.id,type:"text",autoComplete:"off",placeholder:this.props.placeholder,tabIndex:this.props.tabIndex,defaultTags:i,suggestionStore:this.props.suggestionStore,getAutocompleteIdx:this.getAutocompleteIdx,getSelectionActive:this.getSelectionActive,setComponentState:this.setComponentState,maybeErrorLabel:d}),React.DOM.div({ref:"nano",className:"tag-list-content nano"},React.DOM.div({ref:"content",className:"tag-list-results scroll-content content"},i.length||f.length&&c?React.DOM.p({},"TAG SUGGESTIONS"):"",g,h))),React.DOM.p({id:"tag-count",className:"limit"},tagCountText,React.DOM.span({className:m},"("+l+"/"+this.props.tagLimit+")")))}}),Namespace("Imgur.Tag"),Imgur.Tag.TagListComponent=React.createClass({displayName:"Tag-TagListComponent",getInitialState:function(){return{focusDue:!0,selectionActive:!1,autocompleteIdx:null}},_encode:function(a){return a.replace(new RegExp(" ","g"),"_")},handleTagClicked:function(a,b){b.preventDefault();var c=this.props.outsideActiveTagStore.getIsActive(),d=this.props.outsideActiveTagStore.getActiveTag();c&&a===d?this.props.outsideActiveTagStore.deactivate():this.props.outsideActiveTagStore.setActiveTag(a)},handleRemoveClicked:function(a,b){b.preventDefault(),"[filtered]"===this.props.groupId?this.props.groupModel.unblock(this.props.groupId,a):this.props.groupModel.unsubscribe(this.props.groupId,a)},handleQueryChange:function(a){this.props.suggestionStore.setQuery(a.target.value)},handleChoice:function(a,b){b.preventDefault(),this.props.suggestionStore.setValidationMode("query"),this.props.suggestionStore.clear(),this.props.suggestionStore.setQuery(""),"[filtered]"===this.props.groupId?this.props.groupModel.block(this.props.groupId,a):this.props.tagGroupStore.isTagInGroup(a,this.props.groupId)||this.props.groupModel.subscribe(this.props.groupId,a)},getSelectionActive:function(){return this.state.selectionActive},getAutocompleteIdx:function(){return this.state.autocompleteIdx},setComponentState:function(a){this.setState(a)},componentDidMount:function(){this._updateNano()},componentDidUpdate:function(){this._updateNano()},_updateNano:function(){var a=$(this.refs.nano),b=this.refs.content;a.height("inherit").height(b.scrollHeight),a.nanoScroller({preventPageScrolling:!0}),a.children(".pane").is(":visible")?a.addClass("nano-visible"):a.removeClass("nano-visible")},render:function(){var a=this.props.suggestionStore.getLastFinishedQuery(),b=this.props.suggestionStore.getQuery(),c=this.props.suggestionStore.getIsValidQuery(b),d=this.props.suggestionStore.getWhyNot(b),e=this.props.groupId,f=this.props.outsideActiveTagStore.getActiveTag(),g=this.props.suggestionStore.getIsLoading(),h=this.props.suggestionStore.getSuggestions(),i=this.props.tagGroupStore.getFailedTag(),j="",k="",l=[];if(a.length){if(l=_.map(h,_.bind(function(a,b){var c=null!=this.state.autocompleteIdx&&b==this.state.autocompleteIdx&&this.state.selectionActive;return React.DOM.div({onClick:_.partial(this.handleChoice,a.tag),className:"tag suggested"+(c?" hover":"")},React.DOM.span({className:"name"},a.tag),React.DOM.div({className:"add"},React.DOM.span({className:"plus-icon"},"")))},this)),!h.length&&c){var m=g?a:b;l.push(React.DOM.p({id:"new-empty-tag"},React.DOM.span({className:"icon-alert"},""),"Are you sure you want to create ",React.DOM.em(null,m)))}}else l=_.map(this.props.tagGroupStore.getTagsForGroup(e),_.bind(function(a){return React.DOM.div({className:"tag tag-removable "+(a===f?"selected":"")+(this.props.tagGroupStore.isPending(a,e)?" pending":"")},React.DOM.a({onClick:_.partial(this.handleTagClicked,a),href:"/t/"+this._encode(a),className:"name"},a),React.DOM.a({onClick:_.partial(this.handleRemoveClicked,a),href:"#",className:"remove"},""))},this));if(!l.length){var n="";"[filtered]"==this.props.groupId&&(n="Add tags to be filtered out."),l.push(React.DOM.div({className:"empty"},n))}return c||(j=d),i&&(k=i),React.DOM.div(null,React.DOM.div({className:"tag-filter"},React.createElement(Imgur.Tag.AutocompleteComponent,{onSubmit:this.handleChoice,ref:"query",id:this.props.id?this.props.id:"tagbox",type:"text",autoComplete:"off",placeholder:this.props.placeholder,maybeErrorLabel:j,maybeAjaxErrorLabel:k,suggestionStore:this.props.suggestionStore,getAutocompleteIdx:this.getAutocompleteIdx,getSelectionActive:this.getSelectionActive,setComponentState:this.setComponentState})),React.DOM.div({ref:"nano",className:"tag-list-content nano"},React.DOM.div({ref:"content",className:"tag-list-results scroll-content content"},l)))}}),Namespace("Imgur.Tag.Validator"),Imgur.Tag.TagValidator=Class.extend({
TAG_REGEX:/^[a-zA-Z0-9\_ ]*$/,init:function(a,b){this._={maxLength:b,minLength:a}},isValidTag:function(a,b,c){return this._validateTag(a,b,c).success},whyNot:function(a,b,c){return this._validateTag(a,b,c).message},_validateTag:function(a,b,c){var d={success:!0,message:null};return b=b.trim().toLowerCase(),null==b.match(Object.getPrototypeOf(this).TAG_REGEX)&&(d.message="Tags can only contain alphanumeric, space, and underscore characters.",d.success=!1),c&&(d.message="This tag has already been added",d.success=!1),"submit"==a&&b.length<this._.minLength?(d.message="Tag is too short. Tags can be between "+this._.minLength+" and "+this._.maxLength+" characters.",d.success=!1):b.length>this._.maxLength&&(d.message="Tag is too long. Tags can be between "+this._.minLength+" and "+this._.maxLength+" characters.",d.success=!1),d}}),Namespace("Imgur.Tag.Validator"),Imgur.Tag.GroupValidator=Class.extend({GROUP_REGEX:/^[a-zA-Z0-9&\-\s]*$/,init:function(a,b){this._={maxLength:b,minLength:a}},isValidGroup:function(a,b){return this._validateGroup(a,b).success},whyNot:function(a,b){return this._validateGroup(a,b).message},_validateGroup:function(a,b){var c={success:!0,message:null};return b=b.trim(),null==b.match(Object.getPrototypeOf(this).GROUP_REGEX)&&(c.message="Galleries can only contain alphanumeric and others (&-).",c.success=!1),"submit"==a&&b.length<this._.minLength?(c.message="Gallery is too short. Galleries can be between "+this._.minLength+" and "+this._.maxLength+" characters.",c.success=!1):b.length>this._.maxLength&&(c.message="Gallery is too long. Galleries can be between "+this._.minLength+" and "+this._.maxLength+" characters.",c.success=!1),c}}),Namespace("Imgur.Tag"),Imgur.Tag.Sentence=Class.extend({init:function(a,b,c){this._={groupStore:c,el:{$before:a,$middle:b}}},get$Before:function(){return this._.el.$before},get$Middle:function(){return this._.el.$middle},change:function(a){"hot"==a?this._.el.$before.text("The"):"gallery-other"==a||"usersub"==a||"subreddit"==a?this._.el.$before.text(""):"tag"==a?this._.el.$before.text("Images tagged with"):"gallery"==a&&this._.el.$before.text("Your");var b=", sorted by";"hot"==a?b="images on the Internet"+b:"usersub"==a||"subreddit"==a?b="images"+b:"gallery"!=a&&"gallery-other"!=a||(b=" gallery"+b),this._.el.$middle.text(b)}}),Namespace("Imgur.Tag.Store"),Imgur.Tag.Store.Suggestion=Class.extend({init:function(a,b){this._={tagValidator:b,emitter:a,suggestions:[],query:"",lastFinishedQuery:"",validationMode:"query",loading:!1}},getIsLoading:function(){return this._.loading},setIsLoading:function(a){this._.loading=a,this._.emitter.trigger("new suggestions")},setValidationMode:function(a){this._.validationMode=a,this._.emitter.trigger("new suggest validation mode")},getIsValidQuery:function(a){return this._.tagValidator.isValidTag(this._.validationMode,a)},getWhyNot:function(a){return this._.tagValidator.whyNot(this._.validationMode,a)},getQuery:function(){return this._.query.toLowerCase()},getLastFinishedQuery:function(){return this._.lastFinishedQuery},setLastFinishedQuery:function(a){this._.lastFinishedQuery=a,this._.emitter.trigger("new finished query")},setQuery:function(a){this._.query=a,this._.emitter.trigger("new suggest query")},getSuggestions:function(){return this._.suggestions},setSuggestions:function(a){this._.suggestions=a,this._.emitter.trigger("new suggestions")},addSuggestion:function(a){this._.suggestions.push(a),this._.emitter.trigger("new suggestions")},clear:function(){this._.suggestions=[],this._.emitter.trigger("new suggestions")}}),Namespace("Imgur.Tag.Store"),Imgur.Tag.Store.CurrentImage=Class.extend({init:function(a){this._={emitter:a,currentImage:null}},setCurrentImage:function(a){this._.currentImage=a,this._.emitter.trigger("current image updated")},getCurrentImage:function(){return this._.currentImage},getCurrentImageId:function(){return this._.currentImage?this._.currentImage.hash:null}}),Namespace("Imgur.Tag.Store"),Imgur.Tag.Store.Group=Class.extend({init:function(a,b){this._={emitter:a,groups:b||{}}},getGroups:function(){return _.filter(_.values(this._.groups),function(a){return!a.deleted})},getGroup:function(a){return this._.groups[a]},haveGroup:function(a){return this._.groups.hasOwnProperty(a)&&!this._.groups[a].deleted},addGroup:function(a){this._.groups[a.hash]=a,this._.emitter.trigger("new group added")},removeGroup:function(a){this._.groups.hasOwnProperty(a)&&delete this._.groups[a],this._.emitter.trigger("group deleted")},markDeleted:function(a){this._.groups.hasOwnProperty(a)&&(this._.groups[a].deleted=!0),this._.emitter.trigger("group deleted")}}),Namespace("Imgur.Tag.Store"),Imgur.Tag.Store.TagImage=Class.extend({SOURCE:{DEFAULT:"default",GALLERY_PAGE:"page",SUGGESTION:"suggestion",USER:"user"},init:function(a){this._={emitter:a,tagsByHash:{},ajaxErrors:{},isLoading:!1}},setAjaxError:function(a,b){this._.ajaxErrors[a]=b,this._.emitter.trigger("ajax error added to post")},unsetAjaxError:function(a){delete this._.ajaxErrors[a],this._.emitter.trigger("ajax error removed from post")},getAjaxError:function(a){return this._.ajaxErrors.hasOwnProperty(a)?this._.ajaxErrors[a]:null},getIsLoading:function(){return this._.isLoading},setIsLoading:function(a){this._.isLoading=!!a,this._.emitter.trigger("ajax tag loading finished")},isTagOnPost:function(a,b){return!!this._.tagsByHash.hasOwnProperty(a)&&this._.tagsByHash[a].hasOwnProperty(b)},getTagsForPost:function(a){return this._.tagsByHash.hasOwnProperty(a)?this._.tagsByHash[a]:[]},haveTagsForPost:function(a){return this._.tagsByHash.hasOwnProperty(a)},addTagForPost:function(a,b,c){if(this._.tagsByHash.hasOwnProperty(a)||(this._.tagsByHash[a]={}),this._.tagsByHash[a].hasOwnProperty(b)){var d=this._.tagsByHash[a][b].source;c=_.merge({},this._.tagsByHash[a][b],c,{source:d})}this._.tagsByHash[a][b]=c,this._.emitter.trigger("tag added to post")},removeTagFromPost:function(a,b){this._.tagsByHash.hasOwnProperty(a)&&this._.tagsByHash[a].hasOwnProperty(b)&&delete this._.tagsByHash[a][b],this._.emitter.trigger("tag removed from post")},getTag:function(a,b){if(!this._.tagsByHash.hasOwnProperty(a))return null;if(!this._.tagsByHash[a].hasOwnProperty(b))return null;var c=this._.tagsByHash[a][b];return c},_getTagProp:function(a,b,c){if(!this._.tagsByHash.hasOwnProperty(a))return null;if(!this._.tagsByHash[a].hasOwnProperty(b))return null;var b=this._.tagsByHash[a][b];return b[c]},_setTagProp:function(a,b,c,d){if(this._.tagsByHash.hasOwnProperty(a)&&this._.tagsByHash[a].hasOwnProperty(b)){var b=this._.tagsByHash[a][b];b[c]=d,this._.emitter.trigger("image tag updated")}},getTagVote:function(a,b){return this._getTagProp(a,b,"vote")},setTagVote:function(a,b,c){this._setTagProp(a,b,"vote",c)},setTagSource:function(a,b,c){this._setTagProp(a,b,"source",c)}}),Namespace("Imgur.Tag.Store"),Imgur.Tag.Store.Tag=Class.extend({INTERESTING_FIELDS:["tag","subscribers","images"],init:function(a,b){this._={emitter:a,tags:{},limit:b||0}},getTag:function(a){return this._.tags[a]},getTags:function(){return this._.tags},haveTag:function(a){return this._.tags.hasOwnProperty(a)},getTagSubscribers:function(a){return this._.tags.hasOwnProperty(a)&&this._.tags[a].hasOwnProperty("subscribers")?this._.tags[a].subscribers:"n/a"},addTag:function(a){if(0==this._.limit||Object.keys(this.getTags()).length!=this._.limit){var b={};this._.tags.hasOwnProperty(a.tag)&&(b=this._.tags[a.tag]),a=_.pick(a,this.INTERESTING_FIELDS),this._.tags[a.tag]=_.merge({},b,a),this._.emitter.trigger("tag updated")}else this._.emitter.trigger("tag limit reached")},removeTag:function(a){delete this._.tags[a],this._.emitter.trigger("tag removed")},setFollowing:function(a,b){var c=this.getTag(a);c&&(c.following=b)},encode:function(a){return encodeURIComponent(a.replace(new RegExp(" ","g"),"_"))}}),Namespace("Imgur.Tag.Store"),Imgur.Tag.Store.TagGroup=Class.extend({ACTIONS:{ADDED:"added",REMOVED:"removed",ERROR:"error"},init:function(a){this._={emitter:a,groupsByTag:{},tagsByGroup:{},pendingAddTags:{},groupsEventHistory:{},failedTag:""}},pushHistory:function(a,b,c){this._.groupsEventHistory.hasOwnProperty(a)||(this._.groupsEventHistory[a]={}),this._.groupsEventHistory[a].hasOwnProperty(b)||(this._.groupsEventHistory[a][b]=[]),this._.groupsEventHistory[a][b].push({time:Date.now(),action:c}),this._.emitter.trigger("new tag-group event")},getLatestTagGroupEvent:function(a,b){if(!this._.groupsEventHistory.hasOwnProperty(a)||!this._.groupsEventHistory[a].hasOwnProperty(b))return null;var c=this._.groupsEventHistory[a][b],d=c[c.length-1];return d},isTagInGroup:function(a,b){return!!this._.groupsByTag.hasOwnProperty(a)&&(this._.groupsByTag[a].indexOf(b)!==-1||this._.pendingAddTags.hasOwnProperty(b)&&this._.pendingAddTags[b].indexOf(a)!==-1)},getTagsForGroup:function(a){return this._.tagsByGroup.hasOwnProperty(a)?this._.pendingAddTags.hasOwnProperty(a)?this._.tagsByGroup[a].concat(this._.pendingAddTags[a]):this._.tagsByGroup[a]:[]},getGroupHashesForTag:function(a){return this._.groupsByTag.hasOwnProperty(a)?this._.groupsByTag[a]:[]},addTagToGroup:function(a,b){this._.groupsByTag.hasOwnProperty(a)||(this._.groupsByTag[a]=[]),this._.tagsByGroup.hasOwnProperty(b)||(this._.tagsByGroup[b]=[]),this._.groupsByTag[a].push(b),this._.tagsByGroup[b].push(a),this._.emitter.trigger("tag added to group")},removeTagFromGroup:function(a,b){this._.groupsByTag.hasOwnProperty(a)&&(this._.groupsByTag[a]=_.filter(this._.groupsByTag[a],function(a){return a!=b})),this._.tagsByGroup.hasOwnProperty(b)&&(this._.tagsByGroup[b]=_.filter(this._.tagsByGroup[b],function(b){return b!=a})),this._.emitter.trigger("tag removed from group")},addPendingTag:function(a,b){this._.pendingAddTags[b]&&this._.pendingAddTags[b].length?this._.pendingAddTags[b].push(a):this._.pendingAddTags[b]=[a],this._.emitter.trigger("pending tag added to group")},removePendingTag:function(a,b){var c=this._.pendingAddTags[b].indexOf(a);c>-1&&(this._.pendingAddTags[b].splice(c,1),this._.emitter.trigger("pending tag removed from group"))},isPending:function(a,b){return!!this._.pendingAddTags.hasOwnProperty(b)&&_.contains(this._.pendingAddTags[b],a)},getFailedTag:function(){return this._.failedTag},setFailedTag:function(a){this._.failedTag=a},getTags:function(){return this._.groupsByTag}}),Namespace("Imgur.Tag.Store"),Imgur.Tag.Store.OutsideActiveTag=Class.extend({init:function(a){this._={emitter:a,activeTag:null}},getIsActive:function(){return null!=this._.activeTag},getActiveTag:function(){return this._.activeTag},getActiveTagEncoded:function(){return this._.activeTag.replace(new RegExp(" ","g"),"_")},setActiveTag:function(a,b){this._.activeTag=a,this._.emitter.trigger("new outside active tag",!!b)},deactivate:function(a){this._.activeTag=null,this._.emitter.trigger("new outside active tag",!!a)}}),Namespace("Imgur.Tag.Controller"),Imgur.Tag.Controller.OutsideComponent=Class.extend({init:function(a,b){this._={suggestionModel:a,suggestionStore:b}},handleChangedQuery:function(){var a=this._.suggestionStore.getQuery();this._.suggestionStore.setIsLoading(!0),this._.suggestionModel.cancel(),this._.suggestionModel.fetch(a,_.bind(this._handleSuggestResponse,this),_.bind(this._handleSuggestError,this,a))},_handleSuggestResponse:function(a,b){this._.suggestionStore.setSuggestions(b),this._.suggestionStore.setIsLoading(!1),this._.suggestionStore.setLastFinishedQuery(a)},_handleSuggestError:function(a){this._.suggestionStore.setLastFinishedQuery(a),this._.suggestionStore.setIsLoading(!1)}}),Namespace("Imgur.Tag.Controller"),Imgur.Tag.Controller.UserGroup=Class.extend({init:function(a,b,c,d,e,f,g,h){this._={groupModel:b,activeGroupId:c,group:d,groupList:e,emitter:a,cboxConfirm:f,confirmTarget:"#colorbox-confirm",el:{$confirmMessage:g,$confirmTitle:h}}},handleRemoveConfirmedEvent:function(a){this._.group.remove(),this._.emitter.trigger("group.remove",this._.group.getId()),this._.group.getId()==this._.activeGroupId&&this._.emitter.trigger("command.location","/")},handleRemoveEvent:function(a){a.stopPropagation(),this._.el.$confirmTitle.html("Delete "+this._.group.getName()+"?"),this._.el.$confirmMessage.html('Are you sure you want to delete the gallery <span class="green">'+this._.group.getName()+"</span>?"),this._.cboxConfirm.show(this._.confirmTarget,_.bind(this.handleRemoveConfirmedEvent,this,a))},handleRemovedTagEvent:function(a,b){b.stopPropagation(),this._.groupList.remove(a),this._.groupList.removeCoreSet(a),this._.groupModel.unsubscribe(this._.group.getId(),a.getName(),_.bind(function(){this._.emitter.trigger("new tagset")},this)),this._.emitter.trigger("show tagset loader")},handleRemoveEventOther:function(a){a==this._.group.getId()&&this._.group.remove()},setList:function(a){this._.groupList=a,this._.group.setList(a)}}),Namespace("Imgur.Tag.Controller"),Imgur.Tag.Controller.GroupSelectorLimits=Class.extend({init:function(a,b,c){this._={emitter:a,groupSelector:b,groupStore:c}},_disableNew:function(){this._.groupSelector.disableNewGroupButton()},_enableNew:function(){this._.groupSelector.enableNewGroupButton()},handleGroupRemove:function(a){this._.groupSelector.removeUserGroup(a),this._.groupStore.markDeleted(a),this._.groupSelector.getRemainingUserGroups()>0&&this._enableNew()},handleGroupAdd:function(a){this._.groupSelector.addUserGroup(a),this._.groupStore.addGroup({hash:a.getId(),name:a.getName(),account_id:Imgur.Environment.auth.id,account_url:Imgur.Environment.auth.url}),this._.groupSelector.getRemainingUserGroups()<=0&&this._disableNew()}}),Namespace("Imgur.Tag"),Imgur.Tag.SuggestedTag=Imgur.Tag.Tag.extend({VOTE_UP:"up",init:function(a,b){this._super(a),this._.groupId=b,this._.el.$addBtn=a,this._.el.$subscribers=a.find(".subscribers")},getGroupId:function(){return this._.groupId},get$Add:function(){return this._.el.$addBtn},getSubscribers:function(){return Number(this._.el.$subscribers.attr("data-subscribers"))},get$ExternalLink:function(){return this._.el.$container.find(".external-link")}}),Imgur.Elements.Copy=React.createClass({displayName:"Copy",getDefaultProps:function(){return{inputClass:""}},copy:function(){var a=this.refs.value;a.select();try{document.execCommand("copy"),window.getSelection().removeAllRanges()}catch(b){}flashElement($(a),100,null)},selectAll:function(){ReactDOM.findDOMNode(this.refs.value).select()},render:function(){var a,b=this.props.inputClass;return document.queryCommandSupported("copy")?a=React.DOM.button({onClick:this.copy,className:this.props.copyClass},"Copy"):(a=React.DOM.button({className:this.props.copyClass+" copy-button-unsupported"}),b+=" copy-input-unsupported"),b+=" copyflash",React.DOM.div({className:"copywrapper"},React.DOM.input({type:"text",value:this.props.value,ref:"value",className:b,onClick:this.selectAll,readOnly:!0}),a)}}),Imgur.Flash=React.createClass({displayName:"Flash",getDefaultProps:function(){return{delay:1e3}},getInitialState:function(){return{visible:!1}},componentWillReceiveProps:function(a){a.start===this.props.start&&a.delay===this.props.delay||(this._installTimer(a.start),this.setState({visible:!0}))},_getDuration:function(a){return Math.max(0,a+this.props.delay-+new Date)},componentDidMount:function(){this._getDuration(this.props.start)>0&&(this._installTimer(this.props.start),this.setState({visible:!0}))},_installTimer:function(a){null!==this._timer&&(window.clearTimeout(this._timerRef),this._timerRef=null);var b=this._getDuration(a);this._timerRef=window.setTimeout(_.bind(this._handleTimerExpired,this),b)},_handleTimerExpired:function(){this.setState({visible:!1}),this._timerRef=null},render:function(){return React.createElement(React.addons.CSSTransitionGroup,{transitionName:"flash"},this.state.visible?React.DOM.div(null,this.props.children):null)}});var _extends=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a};Namespace("Imgur.Elements");var styles={spring:{stiffness:120,damping:9},button:{maxScale:1.25}};Imgur.Elements.PressButton=React.createClass({displayName:"PressButton",propTypes:{isPressed:React.PropTypes.bool,onPress:React.PropTypes.func},getDefaultProps:function(){return{style:{}}},getInitialState:function(){return{isPressed:!1}},isLeftClick:function(a){a=a||window.event;var b=a.which||a.button;return b<2},handleMouseDown:function(a){this.isLeftClick(a)&&this.setState({isPressed:!0})},handleMouseUp:function(a){this.isLeftClick(a)&&(this.props.onPress(),this.setState({isPressed:!1}))},handleMouseLeave:function(){this.setState({isPressed:!1})},render:function(){var a=this,b=this.state.isPressed?styles.button.maxScale:1,c={scale:ReactMotion.spring(b,styles.spring)};return React.createElement(ReactMotion.Motion,{defaultStyle:{scale:1},style:c},function(b){var c=b.scale;return React.createElement("button",_extends({},a.props,{onMouseDown:a.handleMouseDown,onMouseUp:a.handleMouseUp,onMouseLeave:a.handleMouseLeave,style:_extends({transform:"scale("+c+")",WebkitTransform:"scale("+c+")"},a.props.style)}),a.props.children)})}}),Namespace("Imgur.Elements"),Imgur.Elements.NanoScroller=React.createClass({displayName:"NanoScroller",componentDidUpdate:function(){$(ReactDOM.findDOMNode(this.refs.container)).nanoScroller()},componentWillUnmount:function(){this.scrollContainer.nanoScroller({destroy:!0})},render:function(){return React.createElement("div",{ref:"container",className:"js-nanoscroller nano "+this.props.classes,onScroll:this.props.onScroll},React.createElement("div",{className:"scroll-content content cf"},this.props.children))}}),Namespace("Imgur.Elements"),Imgur.Elements.Socialicons=React.createClass({displayName:"Elements-Socialicons",getDefaultProps:function(){return{classes:""}},socialShare:function(a){var b=window.location.href,c="left=20,top=20,width=560,height=500,toolbar=1",d=$(".post-title").text(),e=Imgur.UserStatistics.getInstance();switch(e.emitActionUserShare(this.props.tagsNames),a){case"facebook":b="https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(b),c="left=20,top=20,width=500,height=500,toolbar=1";break;case"twitter":b="https://twitter.com/home?status="+encodeURIComponent(d+" "+b);break;case"pinterest":b="https://pinterest.com/pin/create/button/?url="+encodeURIComponent(b)+"&media="+encodeURIComponent($(".post-images img")[0].src)+"&description="+d,c="left=20,top=20,width=750,height=601,toolbar=1";break;case"reddit":b="//www.reddit.com/submit?title="+encodeURIComponent(d)+"&url="+encodeURIComponent(b),c="left=20,top=20,width=860,height=700,toolbar=1"}window.open(b,"sharer",c)},render:function(){return React.createElement("div",{className:this.props.classes},React.createElement("span",{className:"social-icon icon-f",onClick:this.socialShare.bind(null,"facebook")}),React.createElement("span",{className:"social-icon icon-twttr",onClick:this.socialShare.bind(null,"twitter")}),React.createElement("span",{className:"social-icon icon-pin",onClick:this.socialShare.bind(null,"pinterest")}),React.createElement("span",{className:"social-icon icon-reddit",onClick:this.socialShare.bind(null,"reddit")}))}}),Namespace("Imgur.Elements"),Imgur.Elements.Mute=React.createClass({propTypes:{url:React.PropTypes.string.isRequired},displayName:"ElementsMute",handleSubmit:function(){$.ajax({url:this.props.url,method:"POST",xhrFields:{withCredentials:!0}}).done(this.closeColorbox).fail(function(){humanMsg.displayMsg("Unable to mute user. Please try again","error-msg")})},closeColorbox:function(){$.colorbox.close()},render:function(){var a=this;return React.createElement("div",null,React.createElement("h2",null,"Mute User"),React.createElement("p",{className:"mute-text"},"New replies, comments on your posts, mentions, and messages from this user will be muted."),React.createElement("div",{className:"mute-footer"},React.createElement("button",{className:"btn-nebula btn-action btn-small right bold",type:"button",ref:"mute",onClick:function(b){b.preventDefault(),a.handleSubmit()}},"Mute"),React.createElement("a",{className:"btn right",ref:"cancel",onClick:function(b){b.preventDefault(),a.closeColorbox()}},"Cancel")),React.createElement("div",{className:"clear"}))}}),Imgur.Elements.Mute.dimensions={width:400,height:280},Namespace("Imgur.Elements"),Imgur.Elements.Report=React.createClass({propTypes:{type:React.PropTypes.string.isRequired,url:React.PropTypes.string.isRequired,metadata:React.PropTypes.object,cb:React.PropTypes.func},displayName:"ElementsReport",strings:{abuse:"Abusive/Offensive",abuseExplanation:function(a){return"This "+a+" contains racism, sexism, slurs, personal attacks, death threats, suicide requests or any form of hate speech."},dboi:"Does Not Belong On Imgur",dboiExplanation:function(a){return"This "+a+" contains illegal activity, suicide threats, personal information, or something else you think doesn't belong on Imgur."},defaultCombobox:"SELECT A REASON",explicit:"Sexually Explicit",explicitExplanation:function(a){return"This "+a+" contains pornography, full or partial nudity."},mature:"Mature",matureExplanation:function(a){return"This "+a+" contains suggestive or provocative content."},matureSettings:React.createElement("div",null,"If you don't want to see mature content on Imgur, please change your ",React.createElement("a",{href:"/account/settings"},"safety settings"),"."),matureWarning:function(a){return"(This "+a+" is already marked as mature)"},spam:"Spam",reportHeading:function(a){return"Report "+a},spamExplanation:function(a){return"This "+a+" contains clickbait, advertising, scams or script bots."}},reportValues:{DBOI:1,SPAM:2,ABUSE:3,MATURE:4,EXPLICIT:5},getInitialState:function(){return{value:null}},getDefaultProps:function(){return{metadata:{}}},shouldComponentUpdate:function(a,b){return this.state.value!==b.value},handleSubmit:function(a){if(a.preventDefault(),this.state.value){var b={sid:Imgur.Environment.msid,type:this.state.value,hash:this.props.metadata.hash};this.props.metadata.isAlbum&&(b.isAlbum=!0),Imgur.Util.jafoLog({event:"report",meta:this.props.metadata}),$.post(this.props.url,b),Imgur.Gallery.getInstance().preventReportCloseAnalytics(),$.colorbox.close(),humanMsg.displayMsg("Thanks for reporting!"),"function"==typeof this.props.cb&&this.props.cb()}},setValue:function(a){this.setState({value:a})},render:function(){var a=this.props.type,b=null,c=this.strings.matureExplanation(a),d=this.props.metadata.nsfw;d&&(b=this.strings.matureWarning(a),c=this.strings.matureSettings);var e=[Imgur.Elements.RadioBox.createItem(this.strings.mature,c,this.reportValues.MATURE,b,d),Imgur.Elements.RadioBox.createItem(this.strings.explicit,this.strings.explicitExplanation(a),this.reportValues.EXPLICIT),Imgur.Elements.RadioBox.createItem(this.strings.spam,this.strings.spamExplanation(a),this.reportValues.SPAM),Imgur.Elements.RadioBox.createItem(this.strings.abuse,this.strings.abuseExplanation(a),this.reportValues.ABUSE),Imgur.Elements.RadioBox.createItem(this.strings.dboi,this.strings.dboiExplanation(a),this.reportValues.DBOI)],f=!this.state.value&&"btn-nebula-inactive";return React.createElement("div",null,React.createElement("h2",null,this.strings.reportHeading(a)),React.createElement(Imgur.Elements.RadioBox,{name:"reportpost",enabled:this.state.enabled,items:e,onChange:this.setValue}),React.createElement("div",{className:"report-footer"},React.createElement("p",{className:"community_rules"},"For more info please read the ",React.createElement("a",{target:"_blank",href:"https://imgur.com/rules"},"Community Rules")),React.createElement("button",{className:"btn-nebula "+f+" btn-action btn-small right bold",type:"button",onClick:this.handleSubmit},"Report")))}}),Imgur.Elements.Report.dimensions={width:540,height:680},Namespace("Imgur.Elements"),Imgur.Elements.FavoriteFolderChooser=React.createClass({displayName:"FavoriteFolderChooser",getInitialState:function(){var a=window.localStorage.getItem("folders");return{addingFolder:!1,folders:a?JSON.parse(a):[]}},handleSelect:function(a,b,c){var d=Imgur.InsideNav.getInstance()._.image.is_album?"album":"image",e=Imgur.InsideNav.getInstance()._.image.hash;c.preventDefault(),window.fetch("https://api."+Imgur.Environment.host+"/3/folders/"+a+"/favorites/"+d+"/"+e,{method:"PUT",credentials:"include"}).then(function(a){return a.json()}).then(function(a){return a.data&&a.data.error?void humanMsg.displayMsg(a.data.error,"error-msg"):(Imgur.Util.jafoLog({event:"addedToFolder",meta:_.merge(Imgur.Gallery.getInstance().getGalleryMetadata(),{location:"inside"})}),void humanMsg.displayMsg("Added to "+b))}),this.props.emitter.trigger("addedToFolder"),$.colorbox.close()},handleNewFolder:function(a){var b=this;a.preventDefault();var c=this.refs.newFolderName.value.trim();c&&this.state.folders.indexOf(c)===-1&&window.fetch("https://api."+Imgur.Environment.host+"/3/folders",{method:"POST",credentials:"include",headers:{"content-type":"application/json"},body:JSON.stringify({name:c})}).then(function(a){return a.json()}).then(function(a){if(a.data.error)return void humanMsg.displayMsg(a.data.error,"error-msg");var c=[a.data].concat(b.state.folders);b.setState({addingFolder:!1,folders:c}),window.localStorage.setItem("folders",JSON.stringify(c))})},componentDidMount:function(){var a=this;window.fetch("https://api."+Imgur.Environment.host+"/3/folders",{credentials:"include"}).then(function(a){return a.json()}).then(function(b){a.setState({folders:b.data}),window.localStorage.setItem("folders",JSON.stringify(b.data))})},componentDidUpdate:function(){this.state.addingFolder&&this.refs.newFolderName&&this.refs.newFolderName.focus()},addFolderForm:function(){var a=this;return this.state.addingFolder?React.createElement("form",{className:"Folder-Chooser-Create Folder-Chooser-folder Folder-Chooser-new",onSubmit:this.handleNewFolder},React.createElement("input",{onFocus:function(a){return a.target.select()},ref:"newFolderName",type:"text",defaultValue:"New Folder",onBlur:this.handleNewFolder})):React.createElement("div",{onClick:function(){return a.setState({addingFolder:!0})},className:"Folder-Chooser-folder Folder-Chooser-new"},"New Folder")},render:function(){var a=this,b=323,c=this.state.folders.map(function(b){var c=b.name,d=b.id,e=b.is_private;return React.createElement("div",{key:d,onClick:a.handleSelect.bind(a,d,c),className:"Folder-Chooser-folder"},e?React.createElement("span",{className:"icon-lock-private-folder"}):null,c)});return React.createElement("div",{className:"Folder-Chooser"},React.createElement("h2",null,"Add to Folder"),this.addFolderForm(),React.createElement("h2",null,"Newest"),React.createElement("div",{className:"Folder-Chooser-list",style:{height:this.props.height-b}},c))}}),Namespace("Imgur.Elements"),Imgur.Elements.RadioBox=React.createClass({displayName:"RadioBox",propTypes:{name:React.PropTypes.string.isRequired,items:React.PropTypes.array.isRequired,onChange:React.PropTypes.func},onComponentDidMount:function(){this.refs.RadioBox.focus()},onClick:function(a,b){b||(this.refs["RadioBox-item-"+a].focus(),this.props.onChange&&this.props.onChange(a))},renderItem:function(a){var b="RadioBox-item-"+a.value;return React.createElement("label",{ref:b,key:""+b,className:"RadioBox-item",onClick:this.onClick.bind(this,a.value,a.disabled)},React.createElement("input",{ref:b+"-radio",disabled:a.disabled,className:"RadioBox-radio",type:"radio",name:this.props.name}),React.createElement("div",{ref:b+"-checkbox",className:"RadioBox-checkbox"},""),React.createElement("div",null,React.createElement("div",{ref:b+"-title",className:"RadioBox-title"},a.title," ",React.createElement("span",{ref:b+"-warning",className:"RadioBox-warning"},a.warning)),React.createElement("div",{ref:b+"-description",className:"RadioBox-description"},a.description)))},render:function(){var a=this.props.items.map(this.renderItem,this);return React.createElement("div",{ref:"RadioBox",className:"RadioBox"},a)}}),Imgur.Elements.RadioBox.createItem=function(a,b,c){var d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,e=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return{title:a,description:b,value:c,warning:d,disabled:e}},function(a){function b(a){return a.replace(/(:|\.)/g,"\\$1")}var c="1.4.7",d={exclude:[],excludeWithin:[],offset:0,direction:"top",scrollElement:null,scrollTarget:null,beforeScroll:function(){},afterScroll:function(){},easing:"swing",speed:400,autoCoefficent:2},e=function(b){var c=[],d=!1,e=b.dir&&"left"==b.dir?"scrollLeft":"scrollTop";return this.each(function(){if(this!=document&&this!=window){var b=a(this);b[e]()>0?c.push(this):(b[e](1),d=b[e]()>0,d&&c.push(this),b[e](0))}}),c.length||this.each(function(a){"BODY"===this.nodeName&&(c=[this])}),"first"===b.el&&c.length>1&&(c=[c[0]]),c};"ontouchend"in document;a.fn.extend({scrollable:function(a){var b=e.call(this,{dir:a});return this.pushStack(b)},firstScrollable:function(a){var b=e.call(this,{el:"first",dir:a});return this.pushStack(b)},smoothScroll:function(c){c=c||{};var d=a.extend({},a.fn.smoothScroll.defaults,c),e=a.smoothScroll.filterPath(location.pathname);return this.unbind("click.smoothscroll").bind("click.smoothscroll",function(c){var f=this,g=a(this),h=d.exclude,i=d.excludeWithin,j=0,k=0,l=!0,m={},n=location.hostname===f.hostname||!f.hostname,o=d.scrollTarget||(a.smoothScroll.filterPath(f.pathname)||e)===e,p=b(f.hash);if(d.scrollTarget||n&&o&&p){for(;l&&j<h.length;)g.is(b(h[j++]))&&(l=!1);for(;l&&k<i.length;)g.closest(i[k++]).length&&(l=!1)}else l=!1;l&&(c.preventDefault(),a.extend(m,d,{scrollTarget:d.scrollTarget||p,link:f}),a.smoothScroll(m))}),this}}),a.smoothScroll=function(b,c){var d,e,f,g,h=0,i="offset",j="scrollTop",k={},l={};"number"==typeof b?(d=a.fn.smoothScroll.defaults,f=b):(d=a.extend({},a.fn.smoothScroll.defaults,b||{}),d.scrollElement&&(i="position","static"==d.scrollElement.css("position")&&d.scrollElement.css("position","relative"))),d=a.extend({link:null},d),j="left"==d.direction?"scrollLeft":j,d.scrollElement?(e=d.scrollElement,h=e[j]()):e=a("html, body").firstScrollable(),d.beforeScroll.call(e,d),f="number"==typeof b?b:c||a(d.scrollTarget)[i]()&&a(d.scrollTarget)[i]()[d.direction]||0,k[j]=f+h+d.offset,g=d.speed,"auto"===g&&(g=k[j]||e.scrollTop(),g/=d.autoCoefficent),l={duration:g,easing:d.easing,complete:function(){d.afterScroll.call(d.link,d)}},d.step&&(l.step=d.step),e.length?e.stop().animate(k,l):d.afterScroll.call(d.link,d)},a.smoothScroll.version=c,a.smoothScroll.filterPath=function(a){return a.replace(/^\//,"").replace(/(index|default).[a-zA-Z]{3,4}$/,"").replace(/\/$/,"")},a.fn.smoothScroll.defaults=d}(jQuery),this._=this._||{},this._.templates=this._.templates||{},this._.templates.favoriteBar=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<div id="favorite-bar">\n    <div original-title="Favorite" class="favorite-image title ',favorited&&(__p+="favorited"),__p+='" href="javascript:;">\n        <span class="icon-fav"></span>\n    </div>\n    <div class="clipboard-container" id="copy-container" title="copy">\n        <div class="icon-copy" id="copy-clipboard"></div>\n    </div>\n    <input type="hidden" id="copy" value="'+(null==(__t=value)?"":__t)+'" readonly="readonly" />\n</div>';return __p},Namespace("Imgur.Promoted");var youtube_ready=!1,youtube_iframes={};Imgur.Promoted=Class.extend({init:function(a,b,c,d,e,f,g,h,i){this._={env:h,logAnalytics:i||function(){},ele:{},config:a,emitter:b,events:e,eventsBound:!1,navs:0,navHashes:[],failMode:!1,reservations:[],ads:{},order:[],pxQueue:[],source:f,rgxSubreddit:/\/r\/([^\/]+)/,rgxPxMacroTimestamp:/[\{\[\%]+(timestamp|cachebust(er)?)[\}\]\%]+/gi,rgxPxMacroRandom:/[\{\[\%]+random[\}\]\%]+/gi,pxMacroRandomLength:10,allowedRandomChars:"abcdefghijklmnopqrstuvwxyz0123456789",inside:c,sectSortWindow:"",sideGallery:d,thumbnailSizes:{wide:"288x141",normal:"141x141"},enabled:g&&!0,youtubeViewabilityTimer:1e3,youtubeMinViewTime:3},b.on("gotPromoted",this,this.handleReservation),b.on("sidegalleryPageLoad",this,this.handleNewGalleryPage),b.on("postRendering",this,this.handleNav),
b.on("postRendered",this,this.handlePostRendered),b.on("displayPromoted",this,this.handleDisplay),b.on("promoEvent",this,this.handleDomEvent),this._.env.image.isAd&&(this.bindGameLink(this._.env.image.hash),this.initYouTubeAutoPlayMute())},eventsEval:function(a){a in this._.ads?(this._.events.bindAll(),this._.eventsBound=!0):this._.eventsBound&&(this._.events.bindAll(!0),this._.eventsBound=!1)},handleDomEvent:function(a){var b,c=Imgur.Util.dive(a,"data.promoEvent");if(c)for(_.isArray(c)||(c=[c]),b=0;b<c.length;b++)this.pixel(this._.inside.getHash(),c[b])},handleNav:function(a,b,c){var d=a.hash;if(this._.enabled&&(this._.youtubeViewabilityInterval&&this.resetYouTubeAutoPlayMute(),a.isAd&&this.initYouTubeAutoPlayMute(),isNaN(this._.navs)&&(this._.navs=0),!(this._.config.skipPromoNav&&d in this._.ads)&&(!(this._.config.onlyUniqueNavs&&_.indexOf(this._.navHashes,d)>-1)||a.isAd))){this._.navHashes.push(d),this._.navs++,this._.failMode&&this._.navs>this._.config.failThreshold&&(this._.failMode=!1);var e=this._.navHashes.length==this._.config.populateFirstThreshold+1,f=this._.navs>0&&this._.navs>=this._.config.navThreshold;if(b||e||f){this._.navs=0,d=this._.sideGallery.uniqueId(d,a.promotedPlacementCount);var g=this._.sideGallery.nthFromHash(isNaN(c)?this._.config.distance:c,d);if(this._.failMode)return void this.flagHashForPromotedInventoryAnalytics(g);this._.reservations.push(g),this._.emitter.trigger("wantPromoted",this._.source.getPlacement())}}},handlePostRendered:function(a){this.eventsEval(a.hash)},flagHashForPromotedInventoryAnalytics:function(a){var b=this._.sideGallery.hashPosition(a);if(!isNaN(b)){var c=b+1;this._.sideGallery.state.items[c].promotedPostRequestExpected=!0}},handleDisplay:function(a){var b;this.bindGameLink(a),a in this._.ads&&(b=this._.ads[a],this.pixel(a,"IMPRESSION_POST"),this.pixel(a,"CLICK_THUMB"),this.placeCompanion(a),Imgur.Util.jafoLog({event:"ppConv",meta:{hash:a,flightId:Imgur.Util.dive(b,"parts.thumb.flightId"),campaignId:Imgur.Util.dive(b,"parts.thumb.campaignId"),thumbnailSize:Imgur.Util.dive(b,"parts.data.thumbnail_json.size")||this._.thumbnailSizes.normal}}))},bindGameLink:function(a){var b=".play-the-game",c=["0OcVZlb","CZf9o","sAEyl","Dj5dm"];c.indexOf(a)>-1&&$(".post-container").off("click",b,this.handleGameLink).on("click",b,this.handleGameLink)},handleGameLink:function(a){$.colorbox({href:"//www.youroldspicegame.com/",iframe:!0,transition:"fade",width:"1000px",height:"640px",scrolling:!1,trapFocus:!0,top:"50px",onClose:function(){},onComplete:function(){},onOpen:function(){}})},setYouTubeAutoPlayMuteIframes:function(){for(var a in youtube_iframes)youtube_iframes[a].dom&&!document.body.contains(youtube_iframes[a].dom)&&(youtube_iframes[a].isPlaying=!1,youtube_iframes[a].player=null,youtube_iframes[a].dom=null);for(var b=$(".post-image-description .youtube-autoplay-mute"),c=0;c<b.length;c++){var a=b[c].src;youtube_iframes.hasOwnProperty(a)?(youtube_iframes[a].player&&(youtube_iframes[a].soundOn=youtube_iframes[a].player.isMuted(),youtube_iframes[a].isPlaying=youtube_iframes[a].player.getPlayerState()!=YT.PlayerState.PAUSED,youtube_iframes[a].currentTime=youtube_iframes[a].player.getCurrentTime(),youtube_iframes[a].isPlaying&&(youtube_iframes[a].timeViewed+=this._.youtubeViewabilityTimer/1e3,youtube_iframes[a].timeViewed==this._.youtubeMinViewTime&&Imgur.Util.jafoLog({event:"videoView",meta:{hash:youtube_iframes[a].hash}}))),youtube_iframes[a].dom=b[c]):youtube_iframes.hasOwnProperty(a)||(youtube_iframes[a]={soundOn:!1,isPlaying:!1,manuallyPaused:!1,currentTime:0,timeViewed:0,videoLength:0,player:null,hash:null,dom:b[c]})}},initYouTubeAutoPlayMute:function(){this.setYouTubeAutoPlayMuteIframes(),!youtube_ready&&Object.keys(youtube_iframes).length&&($.getScript("//www.youtube.com/iframe_api",_.bind(function(){window.addEventListener("beforeunload",_.bind(function(){this.resetYouTubeAutoPlayMute()},this))},this)),youtube_ready=!0),this._.youtubeViewabilityInterval=clearInterval(this._.youtubeViewabilityInterval),this._.youtubeViewabilityInterval=setInterval(_.bind(this.handleYouTubeAutoPlayMuteUpdate,this),this._.youtubeViewabilityTimer)},handleYouTubeAutoPlayMuteUpdate:function(){youtube_ready?(this.setYouTubeAutoPlayMuteIframes(),onYouTubeIframeAPIReady()):this.initYouTubeAutoPlayMute()},resetYouTubeAutoPlayMute:function(){for(var a in youtube_iframes)Imgur.Util.jafoLog.direct({event:"videoFinished",meta:{hash:youtube_iframes[a].hash,soundOn:youtube_iframes[a].soundOn,timeViewed:youtube_iframes[a].timeViewed,videoLength:youtube_iframes[a].videoLength,percViewed:Math.min(1,youtube_iframes[a].timeViewed/youtube_iframes[a].videoLength)}});this._.youtubeViewabilityInterval=clearInterval(this._.youtubeViewabilityInterval),youtube_iframes={}},tagSectionIsFiltered:function(){return"tag"===this._.inside._.section&&!!this._.env.tagSectionIsPromoted},sectionIsFiltered:function(){var a=this._.config.filteredSections&&this._.sideGallery.state.section in this._.config.filteredSections,b=_.indexOf(this._.config.filteredSections,this._.sideGallery.state.section)>-1;return"subreddit"===this._.sideGallery.state.section?!this.subredditIsAllowed():!(!a&&!b)&&("object"!=typeof this._.config.filteredSections[this._.sideGallery.state.section]||_.indexOf(this._.config.filteredSections[this._.sideGallery.state.section],this._.sideGallery.state.sort)>-1)},subredditIsAllowed:function(){var a=this._.sideGallery.state.source,b=a?a.match(this._.rgxSubreddit):null;return!(!b||2!==b.length)&&_.indexOf(this._.config.allowedSubreddits,b[1].toLowerCase())>-1},handleNewGallery:function(){var a=isNaN(this._.config.populateFirstDistance)?this._.config.distance:this._.config.populateFirstDistance;if(this.tagSectionIsFiltered())return void(this._.enabled=!1);if(this.sectionIsFiltered())return void(this._.enabled=!1);if(this._.navs=0,this._.inside._.image.isAd)return void this._.order.push(this._.inside._.image.hash);if(this._.config.populateFirst){var b=this._.inside.getHash();this.handleNav(this._.inside.getSideGallery().getImage(b),!0,a)}},handleNewGalleryPage:function(a){"initial"===a&&this.handleNewGallery()},nextLocIsFlushedLeft:function(a){return 0===$("#item-"+a).position().left},handleReservation:function(a){var b=(a.getHash(),this._.reservations.shift()),c=0;thumbnailSize=Imgur.Util.dive(a,"parts.data.thumbnail_json.size"),thumbnailSize===this._.thumbnailSizes.wide&&this.nextLocIsFlushedLeft(b)&&c++,this.handlePlacement(a,b,c)},handlePlacement:function(a,b,c){var d=a.getHash(),e=Imgur.Util.dive(a,"parts.data.thumbnail_json.size");if(b||(b=this._.sideGallery.state.items[this._.sideGallery.state.items.length-1].hash),!d)return this.flagHashForPromotedInventoryAnalytics(b),void(this._.failMode=!0);if(d!==b){this._.ads[d]=a,this._.order.push(d),"timestamp"in a.parts.data||(a.parts.data.timestamp=moment().utc().format("YYYY-MM-DD HH:mm:ss")),a.parts.data.placementResponse=a.parts,a.parts.data.promotedPostRequestExpected=!0,a.parts.data.promotedPlacementCount=this._.order.filter(function(a){return a===d}).length;var f=this._.sideGallery.hashPosition(b)+1+c;this._.sideGallery.insertSingleItem(a.parts.data,f),this.pixel(d,"IMPRESSION_THUMB"),this._.logAnalytics({event:"ppImp",meta:{hash:d,flightId:Imgur.Util.dive(a,"parts.thumb.flightId"),campaignId:Imgur.Util.dive(a,"parts.thumb.campaignId"),thumbnailSize:e||this._.thumbnailSizes.normal}})}},placeCompanion:function(a){var b=Imgur.Util.dive(this._.ads[a],"parts.companion.html"),c='<div class="promoCompanion"><iframe id="promoCompanionFrame" width="300" height="250" marginwidth="0" marginheight="0" hspace="0" vspace="0" scrolling="no" frameBorder="0" seamless="seamless" sandbox="allow-same-origin allow-scripts allow-popups allow-popups-to-escape-sandbox"></iframe></div>';a in this._.ads&&b&&(""+b).length>0&&(this._.inside.showAds(c,function(a,c){var d,e=document.getElementById("promoCompanionFrame");a&&c&&e&&(d=e.contentWindow.document,d.open(),d.write(b),d.close())}),setTimeout(_.bind(function(){$(".promoCompanion").is(":visible")&&this.pixel(a,"IMPRESSION_COMPANION")},this),800))},pixel:function(a,b,c){var d,e=Imgur.Util.dive(this._.ads,a+".pixels."+b),f=[];if(_.isArray(e))for(d=0;d<e.length;d++)f.push(this.pixelFire(e[d],c,_.extend([],arguments)));return f},pixelFire:function(a,b,c){var d,e,f,g=this;return"string"==typeof a&&a.length>2&&(e=document.createElement("img"),e.pixelData=c,d=this._.pxQueue.push(e)-1,f=function(){"function"==typeof b&&b.apply(this,arguments),g._.emitter.trigger("promotedPixel",arguments),g._.pxQueue[d]=null},e.onload=f,e.onerror=f,this._.rgxPxMacroTimestamp.test(a)&&(a=a.replace(this._.rgxPxMacroTimestamp,(new Date).getTime())),this._.rgxPxMacroRandom.test(a)&&(a=a.replace(this._.rgxPxMacroRandom,this.generateRandomString(this._.pxMacroRandomLength))),e.src=a),e},generateRandomString:function(a){var b=parseInt(a,10);if(!(b<1)){var c,d=this._.allowedRandomChars.length,e="";for(c=0;c<b;c++)e+=this._.allowedRandomChars.charAt(Math.floor(Math.random()*d));return e}}}),Namespace("Imgur.Promoted.Events"),Imgur.Promoted.Events=Class.extend({init:function(a,b,c){this._={ele:{clicks:{ACTION_IMAGE_UPVOTE:".post-action-upvote:not(.green)",ACTION_IMAGE_DOWNVOTE:".post-action-downvote:not(.red)",ACTION_FAVORITE:".post-action-favorite:not(.green)",ACTION_SHARE:".social-icon",ACTION_SHARE_FACEBOOK:".social-icon.icon-f",ACTION_SHARE_TWITTER:".social-icon.icon-twttr",ACTION_SHARE_PINTEREST:".social-icon.icon-pin",ACTION_SHARE_REDDIT:".social-icon.icon-reddit",CLICK_COMPANION:"#right-content .advertisement .promoCompanion a img"}},config:a,emitter:b,inside:c}},bindAll:function(a){a?(this._.emitter.off("captionVoted",this,this._handleCommentVote),this._.emitter.off("captionSubmit",this,this._handleCommentSubmit),this._.emitter.off("vwTime",this,this._handleVwTime),this._.emitter.off("vwUnderImage",this,this._handleVwUnderImage)):(this._.emitter.on("captionVoted",this,this._handleCommentVote),this._.emitter.on("captionSubmit",this,this._handleCommentSubmit),this._.emitter.on("vwTime",this,this._handleVwTime),this._.emitter.on("vwUnderImage",this,this._handleVwUnderImage)),this.bindClicks(a)},bindClicks:function(a){var b,c=a?"off":"on";for(b in this._.ele.clicks)this._.ele.clicks.hasOwnProperty(b)&&$(this._.ele.clicks[b])[c]("click",null,{promoEvent:b},_.bind(this._fireEvent,this))},_handleVwTime:function(a,b){var c={hash:this.getSideImage(a),data:{sec:Math.floor(b/1e3),promoEvent:"VIEW_TIME_0"}};c.data.sec<=10?c.data.promoEvent="VIEW_TIME_"+c.data.sec:c.data.sec<=14?c.data.promoEvent="VIEW_TIME_10":c.data.sec<=19?c.data.promoEvent="VIEW_TIME_15":c.data.sec<=24?c.data.promoEvent="VIEW_TIME_20":c.data.sec<=29?c.data.promoEvent="VIEW_TIME_25":c.data.promoEvent="VIEW_TIME_30_PLUS",this._fireEvent(c)},_handleVwUnderImage:function(a,b,c){var d={hash:this.getSideImage(a),data:{promoEvent:"VIEW_UNDERIMAGE"}};this._fireEvent(d)},_handleCommentSubmit:function(a){var b={comment:a,data:{promoEvent:"ACTION_COMMENT"}};a.parent_id&&(b.data.promoEvent="ACTION_COMMENT_REPLY"),this._fireEvent(b)},_handleCommentVote:function(a,b){var c={comment:a,data:{promoEvent:null}};"veto"!==b&&("up"===b?c.data.promoEvent="ACTION_COMMENT_UPVOTE":c.data.promoEvent="ACTION_COMMENT_DOWNVOTE",this._fireEvent(c))},getSideImage:function(a){return this._.inside._.sideGallery.getImage(a)},_fireEvent:function(a){this._.emitter.trigger("promoEvent",a)}}),function(){function a(a){this.emitter=a,this.parts={companion:null,page:null,thumb:null,data:{}},this.pixels={}}a.prototype={addPixel:function(a,b){"object"!=typeof this.pixels[a]&&(this.pixels[a]=[]),this.pixels[a].push(b)},addCompanionPlacement:function(a){this.parts.companion=_.extend({},a)},addPagePlacement:function(a){this.parts.page=_.extend({},a)},addThumbPlacement:function(a){this.parts.thumb=_.extend({},a)},getHash:function(){return Imgur.Util.dive(this.parts,"data.hash")},setData:function(a){this.parts.data=_.extend(this.parts.data,a),this.parts.data.starting_score=0}},Imgur.Promoted.Post=a}(),Namespace("Imgur.Promoted.Source"),Imgur.Promoted.Source=Class.extend({init:function(a,b,c){throw"Imgur.Promoted.Source is an abstract class."},getPlacement:function(){}}),Namespace("Imgur.Promoted.Source.Adzerk"),Imgur.Promoted.Source.Adzerk=Imgur.Promoted.Source.extend({init:function(a,b){return this._={blockedCreatives:[],emitter:b,espoused:!1,config:a,user:{},cookieOpts:{domain:"."+Imgur.Environment.host,path:"/",expires:365},rgxDomain:/\/\/engine\.[^.]+\.net/,pgxProto:/^[^:]+:\/\//,evtToPx:{10:"ACTION_IMAGE_UPVOTE",11:"ACTION_IMAGE_DOWNVOTE",22:"ACTION_COMMENT",101:"ACTION_COMMENT_REPLY",102:"ACTION_COMMENT_UPVOTE",103:"ACTION_COMMENT_DOWNVOTE",20:"ACTION_FAVORITE",21:"ACTION_SHARE",50:"ACTION_SHARE_FACEBOOK",51:"ACTION_SHARE_TWITTER",52:"ACTION_SHARE_PINTEREST",53:"ACTION_SHARE_REDDIT",54:"ACTION_SHARE_EMAIL",104:"VIEW_UNDERIMAGE",105:"EXPAND_POST_IMAGES",400:"VIEW_TIME_0",401:"VIEW_TIME_1",402:"VIEW_TIME_2",403:"VIEW_TIME_3",404:"VIEW_TIME_4",405:"VIEW_TIME_5",406:"VIEW_TIME_6",407:"VIEW_TIME_7",408:"VIEW_TIME_8",409:"VIEW_TIME_9",410:"VIEW_TIME_10",415:"VIEW_TIME_15",420:"VIEW_TIME_20",425:"VIEW_TIME_25",430:"VIEW_TIME_30_PLUS"}},this._idFromCookie(),this._},getPlacement:function(a){var b={user:this._getUser(),placements:this._.config.adzerk.placementParms,keywords:["platform-desktop"],blockedCreatives:this._.blockedCreatives};return $.ajax({url:this._.config.adzerk.apiLocation,type:"POST",contentType:"application/json",data:JSON.stringify(b),dataType:"json",success:_.bind(this._handleApiResponse,this),error:_.bind(this._handleApiError,this)})},_handleApiError:function(a,b,c){console.log("adzerk get fail",arguments)},_decodeEncodedResponse:function(a){var b,c,d,e,f="contents.0.data.customData",g=Imgur.Util.dive(a,"decisions");if("object"==typeof g)for(b in g)if(g.hasOwnProperty(b)){if(c=Imgur.Util.dive(g[b],f+".encoded"),_.isArray(c))for(d=0;d<c.length;d++)e=Imgur.Util.dive(g[b],f+"."+c[d]),"string"==typeof e&&(a.decisions[b].contents[0].data.customData[c[d]]=decodeURIComponent(e),a.decisions[b].contents[0].data.customData[c[d]+"_raw"]=e);if(c=Imgur.Util.dive(g[b],f+".encodedObj"),_.isArray(c))for(d=0;d<c.length;d++)e=Imgur.Util.dive(g[b],f+"."+c[d]),"string"==typeof e&&(a.decisions[b].contents[0].data.customData[c[d]]=JSON.parse(decodeURIComponent(e)),a.decisions[b].contents[0].data.customData[c[d]+"_raw"]=e)}return a},_espouse:function(){this._.espoused||Imgur.Environment.auth&&$.ajax({type:"GET",url:"/account/espouse",complete:_.bind(function(){this._.espoused=!0},this)})},_idFromCookie:function(){var a=$.cookie(this._.config.userCookie);a&&(this._.user.key=a)},_handleApiResponse:function(a,b,c){var d,e=this._.config.adzerk,f=null,g=Imgur.Util.dive(a,"decisions."+e.placementIds.thumb),h=Imgur.Util.dive(a,"decisions."+e.placementIds.page),i=Imgur.Util.dive(a,"decisions."+e.placementIds.companion);this._.blockedCreatives.shift(),"object"==typeof a&&"object"==typeof a.user&&a.user&&this._setUserFromResponse(a),"object"==typeof a&&"object"==typeof a.decisions&&a.decisions?(a=this._decodeEncodedResponse(a),f=new Imgur.Promoted.Post(this._.emitter),i&&(compFormatted=this._formatCompanionData(i),f.addCompanionPlacement(compFormatted),f.addPixel("CLICK_COMPANION",this._cleanPx(i.clickUrl)),f.addPixel("IMPRESSION_COMPANION",this._cleanPx(i.impressionUrl))),h&&(f.addPagePlacement(h),f.addPixel("IMPRESSION_POST",this._cleanPx(h.impressionUrl))),g&&(adData=Imgur.Util.dive(g,"contents.0.data.customData"),d=Imgur.Util.dive(g,"contents.0.data.customData.customPx"),adData&&(f.addThumbPlacement(g),f.addPixel("CLICK_THUMB",this._cleanPx(g.clickUrl)),f.addPixel("IMPRESSION_THUMB",this._cleanPx(g.impressionUrl)),f.setData(adData),this._.blockedCreatives.push(g.creativeId),"object"==typeof g.events&&this._addEventPixels(f,g.events),"object"==typeof d&&this._addCustomPixels(f,d))),this._.emitter.trigger("gotPromoted",f)):console.warn("Empty or invalid promoted response.",arguments)},_cleanPx:function(a){return"string"==typeof a&&(this._.rgxDomain.test(a)&&(a=a.replace(this._.rgxDomain,"https://zrk."+Imgur.Environment.host)),this._.pgxProto.test(a)&&(a=a.replace(this._.pgxProto,"//"))),a},_addCustomPixels:function(a,b){var c,d;if("object"==typeof a&&_.isArray(b))for(d=b.length,c=0;c<d;c++)"undefined"!=typeof b[c].id&&"undefined"!=typeof b[c].url&&"string"==typeof b[c].id&&a.addPixel(b[c].id,this._cleanPx(b[c].url))},_addEventPixels:function(a,b){var c,d;if("object"==typeof a&&_.isArray(b))for(d=b.length,c=0;c<d;c++)"undefined"!=typeof b[c].id&&"undefined"!=typeof b[c].url&&"string"==typeof this._.evtToPx[b[c].id]&&a.addPixel(this._.evtToPx[b[c].id],this._cleanPx(b[c].url))},_setUserFromResponse:function(a){"object"==typeof a&&"object"==typeof a.user&&a.user&&(this._.user=_.extend({},a.user),this._idFromCookie(),$.cookie(this._.config.userCookie,this._.user.key,this._.cookieOpts),this._espouse())},_getUser:function(){return this._idFromCookie(),this._.user},_formatCompanionData:function(a){var b,c,d,e,f=Imgur.Util.dive(a,"contents.0.data.customData.adType"),g={type:f,raw:a,html:""};switch(g.raw=a,f){case"hash":case"native":b=Imgur.Environment.cdnUrl+"/"+Imgur.Util.dive(a,"contents.0.data.customData.hash")+".jpg",c=Imgur.Util.dive(a,"contents.0.data.customData.link"),d=Imgur.Util.dive(a,"contents.0.data.customData.title"),g.html='<a href="'+c+'" rel="nofollow" target="_blank" title="'+d+'"><img src="'+b+'" title="'+d+'" alt="'+d+'" border="0" width="300" height="250"></a>';break;case"html":g.html=Imgur.Util.dive(a,"contents.0.data.customData.html");break;default:e=Imgur.Util.dive(a,"contents.0.body"),e&&(g.html=e)}return g}}),Imgur.LinkGenerator=Class.extend({init:function(){this._={item:null,thumbsize:null,threshold:null}},setItem:function(a){return this._.item=a,this},setThumbSize:function(a){return this._.thumbsize=a,this},setThreshold:function(a){return this._.threshold=a,this},reset:function(){return this._.item=null,this._.thumbsize="",this},imageLink:function(a){return"https://"+Imgur.Environment.host+"/"+(a?"a/":"")+this._.item.hash},directishLink:function(){var a=""==this._.thumbsize&&".gif"==this._.item.ext&&this._.item.animated?".gifv":this._.item.ext;return"https:"+Imgur.Environment.cdnUrl+"/"+this._.item.hash+this._.thumbsize+a},directLink:function(){return"https:"+Imgur.Environment.cdnUrl+"/"+this._.item.hash+this._.thumbsize+this._.item.ext},htmlImage:function(){return""==this._.thumbsize&&".gif"==this._.item.ext&&this._.item.animated&&this._.item.size>this._.threshold?'<iframe class="imgur-embed" width="100%" height="'+this._.item.height+'" frameborder="0" src="'+this.directishLink()+'#embed"></iframe>':'<a href="'+this.imageLink()+'"><img src="'+this.directLink()+'" title="source: imgur.com" /></a>'},markdown:function(){var a,b=""==this._.thumbsize&&".gif"==this._.item.ext&&this._.item.animated?".gifv":this._.item.ext;return a=this._.item.title?this._.item.title:"Imgur","["+a+"](https:"+Imgur.Environment.cdnUrl+"/"+this._.item.hash+this._.thumbsize+b+")"},bbcode:function(){return"[img]https:"+Imgur.Environment.cdnUrl+"/"+this._.item.hash+this._.thumbsize+this._.item.ext+"[/img]"},linkedBbcode:function(){return""==this._.thumbsize&&".gif"==this._.item.ext&&this._.item.animated&&this._.item.size>this._.threshold?"[url=https://"+Imgur.Environment.host+"/"+this._.item.hash+"]http:"+Imgur.Environment.cdnUrl+"/"+this._.item.hash+this._.thumbsize+".gifv[/url]":"[url=https://"+Imgur.Environment.host+"/"+this._.item.hash+"][img]http:"+Imgur.Environment.cdnUrl+"/"+this._.item.hash+this._.thumbsize+this._.item.ext+"[/img][/url]"},deletion:function(){return"https://"+Imgur.Environment.host+"/delete/"+this._.item.deletehash},embed:function(){var a=("imgur.com"===Imgur.Environment.host?"s.imgur.com/min":Imgur.Environment.host+"/include/minified")+"/embed.js",b=this._.item.title;b||(b="View post on imgur.com");var c=this._.item.is_album?"a/":"";return'<blockquote class="imgur-embed-pub" lang="en" data-id="'+c+this._.item.hash+'"><a href="//'+Imgur.Environment.host+"/"+c+this._.item.hash+'">'+_.escape(b)+'</a></blockquote><script async src="//'+a+'" charset="utf-8"></script>'}}),Namespace("Imgur.Album.Images"),Imgur.Album.Images=Class.extend({init:function(a){this._=$.extend(!0,{host:"imgur.com",cdnUrl:"//i.imgur.com",postURL:"/ajaxalbums/images",imagesPerPage:25,album:null,images:null,changeCover:!1,albumTitle:null,mode:null,onSubmitComplete:function(){},sort:0,order:1,selected:[],offsetSelectionInterval:null,imgurImages:null,operationQueue:{},el:{$thumbsContainer:$("#album-images #image-thumbs"),thumbsId:"#album-images #image-thumbs",messagesClass:"thumbs-message",$loader:$("#album-images #images-loader"),imageDivClass:"thumb",$modes:$("#album-images #images-menu .mode"),$operationLoader:$("#album-images #small-loader"),imageSelectedClass:"selected",$submitButton:$("#album-images #save")},messages:{noImages:'<span class="thumbs-message">No images were found.</span>'}},a),this._.operationQueue.hashes=null==this._.images?[]:this._.images,this._.operationQueue.count=null==this._.images?0:Object.size(this._.images),this.loadImages(),this.loadPageElements()},getPageOptions:function(){return isNaN(this._.album)?(this._.sort=3,this._.order=0):(this._.sort=0,this._.order=1),{sort:this._.sort,order:this._.order,album:this._.album}},noImagesFound:function(){var a=Imgur.Album.Images.getInstance();a._.el.$thumbsContainer.html(a._.messages.noImages)},addImageToThumbs:function(a,b,c){var d=Imgur.Album.Images.getInstance();if(!($(d._.el.thumbsId+" #"+a.hash).length>0)){var e=a.ext.match(/\?(.*)/),f="s.jpg"+(null!=e?e[0]:""),g=(d._.cdnUrl+"/"+a.hash+(".gif"==a.ext?a.ext:"h"+a.ext),$('<div class="'+d._.el.imageDivClass+'" id="'+a.hash+'" ext="'+a.ext+'"></div>')),h=$('<div class="selection"></div>');img=$('<img src="'+d._.cdnUrl+"/"+a.hash+f+'" />'),$(g).append(img),$(g).append(h),d._.operationQueue.hashes[a.hash]&&g.addClass(d._.el.imageSelectedClass),$("."+d._.el.messagesClass).remove(),c?$(g).appendTo(d._.el.$thumbsContainer):$(g).prependTo(d._.el.$thumbsContainer).hide().fadeIn("slow")}},queueOperation:function(a){var b=a.attr("id");this._.changeCover?(this._.operationQueue.count=1,this._.operationQueue.hashes[0]=b,this._.el.$thumbsContainer.find("."+this._.el.imageDivClass).removeClass(this._.el.imageSelectedClass),a.addClass(this._.el.imageSelectedClass)):this._.operationQueue.hashes[b]?(this._.operationQueue.count--,this._.operationQueue.hashes[b]=null,a.removeClass(this._.el.imageSelectedClass)):(this._.operationQueue.count++,this._.operationQueue.hashes[b]=!0,a.addClass(this._.el.imageSelectedClass))},isInQueue:function(a){return 1==this._.operationQueue.hashes[a]},startOperation:function(){if(0==this._.operationQueue.count)return null;if(this._.images=[],this._.changeCover)this._.images.push(this._.operationQueue.hashes[0]);else for(var a in this._.operationQueue.hashes)null!=this._.operationQueue.hashes[a]&&this._.images.push(a);return this._.images},toggleOperationsLoader:function(){this._.el.$operationLoader.toggle()},bindOperationClick:function(a){var b=this;a.unbind("click"),a.click(function(){return b.queueOperation($(this).parent()),!1})},offsetSelection:function(){var a=Imgur.Album.Images.getInstance(),b=5,c=a._.el.$thumbsContainer.parent(),d=c.scrollTop(),e=c.selectable();e.y<0?(c.scrollTop(c.scrollTop()-b),c.scrollTop()<d&&c.selectable("recalc",-b)):e.y>c.height()&&(c.scrollTop(c.scrollTop()+b),c.scrollTop()>d&&c.selectable("recalc",b))},makeSelectable:function(){var a=Imgur.Album.Images.getInstance();a._.el.$thumbsContainer.unbind("mousedown"),a._.el.$thumbsContainer.parent().selectable({filter:".thumb",selected:function(b,c){a._.selected.push($(c.selected))},stop:function(b,c){var d=0,e=!1,f=a._.selected.length;for(var g in a._.selected)if(a.isInQueue($(a._.selected[g]).attr("id")))d++,g==f-1&&d<f&&(e=!0);else if(d){e=!0;break}for(var g in a._.selected){var h=$(a._.selected[g]);e?a.isInQueue(h.attr("id"))||a.queueOperation(h):a.queueOperation(h)}a._.selected=[]}}),a._.el.$thumbsContainer.bind("mousedown",function(){clearInterval(a._.offsetSelectionInterval),a._.offsetSelectionInterval=setInterval(a.offsetSelection,50)}),$(document).bind("mouseup",function(){clearInterval(a._.offsetSelectionInterval)})},submit:function(){this._.images=this.startOperation(),this._.el.$submitButton.disable(),this.toggleOperationsLoader();var a=this;return $.post(this._.postURL+"/"+this._.album,"hashes="+this._.images+"&change_cover="+this._.changeCover,function(b){b.success?(a._.el.$submitButton.enable(),a.toggleOperationsLoader(),a._.onSubmitComplete(b)):4344==b.data.error.code?(a._.el.$submitButton.enable(),a.toggleOperationsLoader(),humanMsg.displayMsg("You are trying to add too many images to this album")):403==b.data.error.code?(a._.onSubmitComplete(b),humanMsg.displayMsg("Cannot edit album images while album is in the Gallery")):humanMsg.displayMsg("Unknown error occurred")}).error(function(b){a._.el.$submitButton.enable(),a.toggleOperationsLoader();var c=JSON.parse(b.responseText);humanMsg.displayMsg(c.data.error)}),!1},loadImages:function(){if(null!=this._.album&&"undefined"!=typeof this._.album){var a=Imgur.Images.getInstance();a.init({imagesPerPage:this._.imagesPerPage,addToThumbsFunc:this.addImageToThumbs,noImagesFunc:this.noImagesFound,onComplete:this.makeSelectable,loader:this._.el.$loader,noPageHash:!0}),a.setOptions(this.getPageOptions()),this.next=function(){a.next()},this.prev=function(){a.prev()},this.changePage=function(b){a.changePage(b)},a.bindScrollEvent(),a.reload(),this._.imgurImages=a}},loadPageElements:function(){this._.album&&(this._.el.$modes.filter(":first").attr("data-value",this._.album),this._.el.$modes.removeClass("selected"),this._.mode?(this._.el.$modes.siblings("div[data-value="+this._.mode+"]").addClass("selected"),this._.album=this._.mode):this._.el.$modes.siblings(".start").addClass("selected"),this._.imgurImages.setCurrentPage(1),this._.imgurImages.setOptions(this.getPageOptions()),this._.imgurImages.reload(),this._.el.$modes.click(this.modeClickHandler))},modeClickHandler:function(){var a=Imgur.Album.Images.getInstance();a._.el.$modes.removeClass("selected"),$(this).addClass("selected");var b=$(this).attr("data-value");a._.album=b,a._.imgurImages.setCurrentPage(1),a._.imgurImages.setOptions(a.getPageOptions()),a._.imgurImages.reload()},destroy:function(){this._.el.$thumbsContainer.empty(),this._.el.$modes.unbind("click"),this._.el.$modes.removeClass("selected"),this._.el.$loader.show()}}),Class.addSingleton(Imgur.Album.Images),Namespace("Imgur.Images"),Imgur.Images=Class.extend({init:function(a){this._=$.extend(!0,{imagesPerPage:20,thisName:"app",ajaxURL:"/ajax/images",noPageHash:!1,addToThumbsFunc:function(){return null},hiddenImagesFunc:function(){return null},noImagesFunc:function(){return null},onComplete:function(){return null},currentPage:1,totalPages:0,totalImageCount:0,numImages:0,changingPage:!1,options:null,imageLimit:225,isPro:!1,cache:[],stopOnPaging:!0,lastScrollPos:0,ajax:null,el:{$navigationContainer:$(".navigation"),$loader:$("#images-loader"),$totalCounter:$(".total-images"),$totalCounterSuffix:$(".total-images-suffix"),$thumbsContainer:$("#image-thumbs"),pageNumbersClass:"page-numbers",prevID:"prev",nextID:"next"}},a),this._.el.$totalCounter.text(0),this._.el.$totalCounterSuffix.text("images"),this._.noPageHash||(this._.currentPage=this.getPage())},getHash:function(){return window.location.hash.substring(1)},getPage:function(){var a=parseInt(this.getHash());return a<1&&(a=1),a?a:1},stopPaging:function(){void 0!==window.stop?window.stop():void 0!==document.execCommand&&document.execCommand("Stop",!1)},generatePageLink:function(a,b){if(b>0&&b<=this._.totalPages){var c=$('<a href="javascript:;">'+b+"</a>"),d=this;c.click(function(){d._.el.$thumbsContainer.parent().scrollTop(0),d.changePage(b)}),a.append(c),b==this._.currentPage&&c.addClass("current-selected")}},generateNavigationLinks:function(){if(this._.el.$navigationContainer.empty(),1!=this._.totalPages){var a=(this._.currentPage-1,this._.currentPage+1,$('<span class="'+this._.el.pageNumbersClass+'"></span>')),b=$('<a href="javascript:;" id="'+this._.el.prevID+'">Prev</a>'),c=$('<a href="javascript:;" id="'+this._.el.nextID+'">Next</a>');b.click(this.prev),c.click(this.next);for(var d=this._.currentPage-5;d<this._.currentPage;++d)this.generatePageLink(a,d);for(var d=this._.currentPage;d<this._.currentPage+6;++d)this.generatePageLink(a,d);this._.el.$navigationContainer.append(a),this._.currentPage>1&&this._.el.$navigationContainer.append(b),this._.currentPage<this._.totalPages&&this._.el.$navigationContainer.append(c)}},recalcNavigation:function(){var a=Math.ceil(this._.totalImageCount/this._.imagesPerPage);a<1&&(a=1),a!=this._.totalPages&&(this._.totalPages=a,this.generateNavigationLinks(this._.currentPage)),this.renderTotalCounter()},renderTotalCounter:function(){this._.el.$totalCounter.length&&(this._.el.$totalCounter.text(Imgur.Util.numberFormat(this._.totalImageCount)),this._.el.$totalCounterSuffix.text(Imgur.Util.pluralize(this._.totalImageCount,"image")))},handleJSON:function(a){if(null!=a){if(this._.cache[$.param(this._.options)]=a,this._.isPro=a.isPro,a.count!=this._.totalImageCount&&(this._.totalImageCount=parseInt(a.count),this.recalcNavigation()),a.count>0&&a.images.length>0){var b=this;$.each(a.images,function(a,c){b._.numImages++,b._.addToThumbsFunc(c,null,!0)})}else this._.noImagesFunc();this._.el.$thumbsContainer.append('<div class="clear"></div>')}this._.changingPage=!1,this._.el.$loader.hide(),this._.onComplete()},changePage:function(a,b,c){if(null==this._.options)return!1;if(this._.changingPage){if(c)return!1;this._.ajax.abort()}if(a>this._.totalPages&&this._.totalPages>0)return!1;this._.changingPage=!0,this._.currentPage=a,this._.numImages=this._.imagesPerPage*(this._.currentPage-1),this._.el.$loader.show(),this.generateNavigationLinks(),c||(this._.el.$thumbsContainer.empty(),b||this._.noPageHash||(window.location=window.location.href.substring(0,window.location.href.indexOf("#"))+"#"+this._.currentPage)),this._.options.page=a,this._.options.perPage=this._.imagesPerPage;var d=$.param(this._.options),e=this;return this._.cache[d]?this.handleJSON(this._.cache[d]):(this._.stopOnPaging&&!b&&this.stopPaging(),this._.ajax=$.getJSON(this._.ajaxURL,this._.options,function(a){a.success&&e.handleJSON(a.data)})),!0},bindScrollEvent:function(){var a=80,b=this._.el.$thumbsContainer.parent(),c=this._.el.$thumbsContainer,d=this;this._.el.$thumbsContainer.parent().scroll(function(){b.scrollTop()>c.height()-b.height()-a&&d.changePage(d._.currentPage+1,!0,!0),d._.lastScrollPos=b.scrollTop()})},next:function(){var a=Imgur.Images.getInstance();return a._.el.$thumbsContainer.parent().scrollTop(0),a.changePage(a._.currentPage+1)},prev:function(){var a=Imgur.Images.getInstance();return a._.el.$thumbsContainer.parent().scrollTop(0),a.changePage(a._.currentPage-1)},reload:function(){return this.changePage(this._.currentPage,!0)},getCurrentPage:function(){return this._.currentPage},setCurrentPage:function(a){this._.currentPage=a},setOptions:function(a){this._.options=a},getTotalPages:function(){return this._.totalPages},getImageLimit:function(){return this._.imageLimit},getTotalImageCount:function(){return this._.totalImageCount},increaseImageCount:function(){this._.totalImageCount++},clearCache:function(){this._.cache=[]},stopOnPaging:function(a){this._.stopOnPaging=a}}),Class.addSingleton(Imgur.Images),Namespace("Imgur.TitleDesc"),Imgur.TitleDesc=Imgur.extend({init:function(a){return this._=$.extend(!0,{el:{titleDescriptionForm:{id:"#title-description",$form:$("#title-description form"),$titleInput:$("#title-input"),$descriptionInput:$("#description-input"),$loader:$("#title-description-loader")}}},a),this._=this._super(this._),this._},bindTitleDescriptionSubmit:function(a,b){if(b){this._.el.titleDescriptionForm.$titleInput.val(Imgur.Environment.hashes[0].title);var c=document.createElement("textarea");c.innerHTML=Imgur.Environment.hashes[0].description,
this._.el.titleDescriptionForm.$descriptionInput.val(c.value)}var d=this;this._.el.titleDescriptionForm.$form.submit(function(){return d.titleDescriptionSubmitHandler(a)})},titleDescriptionSubmitHandler:function(a){var b=this._.el.titleDescriptionForm.$titleInput.val()!=this._.el.titleDescriptionForm.$titleInput.attr("title")?this._.el.titleDescriptionForm.$titleInput.val():"",c=this._.el.titleDescriptionForm.$descriptionInput.val()!=this._.el.titleDescriptionForm.$descriptionInput.attr("title")?this._.el.titleDescriptionForm.$descriptionInput.val():"";this._.el.titleDescriptionForm.$loader.show(),this._.hash=Imgur.getInstance()._.hash;var d=this,e=this._.hash.deletehash||Imgur.Environment.hashes[0].deletehash;return $.post("/ajax/titledesc/"+e,{title:b,description:c},function(e){$.colorbox.close(),humanMsg.displayMsg(d._.messages.titledesc),d._.el.titleDescriptionForm.$loader.hide(),a?a({title:b,description:c}):window.setTimeout(function(){location.reload()},1e3)}),!1},addTitleDescription:function(){var a=this;$.colorbox({href:a._.el.titleDescriptionForm.id,open:!0,inline:!0,top:"15%",transition:"none",scrolling:!1,onComplete:function(){a._.el.titleDescriptionForm.$titleInput.focus()}})},getElements:function(){return this._.el}}),Class.addSingleton(Imgur.TitleDesc),Imgur.GalleryBundleLoaded=!0,Namespace("Imgur.Elements"),Imgur.Elements.CheckBox=React.createClass({displayName:"CheckBox",propTypes:{className:React.PropTypes.string,defaultValue:React.PropTypes.bool,id:React.PropTypes.string.isRequired,name:React.PropTypes.string,label:React.PropTypes.string,onChange:React.PropTypes.func},getDefaultProps:function(){return{className:"",defaultValue:!1}},handleChange:function(){var a=this.props.onChange;"function"==typeof a&&a(this.refs.toggle.checked)},render:function(){var a=this.props,b=a.label,c=a.id,d=a.name;return React.createElement("div",{className:this.props.className},React.createElement("input",{ref:"toggle",type:"checkbox",className:"checkbox-styled",id:c,name:d||c,defaultChecked:this.props.defaultValue,onChange:this.handleChange.bind(null,this)}),React.createElement("label",{className:"icon-check",htmlFor:c}),React.createElement("label",{className:"checkbox-label",htmlFor:c},b))}}),Namespace("Imgur.Adm.GalleryAddTag"),Imgur.Adm.GalleryAddTag=React.createClass({displayName:"GalleryAddTag",_:{msid:Imgur.Environment.msid,defaultTagName:"staff picks",tagSuggestPosition:{right:{left:17,top:16},left:{left:-230,top:16}}},propTypes:{baseUrl:React.PropTypes.string.isRequired,emitter:React.PropTypes.object.isRequired,insideNav:React.PropTypes.object.isRequired},getInitialState:function(){return{query:this._.defaultTagName,tagStore:this.props.tagStore,suggestedTags:[],tagError:null,tagSuggestFlag:"right"}},componentDidMount:function(){this.props.emitter.on("admTagRemoved",this,function(a){this.state.tagStore.removeTag(a,"tagModule")}),this.props.emitter.on("select",this,function(a){this.setState({query:this._.defaultTagName}),this.state.tagStore.flushTags();for(var b in a.galleryTags)this.state.tagStore.addTag(a.galleryTags[b].tag,"tagModule",function(){})})},componentDidUpdate:function(a,b){if(this.state.tagInputActive&&!b.tagInputActive){var c=ReactDOM.findDOMNode(this.refs.admtagsuggest);if(!c)return;var d=c.getBoundingClientRect();d.right>window.innerWidth?this.setState({tagSuggestFlag:"left"}):d.right+d.width<window.innerWidth&&this.setState({tagSuggestFlag:"right"})}},componentWillUnmount:function(){this.props.emitter.off("admTagRemoved"),this.props.emitter.off("select")},addTag:function(a){var b=this;a=a||this.state.query,this.setState({query:a}),this.state.tagStore.addTag(a,"tagModule",function(c,d){if(c){var e=b.props.insideNav.getHash();$.post(b.props.baseUrl+"/action/set_tag/"+e,{sid:b._.msid,tag:a},function(){humanMsg.displayMsg(a+" added to post"),this.setState({query:""}),this.props.emitter.trigger("admTagAdded",a)}.bind(b)).fail(function(){this.state.tagStore.removeTag(a),humanMsg.displayMsg("Unable to add tag "+a+" to post")}.bind(b))}else b.setState({tagError:d})})},handleInput:function(a){this.setState({query:a.target.value})},getSuggestions:function(a){var b=this;if([38,40].indexOf(a.which)===-1){var c=this.state.query,d=this.state.tagStore.getTagValidator();return d.isValidTag("",c,!1)?(this.setState({tagError:null}),13===a.which?void this.addTag(c):void this.state.tagStore.getSuggestions(c,function(a){b.setState({suggestedTags:a})})):void this.setState({tagError:d.whyNot("",c,!1)})}},handleHighlighted:function(a){this.setState({query:a});var b=this.refs.admaddtag;if(b.focus(),"undefined"!=typeof window.getSelection&&"undefined"!=typeof document.createRange){var c=document.createRange();c.selectNodeContents(b),c.collapse(!1);var d=window.getSelection();d.removeAllRanges(),d.addRange(c)}else if("undefined"!=typeof document.body.createTextRange){var e=document.body.createTextRange();e.moveToElementText(b),e.collapse(!1),e.select()}},renderTagSuggestions:function(){if(this.state.tagInputActive&&this.state.query){var a=this._.tagSuggestPosition[this.state.tagSuggestFlag],b=a.left,c=a.top;return React.createElement(Imgur.Gallery.TagSuggest,{ref:"admtagsuggest",onSelect:this.addTag,onHighlightedKeyDown:this.handleHighlighted,left:b,top:c,showingSuggestions:!1,suggestedTags:this.state.suggestedTags,query:this.state.query,error:this.state.tagError,classNames:"tag-suggest--flag-"+this.state.tagSuggestFlag})}},render:function(){var a=this;return this.props.display!==!1&&React.createElement("div",{className:"adm-add-gallery-tag"},React.createElement("p",null,"Add a tag to this post"),React.createElement("div",{className:"post-options-tag-input-wrapper"},React.createElement("input",{type:"text",value:this.state.query,onChange:this.handleInput,onInput:this.handleInput,ref:"admaddtag",key:"admaddtag",className:"post-options-tag-input",onKeyUp:this.getSuggestions,onBlur:function(){a.setState({tagInputActive:!1})},onFocus:function(){return a.setState({tagInputActive:!0})},onPaste:this.getSuggestions,placeholder:"Enter a tag to add"}),this.renderTagSuggestions()))}});
//# sourceMappingURL=gallery.js.map         20181116104104xX      Z      @                          l     f u n c t i o n   f l a s h E l e m e n t ( a , b , c , d ) { b = b | | 1 0 0 , d = d | | " # 1 b b 7 6 e " ; v a r   e = a . s t y l e | | a [ 0 ] . s t y l e ; e . b a c k g r o u n d C o l o r = d , s e t T i m e o u t ( f u n c t i o n ( ) { e . b a c k g r o u n d C o l o r = c } , b ) } f u n c t i o n   c h e c k E m a i l V e r i f i c a t i o n ( a , b ) { a | | ( a = " " ) , $ . p o s t ( " / a j a x / v e r i f y _ e m a i l / " + a , f u n c t i o n ( c ) { c . d a t a . v e r i f i e d ? ( $ . c o l o r b o x . c l o s e ( ) , b & & b ( ) ) : ( c . d a t a . i n v a l i d & & a & & h u m a n M s g . d i s p l a y M s g ( " V e r i f i c a t i o n   c o d e   i s   i n v a l i d " , " e r r o r - m s g " ) , s e t T i m e o u t ( f u n c t i o n ( ) { c h e c k E m a i l V e r i f i c a t i o n ( ) } , 1 5 0 0 ) ) } ) } f u n c t i o n   _ c l a s s C a l l C h e c k ( a , b ) { i f ( ! ( a   i n s t a n c e o f   b ) ) t h r o w   n e w   T y p e E r r o r ( " C a n n o t   c a l l   a   c l a s s   a s   a   f u n c t i o n " ) } f u n c t i o n   _ p o s s i b l e C o n s t r u c t o r R e t u r n ( a , b ) { i f ( ! a ) t h r o w   n e w   R e f e r e n c e E r r o r ( " t h i s   h a s n ' t   b e e n   i n i t i a l i s e d   -   s u p e r ( )   h a s n ' t   b e e n   c a l l e d " ) ; r e t u r n ! b | | " o b j e c t " ! = t y p e o f   b & & " f u n c t i o n " ! = t y p e o f   b ? a : b } f u n c t i o n   _ i n h e r i t s ( a , b ) { i f ( " f u n c t i o n " ! = t y p e o f   b & & n u l l ! = = b ) t h r o w   n e w   T y p e E r r o r ( " S u p e r   e x p r e s s i o n   m u s t   e i t h e r   b e   n u l l   o r   a   f u n c t i o n ,   n o t   " + t y p e o f   b ) ; a . p r o t o t y p e = O b j e c t . c r e a t e ( b & & b . p r o t o t y p e , { c o n s t r u c t o r : { v a l u e : a , e n u m e r a b l e : ! 1 , w r i t a b l e : ! 0 , c o n f i g u r a b l e : ! 0 } } ) , b & & ( O b j e c t . s e t P r o t o t y p e O f ? O b j e c t . s e t P r o t o t y p e O f ( a , b ) : a . _ _ p r o t o _ _ = b ) } f u n c t i o n   _ c l a s s C a l l C h e c k ( a , b ) { i f ( ! ( a   i n s t a n c e o f   b ) ) t h r o w   n e w   T y p e E r r o r ( " C a n n o t   c a l l   a   c l a s s   a s   a   f u n c t i o n " ) } f u n c t i o n   _ p o s s i b l e C o n s t r u c t o r R e t u r n ( a , b ) { i f ( ! a ) t h r o w   n e w   R e f e r e n c e E r r o r ( " t h i s   h a s n ' t   b e e n   i n i t i a l i s e d   -   s u p e r ( )   h a s n ' t   b e e n   c a l l e d " ) ; r e t u r n ! b | | " o b j e c t " ! = t y p e o f   b & & " f u n c t i o n " ! = t y p e o f   b ? a : b } f u n c t i o n   _ i n h e r i t s ( a , b ) { i f ( " f u n c t i o n " ! = t y p e o f   b & & n u l l ! = = b ) t h r o w   n e w   T y p e E r r o r ( " S u p e r   e x p r e s s i o n   m u s t   e i t h e r   b e   n u l l   o r   a   f u n c t i o n ,   n o t   " + t y p e o f   b ) ; a . p r o t o t y p e = O b j e c t . c r e a t e ( b & & b . p r o t o t y p e , { c o n s t r u c t o r : { v a l u e : a , e n u m e r a b l e : ! 1 , w r i t a b l e : ! 0 , c o n f i g u r a b l e : ! 0 } } ) , b & & ( O b j e c t . s e t P r o t o t y p e O f ? O b j e c t . s e t P r o t o t y p e O f ( a , b ) : a . _ _ p r o t o _ _ = b ) } f u n c t i o n   g e t C o l o r B y P o s t I n d e x ( a ) { v a r   b = a % G R I D _ C O L O R S _ L O A D I N G . l e n g t h ; r e t u r n   G R I D _ C O L O R S _ L O A D I N G [ b ] } f u n c t i o n   A r r o w I c o n ( a ) { v a r   b = a . c o l o r , c = v o i d   0 = = = b ? " # f f f " : b ; r e t u r n   R e a c t . c r e a t e E l e m e n t ( " s v g " , { w i d t h : " 2 1 " , h e i g h t : " 1 5 " , v i e w B o x : " 0   0   2 1   1 5 " , f i l l : " n o n e " , x m l n s : " h t t p : / / w w w . w 3 . o r g / 2 0 0 0 / s v g " } , R e a c t . c r e a t e E l e m e n t ( " p a t h " , { " f i l l - r u l e " : " e v e n o d d " , " c l i p - r u l e " : " e v e n o d d " , d : " M 3 . 3 7 4 9 6   8 . 5 L 8 . 0 5 5 6 2   1 3 . 2 9 0 9 C 8 . 4 4 1 6 1   1 3 . 6 8 5 9   8 . 4 3 4 2 8   1 4 . 3 1 9 2   8 . 0 3 9 2 6   1 4 . 7 0 5 2 C 7 . 6 4 4 2 4   1 5 . 0 9 1 2   7 . 0 1 1 1 3   1 5 . 0 8 3 9   6 . 6 2 5 1 4   1 4 . 6 8 8 8 L 0 . 2 8 4 7 4 6   8 . 1 9 9 1 3 C 0 . 0 9 3 2 1 7 4   8 . 0 0 3 1   - 0 . 0 0 1 4 4 8 1   7 . 7 4 8 4 4   1 . 6 7 4 0 7 e - 0 5   7 . 4 9 4 4 5 C - 0 . 0 0 1 4 4 8 1   7 . 2 4 0 4 8   0 . 0 9 3 2 1 7 4   6 . 9 8 5 9   0 . 2 8 4 7 4 6   6 . 7 8 9 9 L 6 . 6 2 5 1 4   0 . 3 0 1 1 1 6 C 7 . 0 1 1 1 3   - 0 . 0 9 3 8 9 5 4   7 . 6 4 4 2 4   - 0 . 1 0 1 2 2   8 . 0 3 9 2 6   0 . 2 8 4 7 6 7 C 8 . 4 3 4 2 8   0 . 6 7 0 7 4 5   8 . 4 4 1 6 1   1 . 3 0 3 8 7   8 . 0 5 5 6 2   1 . 6 9 8 8 8 L 3 . 3 6 4 2 7   6 . 5 H 2 0 C 2 0 . 5 5 2 2   6 . 5   2 1   6 . 9 4 7 7 2   2 1   7 . 5 C 2 1   8 . 0 5 2 2 8   2 0 . 5 5 2 2   8 . 5   2 0   8 . 5 H 3 . 3 7 4 9 6 Z " , f i l l : c } ) ) } f u n c t i o n   r e i n s e r t ( a , b , c ) { v a r   d = a . s l i c e ( 0 ) , e = d [ b ] ; r e t u r n   d . s p l i c e ( b , 1 ) , d . s p l i c e ( c , 0 , e ) , d } f u n c t i o n   c l a m p ( a , b , c ) { r e t u r n   M a t h . m a x ( M a t h . m i n ( a , c ) , b ) } f u n c t i o n   _ t o C o n s u m a b l e A r r a y ( a ) { i f ( A r r a y . i s A r r a y ( a ) ) { f o r ( v a r   b = 0 , c = A r r a y ( a . l e n g t h ) ; b < a . l e n g t h ; b + + ) c [ b ] = a [ b ] ; r e t u r n   c } r e t u r n   A r r a y . f r o m ( a ) } f u n c t i o n   o n Y o u T u b e I f r a m e A P I R e a d y ( ) { f o r ( v a r   a   i n   y o u t u b e _ i f r a m e s ) y o u t u b e _ i f r a m e s [ a ] . d o m & & ! y o u t u b e _ i f r a m e s [ a ] . p l a y e r & & ( y o u t u b e _ i f r a m e s [ a ] . p l a y e r = n e w   Y T . P l a y e r ( y o u t u b e _ i f r a m e s [ a ] . d o m , { e v e n t s : { o n R e a d y : _ . p a r t i a l ( o n P l a y e r R e a d y , a ) , o n S t a t e C h a n g e : _ . p a r t i a l ( o n P l a y e r S t a t e C h a n g e , a ) } } ) ) } f u n c t i o n   o n P l a y e r R e a d y ( a ) { y o u t u b e _ i f r a m e s [ a ] . m a n u a l l y P a u s e d | | ( y o u t u b e _ i f r a m e s [ a ] . s o u n d O n | | y o u t u b e _ i f r a m e s [ a ] . p l a y e r . m u t e ( ) , y o u t u b e _ i f r a m e s [ a ] . p l a y e r . s e e k T o ( y o u t u b e _ i f r a m e s [ a ] . c u r r e n t T i m e , ! 0 ) , y o u t u b e _ i f r a m e s [ a ] . p l a y e r . p l a y V i d e o ( ) , y o u t u b e _ i f r a m e s [ a ] . h a s h = y o u t u b e _ i f r a m e s [ a ] . p l a y e r . g e t V i d e o D a t a ( ) . v i d e o _ i d , y o u t u b e _ i f r a m e s [ a ] . v i d e o L e n g t h = y o u t u b e _ i f r a m e s [ a ] . p l a y e r . g e t D u r a t i o n ( ) ) } f u n c t i o n   o n P l a y e r S t a t e C h a n g e ( a , b ) { s w i t c h ( b . d a t a ) { c a s e   Y T . P l a y e r S t a t e . P A U S E D : y o u t u b e _ i f r a m e s [ a ] . m a n u a l l y P a u s e d = ! 0 ; b r e a k ; c a s e   Y T . P l a y e r S t a t e . P L A Y I N G : y o u t u b e _ i f r a m e s [ a ] . m a n u a l l y P a u s e d = ! 1 } } f u n c t i o n   c r e a t e I m a g e T o a s t H t m l ( a , b , c ) { r e t u r n ' < i m g   w i d t h = " 3 2 "   h e i g h t = " 3 2 "   s r c = " ' + a + ' " >   < s p a n   c l a s s = " r e a s o n " > ' + b + ' < / s p a n > < b u t t o n   c l a s s = " a c t i o n   u n d o "   t y p e = " b u t t o n "   d a t a - c a n c e l = " ' + c + ' " > u n d o < / b u t t o n > ' } f u n c t i o n   c r e a t e T o a s t H t m l ( a , b ) { r e t u r n   a + ' < / s p a n > < b u t t o n   c l a s s = " a c t i o n   u n d o "   t y p e = " b u t t o n "   d a t a - c a n c e l = " ' + b + ' " > u n d o < / b u t t o n > ' } f u n c t i o n   c r e a t e U n d o T o a s t ( a , b , c , d , e , f , g ) { v a r   h = s e t T i m e o u t ( f u n c t i o n ( ) { c ( ) , f . d e c r e m e n t ( ) } , e ) ; i f ( d ) { g | | ( g = $ ( a ) . f i n d ( " i m g " ) . f i r s t ( ) . a t t r ( " s r c " ) ) ; v a r   i = c r e a t e I m a g e T o a s t H t m l ( g , b , h ) } e l s e   v a r   i = c r e a t e T o a s t H t m l ( b , h ) ; a & & a . h i d e ( ) , f . i n c r e m e n t ( ) ; v a r   j = $ . t o a s t ( { t e x t : i , h i d e A f t e r : e , p o s i t i o n : " b o t t o m - r i g h t " , l o a d e r : ! 0 , l o a d e r B g : " # 1 b b 7 6 e " , a l l o w T o a s t C l o s e : ! 0 } ) ; r e t u r n   $ ( " b u t t o n . a c t i o n [ d a t a - c a n c e l = ' " + h + " ' ] " ) . o n ( " c l i c k " , f u n c t i o n ( ) { c l e a r T i m e o u t ( h ) , j . c l o s e ( ) , a & & a . s h o w ( ) , f . d e c r e m e n t ( ) } ) , f } f u n c t i o n   c r e a t e C a p t i o n U n d o T o a s t ( a , b , c ) { v a r   d = s e t T i m e o u t ( f u n c t i o n ( ) { c ( ) , p e n d i n g A c t i o n s - - } , u n d o D e l a y ) , e = c r e a t e T o a s t H t m l ( i m a g e U r l , b , d ) ; p e n d i n g A c t i o n s + + ; v a r   f = $ . t o a s t ( { t e x t : e , h i d e A f t e r : u n d o D e l a y , p o s i t i o n : " b o t t o m - r i g h t " , l o a d e r : ! 0 , l o a d e r B g : " # 1 b b 7 6 e " , a l l o w T o a s t C l o s e : ! 0 } ) ; $ ( " b u t t o n . a c t i o n [ d a t a - c a n c e l = ' " + d + " ' ] " ) . o n ( " c l i c k " , f u n c t i o n ( ) { c l e a r T i m e o u t ( d ) , f . c l o s e ( ) , a . s h o w ( ) , p e n d i n g A c t i o n s - - } ) } ! f u n c t i o n ( a , b ) { " o b j e c t " = = t y p e o f   e x p o r t s & & " o b j e c t " = = t y p e o f   m o d u l e ? m o d u l e . e x p o r t s = b ( r e q u i r e ( " r e a c t " ) ) : " f u n c t i o n " = = t y p e o f   d e f i n e & & d e f i n e . a m d ? d e f i n e ( [ " r e a c t " ] , b ) : " o b j e c t " = = t y p e o f   e x p o r t s ? e x p o r t s . R e a c t M o t i o n = b ( r e q u i r e ( " r e a c t " ) ) : a . R e a c t M o t i o n = b ( a . R e a c t ) } ( t h i s , f u n c t i o n ( a ) { r e t u r n   f u n c t i o n ( a ) { f u n c t i o n   b ( d ) { i f ( c [ d ] ) r e t u r n   c [ d ] . e x p o r t s ; v a r   e = c [ d ] = { e x p o r t s : { } , i d : d , l o a d e d : ! 1 } ; r e t u r n   a [ d ] . c a l l ( e . e x p o r t s , e , e . e x p o r t s , b ) , e . l o a d e d = ! 0 , e . e x p o r t s } v a r   c = { } ; r e t u r n   b . m = a , b . c = c , b . p = " b u i l d / " , b ( 0 ) } ( [ f u n c t i o n ( a , b , c ) { " u s e   s t r i c t " ; f u n c t i o n   d ( a ) { r e t u r n   a & & a . _ _ e s M o d u l e ? a [ " d e f a u l t " ] : a } b . _ _ e s M o d u l e = ! 0 ; v a r   e = c ( 1 ) ; b . M o t i o n = d ( e ) ; v a r   f = c ( 1 0 ) ; b . S t a g g e r e d M o t i o n = d ( f ) ; v a r   g = c ( 1 1 ) ; b . T r a n s i t i o n M o t i o n = d ( g ) ; v a r   h = c ( 1 3 ) ; b . s p r i n g = d ( h ) ; v a r   i = c ( 1 4 ) ; b . p r e s e t s = d ( i ) ; v a r   j = c ( 1 5 ) ; b . r e o r d e r K e y s = d ( j ) } , f u n c t i o n ( a , b , c ) { " u s e   s t r i c t " ; f u n c t i o n   d ( a ) { r e t u r n   a & & a . _ _ e s M o d u l e ? a : { " d e f a u l t " : a } } b . _ _ e s M o d u l e = ! 0 ; v a r   e = O b j e c t . a s s i g n | | f u n c t i o n ( a ) { f o r ( v a r   b = 1 ; b < a r g u m e n t s . l e n g t h ; b + + ) { v a r   c = a r g u m e n t s [ b ] ; f o r ( v a r   d   i n   c ) O b j e c t . p r o t o t y p e . h a s O w n P r o p e r t y . c a l l ( c , d ) & & ( a [ d ] = c [ d ] ) } r e t u r n   a } , f = c ( 2 ) , g = d ( f ) , h = c ( 3 ) , i = d ( h ) , j = c ( 4 ) , k = d ( j ) , l = c ( 5 ) , m = d ( l ) , n = c ( 7 ) , o = d ( n ) , p = c ( 8 ) , q = d ( p ) , r = c ( 9 ) , s = d ( r ) , t = 1 e 3 / 6 0 , u = s [ " d e f a u l t " ] . c r e a t e C l a s s ( { d i s p l a y N a m e : " M o t i o n " , p r o p T y p e s : { d e f a u l t S t y l e : r . P r o p T y p e s . o b j e c t O f ( r . P r o p T y p e s . n u m b e r ) , s t y l e : r . P r o p T y p e s . o b j e c t O f ( r . P r o p T y p e s . o n e O f T y p e ( [ r . P r o p T y p e s . n u m b e r , r . P r o p T y p e s . o b j e c t ] ) ) . i s R e q u i r e d , c h i l d r e n : r . P r o p T y p e s . f u n c . i s R e q u i r e d , o n R e s t : r . P r o p T y p e s . f u n c } , g e t I n i t i a l S t a t e : f u n c t i o n ( ) { v a r   a = t h i s . p r o p s , b = a . d e f a u l t S t y l e , c = a . s t y l e , d = b | | i [ " d e f a u l t " ] ( c ) , e = g [ " d e f a u l t " ] ( d ) ; r e t u r n { c u r r e n t S t y l e : d , c u r r e n t V e l o c i t y : e , l a s t I d e a l S t y l e : d , l a s t I d e a l V e l o c i t y : e } } , w a s A n i m a t i n g : ! 1 , a n i m a t i o n I D : n u l l , p r e v T i m e : 0 , a c c u m u l a t e d T i m e : 0 , u n r e a d P r o p S t y l e : n u l l , c l e a r U n r e a d P r o p S t y l e : f u n c t i o n ( a ) { v a r   b = ! 1 , c = t h i s . s t a t e , d = c . c u r r e n t S t y l e , f = c . c u r r e n t V e l o c i t y , g = c . l a s t I d e a l S t y l e , h = c . l a s t I d e a l V e l o c i t y ; f o r ( v a r   i   i n   a ) i f ( a . h a s O w n P r o p e r t y ( i ) ) { v a r   j = a [ i ] ; " n u m b e r " = = t y p e o f   j & & ( b | | ( b = ! 0 , d = e ( { } , d ) , f = e ( { } , f ) , g = e ( { } , g ) , h = e ( { } , h ) ) , d [ i ] = j , f [ i ] = 0 , g [ i ] = j , h [ i ] = 0 ) } b & & t h i s . s e t S t a t e ( { c u r r e n t S t y l e : d , c u r r e n t V e l o c i t y : f , l a s t I d e a l S t y l e : g , l a s t I d e a l V e l o c i t y : h } ) } , s t a r t A n i m a t i o n I f N e c e s s a r y : f u n c t i o n ( ) { v a r   a = t h i s ; t h i s . a n i m a t i o n I D = o [ " d e f a u l t " ] ( f u n c t i o n ( ) { v a r   b = a . p r o p s . s t y l e ; i f ( q [ " d e f a u l t " ] ( a . s t a t e . c u r r e n t S t y l e , b , a . s t a t e . c u r r e n t V e l o c i t y ) ) r e t u r n   a . w a s A n i m a t i n g & & a . p r o p s . o n R e s t & & a . p r o p s . o n R e s t ( ) , a . a n i m a t i o n I D = n u l l , a . w a s A n i m a t i n g = ! 1 , v o i d ( a . a c c u m u l a t e d T i m e = 0 ) ; a . w a s A n i m a t i n g = ! 0 ; v a r   c = m [ " d e f a u l t " ] ( ) , d = c - a . p r e v T i m e ; i f ( a . p r e v T i m e = c , a . a c c u m u l a t e d T i m e = a . a c c u m u l a t e d T i m e + d , a . a c c u m u l a t e d T i m e > 1 0 * t & & ( a . a c c u m u l a t e d T i m e = 0 ) , 0 = = = a . a c c u m u l a t e d T i m e ) r e t u r n   a . a n i m a t i o n I D = n u l l , v o i d   a . s t a r t A n i m a t i o n I f N e c e s s a r y ( ) ; v a r   e = ( a . a c c u m u l a t e d T i m e - M a t h . f l o o r ( a . a c c u m u l a t e d T i m e / t ) * t ) / t , f = M a t h . f l o o r ( a . a c c u m u l a t e d T i m e / t ) , g = { } , h = { } , i = { } , j = { } ; f o r ( v a r   l   i n   b ) i f ( b . h a s O w n P r o p e r t y ( l ) ) { v a r   n = b [ l ] ; i f ( " n u m b e r " = = t y p e o f   n ) i [ l ] = n , j [ l ] = 0 , g [ l ] = n , h [ l ] = 0 ; e l s e { f o r ( v a r   o = a . s t a t e . l a s t I d e a l S t y l e [ l ] , p = a . s t a t e . l a s t I d e a l V e l o c i t y [ l ] , r = 0 ; r < f ; r + + ) { v a r   s = k [ " d e f a u l t " ] ( t / 1 e 3 , o , p , n . v a l , n . s t i f f n e s s , n . d a m p i n g , n . p r e c i s i o n ) ; o = s [ 0 ] , p = s [ 1 ] } v a r   u = k [ " d e f a u l t " ] ( t / 1 e 3 , o , p , n . v a l , n . s t i f f n e s s , n . d a m p i n g , n . p r e c i s i o n ) , v = u [ 0 ] , w = u [ 1 ] ; i [ l ] = o + ( v - o ) * e , j [ l ] = p + ( w - p ) * e , g [ l ] = o , h [ l ] = p } } a . a n i m a t i o n I D = n u l l , a . a c c u m u l a t e d T i m e - = f * t , a . s e t S t a t e ( { c u r r e n t S t y l e : i , c u r r e n t V e l o c i t y : j , l a s t I d e a l S t y l e : g , l a s t I d e a l V e l o c i t y : h } ) , a . u n r e a d P r o p S t y l e = n u l l , a . s t a r t A n i m a t i o n I f N e c e s s a r y ( ) } ) } , c o m p o n e n t D i d M o u n t : f u n c t i o n ( ) { t h i s . p r e v T i m e = m [ " d e f a u l t " ] ( ) , t h i s . s t a r t A n i m a t i o n I f N e c e s s a r y ( ) } , c o m p o n e n t W i l l R e c e i v e P r o p s : f u n c t i o n ( a ) { n u l l ! = t h i s . u n r e a d P r o p S t y l e & & t h i s . c l e a r U n r e a d P r o p S t y l e ( t h i s . u n r e a d P r o p S t y l e ) , t h i s . u n r e a d P r o p S t y l e = a . s t y l e , n u l l = = t h i s . a n i m a t i o n I D & & ( t h i s . p r e v T i m e = m [ " d e f a u l t " ] ( ) , t h i s . s t a r t A n i m a t i o n I f N e c e s s a r y ( ) ) } , c o m p o n e n t W i l l U n m o u n t : f u n c t i o n ( ) { n u l l ! = t h i s . a n i m a t i o n I D & & ( o [ " d e f a u l t " ] . c a n c e l ( t h i s . a n i m a t i o n I D ) , t h i s . a n i m a t i o n I D = n u l l ) } , r e n d e r : f u n c t i o n ( ) { v a r   a = t h i s . p r o p s . c h i l d r e n ( t h i s . s t a t e . c u r r e n t S t y l e ) ; r e t u r n   a & & s [ " d e f a u l t " ] . C h i l d r e n . o n l y ( a ) } } ) ; b [ " d e f a u l t " ] = u , a . e x p o r t s = b [ " d e f a u l t " ] } , f u n c t i o n ( a , b ) { " u s e   s t r i c t " ; f u n c t i o n   c ( a ) { v a r   b = { } ; f o r ( v a r   c   i n   a ) a . h a s O w n P r o p e r t y ( c ) & & ( b [ c ] = 0 ) ; r e t u r n   b } b . _ _ e s M o d u l e = ! 0 , b [ " d e f a u l t " ] = c , a . e x p o r t s = b [ " d e f a u l t " ] } , f u n c t i o n ( a , b ) { " u s e   s t r i c t " ; f u n c t i o n   c ( a ) { v a r   b = { } ; f o r ( v a r   c   i n   a ) a . h a s O w n P r o p e r t y ( c ) & & ( b [ c ] = " n u m b e r " = = t y p e o f   a [ c ] ? a [ c ] : a [ c ] . v a l ) ; r e t u r n   b } b . _ _ e s M o d u l e = ! 0 , b [ " d e f a u l t " ] = c , a . e x p o r t s = b [ " d e f a u l t " ] } , f u n c t i o n ( a , b ) { " u s e   s t r i c t " ; f u n c t i o n   c ( a , b , c , e , f , g , h ) { v a r   i = - f * ( b - e ) , j = - g * c , k = i + j , l = c + k * a , m = b + l * a ; r e t u r n   M a t h . a b s ( l ) < h & & M a t h . a b s ( m - e ) < h ? ( d [ 0 ] = e , d [ 1 ] = 0 , d ) : ( d [ 0 ] = m , d [ 1 ] = l , d ) } b . _ _ e s M o d u l e = ! 0 , b [ " d e f a u l t " ] = c ; v a r   d = [ ] ; a . e x p o r t s = b [ " d e f a u l t " ] } , f u n c t i o n ( a , b , c ) { ( f u n c t i o n ( b ) { " u s e   s t r i c t " ; ( f u n c t i o n ( ) { v a r   c , d , e ; " u n d e f i n e d " ! = t y p e o f   p e r f o r m a n c e & & n u l l ! = = p e r f o r m a n c e & & p e r f o r m a n c e . n o w ? a . e x p o r t s = f u n c t i o n ( ) { r e t u r n   p e r f o r m a n c e . n o w ( ) } : " u n d e f i n e d " ! = t y p e o f   b & & n u l l ! = = b & & b . h r t i m e ? ( a . e x p o r t s = f u n c t i o n ( ) { r e t u r n ( c ( ) - e ) / 1 e 6 } , d = b . h r t i m e , c = f u n c t i o n ( ) { v a r   a ; r e t u r n   a = d ( ) , 1 e 9 * a [ 0 ] + a [ 1 ] } , e = c ( ) ) : D a t e . n o w ? ( a . e x p o r t s = f u n c t i o n ( ) { r e t u r n   D a t e . n o w ( ) - e } , e = D a t e . n o w ( ) ) : ( a . e x p o r t s = f u n c t i o n ( ) { r e t u r n ( n e w   D a t e ) . g e t T i m e ( ) - e } , e = ( n e w   D a t e ) . g e t T i m e ( ) ) } ) . c a l l ( v o i d   0 ) } ) . c a l l ( b , c ( 6 ) ) } , f u n c t i o n ( a , b ) { " u s e   s t r i c t " ; f u n c t i o n   c ( ) { j = ! 1 , g . l e n g t h ? i = g . c o n c a t ( i ) : k = - 1 , i . l e n g t h & & d ( ) } f u n c t i o n   d ( ) { i f ( ! j ) { v a r   a = s e t T i m e o u t ( c ) ; j = ! 0 ; f o r ( v a r   b = i . l e n g t h ; b ; ) { f o r ( g = i , i = [ ] ; + + k < b ; ) g & & g [ k ] . r u n ( ) ; k = - 1 , b = i . l e n g t h } g = n u l l , j = ! 1 , c l e a r T i m e o u t ( a ) } } f u n c t i o n   e ( a , b ) { t h i s . f u n = a , t h i s . a r r a y = b } f u n c t i o n   f ( ) { } v a r   g , h = a . e x p o r t s = { } , i = [ ] , j = ! 1 , k = - 1 ; h . n e x t T i c k = f u n c t i o n ( a ) { v a r   b = n e w   A r r a y ( a r g u m e n t s . l e n g t h - 1 ) ; i f ( a r g u m e n t s . l e n g t h > 1 ) f o r ( v a r   c = 1 ; c < a r g u m e n t s . l e n g t h ; c + + ) b [ c - 1 ] = a r g u m e n t s [ c ] ; i . p u s h ( n e w   e ( a , b ) ) , 1 ! = = i . l e n g t h | | j | | s e t T i m e o u t ( d , 0 ) } , e . p r o t o t y p e . r u n = f u n c t i o n ( ) { t h i s . f u n . a p p l y ( n u l l , t h i s . a r r a y ) } , h . t i t l e = " b r o w s e r " , h . b r o w s e r = ! 0 , h . e n v = { } , h . a r g v = [ ] , h . v e r s i o n = " " , h . v e r s i o n s = { } , h . o n = f , h . a d d L i s t e n e r = f , h . o n c e = f , h . o f f = f , h . r e m o v e L i s t e n e r = f , h . r e m o v e A l l L i s t e n e r s = f , h . e m i t = f , h . b i n d i n g = f u n c t i o n ( a ) { t h r o w   n e w   E r r o r ( " p r o c e s s . b i n d i n g   i s   n o t   s u p p o r t e d " ) } , h . c w d = f u n c t i o n ( ) { r e t u r n " / " } , h . c h d i r = f u n c t i o n ( a ) { t h r o w   n e w   E r r o r ( " p r o c e s s . c h d i r   i s   n o t   s u p p o r t e d " ) } , h . u m a s k = f u n c t i o n ( ) { r e t u r n   0 } } , f u n c t i o n ( a , b , c ) { " u s e   s t r i c t " ; f o r ( v a r   d = c ( 5 ) , e = " u n d e f i n e d " = = t y p e o f   w i n d o w ? { } : w i n d o w , f = [ " m o z " , " w e b k i t " ] , g = " A n i m a t i o n F r a m e " , h = e [ " r e q u e s t " + g ] , i = e [ " c a n c e l " + g ] | | e [ " c a n c e l R e q u e s t " + g ] , j = 0 ; j < f . l e n g t h & & ! h ; j + + ) h = e [ f [ j ] + " R e q u e s t " + g ] , i = e [ f [ j ] + " C a n c e l " + g ] | | e [ f [ j ] + " C a n c e l R e q u e s t " + g ] ; i f ( ! h | | ! i ) { v a r   k = 0 , l = 0 , m = [ ] , n = 1 e 3 / 6 0 ; h = f u n c t i o n ( a ) { i f ( 0 = = = m . l e n g t h ) { v a r   b = d ( ) , c = M a t h . m a x ( 0 , n - ( b - k ) ) ; k = c + b , s e t T i m e o u t ( f u n c t i o n ( ) { v a r   a = m . s l i c e ( 0 ) ; m . l e n g t h = 0 ; f o r ( v a r   b = 0 ; b < a . l e n g t h ; b + + ) i f ( ! a [ b ] . c a n c e l l e d ) t r y { a [ b ] . c a l l b a c k ( k ) } c a t c h ( c ) { s e t T i m e o u t ( f u n c t i o n ( ) { t h r o w   c } , 0 ) } } , M a t h . r o u n d ( c ) ) } r e t u r n   m . p u s h ( { h a n d l e : + + l , c a l l b a c k : a , c a n c e l l e d : ! 1 } ) , l } , i = f u n c t i o n ( a ) { f o r ( v a r   b = 0 ; b < m . l e n g t h ; b + + ) m [ b ] . h a n d l e = = = a & & ( m [ b ] . c a n c e l l e d = ! 0 ) } } a . e x p o r t s = f u n c t i o n ( a ) { r e t u r n   h . c a l l ( e , a ) } , a . e x p o r t s . c a n c e l = f u n c t i o n ( ) { i . a p p l y ( e , a r g u m e n t s ) } } , f u n c t i o n ( a , b ) { " u s e   s t r i c t " ; f u n c t i o n   c ( a , b , c ) { f o r ( v a r   d   i n   b ) i f ( b . h a s O w n P r o p e r t y ( d ) ) { i f ( 0 ! = = c [ d ] ) r e t u r n ! 1 ; v a r   e = " n u m b e r " = = t y p e o f   b [ d ] ? b [ d ] : b [ d ] . v a l ; i f ( a [ d ] ! = = e ) r e t u r n ! 1 } r e t u r n ! 0 } b . _ _ e s M o d u l e = ! 0 , b [ " d e f a u l t " ] = c , a . e x p o r t s = b [ " d e f a u l t " ] } , f u n c t i o n ( b , c ) { b . e x p o r t s = a } , f u n c t i o n ( a , b , c ) { " u s e   s t r i c t " ; f u n c t i o n   d ( a ) { r e t u r n   a & & a . _ _ e s M o d u l e ? a : { " d e f a u l t " : a } } f u n c t i o n   e ( a , b , c ) { f o r ( v a r   d = 0 ; d < a . l e n g t h ; d + + ) i f ( ! r [ " d e f a u l t " ] ( a [ d ] , b [ d ] , c [ d ] ) ) r e t u r n ! 1 ; r e t u r n ! 0 } b . _ _ e s M o d u l e = ! 0 ; v a r   f = O b j e c t . a s s i g n | | f u n c t i o n ( a ) { f o r ( v a r   b = 1 ; b < a r g u m e n t s . l e n g t h ; b + + ) { v a r   c = a r g u m e n t s [ b ] ; f o r ( v a r   d   i n   c ) O b j e c t . p r o t o t y p e . h a s O w n P r o p e r t y . c a l l ( c , d ) & & ( a [ d ] = c [ d ] ) } r e t u r n   a } , g = c ( 2 ) , h = d ( g ) , i = c ( 3 ) , j = d ( i ) , k = c ( 4 ) , l = d ( k ) , m = c ( 5 ) , n = d ( m ) , o = c ( 7 ) , p = d ( o ) , q = c ( 8 ) , r = d ( q ) , s = c ( 9 ) , t = d ( s ) , u = 1 e 3 / 6 0 , v = t [ " d e f a u l t " ] . c r e a t e C l a s s ( { d i s p l a y N a m e : " S t a g g e r e d M o t i o n " , p r o p T y p e s : { d e f a u l t S t y l e s : s . P r o p T y p e s . a r r a y O f ( s . P r o p T y p e s . o b j e c t O f ( s . P r o p T y p e s . n u m b e r ) ) , s t y l e s : s . P r o p T y p e s . f u n c . i s R e q u i r e d , c h i l d r e n : s . P r o p T y p e s . f u n c . i s R e q u i r e d } , g e t I n i t i a l S t a t e : f u n c t i o n ( ) { v a r   a = t h i s . p r o p s , b = a . d e f a u l t S t y l e s , c = a . s t y l e s , d = b | | c ( ) . m a p ( j [ " d e f a u l t " ] ) , e = d . m a p ( f u n c t i o n ( a ) { r e t u r n   h [ " d e f a u l t " ] ( a ) } ) ; r e t u r n { c u r r e n t S t y l e s : d , c u r r e n t V e l o c i t i e s : e , l a s t I d e a l S t y l e s : d , l a s t I d e a l V e l o c i t i e s : e } } , a n i m a t i o n I D : n u l l , p r e v T i m e : 0 , a c c u m u l a t e d T i m e : 0 , u n r e a d P r o p S t y l e s : n u l l , c l e a r U n r e a d P r o p S t y l e : f u n c t i o n ( a ) { f o r ( v a r   b = t h i s . s t a t e , c = b . c u r r e n t S t y l e s , d = b . c u r r e n t V e l o c i t i e s , e = b . l a s t I d e a l S t y l e s , g = b . l a s t I d e a l V e l o c i t i e s , h = ! 1 , i = 0 ; i < a . l e n g t h ; i + + ) { v a r   j = a [ i ] , k = ! 1 ; f o r ( v a r   l   i n   j ) i f ( j . h a s O w n P r o p e r t y ( l ) ) { v a r   m = j [ l ] ; " n u m b e r " = = t y p e o f   m & & ( k | | ( k = ! 0 , h = ! 0 , c [ i ] = f ( { } , c [ i ] ) , d [ i ] = f ( { } , d [ i ] ) , e [ i ] = f ( { } , e [ i ] ) , g [ i ] = f ( { } , g [ i ] ) ) , c [ i ] [ l ] = m , d [ i ] [ l ] = 0 , e [ i ] [ l ] = m , g [ i ] [ l ] = 0 ) } } h & & t h i s . s e t S t a t e ( { c u r r e n t S t y l e s : c , c u r r e n t V e l o c i t i e s : d , l a s t I d e a l S t y l e s : e , l a s t I d e a l V e l o c i t i e s : g } ) } , s t a r t A n i m a t i o n I f N e c e s s a r y : f u n c t i o n ( ) { v a r   a = t h i s ; t h i s . a n i m a t i o n I D = p [ " d e f a u l t " ] ( f u n c t i o n ( ) { v a r   b = a . p r o p s . s t y l e s ( a . s t a t e . l a s t I d e a l S t y l e s ) ; i f ( e ( a . s t a t e . c u r r e n t S t y l e s , b , a . s t a t e . c u r r e n t V e l o c i t i e s ) ) r e t u r n   a . a n i m a t i o n I D = n u l l , v o i d ( a . a c c u m u l a t e d T i m e = 0 ) ; v a r   c = n [ " d e f a u l t " ] ( ) , d = c - a . p r e v T i m e ; i f ( a . p r e v T i m e = c , a . a c c u m u l a t e d T i m e = a . a c c u m u l a t e d T i m e + d , a . a c c u m u l a t e d T i m e > 1 0 * u & & ( a . a c c u m u l a t e d T i m e = 0 ) , 0 = = = a . a c c u m u l a t e d T i m e ) r e t u r n   a . a n i m a t i o n I D = n u l l , v o i d   a . s t a r t A n i m a t i o n I f N e c e s s a r y ( ) ; f o r ( v a r   f = ( a . a c c u m u l a t e d T i m e - M a t h . f l o o r ( a . a c c u m u l a t e d T i m e / u ) * u ) / u , g = M a t h . f l o o r ( a . a c c u m u l a t e d T i m e / u ) , h = [ ] , i = [ ] , j = [ ] , k = [ ] , m = 0 ; m < b . l e n g t h ; m + + ) { v a r   o = b [ m ] , p = { } , q = { } , r = { } , s = { } ; f o r ( v a r   t   i n   o ) i f ( o . h a s O w n P r o p e r t y ( t ) ) { v a r   v = o [ t ] ; i f ( " n u m b e r " = = t y p e o f   v ) p [ t ] = v , q [ t ] = 0 , r [ t ] = v , s [ t ] = 0 ; e l s e { f o r ( v a r   w = a . s t a t e . l a s t I d e a l S t y l e s [ m ] [ t ] , x = a . s t a t e . l a s t I d e a l V e l o c i t i e s [ m ] [ t ] , y = 0 ; y < g ; y + + ) { v a r   z = l [ " d e f a u l t " ] ( u / 1 e 3 , w , x , v . v a l , v . s t i f f n e s s , v . d a m p i n g , v . p r e c i s i o n ) ; w = z [ 0 ] , x = z [ 1 ] } v a r   A = l [ " d e f a u l t " ] ( u / 1 e 3 , w , x , v . v a l , v . s t i f f n e s s , v . d a m p i n g , v . p r e c i s i o n ) , B = A [ 0 ] , C = A [ 1 ] ; p [ t ] = w + ( B - w ) * f , q [ t ] = x + ( C - x ) * f , r [ t ] = w , s [ t ] = x } } j [ m ] = p , k [ m ] = q , h [ m ] = r , i [ m ] = s } a . a n i m a t i o n I D = n u l l , a . a c c u m u l a t e d T i m e - = g * u , a . s e t S t a t e ( { c u r r e n t S t y l e s : j , c u r r e n t V e l o c i t i e s : k , l a s t I d e a l S t y l e s : h , l a s t I d e a l V e l o c i t i e s : i } ) , a . u n r e a d P r o p S t y l e s = n u l l , a . s t a r t A n i m a t i o n I f N e c e s s a r y ( ) } ) } , c o m p o n e n t D i d M o u n t : f u n c t i o n ( ) { t h i s . p r e v T i m e = n [ " d e f a u l t " ] ( ) , t h i s . s t a r t A n i m a t i o n I f N e c e s s a r y ( ) } , c o m p o n e n t W i l l R e c e i v e P r o p s : f u n c t i o n ( a ) { n u l l ! = t h i s . u n r e a d P r o p S t y l e s & & t h i s . c l e a r U n r e a d P r o p S t y l e ( t h i s . u n r e a d P r o p S t y l e s ) , t h i s . u n r e a d P r o p S t y l e s = a . s t y l e s ( t h i s . s t a t e . l a s t I d e a l S t y l e s ) , n u l l = = t h i s . a n i m a t i o n I D & & ( t h i s . p r e v T i m e = n [ " d e f a u l t " ] ( ) , t h i s . s t a r t A n i m a t i o n I f N e c e s s a r y ( ) ) } , c o m p o n e n t W i l l U n m o u n t : f u n c t i o n ( ) { n u l l ! = t h i s . a n i m a t i o n I D & & ( p [ " d e f a u l t " ] . c a n c e l ( t h i s . a n i m a t i o n I D ) , t h i s . a n i m a t i o n I D = n u l l ) } , r e n d e r : f u n c t i o n ( ) { v a r   a = t h i s . p r o p s . c h i l d r e n ( t h i s . s t a t e . c u r r e n t S t y l e s ) ; r e t u r n   a & & t [ " d e f a u l t " ] . C h i l d r e n . o n l y ( a ) } } ) ; b [ " d e f a u l t " ] = v , a . e x p o r t s = b [ " d e f a u l t " ] } , f u n c t i o n ( a , b , c ) { " u s e   s t r i c t " ; f u n c t i o n   d ( a ) { r e t u r n   a & & a . _ _ e s M o d u l e ? a : { " d e f a u l t " : a } } f u n c t i o n   e ( a , b , c ) { r e t u r n   n u l l = = b ? a . m a p ( f u n c t i o n ( a , b ) { r e t u r n { k e y : a . k e y , d a t a : a . d a t a , s t y l e : c [ b ] } } ) : a . m a p ( f u n c t i o n ( a , d ) { f o r ( v a r   e = 0 ; e < b . l e n g t h ; e + + ) i f ( b [ e ] . k e y = = = a . k e y ) r e t u r n { k e y : b [ e ] . k e y , d a t a : b [ e ] . d a t a , s t y l e : c [ d ] } ; r e t u r n { k e y : a . k e y , d a t a : a . d a t a , s t y l e : c [ d ] } } ) } f u n c t i o n   f ( a , b , c , d ) { i f ( d . l e n g t h ! = = b . l e n g t h ) r e t u r n ! 1 ; f o r ( v a r   e = 0 ; e < d . l e n g t h ; e + + ) i f ( d [ e ] . k e y ! = = b [ e ] . k e y ) r e t u r n ! 1 ; f o r ( v a r   e = 0 ; e < d . l e n g t h ; e + + ) i f ( ! v [ " d e f a u l t " ] ( a [ e ] , b [ e ] . s t y l e , c [ e ] ) ) r e t u r n ! 1 ; r e t u r n ! 0 } f u n c t i o n   g ( a , b , c , d , e , f , g , h ) { f o r ( v a r   i = p [ " d e f a u l t " ] ( c , d , f u n c t i o n ( a , c ) { v a r   d = b ( c ) ; r e t u r n   n u l l = = d ? n u l l : v [ " d e f a u l t " ] ( e [ a ] , d , f [ a ] ) ? n u l l : { k e y : c . k e y , d a t a : c . d a t a , s t y l e : d } } ) , k = [ ] , l = [ ] , m = [ ] , n = [ ] , o = 0 ; o < i . l e n g t h ; o + + ) { f o r ( v a r   q = i [ o ] , r = n u l l , s = 0 ; s < c . l e n g t h ; s + + ) i f ( c [ s ] . k e y = = = q . k e y ) { r = s ; b r e a k } i f ( n u l l = = r ) { v a r   t = a ( q ) ; k [ o ] = t , m [ o ] = t ; v a r   u = j [ " d e f a u l t " ] ( q . s t y l e ) ; l [ o ] = u , n [ o ] = u } e l s e   k [ o ] = e [ r ] , m [ o ] = g [ r ] , l [ o ] = f [ r ] , n [ o ] = h [ r ] } r e t u r n [ i , k , l , m , n ] } b . _ _ e s M o d u l e = ! 0 ; v a r   h = O b j e c t . a s s i g n | | f u n c t i o n ( a ) { f o r ( v a r   b = 1 ; b < a r g u m e n t s . l e n g t h ; b + + ) { v a r   c = a r g u m e n t s [ b ] ; f o r ( v a r   d   i n   c ) O b j e c t . p r o t o t y p e . h a s O w n P r o p e r t y . c a l l ( c , d ) & & ( a [ d ] = c [ d ] ) } r e t u r n   a } , i = c ( 2 ) , j = d ( i ) , k = c ( 3 ) , l = d ( k ) , m = c ( 4 ) , n = d ( m ) , o = c ( 1 2 ) , p = d ( o ) , q = c ( 5 ) , r = d ( q ) , s = c ( 7 ) , t = d ( s ) , u = c ( 8 ) , v = d ( u ) , w = c ( 9 ) , x = d ( w ) , y = 1 e 3 / 6 0 , z = x [ " d e f a u l t " ] . c r e a t e C l a s s ( { d i s p l a y N a m e : " T r a n s i t i o n M o t i o n " , p r o p T y p e s : { d e f a u l t S t y l e s : w . P r o p T y p e s . a r r a y O f ( w . P r o p T y p e s . s h a p e ( { k e y : w . P r o p T y p e s . s t r i n g . i s R e q u i r e d , d a t a : w . P r o p T y p e s . a n y , s t y l e : w . P r o p T y p e s . o b j e c t O f ( w . P r o p T y p e s . n u m b e r ) . i s R e q u i r e d } ) ) , s t y l e s : w . P r o p T y p e s . o n e O f T y p e ( [ w . P r o p T y p e s . f u n c , w . P r o p T y p e s . a r r a y O f ( w . P r o p T y p e s . s h a p e ( { k e y : w . P r o p T y p e s . s t r i n g . i s R e q u i r e d , d a t a : w . P r o p T y p e s . a n y , s t y l e : w . P r o p T y p e s . o b j e c t O f ( w . P r o p T y p e s . o n e O f T y p e ( [ w . P r o p T y p e s . n u m b e r , w . P r o p T y p e s . o b j e c t ] ) ) . i s R e q u i r e d } ) ) ] ) . i s R e q u i r e d , c h i l d r e n : w . P r o p T y p e s . f u n c . i s R e q u i r e d , w i l l L e a v e : w . P r o p T y p e s . f u n c , w i l l E n t e r : w . P r o p T y p e s . f u n c } , g e t D e f a u l t P r o p s : f u n c t i o n ( ) { r e t u r n { w i l l E n t e r : f u n c t i o n ( a ) { r e t u r n   l [ " d e f a u l t " ] ( a . s t y l e ) } , w i l l L e a v e : f u n c t i o n ( ) { r e t u r n   n u l l } } } , g e t I n i t i a l S t a t e : f u n c t i o n ( ) { v a r   a = t h i s . p r o p s , b = a . d e f a u l t S t y l e s , c = a . s t y l e s , d = a . w i l l E n t e r , e = a . w i l l L e a v e , f = " f u n c t i o n " = = t y p e o f   c ? c ( ) : c , h = v o i d   0 ; h = n u l l = = b ? f : b . m a p ( f u n c t i o n ( a ) { f o r ( v a r   b = 0 ; b < f . l e n g t h ; b + + ) i f ( f [ b ] . k e y = = = a . k e y ) r e t u r n   f [ b ] ; r e t u r n   a } ) ; v a r   i = n u l l = = b ? f . m a p ( f u n c t i o n ( a ) { r e t u r n   l [ " d e f a u l t " ] ( a . s t y l e ) } ) : b . m a p ( f u n c t i o n ( a ) { r e t u r n   l [ " d e f a u l t " ] ( a . s t y l e ) } ) , k = n u l l = = b ? f . m a p ( f u n c t i o n ( a ) { r e t u r n   j [ " d e f a u l t " ] ( a . s t y l e ) } ) : b . m a p ( f u n c t i o n ( a ) { r e t u r n   j [ " d e f a u l t " ] ( a . s t y l e ) } ) , m = g ( d , e , h , f , i , k , i , k ) , n = m [ 0 ] , o = m [ 1 ] , p = m [ 2 ] , q = m [ 3 ] , r = m [ 4 ] ; r e t u r n { c u r r e n t S t y l e s : o , c u r r e n t V e l o c i t i e s : p , l a s t I d e a l S t y l e s : q , l a s t I d e a l V e l o c i t i e s : r , m e r g e d P r o p s S t y l e s : n } } , a n i m a t i o n I D : n u l l , p r e v T i m e : 0 , a c c u m u l a t e d T i m e : 0 , u n r e a d P r o p S t y l e s : n u l l , c l e a r U n r e a d P r o p S t y l e : f u n c t i o n ( a ) { f o r ( v a r   b = g ( t h i s . p r o p s . w i l l E n t e r , t h i s . p r o p s . w i l l L e a v e , t h i s . s t a t e . m e r g e d P r o p s S t y l e s , a , t h i s . s t a t e . c u r r e n t S t y l e s , t h i s . s t a t e . c u r r e n t V e l o c i t i e s , t h i s . s t a t e . l a s t I d e a l S t y l e s , t h i s . s t a t e . l a s t I d e a l V e l o c i t i e s ) , c = b [ 0 ] , d = b [ 1 ] , e = b [ 2 ] , f = b [ 3 ] , i = b [ 4 ] , j = 0 ; j < a . l e n g t h ; j + + ) { v a r   k = a [ j ] . s t y l e , l = ! 1 ; f o r ( v a r   m   i n   k ) i f ( k . h a s O w n P r o p e r t y ( m ) ) { v a r   n = k [ m ] ; " n u m b e r " = = t y p e o f   n & & ( l | | ( l = ! 0 , d [ j ] = h ( { } , d [ j ] ) , e [ j ] = h ( { } , e [ j ] ) , f [ j ] = h ( { } , f [ j ] ) , i [ j ] = h ( { } , i [ j ] ) , c [ j ] = { k e y : c [ j ] . k e y , d a t a : c [ j ] . d a t a , s t y l e : h ( { } , c [ j ] . s t y l e ) } ) , d [ j ] [ m ] = n , e [ j ] [ m ] = 0 , f [ j ] [ m ] = n , i [ j ] [ m ] = 0 , c [ j ] . s t y l e [ m ] = n ) } } t h i s . s e t S t a t e ( { c u r r e n t S t y l e s : d , c u r r e n t V e l o c i t i e s : e , m e r g e d P r o p s S t y l e s : c , l a s t I d e a l S t y l e s : f , l a s t I d e a l V e l o c i t i e s : i } ) } , s t a r t A n i m a t i o n I f N e c e s s a r y : f u n c t i o n ( ) { v a r   a = t h i s ; t h i s . a n i m a t i o n I D = t [ " d e f a u l t " ] ( f u n c t i o n ( ) { v a r   b = a . p r o p s . s t y l e s , c = " f u n c t i o n " = = t y p e o f   b ? b ( e ( a . s t a t e . m e r g e d P r o p s S t y l e s , a . u n r e a d P r o p S t y l e s , a . s t a t e . l a s t I d e a l S t y l e s ) ) : b ; i f ( f ( a . s t a t e . c u r r e n t S t y l e s , c , a . s t a t e . c u r r e n t V e l o c i t i e s , a . s t a t e . m e r g e d P r o p s S t y l e s ) ) r e t u r n   a . a n i m a t i o n I D = n u l l , v o i d ( a . a c c u m u l a t e d T i m e = 0 ) ; v a r   d = r [ " d e f a u l t " ] ( ) , h = d - a . p r e v T i m e ; i f ( a . p r e v T i m e = d , a . a c c u m u l a t e d T i m e = a . a c c u m u l a t e d T i m e + h , a . a c c u m u l a t e d T i m e > 1 0 * y & & ( a . a c c u m u l a t e d T i m e = 0 ) , 0 = = = a . a c c u m u l a t e d T i m e ) r e t u r n   a . a n i m a t i o n I D = n u l l , v o i d   a . s t a r t A n i m a t i o n I f N e c e s s a r y ( ) ; f o r ( v a r   i = ( a . a c c u m u l a t e d T i m e - M a t h . f l o o r ( a . a c c u m u l a t e d T i m e / y ) * y ) / y , j = M a t h . f l o o r ( a . a c c u m u l a t e d T i m e / y ) , k = g ( a . p r o p s . w i l l E n t e r , a . p r o p s . w i l l L e a v e , a . s t a t e . m e r g e d P r o p s S t y l e s , c , a . s t a t e . c u r r e n t S t y l e s , a . s t a t e . c u r r e n t V e l o c i t i e s , a . s t a t e . l a s t I d e a l S t y l e s , a . s t a t e . l a s t I d e a l V e l o c i t i e s ) , l = k [ 0 ] , m = k [ 1 ] , o = k [ 2 ] , p = k [ 3 ] , q = k [ 4 ] , s = 0 ; s < l . l e n g t h ; s + + ) { v a r   t = l [ s ] . s t y l e , u = { } , v = { } , w = { } , x = { } ; f o r ( v a r   z   i n   t ) i f ( t . h a s O w n P r o p e r t y ( z ) ) { v a r   A = t [ z ] ; i f ( " n u m b e r " = = t y p e o f   A ) u [ z ] = A , v [ z ] = 0 , w [ z ] = A , x [ z ] = 0 ; e l s e { f o r ( v a r   B = p [ s ] [ z ] , C = q [ s ] [ z ] , D = 0 ; D < j ; D + + ) { v a r   E = n [ " d e f a u l t " ] ( y / 1 e 3 , B , C , A . v a l , A . s t i f f n e s s , A . d a m p i n g , A . p r e c i s i o n ) ; B = E [ 0 ] , C = E [ 1 ] } v a r   F = n [ " d e f a u l t " ] ( y / 1 e 3 , B , C , A . v a l , A . s t i f f n e s s , A . d a m p i n g , A . p r e c i s i o n ) , G = F [ 0 ] , H = F [ 1 ] ; u [ z ] = B + ( G - B ) * i , v [ z ] = C + ( H - C ) * i , w [ z ] = B , x [ z ] = C } } p [ s ] = w , q [ s ] = x , m [ s ] = u , o [ s ] = v } a . a n i m a t i o n I D = n u l l , a . a c c u m u l a t e d T i m e - = j * y , a . s e t S t a t e ( { c u r r e n t S t y l e s : m , c u r r e n t V e l o c i t i e s : o , l a s t I d e a l S t y l e s : p , l a s t I d e a l V e l o c i t i e s : q , m e r g e d P r o p s S t y l e s : l } ) , a . u n r e a d P r o p S t y l e s = n u l l , a . s t a r t A n i m a t i o n I f N e c e s s a r y ( ) } ) } , c o m p o n e n t D i d M o u n t : f u n c t i o n ( ) { t h i s . p r e v T i m e = r [ " d e f a u l t " ] ( ) , t h i s . s t a r t A n i m a t i o n I f N e c e s s a r y ( ) } , c o m p o n e n t W i l l R e c e i v e P r o p s : f u n c t i o n ( a ) { t h i s . u n r e a d P r o p S t y l e s & & t h i s . c l e a r U n r e a d P r o p S t y l e ( t h i s . u n r e a d P r o p S t y l e s ) , " f u n c t i o n " = = t y p e o f   a . s t y l e s ? t h i s . u n r e a d P r o p S t y l e s = a . s t y l e s ( e ( t h i s . s t a t e . m e r g e d P r o p s S t y l e s , t h i s . u n r e a d P r o p S t y l e s , t h i s . s t a t e . l a s t I d e a l S t y l e s ) ) : t h i s . u n r e a d P r o p S t y l e s = a . s t y l e s , n u l l = = t h i s . a n i m a t i o n I D & & ( t h i s . p r e v T i m e = r [ " d e f a u l t " ] ( ) , t h i s . s t a r t A n i m a t i o n I f N e c e s s a r y ( ) ) } , c o m p o n e n t W i l l U n m o u n t : f u n c t i o n ( ) { n u l l ! = t h i s . a n i m a t i o n I D & & ( t [ " d e f a u l t " ] . c a n c e l ( t h i s . a n i m a t i o n I D ) , t h i s . a n i m a t i o n I D = n u l l ) } , r e n d e r : f u n c t i o n ( ) { v a r   a = e ( t h i s . s t a t e . m e r g e d P r o p s S t y l e s , t h i s . u n r e a d P r o p S t y l e s , t h i s . s t a t e . c u r r e n t S t y l e s ) , b = t h i s . p r o p s . c h i l d r e n ( a ) ; r e t u r n   b & & x [ " d e f a u l t " ] . C h i l d r e n . o n l y ( b ) } } ) ; b [ " d e f a u l t " ] = z , a . e x p o r t s = b [ " d e f a u l t " ] } , f u n c t i o n ( a , b ) { " u s e   s t r i c t " ; f u n c t i o n   c ( a , b , c ) { f o r ( v a r   d = { } , e = 0 ; e < a . l e n g t h ; e + + ) d [ a [ e ] . k e y ] = e ; f o r ( v a r   f = { } , e = 0 ; e < b . l e n g t h ; e + + ) f [ b [ e ] . k e y ] = e ; f o r ( v a r   g = [ ] , e = 0 ; e < b . l e n g t h ; e + + ) g [ e ] = b [ e ] ; f o r ( v a r   e = 0 ; e < a . l e n g t h ; e + + ) i f ( ! f . h a s O w n P r o p e r t y ( a [ e ] . k e y ) ) { v a r   h = c ( e , a [ e ] ) ; n u l l ! = h & & g . p u s h ( h ) } r e t u r n   g . s o r t ( f u n c t i o n ( a , c ) { v a r   e = f [ a . k e y ] , g = f [ c . k e y ] , h = d [ a . k e y ] , i = d [ c . k e y ] ; i f ( n u l l ! = e & & n u l l ! = g ) r e t u r n   f [ a . k e y ] - f [ c . k e y ] ; i f ( n u l l ! = h & & n u l l ! = i ) r e t u r n   d [ a . k e y ] - d [ c . k e y ] ; i f ( n u l l ! = e ) { f o r ( v a r   j = 0 ; j < b . l e n g t h ; j + + ) { v a r   k = b [ j ] . k e y ; i f ( d . h a s O w n P r o p e r t y ( k ) ) { i f ( e < f [ k ] & & i > d [ k ] ) r e t u r n - 1 ; i f ( e > f [ k ] & & i < d [ k ] ) r e t u r n   1 } } r e t u r n   1 } f o r ( v a r   j = 0 ; j < b . l e n g t h ; j + + ) { v a r   k = b [ j ] . k e y ; i f ( d . h a s O w n P r o p e r t y ( k ) ) { i f ( g < f [ k ] & & h > d [ k ] ) r e t u r n   1 ; i f ( g > f [ k ] & & h < d [ k ] ) r e t u r n - 1 } } r e t u r n - 1 } ) } b . _ _ e s M o d u l e = ! 0 , b [ " d e f a u l t " ] = c , a . e x p o r t s = b [ " d e f a u l t " ] } , f u n c t i o n ( a , b , c ) { " u s e   s t r i c t " ; f u n c t i o n   d ( a ) { r e t u r n   a & & a . _ _ e s M o d u l e ? a : { " d e f a u l t " : a } } f u n c t i o n   e ( a , b ) { r e t u r n   f ( { } , i , b , { v a l : a } ) } b . _ _ e s M o d u l e = ! 0 ; v a r   f = O b j e c t . a s s i g n | | f u n c t i o n ( a ) { f o r ( v a r   b = 1 ; b < a r g u m e n t s . l e n g t h ; b + + ) { v a r   c = a r g u m e n t s [ b ] ; f o r ( v a r   d   i n   c ) O b j e c t . p r o t o t y p e . h a s O w n P r o p e r t y . c a l l ( c , d ) & & ( a [ d ] = c [ d ] ) } r e t u r n   a } ; b [ " d e f a u l t " ] = e ; v a r   g = c ( 1 4 ) , h = d ( g ) , i = f ( { } , h [ " d e f a u l t " ] . n o W o b b l e , { p r e c i s i o n : . 0 1 } ) ; a . e x p o r t s = b [ " d e f a u l t " ] } , f u n c t i o n ( a , b ) { " u s e   s t r i c t " ; b . _ _ e s M o d u l e = ! 0 , b [ " d e f a u l t " ] = { n o W o b b l e : { s t i f f n e s s : 1 7 0 , d a m p i n g : 2 6 } , g e n t l e : { s t i f f n e s s : 1 2 0 , d a m p i n g : 1 4 } , w o b b l y : { s t i f f n e s s : 1 8 0 , d a m p i n g : 1 2 } , s t i f f : { s t i f f n e s s : 2 1 0 , d a m p i n g : 2 0 } } , a . e x p o r t s = b [ " d e f a u l t " ] } , f u n c t i o n ( a , b , c ) { ( f u n c t i o n ( c ) { " u s e   s t r i c t " ; f u n c t i o n   d ( ) { " d e v e l o p m e n t " = = = c . e n v . N O D E _ E N V & & ( e | | ( e = ! 0 , c o n s o l e . e r r o r ( " ` r e o r d e r K e y s `   h a s   b e e n   r e m o v e d ,   s i n c e   i t   i s   n o   l o n g e r   n e e d e d   f o r   T r a n s i t i o n M o t i o n ' s   n e w   s t y l e s   a r r a y   A P I . " ) ) ) } b . _ _ e s M o d u l e = ! 0 , b [ " d e f a u l t " ] = d ; v a r   e = ! 1 ; a . e x p o r t s = b [ " d e f a u l t " ] } ) . c a l l ( b , c ( 6 ) ) } ] ) } ) , f u n c t i o n ( a ) { a . f n . a u t o R e s i z e = f u n c t i o n ( b ) { v a r   c = a . e x t e n d ( { o n R e s i z e : f u n c t i o n ( ) { } , a n i m a t e : ! 0 , a n i m a t e D u r a t i o n : 1 5 0 , a n i m a t e C a l l b a c k : f u n c t i o n ( ) { } , e x t r a S p a c e : 2 0 , l i m i t : 1 e 3 } , b ) ; r e t u r n   t h i s . f i l t e r ( " t e x t a r e a " ) . e a c h ( f u n c t i o n ( ) { v a r   b = a ( t h i s ) . c s s ( { r e s i z e : " n o n e " , " o v e r f l o w - y " : " h i d d e n " } ) , d = b . h e i g h t ( ) , e = f u n c t i o n ( ) { v a r   c = [ " h e i g h t " , " w i d t h " , " l i n e H e i g h t " , " t e x t D e c o r a t i o n " , " l e t t e r S p a c i n g " ] , d = { } ; r e t u r n   a . e a c h ( c , f u n c t i o n ( a , c ) { d [ c ] = b . c s s ( c ) } ) , b . c l o n e ( ) . r e m o v e A t t r ( " i d " ) . r e m o v e A t t r ( " n a m e " ) . c s s ( { p o s i t i o n : " a b s o l u t e " , t o p : 0 , l e f t : - 9 9 9 9 } ) . c s s ( d ) . a t t r ( " t a b I n d e x " , " - 1 " ) . i n s e r t B e f o r e ( b ) } ( ) , f = n u l l , g = f u n c t i o n ( ) { e . h e i g h t ( 0 ) . v a l ( a ( t h i s ) . v a l ( ) ) . s c r o l l T o p ( 1 e 4 ) ; v a r   g = M a t h . m a x ( e . s c r o l l T o p ( ) , d ) + c . e x t r a S p a c e , h = a ( t h i s ) . a d d ( e ) ; i f ( f ! = = g ) { i f ( f = g , g > = c . l i m i t ) r e t u r n   v o i d   a ( t h i s ) . c s s ( " o v e r f l o w - y " , " " ) ; c . o n R e s i z e . c a l l ( t h i s ) , c . a n i m a t e & & " b l o c k " = = = b . c s s ( " d i s p l a y " ) ? h . s t o p ( ) . a n i m a t e ( { h e i g h t : g } , c . a n i m a t e D u r a t i o n , c . a n i m a t e C a l l b a c k ) : h . h e i g h t ( g ) } } ; b . u n b i n d ( " . d y n S i z " ) . b i n d ( " k e y u p . d y n S i z " , g ) . b i n d ( " k e y d o w n . d y n S i z " , g ) . b i n d ( " c h a n g e . d y n S i z " , g ) . b i n d ( " f o c u s . d y n S i z " , g ) } ) , t h i s } } ( j Q u e r y ) , f u n c t i o n ( a ) { v a r   b = f u n c t i o n ( b ) { v a r   c = a ( ' < d i v   c l a s s = " s e l e c t i o n " > < / d i v > ' ) , d = a ( ' < i n p u t   t y p e = " h i d d e n "   n a m e = " "   v a l u e = " "   / > ' ) , e = ' < d i v   c l a s s = " t r i a n g l e   { { v e c t o r - i c o n - c l a s s } } " > < / d i v > ' , f = n u l l , g = { v e c t o r I c o n s : ! 1 , o n C h a n g e : f u n c t i o n ( ) { r e t u r n   n u l l } } , h = f u n c t i o n ( ) { v a r   a = ! 1 ; i f ( b . h a s C l a s s ( " o p e n e d " ) ) b . r e m o v e C l a s s ( " o p e n e d " ) , f . c s s ( { h e i g h t : " " } ) ; e l s e { a = ! 0 , i ( ) , b . a d d C l a s s ( " o p e n e d " ) ; v a r   c = m ( f ) , d = b . c h i l d r e n ( " . n a n o " ) , e = p a r s e I n t ( f . c s s ( " m a x - h e i g h t " ) , 1 0 ) ; f . c s s ( { h e i g h t : c } ) , d . l e n g t h & & e & & s e t T i m e o u t ( f u n c t i o n ( ) { d . c s s ( " p o s i t i o n " , " r e l a t i v e " ) , d . n a n o S c r o l l e r ( { p r e v e n t P a g e S c r o l l i n g : ! 0 , a l w a y s V i s i b l e : ! 0 } ) , d . c s s ( " p o s i t i o n " , " " ) , b . h i d e ( ) . s h o w ( 0 ) } , 1 2 5 ) , b . t r i g g e r ( " o p e n " ) } i f ( a ) { v a r   g ; ( g = f . f i n d ( " . f i l t e r " ) ) & & g . f o c u s ( ) } } , i = f u n c t i o n ( ) { v a r   b = a ( " . c o m b o b o x ,   . o p e n e d " ) ; b . f i n d ( " . o p t i o n s " ) . c s s ( { h e i g h t : " " } ) , b . r e m o v e C l a s s ( " o p e n e d " ) } , j = f u n c t i o n ( a ) { r e t u r n   a | | ( a = w i n d o w . e v e n t ) , a . s t o p P r o p a g a t i o n & & a . s t o p P r o p a g a t i o n ( ) , a . c a n c e l B u b b l e = ! 0 , a . p r e v e n t D e f a u l t & & a . p r e v e n t D e f a u l t ( ) , a . r e t u r n V a l u e = ! 1 , ! 1 } , k = f u n c t i o n ( a , b ) { r e t u r n   b . f i l t e r ( f u n c t i o n ( ) { r e t u r n   t h i s . t e x t C o n t e n t . t o L o w e r C a s e ( ) . i n d e x O f ( a ) ! = = - 1 } ) } , l = f u n c t i o n ( a , b ) { r e t u r n   b } , m = f u n c t i o n ( b ) { v a r   c = 0 ; r e t u r n   b . c h i l d r e n ( " : n o t ( . p a n e ) " ) . e a c h ( f u n c t i o n ( ) { v a r   b = a ( t h i s ) ; " n o n e " ! = b . c s s ( " d i s p l a y " ) & & ( c + = a ( t h i s ) . o u t e r H e i g h t ( ! 0 ) ) } ) , c } ; t h i s . r u n = f u n c t i o n ( ) { f = b . c h i l d r e n ( " . o p t i o n s " ) , f . r e m o v e C l a s s ( " o p e n e d " ) , e = a ( e . r e p l a c e ( " { { v e c t o r - i c o n - c l a s s } } " , g . v e c t o r I c o n s ? " i c o n - a r r o w - d o w n " : " " ) ) , 0 = = b . f i n d ( " . s e l e c t i o n " ) . l e n g t h ? b . p r e p e n d ( e ) . p r e p e n d ( c ) . a p p e n d ( d ) : ( c = b . f i n d ( " . s e l e c t i o n " ) , d = b . f i n d ( ' i n p u t [ t y p e = " h i d d e n " ] ' ) ) , b . f i n d ( " . t r i a n g l e " ) . u n b i n d ( " c l i c k " ) , b . f i n d ( " . t r i a n g l e " ) . c l i c k ( f u n c t i o n ( a ) { h ( ) , t h i s . l a z y l o a d ( ) , j ( a ) } . b i n d ( t h i s ) ) , c . u n b i n d ( " c l i c k " ) , c . c l i c k ( f u n c t i o n ( a ) { h ( ) , t h i s . l a z y l o a d ( ) , j ( a ) } . b i n d ( t h i s ) ) , a ( " b o d y " ) . c l i c k ( f u n c t i o n ( a ) { b . h a s C l a s s ( " o p e n e d " ) & & ( h ( ) , b . t r i g g e r ( " c l o s e " ) ) } ) , f . o f f ( " c l i c k " , " . i t e m " ) , f . o n ( " c l i c k " , " . i t e m " , f u n c t i o n ( ) { ( " f u n c t i o n " ! = t y p e o f   g . m a y b e | | g . m a y b e ( a ( t h i s ) , a ( t h i s ) . a t t r ( " d a t a - v a l u e " ) , a ( t h i s ) ) ) & & ( a ( ' d i v [ n a m e = " ' + b . a t t r ( " n a m e " ) + ' " ] ' ) . f i n d ( " . s e l e c t i o n " ) . h t m l ( a ( t h i s ) . h t m l ( ) ) , d . a t t r ( " v a l u e " , a ( t h i s ) . a t t r ( " d a t a - v a l u e " ) ) , f . f i n d ( " . i t e m " ) . r e m o v e C l a s s ( " s e l e c t e d " ) , a ( t h i s ) . a d d C l a s s ( " s e l e c t e d " ) , h ( ) , g . o n C h a n g e ( b . a t t r ( " n a m e " ) , a ( t h i s ) . a t t r ( " d a t a - v a l u e " ) , a ( t h i s ) ) ) } ) , c . h t m l ( b . f i n d ( " . s e l e c t e d " ) . h t m l ( ) ) , d . a t t r ( " n a m e " , b . a t t r ( " n a m e " ) ) . a t t r ( " v a l u e " , b . f i n d ( " . s e l e c t e d " ) . a t t r ( " v a l u e " ) ) } , t h i s . l a z y l o a d = f u n c t i o n ( ) { f . f i n d ( " i m g . l a z y l o a d " ) . e a c h ( f u n c t i o n ( ) { a ( t h i s ) . a t t r ( " s r c " , a ( t h i s ) . a t t r ( " d a t a - s r c " ) ) , a ( t h i s ) . r e m o v e C l a s s ( " l a z y l o a d " ) } ) } , t h i s . i n i t = f u n c t i o n ( b ) { b & & a . e x t e n d ( g , b ) , t h i s . r u n ( ) } , t h i s . s e t u p F i l t e r = f u n c t i o n ( b ) { v a r   c = f . c h i l d r e n ( " . i t e m [ d a t a - v a l u e ] " ) . f i l t e r ( f u n c t i o n ( ) { r e t u r n   a ( t h i s ) . a t t r ( " d a t a - v a l u e " ) . l e n g t h } ) ; t h i s . _ o r i g i n a l _ o p t i o n s = c . c l o n e ( ! 0 ) ; v a r   d = a ( d o c u m e n t . c r e a t e E l e m e n t ( " i n p u t " ) ) . a t t r ( { t y p e : " t e x t " , " c l a s s " : " f i l t e r   p l a c e h o l d e r - o n k e y d o w n " , t i t l e : b } ) . k e y u p ( t h i s . f i l t e r K e y U p . b i n d ( t h i s ) ) . c l i c k ( f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) , a . s t o p P r o p a g a t i o n ( ) } ) ; I m g u r . g e t I n s t a n c e ( ) . r u n P l a c e h o l d e r ( d ) , f . p r e p e n d ( d ) } , t h i s . s e t F i l t e r = f u n c t i o n ( a , b ) { a | | ( a = k ) , t h i s . f i l t e r ? t h i s . f i l t e r = a : ( t h i s . f i l t e r = a , t h i s . s e t u p F i l t e r ( b ) ) } , t h i s . f i l t e r K e y U p = f u n c t i o n ( b ) { v a r   c = a ( b . t a r g e t ) . v a l ( ) ; i f ( c . l e n g t h ) v a r   d = t h i s . a p p l y F i l t e r ( c ) ; e l s e   v a r   d = t h i s . a p p l y F i l t e r ( c , l ) ; f . f i n d ( " . i t e m " ) . r e m o v e ( ) , f . a p p e n d ( d ) , f . c s s ( " h e i g h t " , M a t h . m a x ( m ( d ) , a ( b . t a r g e t ) . o u t e r H e i g h t ( ) ) ) , t h i s . l a z y l o a d ( ) } , t h i s . a p p l y F i l t e r = f u n c t i o n ( a , b ) { r e t u r n ( b = b | | t h i s . f i l t e r ) ( a , t h i s . _ o r i g i n a l _ o p t i o n s ) } } ; m e t h o d s = { i n i t : f u n c t i o n ( c ) { r e t u r n   t h i s . e a c h ( f u n c t i o n ( ) { v a r   d = n e w   b ( a ( t h i s ) ) ; d . i n i t ( c ) ; v a r   e = a ( t h i s ) ; e . d a t a ( " c o m b o b o x " , d ) } ) } , f i l t e r : f u n c t i o n ( b ) { r e t u r n   b | | ( b = { } ) , t h i s . e a c h ( f u n c t i o n ( ) { v a r   c = a ( t h i s ) ; i f ( c . d a t a ( " c o m b o b o x " ) ) { v a r   d = c . d a t a ( " c o m b o b o x " ) ; d . s e t F i l t e r ( b . f i l t e r , b . p l a c e h o l d e r ) } } ) } } , a . f n . c o m b o b o x = f u n c t i o n ( b ) { r e t u r n   m e t h o d s [ b ] ? m e t h o d s [ b ] . a p p l y ( t h i s , A r r a y . p r o t o t y p e . s l i c e . c a l l ( a r g u m e n t s , 1 ) ) : " o b j e c t " ! = t y p e o f   b & & b ? a . e r r o r ( " M e t h o d   " + b + "   d o e s   n o t   e x i s t " ) : m e t h o d s . i n i t . a p p l y ( t h i s , a r g u m e n t s ) } } ( j Q u e r y ) , f u n c t i o n ( ) { v a r   a = { s u p p o r t s F u l l S c r e e n : ! 1 , i s F u l l S c r e e n : f u n c t i o n ( ) { r e t u r n ! 1 } , r e q u e s t F u l l S c r e e n : f u n c t i o n ( ) { } , c a n c e l F u l l S c r e e n : f u n c t i o n ( ) { } , f u l l S c r e e n E v e n t N a m e : " " , p r e f i x : " " } , b = " w e b k i t   m o z   o   m s   k h t m l " . s p l i t ( "   " ) ; i f ( " u n d e f i n e d " ! = t y p e o f   d o c u m e n t . c a n c e l F u l l S c r e e n ) a . s u p p o r t s F u l l S c r e e n = ! 0 ; e l s e   f o r ( v a r   c = 0 , d = b . l e n g t h ; c < d ; c + + ) i f ( a . p r e f i x = b [ c ] , " u n d e f i n e d " ! = t y p e o f   d o c u m e n t [ a . p r e f i x + " C a n c e l F u l l S c r e e n " ] ) { a . s u p p o r t s F u l l S c r e e n = ! 0 ; b r e a k } a . s u p p o r t s F u l l S c r e e n & & ( a . f u l l S c r e e n E v e n t N a m e = a . p r e f i x + " f u l l s c r e e n c h a n g e " , a . i s F u l l S c r e e n = f u n c t i o n ( ) { s w i t c h ( t h i s . p r e f i x ) { c a s e " " : r e t u r n   d o c u m e n t . f u l l S c r e e n ; c a s e " w e b k i t " : r e t u r n   d o c u m e n t . w e b k i t I s F u l l S c r e e n ; d e f a u l t : r e t u r n   d o c u m e n t [ t h i s . p r e f i x + " F u l l S c r e e n " ] } } , a . r e q u e s t F u l l S c r e e n = f u n c t i o n ( a ) { r e t u r n " " = = = t h i s . p r e f i x ? a . r e q u e s t F u l l S c r e e n ( ) : a [ t h i s . p r e f i x + " R e q u e s t F u l l S c r e e n " ] ( ) } , a . c a n c e l F u l l S c r e e n = f u n c t i o n ( a ) { r e t u r n " " = = = t h i s . p r e f i x ? d o c u m e n t . c a n c e l F u l l S c r e e n ( ) : d o c u m e n t [ t h i s . p r e f i x + " C a n c e l F u l l S c r e e n " ] ( ) } ) , " u n d e f i n e d " ! = t y p e o f   j Q u e r y & & ( j Q u e r y . f n . r e q u e s t F u l l S c r e e n = f u n c t i o n ( ) { r e t u r n   t h i s . e a c h ( f u n c t i o n ( ) { a . s u p p o r t s F u l l S c r e e n & & a . r e q u e s t F u l l S c r e e n ( t h i s ) } ) } ) , w i n d o w . f u l l S c r e e n A p i = a } ( ) , f u n c t i o n ( a ) { a . e x t e n d ( a . f n , { v a l i d a t e : f u n c t i o n ( b ) { i f ( ! t h i s . l e n g t h ) r e t u r n   v o i d ( b & & b . d e b u g & & w i n d o w . c o n s o l e & & c o n s o l e . w a r n ( " n o t h i n g   s e l e c t e d ,   c a n ' t   v a l i d a t e ,   r e t u r n i n g   n o t h i n g " ) ) ; v a r   c = a . d a t a ( t h i s [ 0 ] , " v a l i d a t o r " ) ; r e t u r n   c ? c : ( c = n e w   a . v a l i d a t o r ( b , t h i s [ 0 ] ) , a . d a t a ( t h i s [ 0 ] , " v a l i d a t o r " , c ) , c . s e t t i n g s . o n s u b m i t & & ( t h i s . f i n d ( " i n p u t ,   b u t t o n " ) . f i l t e r ( " . c a n c e l " ) . c l i c k ( f u n c t i o n ( ) { c . c a n c e l S u b m i t = ! 0 } ) , c . s e t t i n g s . s u b m i t H a n d l e r & & t h i s . f i n d ( " i n p u t ,   b u t t o n " ) . f i l t e r ( " : s u b m i t " ) . c l i c k ( f u n c t i o n ( ) { c . s u b m i t B u t t o n = t h i s } ) , t h i s . s u b m i t ( f u n c t i o n ( b ) { f u n c t i o n   d ( ) { i f ( c . s e t t i n g s . s u b m i t H a n d l e r ) { i f ( c . s u b m i t B u t t o n ) v a r   b = a ( " < i n p u t   t y p e = ' h i d d e n ' / > " ) . a t t r ( " n a m e " , c . s u b m i t B u t t o n . n a m e ) . v a l ( c . s u b m i t B u t t o n . v a l u e ) . a p p e n d T o ( c . c u r r e n t F o r m ) ; r e t u r n   c . s e t t i n g s . s u b m i t H a n d l e r . c a l l ( c , c . c u r r e n t F o r m ) , c . s u b m i t B u t t o n & & b . r e m o v e ( ) , ! 1 } r e t u r n ! 0 } r e t u r n   c . s e t t i n g s . d e b u g & & b . p r e v e n t D e f a u l t ( ) , c . c a n c e l S u b m i t ? ( c . c a n c e l S u b m i t = ! 1 , d ( ) ) : c . f o r m ( ) ? c . p e n d i n g R e q u e s t ? ( c . f o r m S u b m i t t e d = ! 0 , ! 1 ) : d ( ) : ( c . f o c u s I n v a l i d ( ) , ! 1 ) } ) ) , c ) } , v a l i d : f u n c t i o n ( ) { i f ( a ( t h i s [ 0 ] ) . i s ( " f o r m " ) ) r e t u r n   t h i s . v a l i d a t e ( ) . f o r m ( ) ; v a r   b = ! 0 , c = a ( t h i s [ 0 ] . f o r m ) . v a l i d a t e ( ) ; r e t u r n   t h i s . e a c h ( f u n c t i o n ( ) { b & = c . e l e m e n t ( t h i s ) } ) , b } , r e m o v e A t t r s : f u n c t i o n ( b ) { v a r   c = { } , d = t h i s ; r e t u r n   a . e a c h ( b . s p l i t ( / \ s / ) , f u n c t i o n ( a , b ) { c [ b ] = d . a t t r ( b ) , d . r e m o v e A t t r ( b ) } ) , c } , r u l e s : f u n c t i o n ( b , c ) { v a r   d = t h i s [ 0 ] ; i f ( b ) { v a r   e = a . d a t a ( d . f o r m , " v a l i d a t o r " ) . s e t t i n g s , f = e . r u l e s , g = a . v a l i d a t o r . s t a t i c R u l e s ( d ) ; s w i t c h ( b ) { c a s e " a d d " : a . e x t e n d ( g , a . v a l i d a t o r . n o r m a l i z e R u l e ( c ) ) , f [ d . n a m e ] = g , c . m e s s a g e s & & ( e . m e s s a g e s [ d . n a m e ] = a . e x t e n d ( e . m e s s a g e s [ d . n a m e ] , c . m e s s a g e s ) ) ; b r e a k ; c a s e " r e m o v e " : i f ( ! c ) r e t u r n   d e l e t e   f [ d . n a m e ] , g ; v a r   h = { } ; r e t u r n   a . e a c h ( c . s p l i t ( / \ s / ) , f u n c t i o n ( a , b ) { h [ b ] = g [ b ] , d e l e t e   g [ b ] } ) , h } } v a r   i = a . v a l i d a t o r . n o r m a l i z e R u l e s ( a . e x t e n d ( { } , a . v a l i d a t o r . m e t a d a t a R u l e s ( d ) , a . v a l i d a t o r . c l a s s R u l e s ( d ) , a . v a l i d a t o r . a t t r i b u t e R u l e s ( d ) , a . v a l i d a t o r . s t a t i c R u l e s ( d ) ) , d ) ; i f ( i . r e q u i r e d ) { v a r   j = i . r e q u i r e d ; d e l e t e   i . r e q u i r e d , i = a . e x t e n d ( { r e q u i r e d : j } , i ) } r e t u r n   i } } ) , a . e x t e n d ( a . e x p r [ " : " ] , { b l a n k : f u n c t i o n ( b ) { r e t u r n ! a . t r i m ( " " + b . v a l u e ) } , f i l l e d : f u n c t i o n ( b ) { r e t u r n ! ! a . t r i m ( " " + b . v a l u e ) } , u n c h e c k e d : f u n c t i o n ( a ) { r e t u r n ! a . c h e c k e d } } ) , a . v a l i d a t o r = f u n c t i o n ( b , c ) { t h i s . s e t t i n g s = a . e x t e n d ( ! 0 , { } , a . v a l i d a t o r . d e f a u l t s , b ) , t h i s . c u r r e n t F o r m = c , t h i s . i n i t ( ) } , a . v a l i d a t o r . f o r m a t = f u n c t i o n ( b , c ) { r e t u r n   1 = = a r g u m e n t s . l e n g t h ? f u n c t i o n ( ) { v a r   c = a . m a k e A r r a y ( a r g u m e n t s ) ; r e t u r n   c . u n s h i f t ( b ) , a . v a l i d a t o r . f o r m a t . a p p l y ( t h i s , c ) } : ( a r g u m e n t s . l e n g t h > 2 & & c . c o n s t r u c t o r ! = A r r a y & & ( c = a . m a k e A r r a y ( a r g u m e n t s ) . s l i c e ( 1 ) ) , c . c o n s t r u c t o r ! = A r r a y & & ( c = [ c ] ) , a . e a c h ( c , f u n c t i o n ( a , c ) { b = b . r e p l a c e ( n e w   R e g E x p ( " \ \ { " + a + " \ \ } " , " g " ) , c ) } ) , b ) } , a . e x t e n d ( a . v a l i d a t o r , { d e f a u l t s : { m e s s a g e s : { } , g r o u p s : { } , r u l e s : { } , e r r o r C l a s s : " e r r o r " , v a l i d C l a s s : " v a l i d " , e r r o r E l e m e n t : " l a b e l " , f o c u s I n v a l i d : ! 0 , e r r o r C o n t a i n e r : a ( [ ] ) , e r r o r L a b e l C o n t a i n e r : a ( [ ] ) , o n s u b m i t : ! 0 , i g n o r e : [ ] , i g n o r e T i t l e : ! 1 , o n f o c u s i n : f u n c t i o n ( a ) { t h i s . l a s t A c t i v e = a , t h i s . s e t t i n g s . f o c u s C l e a n u p & & ! t h i s . b l o c k F o c u s C l e a n u p & & ( t h i s . s e t t i n g s . u n h i g h l i g h t & & t h i s . s e t t i n g s . u n h i g h l i g h t . c a l l ( t h i s , a , t h i s . s e t t i n g s . e r r o r C l a s s , t h i s . s e t t i n g s . v a l i d C l a s s ) , t h i s . a d d W r a p p e r ( t h i s . e r r o r s F o r ( a ) ) . h i d e ( ) ) } , o n f o c u s o u t : f u n c t i o n ( a ) { t h i s . c h e c k a b l e ( a ) | | ! ( a . n a m e   i n   t h i s . s u b m i t t e d ) & & t h i s . o p t i o n a l ( a ) | | t h i s . e l e m e n t ( a ) } , o n k e y u p : f u n c t i o n ( a ) { ( a . n a m e   i n   t h i s . s u b m i t t e d | | a = = t h i s . l a s t E l e m e n t ) & & t h i s . e l e m e n t ( a ) } , o n c l i c k : f u n c t i o n ( a ) { a . n a m e   i n   t h i s . s u b m i t t e d ? t h i s . e l e m e n t ( a ) : a . p a r e n t N o d e . n a m e   i n   t h i s . s u b m i t t e d & & t h i s . e l e m e n t ( a . p a r e n t N o d e ) } , h i g h l i g h t : f u n c t i o n ( b , c , d ) { " r a d i o " = = = b . t y p e ? t h i s . f i n d B y N a m e ( b . n a m e ) . a d d C l a s s ( c ) . r e m o v e C l a s s ( d ) : a ( b ) . a d d C l a s s ( c ) . r e m o v e C l a s s ( d ) } , u n h i g h l i g h t : f u n c t i o n ( b , c , d ) { " r a d i o " = = = b . t y p e ? t h i s . f i n d B y N a m e ( b . n a m e ) . r e m o v e C l a s s ( c ) . a d d C l a s s ( d ) : a ( b ) . r e m o v e C l a s s ( c ) . a d d C l a s s ( d ) } } , s e t D e f a u l t s : f u n c t i o n ( b ) { a . e x t e n d ( a . v a l i d a t o r . d e f a u l t s , b ) } , m e s s a g e s : { r e q u i r e d : " T h i s   f i e l d   i s   r e q u i r e d . " , r e m o t e : " P l e a s e   f i x   t h i s   f i e l d . " , e m a i l : " P l e a s e   e n t e r   a   v a l i d   e m a i l   a d d r e s s . " , u r l : " P l e a s e   e n t e r   a   v a l i d   U R L . " , 
 d a t e : " P l e a s e   e n t e r   a   v a l i d   d a t e . " , d a t e I S O : " P l e a s e   e n t e r   a   v a l i d   d a t e   ( I S O ) . " , n u m b e r : " P l e a s e   e n t e r   a   v a l i d   n u m b e r . " , d i g i t s : " P l e a s e   e n t e r   o n l y   d i g i t s . " , c r e d i t c a r d : " P l e a s e   e n t e r   a   v a l i d   c r e d i t   c a r d   n u m b e r . " , e q u a l T o : " P l e a s e   e n t e r   t h e   s a m e   v a l u e   a g a i n . " , a c c e p t : " P l e a s e   e n t e r   a   v a l u e   w i t h   a   v a l i d   e x t e n s i o n . " , m a x l e n g t h : a . v a l i d a t o r . f o r m a t ( " P l e a s e   e n t e r   n o   m o r e   t h a n   { 0 }   c h a r a c t e r s . " ) , m i n l e n g t h : a . v a l i d a t o r . f o r m a t ( " P l e a s e   e n t e r   a t   l e a s t   { 0 }   c h a r a c t e r s . " ) , r a n g e l e n g t h : a . v a l i d a t o r . f o r m a t ( " P l e a s e   e n t e r   a   v a l u e   b e t w e e n   { 0 }   a n d   { 1 }   c h a r a c t e r s   l o n g . " ) , r a n g e : a . v a l i d a t o r . f o r m a t ( " P l e a s e   e n t e r   a   v a l u e   b e t w e e n   { 0 }   a n d   { 1 } . " ) , m a x : a . v a l i d a t o r . f o r m a t ( " P l e a s e   e n t e r   a   v a l u e   l e s s   t h a n   o r   e q u a l   t o   { 0 } . " ) , m i n : a . v a l i d a t o r . f o r m a t ( " P l e a s e   e n t e r   a   v a l u e   g r e a t e r   t h a n   o r   e q u a l   t o   { 0 } . " ) } , a u t o C r e a t e R a n g e s : ! 1 , p r o t o t y p e : { i n i t : f u n c t i o n ( ) { f u n c t i o n   b ( b ) { v a r   c = a . d a t a ( t h i s [ 0 ] . f o r m , " v a l i d a t o r " ) , d = " o n " + b . t y p e . r e p l a c e ( / ^ v a l i d a t e / , " " ) ; c . s e t t i n g s [ d ] & & c . s e t t i n g s [ d ] . c a l l ( c , t h i s [ 0 ] ) } t h i s . l a b e l C o n t a i n e r = a ( t h i s . s e t t i n g s . e r r o r L a b e l C o n t a i n e r ) , t h i s . e r r o r C o n t e x t = t h i s . l a b e l C o n t a i n e r . l e n g t h & & t h i s . l a b e l C o n t a i n e r | | a ( t h i s . c u r r e n t F o r m ) , t h i s . c o n t a i n e r s = a ( t h i s . s e t t i n g s . e r r o r C o n t a i n e r ) . a d d ( t h i s . s e t t i n g s . e r r o r L a b e l C o n t a i n e r ) , t h i s . s u b m i t t e d = { } , t h i s . v a l u e C a c h e = { } , t h i s . p e n d i n g R e q u e s t = 0 , t h i s . p e n d i n g = { } , t h i s . i n v a l i d = { } , t h i s . r e s e t ( ) ; v a r   c = t h i s . g r o u p s = { } ; a . e a c h ( t h i s . s e t t i n g s . g r o u p s , f u n c t i o n ( b , d ) { a . e a c h ( d . s p l i t ( / \ s / ) , f u n c t i o n ( a , d ) { c [ d ] = b } ) } ) ; v a r   d = t h i s . s e t t i n g s . r u l e s ; a . e a c h ( d , f u n c t i o n ( b , c ) { d [ b ] = a . v a l i d a t o r . n o r m a l i z e R u l e ( c ) } ) , a ( t h i s . c u r r e n t F o r m ) . v a l i d a t e D e l e g a t e ( " : t e x t ,   : p a s s w o r d ,   : f i l e ,   s e l e c t ,   t e x t a r e a " , " f o c u s i n   f o c u s o u t   k e y u p " , b ) . v a l i d a t e D e l e g a t e ( " : r a d i o ,   : c h e c k b o x ,   s e l e c t ,   o p t i o n " , " c l i c k " , b ) , t h i s . s e t t i n g s . i n v a l i d H a n d l e r & & a ( t h i s . c u r r e n t F o r m ) . b i n d ( " i n v a l i d - f o r m . v a l i d a t e " , t h i s . s e t t i n g s . i n v a l i d H a n d l e r ) } , f o r m : f u n c t i o n ( ) { r e t u r n   t h i s . c h e c k F o r m ( ) , a . e x t e n d ( t h i s . s u b m i t t e d , t h i s . e r r o r M a p ) , t h i s . i n v a l i d = a . e x t e n d ( { } , t h i s . e r r o r M a p ) , t h i s . v a l i d ( ) | | a ( t h i s . c u r r e n t F o r m ) . t r i g g e r H a n d l e r ( " i n v a l i d - f o r m " , [ t h i s ] ) , t h i s . s h o w E r r o r s ( ) , t h i s . v a l i d ( ) } , c h e c k F o r m : f u n c t i o n ( ) { t h i s . p r e p a r e F o r m ( ) ; f o r ( v a r   a = 0 , b = t h i s . c u r r e n t E l e m e n t s = t h i s . e l e m e n t s ( ) ; b [ a ] ; a + + ) t h i s . c h e c k ( b [ a ] ) ; r e t u r n   t h i s . v a l i d ( ) } , e l e m e n t : f u n c t i o n ( b ) { b = t h i s . c l e a n ( b ) , t h i s . l a s t E l e m e n t = b , t h i s . p r e p a r e E l e m e n t ( b ) , t h i s . c u r r e n t E l e m e n t s = a ( b ) ; v a r   c = t h i s . c h e c k ( b ) ; r e t u r n   c ? d e l e t e   t h i s . i n v a l i d [ b . n a m e ] : t h i s . i n v a l i d [ b . n a m e ] = ! 0 , t h i s . n u m b e r O f I n v a l i d s ( ) | | ( t h i s . t o H i d e = t h i s . t o H i d e . a d d ( t h i s . c o n t a i n e r s ) ) , t h i s . s h o w E r r o r s ( ) , c } , s h o w E r r o r s : f u n c t i o n ( b ) { i f ( b ) { a . e x t e n d ( t h i s . e r r o r M a p , b ) , t h i s . e r r o r L i s t = [ ] ; f o r ( v a r   c   i n   b ) t h i s . e r r o r L i s t . p u s h ( { m e s s a g e : b [ c ] , e l e m e n t : t h i s . f i n d B y N a m e ( c ) [ 0 ] } ) ; t h i s . s u c c e s s L i s t = a . g r e p ( t h i s . s u c c e s s L i s t , f u n c t i o n ( a ) { r e t u r n ! ( a . n a m e   i n   b ) } ) } t h i s . s e t t i n g s . s h o w E r r o r s ? t h i s . s e t t i n g s . s h o w E r r o r s . c a l l ( t h i s , t h i s . e r r o r M a p , t h i s . e r r o r L i s t ) : t h i s . d e f a u l t S h o w E r r o r s ( ) } , r e s e t F o r m : f u n c t i o n ( ) { a . f n . r e s e t F o r m & & a ( t h i s . c u r r e n t F o r m ) . r e s e t F o r m ( ) , t h i s . s u b m i t t e d = { } , t h i s . p r e p a r e F o r m ( ) , t h i s . h i d e E r r o r s ( ) , t h i s . e l e m e n t s ( ) . r e m o v e C l a s s ( t h i s . s e t t i n g s . e r r o r C l a s s ) } , n u m b e r O f I n v a l i d s : f u n c t i o n ( ) { r e t u r n   t h i s . o b j e c t L e n g t h ( t h i s . i n v a l i d ) } , o b j e c t L e n g t h : f u n c t i o n ( a ) { v a r   b = 0 ; f o r ( v a r   c   i n   a ) b + + ; r e t u r n   b } , h i d e E r r o r s : f u n c t i o n ( ) { t h i s . a d d W r a p p e r ( t h i s . t o H i d e ) . h i d e ( ) } , v a l i d : f u n c t i o n ( ) { r e t u r n   0 = = t h i s . s i z e ( ) } , s i z e : f u n c t i o n ( ) { r e t u r n   t h i s . e r r o r L i s t . l e n g t h } , f o c u s I n v a l i d : f u n c t i o n ( ) { i f ( t h i s . s e t t i n g s . f o c u s I n v a l i d ) t r y { a ( t h i s . f i n d L a s t A c t i v e ( ) | | t h i s . e r r o r L i s t . l e n g t h & & t h i s . e r r o r L i s t [ 0 ] . e l e m e n t | | [ ] ) . f i l t e r ( " : v i s i b l e " ) . f o c u s ( ) . t r i g g e r ( " f o c u s i n " ) } c a t c h ( b ) { } } , f i n d L a s t A c t i v e : f u n c t i o n ( ) { v a r   b = t h i s . l a s t A c t i v e ; r e t u r n   b & & 1 = = a . g r e p ( t h i s . e r r o r L i s t , f u n c t i o n ( a ) { r e t u r n   a . e l e m e n t . n a m e = = b . n a m e } ) . l e n g t h & & b } , e l e m e n t s : f u n c t i o n ( ) { v a r   b = t h i s , c = { } ; r e t u r n   a ( t h i s . c u r r e n t F o r m ) . f i n d ( " i n p u t ,   s e l e c t ,   t e x t a r e a " ) . n o t ( " : s u b m i t ,   : r e s e t ,   : i m a g e ,   [ d i s a b l e d ] " ) . n o t ( t h i s . s e t t i n g s . i g n o r e ) . f i l t e r ( f u n c t i o n ( ) { r e t u r n ! t h i s . n a m e & & b . s e t t i n g s . d e b u g & & w i n d o w . c o n s o l e & & c o n s o l e . e r r o r ( " % o   h a s   n o   n a m e   a s s i g n e d " , t h i s ) , ! ( t h i s . n a m e   i n   c | | ! b . o b j e c t L e n g t h ( a ( t h i s ) . r u l e s ( ) ) ) & & ( c [ t h i s . n a m e ] = ! 0 , ! 0 ) } ) } , c l e a n : f u n c t i o n ( b ) { r e t u r n   a ( b ) [ 0 ] } , e r r o r s : f u n c t i o n ( ) { r e t u r n   a ( t h i s . s e t t i n g s . e r r o r E l e m e n t + " . " + t h i s . s e t t i n g s . e r r o r C l a s s , t h i s . e r r o r C o n t e x t ) } , r e s e t : f u n c t i o n ( ) { t h i s . s u c c e s s L i s t = [ ] , t h i s . e r r o r L i s t = [ ] , t h i s . e r r o r M a p = { } , t h i s . t o S h o w = a ( [ ] ) , t h i s . t o H i d e = a ( [ ] ) , t h i s . c u r r e n t E l e m e n t s = a ( [ ] ) } , p r e p a r e F o r m : f u n c t i o n ( ) { t h i s . r e s e t ( ) , t h i s . t o H i d e = t h i s . e r r o r s ( ) . a d d ( t h i s . c o n t a i n e r s ) } , p r e p a r e E l e m e n t : f u n c t i o n ( a ) { t h i s . r e s e t ( ) , t h i s . t o H i d e = t h i s . e r r o r s F o r ( a ) } , c h e c k : f u n c t i o n ( b ) { b = t h i s . c l e a n ( b ) , t h i s . c h e c k a b l e ( b ) & & ( b = t h i s . f i n d B y N a m e ( b . n a m e ) . n o t ( t h i s . s e t t i n g s . i g n o r e ) [ 0 ] ) ; v a r   c = a ( b ) . r u l e s ( ) , d = ! 1 ; f o r ( v a r   e   i n   c ) { v a r   f = { m e t h o d : e , p a r a m e t e r s : c [ e ] } ; t r y { v a r   g = a . v a l i d a t o r . m e t h o d s [ e ] . c a l l ( t h i s , b . v a l u e . r e p l a c e ( / \ r / g , " " ) , b , f . p a r a m e t e r s ) ; i f ( " d e p e n d e n c y - m i s m a t c h " = = g ) { d = ! 0 ; c o n t i n u e } i f ( d = ! 1 , " p e n d i n g " = = g ) r e t u r n   v o i d ( t h i s . t o H i d e = t h i s . t o H i d e . n o t ( t h i s . e r r o r s F o r ( b ) ) ) ; i f ( ! g ) r e t u r n   t h i s . f o r m a t A n d A d d ( b , f ) , ! 1 } c a t c h ( h ) { t h r o w   t h i s . s e t t i n g s . d e b u g & & w i n d o w . c o n s o l e & & c o n s o l e . l o g ( " e x c e p t i o n   o c c u r e d   w h e n   c h e c k i n g   e l e m e n t   " + b . i d + " ,   c h e c k   t h e   ' " + f . m e t h o d + " '   m e t h o d " , h ) , h } } i f ( ! d ) r e t u r n   t h i s . o b j e c t L e n g t h ( c ) & & t h i s . s u c c e s s L i s t . p u s h ( b ) , ! 0 } , c u s t o m M e t a M e s s a g e : f u n c t i o n ( b , c ) { i f ( a . m e t a d a t a ) { v a r   d = t h i s . s e t t i n g s . m e t a ? a ( b ) . m e t a d a t a ( ) [ t h i s . s e t t i n g s . m e t a ] : a ( b ) . m e t a d a t a ( ) ; r e t u r n   d & & d . m e s s a g e s & & d . m e s s a g e s [ c ] } } , c u s t o m M e s s a g e : f u n c t i o n ( a , b ) { v a r   c = t h i s . s e t t i n g s . m e s s a g e s [ a ] ; r e t u r n   c & & ( c . c o n s t r u c t o r = = S t r i n g ? c : c [ b ] ) } , f i n d D e f i n e d : f u n c t i o n ( ) { f o r ( v a r   a = 0 ; a < a r g u m e n t s . l e n g t h ; a + + ) i f ( v o i d   0 ! = = a r g u m e n t s [ a ] ) r e t u r n   a r g u m e n t s [ a ] } , d e f a u l t M e s s a g e : f u n c t i o n ( b , c ) { r e t u r n   t h i s . f i n d D e f i n e d ( t h i s . c u s t o m M e s s a g e ( b . n a m e , c ) , t h i s . c u s t o m M e t a M e s s a g e ( b , c ) , ! t h i s . s e t t i n g s . i g n o r e T i t l e & & b . t i t l e | | v o i d   0 , a . v a l i d a t o r . m e s s a g e s [ c ] , " < s t r o n g > W a r n i n g :   N o   m e s s a g e   d e f i n e d   f o r   " + b . n a m e + " < / s t r o n g > " ) } , f o r m a t A n d A d d : f u n c t i o n ( a , b ) { v a r   c = t h i s . d e f a u l t M e s s a g e ( a , b . m e t h o d ) , d = / \ $ ? \ { ( \ d + ) \ } / g ; " f u n c t i o n " = = t y p e o f   c ? c = c . c a l l ( t h i s , b . p a r a m e t e r s , a ) : d . t e s t ( c ) & & ( c = j Q u e r y . f o r m a t ( c . r e p l a c e ( d , " { $ 1 } " ) , b . p a r a m e t e r s ) ) , t h i s . e r r o r L i s t . p u s h ( { m e s s a g e : c , e l e m e n t : a } ) , t h i s . e r r o r M a p [ a . n a m e ] = c , t h i s . s u b m i t t e d [ a . n a m e ] = c } , a d d W r a p p e r : f u n c t i o n ( a ) { r e t u r n   t h i s . s e t t i n g s . w r a p p e r & & ( a = a . a d d ( a . p a r e n t ( t h i s . s e t t i n g s . w r a p p e r ) ) ) , a } , d e f a u l t S h o w E r r o r s : f u n c t i o n ( ) { f o r ( v a r   a = 0 ; t h i s . e r r o r L i s t [ a ] ; a + + ) { v a r   b = t h i s . e r r o r L i s t [ a ] ; t h i s . s e t t i n g s . h i g h l i g h t & & t h i s . s e t t i n g s . h i g h l i g h t . c a l l ( t h i s , b . e l e m e n t , t h i s . s e t t i n g s . e r r o r C l a s s , t h i s . s e t t i n g s . v a l i d C l a s s ) , t h i s . s h o w L a b e l ( b . e l e m e n t , b . m e s s a g e ) } i f ( t h i s . e r r o r L i s t . l e n g t h & & ( t h i s . t o S h o w = t h i s . t o S h o w . a d d ( t h i s . c o n t a i n e r s ) ) , t h i s . s e t t i n g s . s u c c e s s ) f o r ( v a r   a = 0 ; t h i s . s u c c e s s L i s t [ a ] ; a + + ) t h i s . s h o w L a b e l ( t h i s . s u c c e s s L i s t [ a ] ) ; i f ( t h i s . s e t t i n g s . u n h i g h l i g h t ) f o r ( v a r   a = 0 , c = t h i s . v a l i d E l e m e n t s ( ) ; c [ a ] ; a + + ) t h i s . s e t t i n g s . u n h i g h l i g h t . c a l l ( t h i s , c [ a ] , t h i s . s e t t i n g s . e r r o r C l a s s , t h i s . s e t t i n g s . v a l i d C l a s s ) ; t h i s . t o H i d e = t h i s . t o H i d e . n o t ( t h i s . t o S h o w ) , t h i s . h i d e E r r o r s ( ) , t h i s . a d d W r a p p e r ( t h i s . t o S h o w ) . s h o w ( ) } , v a l i d E l e m e n t s : f u n c t i o n ( ) { r e t u r n   t h i s . c u r r e n t E l e m e n t s . n o t ( t h i s . i n v a l i d E l e m e n t s ( ) ) } , i n v a l i d E l e m e n t s : f u n c t i o n ( ) { r e t u r n   a ( t h i s . e r r o r L i s t ) . m a p ( f u n c t i o n ( ) { r e t u r n   t h i s . e l e m e n t } ) } , s h o w L a b e l : f u n c t i o n ( b , c ) { v a r   d = t h i s . e r r o r s F o r ( b ) ; d . l e n g t h ? ( d . r e m o v e C l a s s ( ) . a d d C l a s s ( t h i s . s e t t i n g s . e r r o r C l a s s ) , d . a t t r ( " g e n e r a t e d " ) & & d . h t m l ( c ) ) : ( d = a ( " < " + t h i s . s e t t i n g s . e r r o r E l e m e n t + " / > " ) . a t t r ( { " f o r " : t h i s . i d O r N a m e ( b ) , g e n e r a t e d : ! 0 } ) . a d d C l a s s ( t h i s . s e t t i n g s . e r r o r C l a s s ) . h t m l ( c | | " " ) , t h i s . s e t t i n g s . w r a p p e r & & ( d = d . h i d e ( ) . s h o w ( ) . w r a p ( " < " + t h i s . s e t t i n g s . w r a p p e r + " / > " ) . p a r e n t ( ) ) , t h i s . l a b e l C o n t a i n e r . a p p e n d ( d ) . l e n g t h | | ( t h i s . s e t t i n g s . e r r o r P l a c e m e n t ? t h i s . s e t t i n g s . e r r o r P l a c e m e n t ( d , a ( b ) ) : d . i n s e r t A f t e r ( b ) ) ) , ! c & & t h i s . s e t t i n g s . s u c c e s s & & ( d . t e x t ( " " ) , " s t r i n g " = = t y p e o f   t h i s . s e t t i n g s . s u c c e s s ? d . a d d C l a s s ( t h i s . s e t t i n g s . s u c c e s s ) : t h i s . s e t t i n g s . s u c c e s s ( d ) ) , t h i s . t o S h o w = t h i s . t o S h o w . a d d ( d ) } , e r r o r s F o r : f u n c t i o n ( b ) { v a r   c = t h i s . i d O r N a m e ( b ) ; r e t u r n   t h i s . e r r o r s ( ) . f i l t e r ( f u n c t i o n ( ) { r e t u r n   a ( t h i s ) . a t t r ( " f o r " ) = = c } ) } , i d O r N a m e : f u n c t i o n ( a ) { r e t u r n   t h i s . g r o u p s [ a . n a m e ] | | ( t h i s . c h e c k a b l e ( a ) ? a . n a m e : a . i d | | a . n a m e ) } , c h e c k a b l e : f u n c t i o n ( a ) { r e t u r n / r a d i o | c h e c k b o x / i . t e s t ( a . t y p e ) } , f i n d B y N a m e : f u n c t i o n ( b ) { v a r   c = t h i s . c u r r e n t F o r m ; r e t u r n   a ( d o c u m e n t . g e t E l e m e n t s B y N a m e ( b ) ) . m a p ( f u n c t i o n ( a , d ) { r e t u r n   d . f o r m = = c & & d . n a m e = = b & & d | | n u l l } ) } , g e t L e n g t h : f u n c t i o n ( b , c ) { s w i t c h ( c . n o d e N a m e . t o L o w e r C a s e ( ) ) { c a s e " s e l e c t " : r e t u r n   a ( " o p t i o n : s e l e c t e d " , c ) . l e n g t h ; c a s e " i n p u t " : i f ( t h i s . c h e c k a b l e ( c ) ) r e t u r n   t h i s . f i n d B y N a m e ( c . n a m e ) . f i l t e r ( " : c h e c k e d " ) . l e n g t h } r e t u r n   b . l e n g t h } , d e p e n d : f u n c t i o n ( a , b ) { r e t u r n ! t h i s . d e p e n d T y p e s [ t y p e o f   a ] | | t h i s . d e p e n d T y p e s [ t y p e o f   a ] ( a , b ) } , d e p e n d T y p e s : { " b o o l e a n " : f u n c t i o n ( a , b ) { r e t u r n   a } , s t r i n g : f u n c t i o n ( b , c ) { r e t u r n ! ! a ( b , c . f o r m ) . l e n g t h } , " f u n c t i o n " : f u n c t i o n ( a , b ) { r e t u r n   a ( b ) } } , o p t i o n a l : f u n c t i o n ( b ) { r e t u r n ! a . v a l i d a t o r . m e t h o d s . r e q u i r e d . c a l l ( t h i s , a . t r i m ( b . v a l u e ) , b ) & & " d e p e n d e n c y - m i s m a t c h " } , s t a r t R e q u e s t : f u n c t i o n ( a ) { t h i s . p e n d i n g [ a . n a m e ] | | ( t h i s . p e n d i n g R e q u e s t + + , t h i s . p e n d i n g [ a . n a m e ] = ! 0 ) } , s t o p R e q u e s t : f u n c t i o n ( b , c ) { t h i s . p e n d i n g R e q u e s t - - , t h i s . p e n d i n g R e q u e s t < 0 & & ( t h i s . p e n d i n g R e q u e s t = 0 ) , d e l e t e   t h i s . p e n d i n g [ b . n a m e ] , c & & 0 = = t h i s . p e n d i n g R e q u e s t & & t h i s . f o r m S u b m i t t e d & & t h i s . f o r m ( ) ? ( a ( t h i s . c u r r e n t F o r m ) . s u b m i t ( ) , t h i s . f o r m S u b m i t t e d = ! 1 ) : ! c & & 0 = = t h i s . p e n d i n g R e q u e s t & & t h i s . f o r m S u b m i t t e d & & ( a ( t h i s . c u r r e n t F o r m ) . t r i g g e r H a n d l e r ( " i n v a l i d - f o r m " , [ t h i s ] ) , t h i s . f o r m S u b m i t t e d = ! 1 ) } , p r e v i o u s V a l u e : f u n c t i o n ( b ) { r e t u r n   a . d a t a ( b , " p r e v i o u s V a l u e " ) | | a . d a t a ( b , " p r e v i o u s V a l u e " , { o l d : n u l l , v a l i d : ! 0 , m e s s a g e : t h i s . d e f a u l t M e s s a g e ( b , " r e m o t e " ) } ) } } , c l a s s R u l e S e t t i n g s : { r e q u i r e d : { r e q u i r e d : ! 0 } , e m a i l : { e m a i l : ! 0 } , u r l : { u r l : ! 0 } , d a t e : { d a t e : ! 0 } , d a t e I S O : { d a t e I S O : ! 0 } , d a t e D E : { d a t e D E : ! 0 } , n u m b e r : { n u m b e r : ! 0 } , n u m b e r D E : { n u m b e r D E : ! 0 } , d i g i t s : { d i g i t s : ! 0 } , c r e d i t c a r d : { c r e d i t c a r d : ! 0 } } , a d d C l a s s R u l e s : f u n c t i o n ( b , c ) { b . c o n s t r u c t o r = = S t r i n g ? t h i s . c l a s s R u l e S e t t i n g s [ b ] = c : a . e x t e n d ( t h i s . c l a s s R u l e S e t t i n g s , b ) } , c l a s s R u l e s : f u n c t i o n ( b ) { v a r   c = { } , d = a ( b ) . a t t r ( " c l a s s " ) ; r e t u r n   d & & a . e a c h ( d . s p l i t ( "   " ) , f u n c t i o n ( ) { t h i s   i n   a . v a l i d a t o r . c l a s s R u l e S e t t i n g s & & a . e x t e n d ( c , a . v a l i d a t o r . c l a s s R u l e S e t t i n g s [ t h i s ] ) } ) , c } , a t t r i b u t e R u l e s : f u n c t i o n ( b ) { v a r   c = { } , d = a ( b ) ; f o r ( v a r   e   i n   a . v a l i d a t o r . m e t h o d s ) { v a r   f = d . a t t r ( e ) ; f & & ( c [ e ] = f ) } r e t u r n   c . m a x l e n g t h & & / - 1 | 2 1 4 7 4 8 3 6 4 7 | 5 2 4 2 8 8 / . t e s t ( c . m a x l e n g t h ) & & d e l e t e   c . m a x l e n g t h , c } , m e t a d a t a R u l e s : f u n c t i o n ( b ) { i f ( ! a . m e t a d a t a ) r e t u r n { } ; v a r   c = a . d a t a ( b . f o r m , " v a l i d a t o r " ) . s e t t i n g s . m e t a ; r e t u r n   c ? a ( b ) . m e t a d a t a ( ) [ c ] : a ( b ) . m e t a d a t a ( ) } , s t a t i c R u l e s : f u n c t i o n ( b ) { v a r   c = { } , d = a . d a t a ( b . f o r m , " v a l i d a t o r " ) ; r e t u r n   d . s e t t i n g s . r u l e s & & ( c = a . v a l i d a t o r . n o r m a l i z e R u l e ( d . s e t t i n g s . r u l e s [ b . n a m e ] ) | | { } ) , c } , n o r m a l i z e R u l e s : f u n c t i o n ( b , c ) { r e t u r n   a . e a c h ( b , f u n c t i o n ( d , e ) { i f ( e = = = ! 1 ) r e t u r n   v o i d   d e l e t e   b [ d ] ; i f ( e . p a r a m | | e . d e p e n d s ) { v a r   f = ! 0 ; s w i t c h ( t y p e o f   e . d e p e n d s ) { c a s e " s t r i n g " : f = ! ! a ( e . d e p e n d s , c . f o r m ) . l e n g t h ; b r e a k ; c a s e " f u n c t i o n " : f = e . d e p e n d s . c a l l ( c , c ) } f ? b [ d ] = v o i d   0 = = = e . p a r a m | | e . p a r a m : d e l e t e   b [ d ] } } ) , a . e a c h ( b , f u n c t i o n ( d , e ) { b [ d ] = a . i s F u n c t i o n ( e ) ? e ( c ) : e } ) , a . e a c h ( [ " m i n l e n g t h " , " m a x l e n g t h " , " m i n " , " m a x " ] , f u n c t i o n ( ) { b [ t h i s ] & & ( b [ t h i s ] = N u m b e r ( b [ t h i s ] ) ) } ) , a . e a c h ( [ " r a n g e l e n g t h " , " r a n g e " ] , f u n c t i o n ( ) { b [ t h i s ] & & ( b [ t h i s ] = [ N u m b e r ( b [ t h i s ] [ 0 ] ) , N u m b e r ( b [ t h i s ] [ 1 ] ) ] ) } ) , a . v a l i d a t o r . a u t o C r e a t e R a n g e s & & ( b . m i n & & b . m a x & & ( b . r a n g e = [ b . m i n , b . m a x ] , d e l e t e   b . m i n , d e l e t e   b . m a x ) , b . m i n l e n g t h & & b . m a x l e n g t h & & ( b . r a n g e l e n g t h = [ b . m i n l e n g t h , b . m a x l e n g t h ] , d e l e t e   b . m i n l e n g t h , d e l e t e   b . m a x l e n g t h ) ) , b . m e s s a g e s & & d e l e t e   b . m e s s a g e s , b } , n o r m a l i z e R u l e : f u n c t i o n ( b ) { i f ( " s t r i n g " = = t y p e o f   b ) { v a r   c = { } ; a . e a c h ( b . s p l i t ( / \ s / ) , f u n c t i o n ( ) { c [ t h i s ] = ! 0 } ) , b = c } r e t u r n   b } , a d d M e t h o d : f u n c t i o n ( b , c , d ) { a . v a l i d a t o r . m e t h o d s [ b ] = c , a . v a l i d a t o r . m e s s a g e s [ b ] = v o i d   0 ! = d ? d : a . v a l i d a t o r . m e s s a g e s [ b ] , c . l e n g t h < 3 & & a . v a l i d a t o r . a d d C l a s s R u l e s ( b , a . v a l i d a t o r . n o r m a l i z e R u l e ( b ) ) } , m e t h o d s : { r e q u i r e d : f u n c t i o n ( b , c , d ) { i f ( ! t h i s . d e p e n d ( d , c ) ) r e t u r n " d e p e n d e n c y - m i s m a t c h " ; s w i t c h ( c . n o d e N a m e . t o L o w e r C a s e ( ) ) { c a s e " s e l e c t " : v a r   e = a ( c ) . v a l ( ) ; r e t u r n   e & & e . l e n g t h > 0 ; c a s e " i n p u t " : i f ( t h i s . c h e c k a b l e ( c ) ) r e t u r n   t h i s . g e t L e n g t h ( b , c ) > 0 ; d e f a u l t : r e t u r n   a . t r i m ( b ) . l e n g t h > 0 } } , r e m o t e : f u n c t i o n ( b , c , d ) { i f ( t h i s . o p t i o n a l ( c ) ) r e t u r n " d e p e n d e n c y - m i s m a t c h " ; v a r   e = t h i s . p r e v i o u s V a l u e ( c ) ; i f ( t h i s . s e t t i n g s . m e s s a g e s [ c . n a m e ] | | ( t h i s . s e t t i n g s . m e s s a g e s [ c . n a m e ] = { } ) , e . o r i g i n a l M e s s a g e = t h i s . s e t t i n g s . m e s s a g e s [ c . n a m e ] . r e m o t e , t h i s . s e t t i n g s . m e s s a g e s [ c . n a m e ] . r e m o t e = e . m e s s a g e , d = " s t r i n g " = = t y p e o f   d & & { u r l : d } | | d , t h i s . p e n d i n g [ c . n a m e ] ) r e t u r n " p e n d i n g " ; i f ( e . o l d = = = b ) r e t u r n   e . v a l i d ; e . o l d = b ; v a r   f = t h i s ; t h i s . s t a r t R e q u e s t ( c ) ; v a r   g = { } ; r e t u r n   g [ c . n a m e ] = b , a . a j a x ( a . e x t e n d ( ! 0 , { u r l : d , m o d e : " a b o r t " , p o r t : " v a l i d a t e " + c . n a m e , d a t a T y p e : " j s o n " , d a t a : g , s u c c e s s : f u n c t i o n ( d ) { f . s e t t i n g s . m e s s a g e s [ c . n a m e ] . r e m o t e = e . o r i g i n a l M e s s a g e ; v a r   g = d = = = ! 0 ; i f ( g ) { v a r   h = f . f o r m S u b m i t t e d ; f . p r e p a r e E l e m e n t ( c ) , f . f o r m S u b m i t t e d = h , f . s u c c e s s L i s t . p u s h ( c ) , f . s h o w E r r o r s ( ) } e l s e { v a r   i = { } , j = d | | f . d e f a u l t M e s s a g e ( c , " r e m o t e " ) ; i [ c . n a m e ] = e . m e s s a g e = a . i s F u n c t i o n ( j ) ? j ( b ) : j , f . s h o w E r r o r s ( i ) } e . v a l i d = g , f . s t o p R e q u e s t ( c , g ) } } , d ) ) , " p e n d i n g " } , m i n l e n g t h : f u n c t i o n ( b , c , d ) { r e t u r n   t h i s . o p t i o n a l ( c ) | | t h i s . g e t L e n g t h ( a . t r i m ( b ) , c ) > = d } , m a x l e n g t h : f u n c t i o n ( b , c , d ) { r e t u r n   t h i s . o p t i o n a l ( c ) | | t h i s . g e t L e n g t h ( a . t r i m ( b ) , c ) < = d } , r a n g e l e n g t h : f u n c t i o n ( b , c , d ) { v a r   e = t h i s . g e t L e n g t h ( a . t r i m ( b ) , c ) ; r e t u r n   t h i s . o p t i o n a l ( c ) | | e > = d [ 0 ] & & e < = d [ 1 ] } , m i n : f u n c t i o n ( a , b , c ) { r e t u r n   t h i s . o p t i o n a l ( b ) | | a > = c } , m a x : f u n c t i o n ( a , b , c ) { r e t u r n   t h i s . o p t i o n a l ( b ) | | a < = c } , r a n g e : f u n c t i o n ( a , b , c ) { r e t u r n   t h i s . o p t i o n a l ( b ) | | a > = c [ 0 ] & & a < = c [ 1 ] } , e m a i l : f u n c t i o n ( a , b ) { r e t u r n   t h i s . o p t i o n a l ( b ) | | / ^ ( ( ( [ a - z ] | \ d | [ ! # \ $ % & ' \ * \ + \ - \ / = \ ? \ ^ _ ` { \ | } ~ ] | [ \ u 0 0 A 0 - \ u D 7 F F \ u F 9 0 0 - \ u F D C F \ u F D F 0 - \ u F F E F ] ) + ( \ . ( [ a - z ] | \ d | [ ! # \ $ % & ' \ * \ + \ - \ / = \ ? \ ^ _ ` { \ | } ~ ] | [ \ u 0 0 A 0 - \ u D 7 F F \ u F 9 0 0 - \ u F D C F \ u F D F 0 - \ u F F E F ] ) + ) * ) | ( ( \ x 2 2 ) ( ( ( ( \ x 2 0 | \ x 0 9 ) * ( \ x 0 d \ x 0 a ) ) ? ( \ x 2 0 | \ x 0 9 ) + ) ? ( ( [ \ x 0 1 - \ x 0 8 \ x 0 b \ x 0 c \ x 0 e - \ x 1 f \ x 7 f ] | \ x 2 1 | [ \ x 2 3 - \ x 5 b ] | [ \ x 5 d - \ x 7 e ] | [ \ u 0 0 A 0 - \ u D 7 F F \ u F 9 0 0 - \ u F D C F \ u F D F 0 - \ u F F E F ] ) | ( \ \ ( [ \ x 0 1 - \ x 0 9 \ x 0 b \ x 0 c \ x 0 d - \ x 7 f ] | [ \ u 0 0 A 0 - \ u D 7 F F \ u F 9 0 0 - \ u F D C F \ u F D F 0 - \ u F F E F ] ) ) ) ) * ( ( ( \ x 2 0 | \ x 0 9 ) * ( \ x 0 d \ x 0 a ) ) ? ( \ x 2 0 | \ x 0 9 ) + ) ? ( \ x 2 2 ) ) ) @ ( ( ( [ a - z ] | \ d | [ \ u 0 0 A 0 - \ u D 7 F F \ u F 9 0 0 - \ u F D C F \ u F D F 0 - \ u F F E F ] ) | ( ( [ a - z ] | \ d | [ \ u 0 0 A 0 - \ u D 7 F F \ u F 9 0 0 - \ u F D C F \ u F D F 0 - \ u F F E F ] ) ( [ a - z ] | \ d | - | \ . | _ | ~ | [ \ u 0 0 A 0 - \ u D 7 F F \ u F 9 0 0 - \ u F D C F \ u F D F 0 - \ u F F E F ] ) * ( [ a - z ] | \ d | [ \ u 0 0 A 0 - \ u D 7 F F \ u F 9 0 0 - \ u F D C F \ u F D F 0 - \ u F F E F ] ) ) ) \ . ) + ( ( [ a - z ] | [ \ u 0 0 A 0 - \ u D 7 F F \ u F 9 0 0 - \ u F D C F \ u F D F 0 - \ u F F E F ] ) | ( ( [ a - z ] | [ \ u 0 0 A 0 - \ u D 7 F F \ u F 9 0 0 - \ u F D C F \ u F D F 0 - \ u F F E F ] ) ( [ a - z ] | \ d | - | \ . | _ | ~ | [ \ u 0 0 A 0 - \ u D 7 F F \ u F 9 0 0 - \ u F D C F \ u F D F 0 - \ u F F E F ] ) * ( [ a - z ] | [ \ u 0 0 A 0 - \ u D 7 F F \ u F 9 0 0 - \ u F D C F \ u F D F 0 - \ u F F E F ] ) ) ) \ . ? $ / i . t e s t ( a ) } , u r l : f u n c t i o n ( a , b ) { r e t u r n   t h i s . o p t i o n a l ( b ) | | / ^ ( h t t p s ? | f t p ) : \ / \ / ( ( ( ( [ a - z ] | \ d | - | \ . | _ | ~ | [ \ u 0 0 A 0 - \ u D 7 F F \ u F 9 0 0 - \ u F D C F \ u F D F 0 - \ u F F E F ] ) | ( % [ \ d a - f ] { 2 } ) | [ ! \ $ & ' \ ( \ ) \ * \ + , ; = ] | : ) * @ ) ? ( ( ( \ d | [ 1 - 9 ] \ d | 1 \ d \ d | 2 [ 0 - 4 ] \ d | 2 5 [ 0 - 5 ] ) \ . ( \ d | [ 1 - 9 ] \ d | 1 \ d \ d | 2 [ 0 - 4 ] \ d | 2 5 [ 0 - 5 ] ) \ . ( \ d | [ 1 - 9 ] \ d | 1 \ d \ d | 2 [ 0 - 4 ] \ d | 2 5 [ 0 - 5 ] ) \ . ( \ d | [ 1 - 9 ] \ d | 1 \ d \ d | 2 [ 0 - 4 ] \ d | 2 5 [ 0 - 5 ] ) ) | ( ( ( [ a - z ] | \ d | [ \ u 0 0 A 0 - \ u D 7 F F \ u F 9 0 0 - \ u F D C F \ u F D F 0 - \ u F F E F ] ) | ( ( [ a - z ] | \ d | [ \ u 0 0 A 0 - \ u D 7 F F \ u F 9 0 0 - \ u F D C F \ u F D F 0 - \ u F F E F ] ) ( [ a - z ] | \ d | - | \ . | _ | ~ | [ \ u 0 0 A 0 - \ u D 7 F F \ u F 9 0 0 - \ u F D C F \ u F D F 0 - \ u F F E F ] ) * ( [ a - z ] | \ d | [ \ u 0 0 A 0 - \ u D 7 F F \ u F 9 0 0 - \ u F D C F \ u F D F 0 - \ u F F E F ] ) ) ) \ . ) + ( ( [ a - z ] | [ \ u 0 0 A 0 - \ u D 7 F F \ u F 9 0 0 - \ u F D C F \ u F D F 0 - \ u F F E F ] ) | ( ( [ a - z ] | [ \ u 0 0 A 0 - \ u D 7 F F \ u F 9 0 0 - \ u F D C F \ u F D F 0 - \ u F F E F ] ) ( [ a - z ] | \ d | - | \ . | _ | ~ | [ \ u 0 0 A 0 - \ u D 7 F F \ u F 9 0 0 - \ u F D C F \ u F D F 0 - \ u F F E F ] ) * ( [ a - z ] | [ \ u 0 0 A 0 - \ u D 7 F F \ u F 9 0 0 - \ u F D C F \ u F D F 0 - \ u F F E F ] ) ) ) \ . ? ) ( : \ d * ) ? ) ( \ / ( ( ( [ a - z ] | \ d | - | \ . | _ | ~ | [ \ u 0 0 A 0 - \ u D 7 F F \ u F 9 0 0 - \ u F D C F \ u F D F 0 - \ u F F E F ] ) | ( % [ \ d a - f ] { 2 } ) | [ ! \ $ & ' \ ( \ ) \ * \ + , ; = ] | : | @ ) + ( \ / ( ( [ a - z ] | \ d | - | \ . | _ | ~ | [ \ u 0 0 A 0 - \ u D 7 F F \ u F 9 0 0 - \ u F D C F \ u F D F 0 - \ u F F E F ] ) | ( % [ \ d a - f ] { 2 } ) | [ ! \ $ & ' \ ( \ ) \ * \ + , ; = ] | : | @ ) * ) * ) ? ) ? ( \ ? ( ( ( [ a - z ] | \ d | - | \ . | _ | ~ | [ \ u 0 0 A 0 - \ u D 7 F F \ u F 9 0 0 - \ u F D C F \ u F D F 0 - \ u F F E F ] ) | ( % [ \ d a - f ] { 2 } ) | [ ! \ $ & ' \ ( \ ) \ * \ + , ; = ] | : | @ ) | [ \ u E 0 0 0 - \ u F 8 F F ] | \ / | \ ? ) * ) ? ( \ # ( ( ( [ a - z ] | \ d | - | \ . | _ | ~ | [ \ u 0 0 A 0 - \ u D 7 F F \ u F 9 0 0 - \ u F D C F \ u F D F 0 - \ u F F E F ] ) | ( % [ \ d a - f ] { 2 } ) | [ ! \ $ & ' \ ( \ ) \ * \ + , ; = ] | : | @ ) | \ / | \ ? ) * ) ? $ / i . t e s t ( a ) } , d a t e : f u n c t i o n ( a , b ) { r e t u r n   t h i s . o p t i o n a l ( b ) | | ! / I n v a l i d | N a N / . t e s t ( n e w   D a t e ( a ) ) } , d a t e I S O : f u n c t i o n ( a , b ) { r e t u r n   t h i s . o p t i o n a l ( b ) | | / ^ \ d { 4 } [ \ / - ] \ d { 1 , 2 } [ \ / - ] \ d { 1 , 2 } $ / . t e s t ( a ) } , n u m b e r : f u n c t i o n ( a , b ) { r e t u r n   t h i s . o p t i o n a l ( b ) | | / ^ - ? ( ? : \ d + | \ d { 1 , 3 } ( ? : , \ d { 3 } ) + ) ( ? : \ . \ d + ) ? $ / . t e s t ( a ) } , d i g i t s : f u n c t i o n ( a , b ) { r e t u r n   t h i s . o p t i o n a l ( b ) | | / ^ \ d + $ / . t e s t ( a ) } , c r e d i t c a r d : f u n c t i o n ( a , b ) { i f ( t h i s . o p t i o n a l ( b ) ) r e t u r n " d e p e n d e n c y - m i s m a t c h " ; i f ( / [ ^ 0 - 9 - ] + / . t e s t ( a ) ) r e t u r n ! 1 ; v a r   c = 0 , d = 0 , e = ! 1 ; a = a . r e p l a c e ( / \ D / g , " " ) ; f o r ( v a r   f = a . l e n g t h - 1 ; f > = 0 ; f - - ) { v a r   g = a . c h a r A t ( f ) , d = p a r s e I n t ( g , 1 0 ) ; e & & ( d * = 2 ) > 9 & & ( d - = 9 ) , c + = d , e = ! e } r e t u r n   c % 1 0 = = 0 } , a c c e p t : f u n c t i o n ( a , b , c ) { r e t u r n   c = " s t r i n g " = = t y p e o f   c ? c . r e p l a c e ( / , / g , " | " ) : " p n g | j p e ? g | g i f " , t h i s . o p t i o n a l ( b ) | | a . m a t c h ( n e w   R e g E x p ( " . ( " + c + " ) $ " , " i " ) ) } , e q u a l T o : f u n c t i o n ( b , c , d ) { v a r   e = a ( d ) . u n b i n d ( " . v a l i d a t e - e q u a l T o " ) . b i n d ( " b l u r . v a l i d a t e - e q u a l T o " , f u n c t i o n ( ) { a ( c ) . v a l i d ( ) } ) ; r e t u r n   b = = e . v a l ( ) } } } ) , a . f o r m a t = a . v a l i d a t o r . f o r m a t } ( j Q u e r y ) , f u n c t i o n ( a ) { v a r   b = { } ; i f ( a . a j a x P r e f i l t e r ) a . a j a x P r e f i l t e r ( f u n c t i o n ( a , c , d ) { v a r   e = a . p o r t ; " a b o r t " = = a . m o d e & & ( b [ e ] & & b [ e ] . a b o r t ( ) , b [ e ] = d ) } ) ; e l s e { v a r   c = a . a j a x ; a . a j a x = f u n c t i o n ( d ) { v a r   e = ( " m o d e " i n   d ? d : a . a j a x S e t t i n g s ) . m o d e , f = ( " p o r t " i n   d ? d : a . a j a x S e t t i n g s ) . p o r t ; r e t u r n " a b o r t " = = e ? ( b [ f ] & & b [ f ] . a b o r t ( ) , b [ f ] = c . a p p l y ( t h i s , a r g u m e n t s ) ) : c . a p p l y ( t h i s , a r g u m e n t s ) } } } ( j Q u e r y ) , f u n c t i o n ( a ) { j Q u e r y . e v e n t . s p e c i a l . f o c u s i n | | j Q u e r y . e v e n t . s p e c i a l . f o c u s o u t | | ! d o c u m e n t . a d d E v e n t L i s t e n e r | | a . e a c h ( { f o c u s : " f o c u s i n " , b l u r : " f o c u s o u t " } , f u n c t i o n ( b , c ) { f u n c t i o n   d ( b ) { r e t u r n   b = a . e v e n t . f i x ( b ) , b . t y p e = c , a . e v e n t . h a n d l e . c a l l ( t h i s , b ) } a . e v e n t . s p e c i a l [ c ] = { s e t u p : f u n c t i o n ( ) { t h i s . a d d E v e n t L i s t e n e r ( b , d , ! 0 ) } , t e a r d o w n : f u n c t i o n ( ) { t h i s . r e m o v e E v e n t L i s t e n e r ( b , d , ! 0 ) } , h a n d l e r : f u n c t i o n ( b ) { r e t u r n   a r g u m e n t s [ 0 ] = a . e v e n t . f i x ( b ) , a r g u m e n t s [ 0 ] . t y p e = c , a . e v e n t . h a n d l e . a p p l y ( t h i s , a r g u m e n t s ) } } } ) , a . e x t e n d ( a . f n , { v a l i d a t e D e l e g a t e : f u n c t i o n ( b , c , d ) { r e t u r n   t h i s . b i n d ( c , f u n c t i o n ( c ) { v a r   e = a ( c . t a r g e t ) ; i f ( e . i s ( b ) ) r e t u r n   d . a p p l y ( e , a r g u m e n t s ) } ) } } ) } ( j Q u e r y ) , " f u n c t i o n " ! = t y p e o f   O b j e c t . c r e a t e & & ( O b j e c t . c r e a t e = f u n c t i o n ( a ) { f u n c t i o n   b ( ) { } r e t u r n   b . p r o t o t y p e = a , n e w   b } ) , f u n c t i o n ( a , b , c , d ) { " u s e   s t r i c t " ; v a r   e = { _ p o s i t i o n C l a s s e s : [ " b o t t o m - l e f t " , " b o t t o m - r i g h t " , " t o p - r i g h t " , " t o p - l e f t " , " b o t t o m - c e n t e r " , " t o p - c e n t e r " , " m i d - c e n t e r " ] , _ d e f a u l t I c o n s : [ " s u c c e s s " , " e r r o r " , " i n f o " , " w a r n i n g " ] , i n i t : f u n c t i o n ( b , c ) { t h i s . p r e p a r e O p t i o n s ( b , a . t o a s t . o p t i o n s ) , t h i s . p r o c e s s ( ) } , p r e p a r e O p t i o n s : f u n c t i o n ( b , c ) { v a r   d = { } ; " s t r i n g " = = t y p e o f   b | | b   i n s t a n c e o f   A r r a y ? d . t e x t = b : d = b , t h i s . o p t i o n s = a . e x t e n d ( { } , c , d ) } , p r o c e s s : f u n c t i o n ( ) { t h i s . s e t u p ( ) , t h i s . a d d T o D o m ( ) , t h i s . p o s i t i o n ( ) , t h i s . b i n d T o a s t ( ) , t h i s . a n i m a t e ( ) } , s e t u p : f u n c t i o n ( ) { v a r   b = " " ; i f ( t h i s . _ t o a s t E l = t h i s . _ t o a s t E l | | a ( " < d i v > < / d i v > " , { " c l a s s " : " j q - t o a s t - s i n g l e " } ) , b + = ' < s p a n   c l a s s = " j q - t o a s t - l o a d e r " > < / s p a n > ' , t h i s . o p t i o n s . a l l o w T o a s t C l o s e & & ( b + = ' < s p a n   c l a s s = " c l o s e - j q - t o a s t - s i n g l e " > & t i m e s ; < / s p a n > ' ) , t h i s . o p t i o n s . t e x t   i n s t a n c e o f   A r r a y ) { t h i s . o p t i o n s . h e a d i n g & & ( b + = ' < h 2   c l a s s = " j q - t o a s t - h e a d i n g " > ' + t h i s . o p t i o n s . h e a d i n g + " < / h 2 > " ) , b + = ' < u l   c l a s s = " j q - t o a s t - u l " > ' ; f o r ( v a r   c = 0 ; c < t h i s . o p t i o n s . t e x t . l e n g t h ; c + + ) b + = ' < l i   c l a s s = " j q - t o a s t - l i "   i d = " j q - t o a s t - i t e m - ' + c + ' " > ' + t h i s . o p t i o n s . t e x t [ c ] + " < / l i > " ; b + = " < / u l > " } e l s e   t h i s . o p t i o n s . h e a d i n g & & ( b + = ' < h 2   c l a s s = " j q - t o a s t - h e a d i n g " > ' + t h i s . o p t i o n s . h e a d i n g + " < / h 2 > " ) , b + = t h i s . o p t i o n s . t e x t ; t h i s . _ t o a s t E l . h t m l ( b ) , t h i s . o p t i o n s . b g C o l o r ! = = ! 1 & & t h i s . _ t o a s t E l . c s s ( " b a c k g r o u n d - c o l o r " , t h i s . o p t i o n s . b g C o l o r ) , t h i s . o p t i o n s . t e x t C o l o r ! = = ! 1 & & t h i s . _ t o a s t E l . c s s ( " c o l o r " , t h i s . o p t i o n s . t e x t C o l o r ) , t h i s . o p t i o n s . t e x t A l i g n & & t h i s . _ t o a s t E l . c s s ( " t e x t - a l i g n " , t h i s . o p t i o n s . t e x t A l i g n ) , t h i s . o p t i o n s . i c o n ! = = ! 1 & & ( t h i s . _ t o a s t E l . a d d C l a s s ( " j q - h a s - i c o n " ) , a . i n A r r a y ( t h i s . o p t i o n s . i c o n , t h i s . _ d e f a u l t I c o n s ) ! = = - 1 & & t h i s . _ t o a s t E l . a d d C l a s s ( " j q - i c o n - " + t h i s . o p t i o n s . i c o n ) ) } , p o s i t i o n : f u n c t i o n ( ) { " s t r i n g " = = t y p e o f   t h i s . o p t i o n s . p o s i t i o n & & a . i n A r r a y ( t h i s . o p t i o n s . p o s i t i o n , t h i s . _ p o s i t i o n C l a s s e s ) ! = = - 1 ? " b o t t o m - c e n t e r " = = = t h i s . o p t i o n s . p o s i t i o n ? t h i s . _ c o n t a i n e r . c s s ( { l e f t : a ( b ) . o u t e r W i d t h ( ) / 2 - t h i s . _ c o n t a i n e r . o u t e r W i d t h ( ) / 2 , b o t t o m : 2 0 } ) : " t o p - c e n t e r " = = = t h i s . o p t i o n s . p o s i t i o n ? t h i s . _ c o n t a i n e r . c s s ( { l e f t : a ( b ) . o u t e r W i d t h ( ) / 2 - t h i s . _ c o n t a i n e r . o u t e r W i d t h ( ) / 2 , t o p : 2 0 } ) : " m i d - c e n t e r " = = = t h i s . o p t i o n s . p o s i t i o n ? t h i s . _ c o n t a i n e r . c s s ( { l e f t : a ( b ) . o u t e r W i d t h ( ) / 2 - t h i s . _ c o n t a i n e r . o u t e r W i d t h ( ) / 2 , t o p : a ( b ) . o u t e r H e i g h t ( ) / 2 - t h i s . _ c o n t a i n e r . o u t e r H e i g h t ( ) / 2 } ) : t h i s . _ c o n t a i n e r . a d d C l a s s ( t h i s . o p t i o n s . p o s i t i o n ) : " o b j e c t " = = t y p e o f   t h i s . o p t i o n s . p o s i t i o n ? t h i s . _ c o n t a i n e r . c s s ( { t o p : t h i s . o p t i o n s . p o s i t i o n . t o p ? t h i s . o p t i o n s . p o s i t i o n . t o p : " a u t o " , b o t t o m : t h i s . o p t i o n s . p o s i t i o n . b o t t o m ? t h i s . o p t i o n s . p o s i t i o n . b o t t o m : " a u t o " , l e f t : t h i s . o p t i o n s . p o s i t i o n . l e f t ? t h i s . o p t i o n s . p o s i t i o n . l e f t : " a u t o " , r i g h t : t h i s . o p t i o n s . p o s i t i o n . r i g h t ? t h i s . o p t i o n s . p o s i t i o n . r i g h t : " a u t o " } ) : t h i s . _ c o n t a i n e r . a d d C l a s s ( " b o t t o m - l e f t " ) } , b i n d T o a s t : f u n c t i o n ( ) { v a r   a = t h i s ; t h i s . _ t o a s t E l . o n ( " a f t e r S h o w n " , f u n c t i o n ( ) { a . p r o c e s s L o a d e r ( ) } ) , t h i s . _ t o a s t E l . f i n d ( " . c l o s e - j q - t o a s t - s i n g l e " ) . o n ( " c l i c k " , f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) , " f a d e " = = = a . o p t i o n s . s h o w H i d e T r a n s i t i o n ? ( a . _ t o a s t E l . t r i g g e r ( " b e f o r e H i d e " ) , a . _ t o a s t E l . f a d e O u t ( f u n c t i o n ( ) { a . _ t o a s t E l . t r i g g e r ( " a f t e r H i d d e n " ) } ) ) : " s l i d e " = = = a . o p t i o n s . s h o w H i d e T r a n s i t i o n ? ( a . _ t o a s t E l . t r i g g e r ( " b e f o r e H i d e " ) , a . _ t o a s t E l . s l i d e U p ( f u n c t i o n ( ) { a . _ t o a s t E l . t r i g g e r ( " a f t e r H i d d e n " ) } ) ) : ( a . _ t o a s t E l . t r i g g e r ( " b e f o r e H i d e " ) , a . _ t o a s t E l . h i d e ( f u n c t i o n ( ) { a . _ t o a s t E l . t r i g g e r ( " a f t e r H i d d e n " ) } ) ) } ) , " f u n c t i o n " = = t y p e o f   t h i s . o p t i o n s . b e f o r e S h o w & & t h i s . _ t o a s t E l . o n ( " b e f o r e S h o w " , f u n c t i o n ( ) { a . o p t i o n s . b e f o r e S h o w ( a . _ t o a s t E l ) } ) , " f u n c t i o n " = = t y p e o f   t h i s . o p t i o n s . a f t e r S h o w n & & t h i s . _ t o a s t E l . o n ( " a f t e r S h o w n " , f u n c t i o n ( ) { a . o p t i o n s . a f t e r S h o w n ( a . _ t o a s t E l ) } ) , " f u n c t i o n " = = t y p e o f   t h i s . o p t i o n s . b e f o r e H i d e & & t h i s . _ t o a s t E l . o n ( " b e f o r e H i d e " , f u n c t i o n ( ) { a . o p t i o n s . b e f o r e H i d e ( a . _ t o a s t E l ) } ) , " f u n c t i o n " = = t y p e o f   t h i s . o p t i o n s . a f t e r H i d d e n & & t h i s . _ t o a s t E l . o n ( " a f t e r H i d d e n " , f u n c t i o n ( ) { a . o p t i o n s . a f t e r H i d d e n ( a . _ t o a s t E l ) } ) , " f u n c t i o n " = = t y p e o f   t h i s . o p t i o n s . o n C l i c k & & t h i s . _ t o a s t E l . o n ( " c l i c k " , f u n c t i o n ( ) { a . o p t i o n s . o n C l i c k ( a . _ t o a s t E l ) } ) } , a d d T o D o m : f u n c t i o n ( ) { v a r   b = a ( " . j q - t o a s t - w r a p " ) ; i f ( 0 = = = b . l e n g t h ? ( b = a ( " < d i v > < / d i v > " , { " c l a s s " : " j q - t o a s t - w r a p " } ) , a ( " b o d y " ) . a p p e n d ( b ) ) : t h i s . o p t i o n s . s t a c k & & ! i s N a N ( p a r s e I n t ( t h i s . o p t i o n s . s t a c k , 1 0 ) ) | | b . e m p t y ( ) , b . f i n d ( " . j q - t o a s t - s i n g l e : h i d d e n " ) . r e m o v e ( ) , b . a p p e n d ( t h i s . _ t o a s t E l ) , t h i s . o p t i o n s . s t a c k & & ! i s N a N ( p a r s e I n t ( t h i s . o p t i o n s . s t a c k ) , 1 0 ) ) { v a r   c = b . f i n d ( " . j q - t o a s t - s i n g l e " ) . l e n g t h , d = c - t h i s . o p t i o n s . s t a c k ; d > 0 & & a ( " . j q - t o a s t - w r a p " ) . f i n d ( " . j q - t o a s t - s i n g l e " ) . s l i c e ( 0 , d ) . r e m o v e ( ) } t h i s . _ c o n t a i n e r = b } , c a n A u t o H i d e : f u n c t i o n ( ) { r e t u r n   t h i s . o p t i o n s . h i d e A f t e r ! = = ! 1 & & ! i s N a N ( p a r s e I n t ( t h i s . o p t i o n s . h i d e A f t e r , 1 0 ) ) } , p r o c e s s L o a d e r : f u n c t i o n ( ) { i f ( ! t h i s . c a n A u t o H i d e ( ) | | t h i s . o p t i o n s . l o a d e r = = = ! 1 ) r e t u r n ! 1 ; v a r   a = t h i s . _ t o a s t E l . f i n d ( " . j q - t o a s t - l o a d e r " ) , b = ( t h i s . o p t i o n s . h i d e A f t e r - 4 0 0 ) / 1 e 3 + " s " , c = t h i s . o p t i o n s . l o a d e r B g , d = a . a t t r ( " s t y l e " ) | | " " ; d = d . s u b s t r i n g ( 0 , d . i n d e x O f ( " - w e b k i t - t r a n s i t i o n " ) ) , d + = " - w e b k i t - t r a n s i t i o n :   w i d t h   " + b + "   e a s e - i n ;                                               - o - t r a n s i t i o n :   w i d t h   " + b + "   e a s e - i n ;                                               t r a n s i t i o n :   w i d t h   " + b + "   e a s e - i n ;                                               b a c k g r o u n d - c o l o r :   " + c + " ; " , a . a t t r ( " s t y l e " , d ) . a d d C l a s s ( " j q - t o a s t - l o a d e d " ) } , a n i m a t e : f u n c t i o n ( ) { v a r   a = t h i s ; i f ( t h i s . _ t o a s t E l . h i d e ( ) , t h i s . _ t o a s t E l . t r i g g e r ( " b e f o r e S h o w " ) , " f a d e " = = = t h i s . o p t i o n s . s h o w H i d e T r a n s i t i o n . t o L o w e r C a s e ( ) ? t h i s . _ t o a s t E l . f a d e I n ( f u n c t i o n ( ) { a . _ t o a s t E l . t r i g g e r ( " a f t e r S h o w n " ) } ) : " s l i d e " = = = t h i s . o p t i o n s . s h o w H i d e T r a n s i t i o n . t o L o w e r C a s e ( ) ? t h i s . _ t o a s t E l . s l i d e D o w n ( f u n c t i o n ( ) { a . _ t o a s t E l . t r i g g e r ( " a f t e r S h o w n " ) } ) : t h i s . _ t o a s t E l . s h o w ( f u n c t i o n ( ) { a . _ t o a s t E l . t r i g g e r ( " a f t e r S h o w n " ) } ) , t h i s . c a n A u t o H i d e ( ) ) { v a r   a = t h i s ; b . s e t T i m e o u t ( f u n c t i o n ( ) { " f a d e " = = = a . o p t i o n s . s h o w H i d e T r a n s i t i o n . t o L o w e r C a s e ( ) ? ( a . _ t o a s t E l . t r i g g e r ( " b e f o r e H i d e " ) , a . _ t o a s t E l . f a d e O u t ( f u n c t i o n ( ) { a . _ t o a s t E l . t r i g g e r ( " a f t e r H i d d e n " ) } ) ) : " s l i d e " = = = a . o p t i o n s . s h o w H i d e T r a n s i t i o n . t o L o w e r C a s e ( ) ? ( a . _ t o a s t E l . t r i g g e r ( " b e f o r e H i d e " ) , a . _ t o a s t E l . s l i d e U p ( f u n c t i o n ( ) { a . _ t o a s t E l . t r i g g e r ( " a f t e r H i d d e n " ) } ) ) : ( a . _ t o a s t E l . t r i g g e r ( " b e f o r e H i d e " ) , a . _ t o a s t E l . h i d e ( f u n c t i o n ( ) { a . _ t o a s t E l . t r i g g e r ( " a f t e r H i d d e n " ) } ) ) } , t h i s . o p t i o n s . h i d e A f t e r ) } } , r e s e t : f u n c t i o n ( b ) { " a l l " = = = b ? a ( " . j q - t o a s t - w r a p " ) . r e m o v e ( ) : t h i s . _ t o a s t E l . r e m o v e ( ) } , u p d a t e : f u n c t i o n ( a ) { t h i s . p r e p a r e O p t i o n s ( a , t h i s . o p t i o n s ) , t h i s . s e t u p ( ) , t h i s . b i n d T o a s t ( ) } , c l o s e : f u n c t i o n ( ) { t h i s . _ t o a s t E l . f i n d ( " . c l o s e - j q - t o a s t - s i n g l e " ) . c l i c k ( ) } } ; a . t o a s t = f u n c t i o n ( a ) { v a r   b = O b j e c t . c r e a t e ( e ) ; r e t u r n   b . i n i t ( a , t h i s ) , { r e s e t : f u n c t i o n ( a ) { b . r e s e t ( a ) } , u p d a t e : f u n c t i o n ( a ) { b . u p d a t e ( a ) } , c l o s e : f u n c t i o n ( ) { b . c l o s e ( ) } } } , a . t o a s t . o p t i o n s = { t e x t : " " , h e a d i n g : " " , s h o w H i d e T r a n s i t i o n : " f a d e " , a l l o w T o a s t C l o s e : ! 0 , h i d e A f t e r : 3 e 3 , l o a d e r : ! 0 , l o a d e r B g : " # 9 E C 6 0 0 " , s t a c k : 5 , p o s i t i o n : " b o t t o m - l e f t " , b g C o l o r : ! 1 , t e x t C o l o r : ! 1 , t e x t A l i g n : " l e f t " , i c o n : ! 1 , b e f o r e S h o w : f u n c t i o n ( ) { } , a f t e r S h o w n : f u n c t i o n ( ) { } , b e f o r e H i d e : f u n c t i o n ( ) { } , a f t e r H i d d e n : f u n c t i o n ( ) { } , o n C l i c k : f u n c t i o n ( ) { } } } ( j Q u e r y , w i n d o w , d o c u m e n t ) , f u n c t i o n ( a ) { f o r ( v a r   b = 0 , c = [ " w e b k i t " , " m o z " ] , d = a . r e q u e s t A n i m a t i o n F r a m e , e = a . c a n c e l A n i m a t i o n F r a m e , f = c . l e n g t h ; - - f > = 0 & & ! d ; ) d = a [ c [ f ] + " R e q u e s t A n i m a t i o n F r a m e " ] , e = a [ c [ f ] + " C a n c e l A n i m a t i o n F r a m e " ] ; d & & e | | ( d = f u n c t i o n ( a ) { v a r   c = + n e w   D a t e , d = M a t h . m a x ( b + 1 6 , c ) ; r e t u r n   s e t T i m e o u t ( f u n c t i o n ( ) { a ( b = d ) } , d - c ) } , e = c l e a r T i m e o u t ) , a . r e q u e s t A n i m a t i o n F r a m e = d , a . c a n c e l A n i m a t i o n F r a m e = e } ( w i n d o w ) , f u n c t i o n ( a ) { f u n c t i o n   b ( a ) { t h r o w   n e w   R a n g e E r r o r ( E [ a ] ) } f u n c t i o n   c ( a , b ) { f o r ( v a r   c = a . l e n g t h , d = [ ] ; c - - ; ) d [ c ] = b ( a [ c ] ) ; r e t u r n   d } f u n c t i o n   d ( a , b ) { v a r   d = a . s p l i t ( " @ " ) , e = " " ; d . l e n g t h > 1 & & ( e = d [ 0 ] + " @ " , a = d [ 1 ] ) , a = a . r e p l a c e ( D , " . " ) ; v a r   f = a . s p l i t ( " . " ) , g = c ( f , b ) . j o i n ( " . " ) ; r e t u r n   e + g } f u n c t i o n   e ( a ) { f o r ( v a r   b , c , d = [ ] , e = 0 , f = a . l e n g t h ; e < f ; ) b = a . c h a r C o d e A t ( e + + ) , b > = 5 5 2 9 6 & & b < = 5 6 3 1 9 & & e < f ? ( c = a . c h a r C o d e A t ( e + + ) , 5 6 3 2 0 = = ( 6 4 5 1 2 & c ) ? d . p u s h ( ( ( 1 0 2 3 & b ) < < 1 0 ) + ( 1 0 2 3 & c ) + 6 5 5 3 6 ) : ( d . p u s h ( b ) , e - - ) ) : d . p u s h ( b ) ; r e t u r n   d } f u n c t i o n   f ( a ) { r e t u r n   c ( a , f u n c t i o n ( a ) { v a r   b = " " ; r e t u r n   a > 6 5 5 3 5 & & ( a - = 6 5 5 3 6 , b + = H ( a > > > 1 0 & 1 0 2 3 | 5 5 2 9 6 ) , a = 5 6 3 2 0 | 1 0 2 3 & a ) , b + = H ( a ) } ) . j o i n ( " " ) } f u n c t i o n   g ( a ) { r e t u r n   a - 4 8 < 1 0 ? a - 2 2 : a - 6 5 < 2 6 ? a - 6 5 : a - 9 7 < 2 6 ? a - 9 7 : t } f u n c t i o n   h ( a , b ) { r e t u r n   a + 2 2 + 7 5 * ( a < 2 6 ) - ( ( 0 ! = b ) < < 5 ) } f u n c t i o n   i ( a , b , c ) { v a r   d = 0 ; f o r ( a = c ? G ( a / x ) : a > > 1 , a + = G ( a / b ) ; a > F * v > > 1 ; d + = t ) a = G ( a / F ) ; r e t u r n   G ( d + ( F + 1 ) * a / ( a + w ) ) } f u n c t i o n   j ( a ) { v a r   c , d , e , h , j , k , l , m , n , o , p = [ ] , q = a . l e n g t h , r = 0 , w = z , x = y ; f o r ( d = a . l a s t I n d e x O f ( A ) , d < 0 & & ( d = 0 ) , e = 0 ; e < d ; + + e ) a . c h a r C o d e A t ( e ) > = 1 2 8 & & b ( " n o t - b a s i c " ) , p . p u s h ( a . c h a r C o d e A t ( e ) ) ; f o r ( h = d > 0 ? d + 1 : 0 ; h < q ; ) { f o r ( j = r , k = 1 , l = t ; h > = q & & b ( " i n v a l i d - i n p u t " ) , m = g ( a . c h a r C o d e A t ( h + + ) ) , ( m > = t | | m > G ( ( s - r ) / k ) ) & & b ( " o v e r f l o w " ) , r + = m * k , n = l < = x ? u : l > = x + v ? v : l - x , ! ( m < n ) ; l + = t ) o = t - n , k > G ( s / o ) & & b ( " o v e r f l o w " ) , k * = o ; c = p . l e n g t h + 1 , x = i ( r - j , c , 0 = = j ) , G ( r / c ) > s - w & & b ( " o v e r f l o w " ) , w + = G ( r / c ) , r % = c , p . s p l i c e ( r + + , 0 , w ) } r e t u r n   f ( p ) } f u n c t i o n   k ( a ) { v a r   c , d , f , g , j , k , l , m , n , o , p , q , r , w , x , B = [ ] ; f o r ( a = e ( a ) , q = a . l e n g t h , c = z , d = 0 , j = y , k = 0 ; k < q ; + + k ) p = a [ k ] , p < 1 2 8 & & B . p u s h ( H ( p ) ) ; f o r ( f = g = B . l e n g t h , g & & B . p u s h ( A ) ; f < q ; ) { f o r ( l = s , k = 0 ; k < q ; + + k ) p = a [ k ] , p > = c & & p < l & & ( l = p ) ; f o r ( r = f + 1 , l - c > G ( ( s - d ) / r ) & & b ( " o v e r f l o w " ) , d + = ( l - c ) * r , c = l , k = 0 ; k < q ; + + k ) i f ( p = a [ k ] , p < c & & + + d > s & & b ( " o v e r f l o w " ) , p = = c ) { f o r ( m = d , n = t ; o = n < = j ? u : n > = j + v ? v : n - j , ! ( m < o ) ; n + = t ) x = m - o , w = t - o , B . p u s h ( H ( h ( o + x % w , 0 ) ) ) , m = G ( x / w ) ; B . p u s h ( H ( h ( m , 0 ) ) ) , j = i ( d , r , f = = g ) , d = 0 , + + f } + + d , + + c } r e t u r n   B . j o i n ( " " ) } f u n c t i o n   l ( a ) { r e t u r n   d ( a , f u n c t i o n ( a ) { r e t u r n   B . t e s t ( a ) ? j ( a . s l i c e ( 4 ) . t o L o w e r C a s e ( ) ) : a } ) } f u n c t i o n   m ( a ) { r e t u r n   d ( a , f u n c t i o n ( a ) { r e t u r n   C . t e s t ( a ) ? " x n - - " + k ( a ) : a } ) } v a r   n = " o b j e c t " = = t y p e o f   e x p o r t s & & e x p o r t s & & ! e x p o r t s . n o d e T y p e & & e x p o r t s , o = " o b j e c t " = = t y p e o f   m o d u l e & & m o d u l e & & ! m o d u l e . n o d e T y p e & & m o d u l e , p = " o b j e c t " = = t y p e o f   g l o b a l & & g l o b a l ; p . g l o b a l ! = = p & & p . w i n d o w ! = = p & & p . s e l f ! = = p | | ( a = p ) ; v a r   q , r , s = 2 1 4 7 4 8 3 6 4 7 , t = 3 6 , u = 1 , v = 2 6 , w = 3 8 , x = 7 0 0 , y = 7 2 , z = 1 2 8 , A = " - " , B = / ^ x n - - / , C = / [ ^ \ x 2 0 - \ x 7 E ] / , D = / [ \ x 2 E \ u 3 0 0 2 \ u F F 0 E \ u F F 6 1 ] / g , E = { o v e r f l o w : " O v e r f l o w :   i n p u t   n e e d s   w i d e r   i n t e g e r s   t o   p r o c e s s " , " n o t - b a s i c " : " I l l e g a l   i n p u t   > =   0 x 8 0   ( n o t   a   b a s i c   c o d e   p o i n t ) " , " i n v a l i d - i n p u t " : " I n v a l i d   i n p u t " } , F = t - u , G = M a t h . f l o o r , H = S t r i n g . f r o m C h a r C o d e ; i f ( q = { v e r s i o n : " 1 . 4 . 1 " , u c s 2 : { d e c o d e : e , e n c o d e : f } , d e c o d e : j , e n c o d e : k , t o A S C I I : m , t o U n i c o d e : l } , " f u n c t i o n " = = t y p e o f   d e f i n e & & " o b j e c t " = = t y p e o f   d e f i n e . a m d & & d e f i n e . a m d ) d e f i n e ( " p u n y c o d e " , f u n c t i o n ( ) { r e t u r n   q } ) ; e l s e   i f ( n & & o ) i f ( m o d u l e . e x p o r t s = = n ) o . e x p o r t s = q ; e l s e   f o r ( r   i n   q ) q . h a s O w n P r o p e r t y ( r ) & & ( n [ r ] = q [ r ] ) ; e l s e   a . p u n y c o d e = q } ( t h i s ) , N a m e s p a c e ( " I m g u r . H i s t o r y " ) , I m g u r . H i s t o r y = C l a s s . e x t e n d ( { i n i t : f u n c t i o n ( a ) { t h i s . _ = $ . e x t e n d ( { p o p S t a t e s : { } } , a ) , t h i s . o n P o p S t a t e ( ) } , o n P o p S t a t e : f u n c t i o n ( ) { v a r   a = t h i s ; w i n d o w . o n p o p s t a t e = f u n c t i o n ( b ) { t r y { a . _ . p o p S t a t e s [ b . s t a t e ] . c a l l ( t h i s , b ) } c a t c h ( c ) { } } } , a d d P o p S t a t e : f u n c t i o n ( a , b ) { t h i s . _ . p o p S t a t e s [ a ] = b } , r e m o v e P o p S t a t e : f u n c t i o n ( a ) { d e l e t e   t h i s . _ . p o p S t a t e s [ a ] } , a d d W i n d o w S t a t e : f u n c t i o n ( a , b , c ) { i f ( w i n d o w . h i s t o r y . r e p l a c e S t a t e ) { w i n d o w . h i s t o r y . s t a t e | | w i n d o w . h i s t o r y . r e p l a c e S t a t e ( a , " i n i t i a l " , w i n d o w . l o c a t i o n . h r e f ) ; v a r   d = { s t a t e : w i n d o w . h i s t o r y . s t a t e , t i t l e : d o c u m e n t . t i t l e , u r l : w i n d o w . l o c a t i o n . h r e f } , e = { s t a t e : a , t i t l e : b , u r l : c } ; w i n d o w . h i s t o r y . p u s h S t a t e ( a , b , c ) ; v a r   f = $ . E v e n t ( " p u s h s t a t e " ) ; f . p r e v i o u s S t a t e = d , f . c u r r e n t S t a t e = e , $ ( w i n d o w ) . t r i g g e r ( f ) } } } ) , C l a s s . a d d S i n g l e t o n ( I m g u r . H i s t o r y ) , N a m e s p a c e ( " I m g u r . I n f i n i t e S c r o l l " ) , I m g u r . I n f i n i t e S c r o l l = C l a s s . e x t e n d ( { i n i t : f u n c t i o n ( a ) { t h i s . _ = $ . e x t e n d ( ! 0 , { s p e e d : 2 0 0 , h e i g h t : 3 0 0 , c o n t : ! 0 , c a l c R i g h t : ! 0 } , a ) } , l e v e l R e a c h e d : f u n c t i o n ( ) { v a r   a = M a t h . m a x ( d o c u m e n t . b o d y . s c r o l l H e i g h t | | d o c u m e n t . b o d y . o f f s e t H e i g h t ) , b = w i n d o w . i n n e r H e i g h t | | d o c u m e n t . d o c u m e n t E l e m e n t . c l i e n t H e i g h t | | d o c u m e n t . b o d y . c l i e n t H e i g h t | | 0 , c = w i n d o w . p a g e Y O f f s e t | | d o c u m e n t . d o c u m e n t E l e m e n t . s c r o l l T o p | | d o c u m e n t . b o d y . s c r o l l T o p | | 0 ; r e t u r n   t h i s . _ . c a l c R i g h t | | ( a - = $ ( " # c o n t e n t " ) . c h i l d r e n ( " . r i g h t " ) . h e i g h t ( ) ) , ! ( a < = 0 ) & & a - b - c < t h i s . _ . h e i g h t } , s t o p I n f i n i t e S c r o l l : f u n c t i o n ( ) { t h i s . _ . c o n t = ! 1 } , c o n t i n u e I n f i n i t e S c r o l l : f u n c t i o n ( ) { t h i s . _ . c o n t = ! 0 } , i n f i n i t e S c r o l l : f u n c t i o n ( a ) { t h i s . l e v e l R e a c h e d ( ) ? t h i s . _ . c o n t & & a . c a l l ( ) : t h i s . _ . c o n t & & t h i s . p o l l L e v e l ( a ) } , p o l l L e v e l : f u n c t i o n ( a ) { v a r   b = t h i s ; s e t T i m e o u t ( f u n c t i o n ( ) { b . i n f i n i t e S c r o l l ( a ) } , t h i s . _ . s p e e d ) } } ) , C l a s s . a d d S i n g l e t o n ( I m g u r . I n f i n i t e S c r o l l ) , N a m e s p a c e ( " I m g u r . U t i l i t i e s . C o l o r b o x C o n f i r m " ) , I m g u r . U t i l i t i e s . C o l o r b o x C o n f i r m = C l a s s . e x t e n d ( { i n i t : f u n c t i o n ( a ) { t h i s . _ = $ . e x t e n d ( ! 0 , { e l : { $ c o n f i r m a t i o n : $ ( " . c o l o r b o x - c o n f i r m " ) , $ n o C o n f i r m : $ ( " . c o l o r b o x - n o - c o n f i r m " ) , c o n f i r m e d : " c o l o r b o x - c o n f i r m e d " } } , a ) , t h i s . s e t u p H a n d l e r s ( ) } , s e t u p H a n d l e r s : f u n c t i o n ( ) { t h i s . _ . e l . $ c o n f i r m a t i o n . u n b i n d ( " c l i c k " ) , t h i s . _ . e l . $ n o C o n f i r m . u n b i n d ( " c l i c k " ) ; v a r   a = t h i s ; t h i s . _ . e l . $ c o n f i r m a t i o n . c l i c k ( f u n c t i o n ( ) { $ ( " . " + a . _ . e l . c o n f i r m e d ) . v a l ( ! 0 ) , $ . c o l o r b o x . c l o s e ( ) } ) , t h i s . _ . e l . $ n o C o n f i r m . c l i c k ( f u n c t i o n ( ) { $ . c o l o r b o x . c l o s e ( ) } ) } , s h o w : f u n c t i o n ( a , b ) { v a r   c = t h i s ; $ . c o l o r b o x ( { h r e f : $ ( a ) , o p e n : ! 0 , i n l i n e : ! 0 , t o p : " 1 5 % " , t r a n s i t i o n : " n o n e " , s c r o l l i n g : ! 1 , o n C o m p l e t e : f u n c t i o n ( ) { c . o n C o m p l e t e ( a ) } , o n C l o s e d : f u n c t i o n ( ) { c . o n C l o s e ( a , b ) } } ) } , o n C o m p l e t e : f u n c t i o n ( a ) { w i n d o w . g e t S e l e c t i o n ? w i n d o w . g e t S e l e c t i o n ( ) . r e m o v e A l l R a n g e s ( ) : d o c u m e n t . s e l e c t i o n & & d o c u m e n t . s e l e c t i o n . e m p t y ( ) ; v a r   b = $ ( a ) . c h i l d r e n ( " . " + t h i s . _ . e l . c o n f i r m e d ) ; b . l e n g t h | | ( b = $ ( " < i n p u t / > " , { t y p e : " h i d d e n " , " c l a s s " : t h i s . _ . e l . c o n f i r m e d } ) , $ ( a ) . a p p e n d ( b ) ) , b . v a l ( ! 1 ) } , o n C l o s e : f u n c t i o n ( a , b ) { v a r   c = $ ( a ) . c h i l d r e n ( " . " + t h i s . _ . e l . c o n f i r m e d ) ; " f a l s e " ! = = c . v a l ( ) & & b . c a l l ( ) } } ) , C l a s s . a d d S i n g l e t o n ( I m g u r . U t i l i t i e s . C o l o r b o x C o n f i r m ) , N a m e s p a c e ( " I m g u r . U t i l " ) , I m g u r . U t i l . B a s e 6 4 = { P A D C H A R : " = " , A L P H A : " A B C D E F G H I J K L M N O P Q R S T U V W X Y Z a b c d e f g h i j k l m n o p q r s t u v w x y z 0 1 2 3 4 5 6 7 8 9 + / " , g e t b y t e 6 4 : f u n c t i o n ( a , b ) { v a r   c = I m g u r . U t i l . B a s e 6 4 . A L P H A . i n d e x O f ( a . c h a r A t ( b ) ) ; i f ( c = = - 1 ) t h r o w " C a n n o t   d e c o d e   b a s e 6 4 " ; r e t u r n   c } , g e t b y t e : f u n c t i o n ( a , b ) { v a r   c = a . c h a r C o d e A t ( b ) ; i f ( c > 2 5 5 ) t h r o w " I N V A L I D _ C H A R A C T E R _ E R R :   D O M   E x c e p t i o n   5 " ; r e t u r n   c } , e n c o d e : f u n c t i o n ( a ) { i f ( 1 ! = a r g u m e n t s . l e n g t h ) t h r o w " S y n t a x E r r o r :   N o t   e n o u g h   a r g u m e n t s " ; v a r   b , c , d = I m g u r . U t i l . B a s e 6 4 . P A D C H A R , e = I m g u r . U t i l . B a s e 6 4 . A L P H A , f = I m g u r . U t i l . B a s e 6 4 . g e t b y t e , g = [ ] ; a = " " + a ; v a r   h = a . l e n g t h - a . l e n g t h % 3 ; i f ( 0 = = a . l e n g t h ) r e t u r n   a ; f o r ( b = 0 ; b < h ; b + = 3 ) c = f ( a , b ) < < 1 6 | f ( a , b + 1 ) < < 8 | f ( a , b + 2 ) , g . p u s h ( e . c h a r A t ( c > > 1 8 ) ) , g . p u s h ( e . c h a r A t ( c > > 1 2 & 6 3 ) ) , g . p u s h ( e . c h a r A t ( c > > 6 & 6 3 ) ) , g . p u s h ( e . c h a r A t ( 6 3 & c ) ) ; s w i t c h ( a . l e n g t h - h ) { c a s e   1 : c = f ( a , b ) < < 1 6 , g . p u s h ( e . c h a r A t ( c > > 1 8 ) + e . c h a r A t ( c > > 1 2 & 6 3 ) + d + d ) ; b r e a k ; c a s e   2 : c = f ( a , b ) < < 1 6 | f ( a , b + 1 ) < < 8 , g . p u s h ( e . c h a r A t ( c > > 1 8 ) + e . c h a r A t ( c > > 1 2 & 6 3 ) + e . c h a r A t ( c > > 6 & 6 3 ) + d ) } r e t u r n   g . j o i n ( " " ) } , d e c o d e : f u n c t i o n ( a ) { a = " " + a ; v a r   b , c , d , e = I m g u r . U t i l . B a s e 6 4 . g e t b y t e 6 4 , f = a . l e n g t h ; i f ( 0 = = f ) r e t u r n   a ; i f ( f % 4 ! = 0 ) t h r o w " C a n n o t   d e c o d e   b a s e 6 4 " ; b = 0 , a . c h a r A t ( f - 1 ) = = I m g u r . U t i l . B a s e 6 4 . P A D C H A R & & ( b = 1 , a . c h a r A t ( f - 2 ) = = I m g u r . U t i l . B a s e 6 4 . P A D C H A R & & ( b = 2 ) , f - = 4 ) ; v a r   g = [ ] ; f o r ( c = 0 ; c < f ; c + = 4 ) d = e ( a , c ) < < 1 8 | e ( a , c + 1 ) < < 1 2 | e ( a , c + 2 ) < < 6 | e ( a , c + 3 ) , g . p u s h ( S t r i n g . f r o m C h a r C o d e ( d > > 1 6 , d > > 8 & 2 5 5 , 2 5 5 & d ) ) ; s w i t c h ( b ) { c a s e   1 : d = e ( a , c ) < < 1 8 | e ( a , c + 1 ) < < 1 2 | e ( a , c + 2 ) < < 6 , g . p u s h ( S t r i n g . f r o m C h a r C o d e ( d > > 1 6 , d > > 8 & 2 5 5 ) ) ; b r e a k ; c a s e   2 : d = e ( a , c ) < < 1 8 | e ( a , c + 1 ) < < 1 2 , g . p u s h ( S t r i n g . f r o m C h a r C o d e ( d > > 1 6 ) ) } r e t u r n   g . j o i n ( " " ) } } , N a m e s p a c e ( " I m g u r . U t i l i t i e s . E m b e d " ) , I m g u r . U t i l i t i e s . E m b e d = { e l C o l o r b o x E m b e d : f u n c t i o n ( ) { r e t u r n { i d : " # e m b e d - p o s t " , f o r m : $ ( " # n e w - e m b e d - p o s t " ) , c h e c k b o x : $ ( " # d a t a - c o n t e x t " ) , e m b e d C o d e I n p u t : $ ( " # n e w - e m b e d - p o s t   # e m b e d c o d e " ) , c l i p b o a r d L i n k : $ ( " # n e w - e m b e d - p o s t   # e m b e d - c l i p b o a r d - l i n k " ) , c l i p b o a r d C o n t a i n e r : $ ( " # n e w - e m b e d - p o s t   . c l i p b o a r d - c o n t a i n e r " ) , p r e v i e w : $ ( " # e m b e d - p r e v i e w " ) , o l d E m b e d : $ ( " # o l d - e m b e d - v i e w " ) } } , e l E m b e d A l b u m F o r m : f u n c t i o n ( ) { r e t u r n { i d : " # e m b e d - a l b u m - f o r m " , f o r m : $ ( " # e m b e d - a l b u m - f o r m " ) , e m b e d C o d e I n p u t : $ ( " # e m b e d - a l b u m - f o r m   # e m b e d c o d e " ) , e m b e d C o d e P r e v i e w : $ ( " # e m b e d - a l b u m - f o r m   # e m b e d c o d e P r e v i e w   a " ) , c l i p b o a r d C o n t a i n e r : $ ( " # e m b e d - a l b u m - f o r m   . c l i p b o a r d - c o n t a i n e r " ) , n e w E m b e d : $ ( " # n e w - e m b e d - v i e w " ) , h a s h R e g e x : n e w   R e g E x p ( " / a / ( . * ? ) / " ) } } , e m b e d M o d a l : f u n c t i o n ( ) { I m g u r . U t i l i t i e s . E m b e d . s e t u p E m b e d I m a g e . c a l l ( t h i s ) , t h i s . _ . e l . c o l o r b o x E m b e d . f o r m . r e m o v e C l a s s ( " n o d i s p l a y " ) , t h i s . _ . e l . e m b e d A l b u m F o r m . f o r m . a d d C l a s s ( " n o d i s p l a y " ) , t h i s . _ . e l . c o l o r b o x E m b e d . o l d E m b e d . a d d C l a s s ( " n o d i s p l a y " ) , t h i s . _ . e l . c o l o r b o x E m b e d . c h e c k b o x . c h a n g e ( _ . p a r t i a l ( I m g u r . U t i l i t i e s . E m b e d . o n E m b e d C h e c k b o x C l i c k , t h i s ) ) , $ . c o l o r b o x ( { h r e f : t h i s . _ . e l . c o l o r b o x E m b e d . i d , o p e n : ! 0 , w i d t h : " 5 8 0 p x " , i n l i n e : ! 0 , t o p : " 1 5 % " , c l a s s N a m e : " e m b e d - p o s t - c o l o r b o x " , t r a n s i t i o n : " n o n e " , s c r o l l i n g : ! 1 , o n C o m p l e t e : _ . b i n d ( I m g u r . U t i l i t i e s . E m b e d . b i n d E m b e d I m a g e , t h i s ) } ) } , g e t P o s t M e t a d a t a : f u n c t i o n ( ) { v a r   a = { e v e n t : " o p e n E m b e d M o d a l " } ; i f ( t h i s . i m g u r I n s i d e N a v ) { v a r   b = t h i s . i m g u r I n s i d e N a v . g e t H a s h ( ) ; 
 i f ( b ) { v a r   c = t h i s . i m g u r I n s i d e N a v . _ . s i d e G a l l e r y . g e t I m a g e ( b ) ; r e t u r n   c | | ( c = t h i s . _ . i m a g e ) , t h i s . _ . a l b u m = c . i s _ a l b u m ? c : { } , I m g u r . U t i l . j a f o L o g ( _ . e x t e n d ( a , { m e t a : { i n G a l l e r y : ! ! _ . i s N u m b e r ( c . c o m m e n t _ c o u n t ) , h a s h : b , i s A l b u m : ! ! c . i s _ a l b u m , n s f w : ! ! c . n s f w , c o n t r o l : " p o s t O p t i o n s " } } ) ) , { i d : ( c . i s _ a l b u m ? " a / " : " " ) + b , t i t l e : c . i s _ a l b u m ? c . t i t l e : c . d e s c r i p t i o n } } } r e t u r n   I m g u r . U t i l . j a f o L o g ( _ . e x t e n d ( a , { m e t a : { i n G a l l e r y : ! 1 , h a s h : t h i s . _ . a l b u m . i d | | t h i s . _ . i d , i s A l b u m : ! 0 , n s f w : ! 1 , c o n t r o l : " a l b u m O p t i o n s " } } ) ) , { i d : " a / " + ( t h i s . _ . a l b u m . i d | | t h i s . _ . i d ) , t i t l e : t h i s . _ . a l b u m . t i t l e } } , g e t S n i p p e t : f u n c t i o n ( a , b , c , d ) { v a r   e = I m g u r . E n v i r o n m e n t . h o s t , f = ( " i m g u r . c o m " = = = e ? " s . i m g u r . c o m / m i n " : e + " / i n c l u d e / m i n i f i e d " ) + " / e m b e d . j s " , g = c = = = ! 1 ? '   d a t a - c o n t e x t = " ' + c + ' " ' : " " , h = d ? " " : '   d a t a - a n a l y t i c s = " f a l s e " ' ; r e t u r n ' < b l o c k q u o t e   c l a s s = " i m g u r - e m b e d - p u b "   l a n g = " e n "   d a t a - i d = " ' + a + ' " ' + g + h + ' > < a   h r e f = " / / ' + e + " / " + a + ' " > ' + _ . e s c a p e ( b ) + ' < / a > < / b l o c k q u o t e > < s c r i p t   a s y n c   s r c = " / / ' + f + ' "   c h a r s e t = " u t f - 8 " > < / s c r i p t > ' } , b i n d E m b e d I m a g e : f u n c t i o n ( a ) { t h i s . _ . a l b u m = t h i s . _ . a l b u m | | { } ; v a r   b = I m g u r . U t i l i t i e s . E m b e d . g e t P o s t M e t a d a t a . c a l l ( t h i s ) ; b . t i t l e | | ( b . t i t l e = " V i e w   p o s t   o n   i m g u r . c o m " ) ; v a r   c = I m g u r . U t i l i t i e s . E m b e d . g e t S n i p p e t ( b . i d , b . t i t l e , a , ! 0 ) ; i f ( t h i s . _ . e l . c o l o r b o x E m b e d . p r e v i e w . h t m l ( I m g u r . U t i l i t i e s . E m b e d . g e t S n i p p e t ( b . i d , b . t i t l e , a , ! 1 ) ) , t h i s . _ . e l . c o l o r b o x E m b e d . e m b e d C o d e I n p u t . v a l ( c ) , f l a s h E l e m e n t ( t h i s . _ . e l . c o l o r b o x E m b e d . e m b e d C o d e I n p u t ) , I m g u r . U t i l i t i e s . E m b e d . i n i t E m b e d C l i p b o a r d . c a l l ( t h i s , t h i s . _ . e l . c o l o r b o x E m b e d . c l i p b o a r d C o n t a i n e r ) , ! t h i s . _ . v a r s . n e w E m b e d A l b u m F o r m L o a d e d ) { t h i s . _ . e l . c o l o r b o x E m b e d . e m b e d C o d e I n p u t . f o c u s ( ) , _ . d e f e r ( _ . b i n d ( t h i s . _ . e l . c o l o r b o x E m b e d . e m b e d C o d e I n p u t . s e l e c t A l l , t h i s ) ) ; t r y { t h i s . _ . v a r s . e m b e d C l i p b o a r d . g l u e ( " n e w - e m b e d c o d e - c l i p b o a r d " , " n e w - e m b e d c o d e - c o n t a i n e r " ) , t h i s . _ . v a r s . e m b e d C l i p b o a r d . a d d E v e n t L i s t e n e r ( " o n M o u s e U p " , _ . b i n d ( f u n c t i o n ( ) { t h i s . _ . v a r s . e m b e d C l i p b o a r d . s e t T e x t ( t h i s . _ . e l . c o l o r b o x E m b e d . e m b e d C o d e I n p u t . v a l ( ) ) } , t h i s ) ) , t h i s . _ . v a r s . n e w E m b e d A l b u m F o r m L o a d e d = ! 0 } c a t c h ( d ) { } } $ . c o l o r b o x . r e s i z e ( ) } , v i e w O l d E m b e d : f u n c t i o n ( ) { v a r   a ; i f ( t h i s . _ . e l . c o l o r b o x E m b e d . f o r m . a d d C l a s s ( " n o d i s p l a y " ) , t h i s . _ . e l . e m b e d A l b u m F o r m . f o r m . r e m o v e C l a s s ( " n o d i s p l a y " ) , a = " / g a l l e r y " = = = t h i s . _ . b a s e U R L ? t h i s . i m g u r I n s i d e N a v . g e t H a s h ( ) : t h i s . _ . a l b u m . i d | | t h i s . _ . i d , I m g u r . U t i l i t i e s . E m b e d . s e t E m b e d U r l . c a l l ( t h i s , " / / " + t h i s . _ . h o s t + " / a / " + a + " / e m b e d " ) , t h i s . _ . e l . e m b e d A l b u m F o r m . n e w E m b e d . c l i c k ( _ . b i n d ( f u n c t i o n ( ) { t h i s . _ . e l . c o l o r b o x E m b e d . f o r m . r e m o v e C l a s s ( " n o d i s p l a y " ) , t h i s . _ . e l . e m b e d A l b u m F o r m . f o r m . a d d C l a s s ( " n o d i s p l a y " ) , I m g u r . U t i l i t i e s . E m b e d . i n i t E m b e d C l i p b o a r d . c a l l ( t h i s , t h i s . _ . e l . c o l o r b o x E m b e d . c l i p b o a r d C o n t a i n e r ) , $ . c o l o r b o x . r e s i z e ( ) } , t h i s ) ) , I m g u r . U t i l i t i e s . E m b e d . i n i t E m b e d C l i p b o a r d . c a l l ( t h i s , t h i s . _ . e l . e m b e d A l b u m F o r m . c l i p b o a r d C o n t a i n e r ) , f l a s h E l e m e n t ( t h i s . _ . e l . e m b e d A l b u m F o r m . e m b e d C o d e I n p u t ) , I m g u r . U t i l . j a f o L o g ( { e v e n t : " o l d E m b e d " , m e t a : { h a s h : t h i s . _ . i d } } ) , I m g u r . U t i l i t i e s . E m b e d . s e t E m b e d C o d e . c a l l ( t h i s ) , ! t h i s . _ . v a r s . e m b e d A l b u m F o r m L o a d e d ) { t h i s . _ . e l . e m b e d A l b u m F o r m . e m b e d C o d e I n p u t . f o c u s ( ) , s e t T i m e o u t ( _ . b i n d ( f u n c t i o n ( ) { t h i s . _ . e l . e m b e d A l b u m F o r m . e m b e d C o d e I n p u t . s e l e c t A l l ( ) } , t h i s ) , 1 0 ) ; t r y { t h i s . _ . v a r s . e m b e d C l i p b o a r d . g l u e ( " e m b e d c o d e - c l i p b o a r d " , " e m b e d c o d e - c o n t a i n e r " ) , t h i s . _ . v a r s . e m b e d C l i p b o a r d . a d d E v e n t L i s t e n e r ( " o n M o u s e U p " , _ . b i n d ( f u n c t i o n ( ) { t h i s . _ . v a r s . e m b e d C l i p b o a r d . s e t T e x t ( t h i s . _ . e l . e m b e d A l b u m F o r m . e m b e d C o d e I n p u t . v a l ( ) ) } , t h i s ) ) , t h i s . _ . v a r s . e m b e d A l b u m F o r m L o a d e d = ! 0 } c a t c h ( b ) { } } $ . c o l o r b o x . r e s i z e ( ) } , s e t u p E m b e d I m a g e : f u n c t i o n ( ) { v a r   a = w i n d o w . a d d E v e n t L i s t e n e r ? " a d d E v e n t L i s t e n e r " : " a t t a c h E v e n t " , b = w i n d o w [ a ] , c = " a t t a c h E v e n t " = = a ? " o n m e s s a g e " : " m e s s a g e " ; b ( c , _ . b i n d ( f u n c t i o n ( a ) { v a r   b = J S O N . p a r s e ( a . d a t a ) ; " r e s i z e _ i m g u r " = = = b . m e s s a g e & & ( t h i s . _ . a l b u m . i d & & ( t h i s . _ . e l . c o l o r b o x E m b e d . o l d E m b e d . r e m o v e C l a s s ( " n o d i s p l a y " ) , t h i s . _ . e l . c o l o r b o x E m b e d . o l d E m b e d . c l i c k ( _ . b i n d ( I m g u r . U t i l i t i e s . E m b e d . v i e w O l d E m b e d , t h i s ) ) ) , t h i s . _ . e l . c o l o r b o x E m b e d . p r e v i e w . c s s ( " h e i g h t " , b . h e i g h t + " p x " ) , $ ( " . i m g u r - e m b e d - i f r a m e - p u b " ) . h e i g h t = b . h e i g h t + " p x " , 0 = = = $ ( " . c b o x I f r a m e " ) . l e n g t h & & $ . c o l o r b o x . r e s i z e ( ) ) } , t h i s ) , ! 1 ) } , o n E m b e d C h e c k b o x C l i c k : f u n c t i o n ( a ) { $ ( t h i s ) . i s ( " : c h e c k e d " ) ? I m g u r . U t i l i t i e s . E m b e d . b i n d E m b e d I m a g e . c a l l ( a , ! 1 ) : I m g u r . U t i l i t i e s . E m b e d . b i n d E m b e d I m a g e . c a l l ( a ) } , i n i t E m b e d : f u n c t i o n ( ) { I m g u r . U t i l i t i e s . E m b e d . s e t u p E m b e d C s s . c a l l ( t h i s ) , t h i s . _ . e l . l a y o u t . g l o b a l . t h u m b s C a r o u s e l C o n t a i n e r . l e n g t h & & t h i s . i n i t T h u m b s C a r o u s e l ( ) , t h i s . i n i t M a i n C a r o u s e l ( ) , I m g u r . U t i l i t i e s . E m b e d . s e t u p E m b e d S c r e e n . c a l l ( t h i s ) , $ ( w i n d o w ) . r e s i z e ( _ . b i n d ( f u n c t i o n ( ) { I m g u r . U t i l i t i e s . E m b e d . s e t u p E m b e d C s s . c a l l ( t h i s ) , I m g u r . U t i l i t i e s . E m b e d . s e t u p E m b e d S c r e e n . c a l l ( t h i s ) } , t h i s ) ) } , s e t u p E m b e d C s s : f u n c t i o n ( ) { $ ( " h e a d " ) . a p p e n d ( " < s t y l e > . m a i n - c a r o u s e l   u l   l i   {   w i d t h :   " + $ ( " . e m b e d " ) . p a r e n t ( ) . w i d t h ( ) + " p x ;   } < / s t y l e > " ) , t h i s . _ . v a r s . b o d y H e i g h t = $ ( " . e m b e d " ) . p a r e n t ( ) . h e i g h t ( ) ; v a r   a = I m g u r . U t i l . g e t Q u e r y P a r a m s ( w i n d o w . l o c a t i o n . s e a r c h ) , b = $ ( _ . t e m p l a t e s [ " a l b u m . e m b e d S t y l e s " ] ( { b a c k g r o u n d : a . b a c k g r o u n d , t e x t : a . t e x t , l i n k : a . l i n k } ) ) ; t h i s . c h o o s e L o g o C o l o r ( a . b a c k g r o u n d ) & & t h i s . _ . e l . l a y o u t . e m b e d . o f f s i t e . a d d C l a s s ( " l i g h t " ) , b . a p p e n d T o ( " h e a d " ) } , s e t u p E m b e d S c r e e n : f u n c t i o n ( ) { v a r   a = $ ( " . e m b e d " ) . p a r e n t ( ) . w i d t h ( ) , b = $ ( " . e m b e d " ) . p a r e n t ( ) . h e i g h t ( ) , c = 1 , d = ! 0 ; t h i s . _ . e l . l a y o u t . g l o b a l . t h u m b s C a r o u s e l C o n t a i n e r . l e n g t h ? c + = t h i s . _ . e l . l a y o u t . g l o b a l . t h u m b s C a r o u s e l . h e i g h t ( ) + 1 8 : ( d = ! 1 , t h i s . _ . e l . l a y o u t . g l o b a l . d e s c r i p t i o n . c s s ( " m a x H e i g h t " , 1 2 1 ) ) , t h i s . _ . e l . l a y o u t . g l o b a l . t i t l e . i s ( " : v i s i b l e " ) & & ( c + = $ ( " # t i t l e " ) . h e i g h t ( ) + 1 0 ) , t h i s . _ . e l . l a y o u t . g l o b a l . c o n t a i n e r . c s s ( { l i n e H e i g h t : b - c + " p x " , h e i g h t : t h i s . _ . v a r s . b o d y H e i g h t - c } ) , $ ( " . e m b e d   # t h u m b s - t o p " ) . c s s ( { w i d t h : M a t h . m i n ( 7 9 * t h i s . _ . i m a g e s . c o u n t , a - 6 5 ) } ) , $ ( " . e m b e d   . t h u m b s - c a r o u s e l " ) . c s s ( { w i d t h : M a t h . m i n ( 7 9 * t h i s . _ . i m a g e s . c o u n t + 4 5 , a - 2 0 ) } ) ; v a r   e = $ ( " . e m b e d   . i m a g e " ) . h e i g h t ( ) ; t h i s . _ . e l . l a y o u t . g l o b a l . d e s c r i p t i o n . c s s ( { t o p : e - ( d ? 4 8 : M a t h . m i n ( 1 2 1 , t h i s . _ . e l . l a y o u t . g l o b a l . d e s c r i p t i o n . i n n e r H e i g h t ( ) ) ) } ) } , s e t E m b e d U r l A l b u m I d : f u n c t i o n ( a ) { I m g u r . U t i l i t i e s . E m b e d . s e t E m b e d U r l . c a l l ( t h i s , t h i s . _ . e m b e d U r l . r e p l a c e ( t h i s . _ . e l . e m b e d A l b u m F o r m . h a s h R e g e x , " / a / " + a + " / " ) ) } , s e t E m b e d U r l : f u n c t i o n ( a ) { t h i s . _ . e m b e d U r l = a } , s e t E m b e d C o d e : f u n c t i o n ( ) { t h i s . _ . e l . e m b e d A l b u m F o r m . e m b e d C o d e I n p u t . v a l ( ' < i f r a m e   c l a s s = " i m g u r - a l b u m "   w i d t h = " 1 0 0 % "   h e i g h t = " 5 5 0 "   f r a m e b o r d e r = " 0 "   s r c = " ' + t h i s . _ . e m b e d U r l + ' " > < / i f r a m e > ' ) , t h i s . _ . e l . e m b e d A l b u m F o r m . e m b e d C o d e P r e v i e w . a t t r ( " h r e f " , t h i s . _ . e m b e d U r l ) } , c l i p b o a r d C l i c k : f u n c t i o n ( a ) { f l a s h E l e m e n t ( $ ( a ) . s i b l i n g s ( " i n p u t " ) ) , $ ( a ) . a t t r ( " t i t l e " , " c o p i e d " ) , $ ( a ) . t i p s y ( " s h o w " ) , $ ( a ) . a t t r ( " o r i g i n a l - t i t l e " , " c o p y " ) } , i n i t E m b e d C l i p b o a r d : f u n c t i o n ( a ) { t h i s . _ . v a r s . e m b e d C l i p b o a r d = n e w   Z e r o C l i p b o a r d . C l i e n t , t h i s . _ . v a r s . e m b e d C l i p b o a r d . a d d E v e n t L i s t e n e r ( " o n M o u s e U p " , _ . p a r t i a l ( I m g u r . U t i l i t i e s . E m b e d . c l i p b o a r d C l i c k , a ) ) , a . t i p s y ( { g r a v i t y : " e " , o p a c i t y : 1 , h t m l : ! 0 } ) } } , N a m e s p a c e ( " I m g u r I f a c e " ) , I m g u r I f a c e . N e x t I m a g e R e c e i v e r = n e w   I f a c e ( [ " h a n d l e S e l e c t E v e n t " ] ) , N a m e s p a c e ( " I m g u r . A l b u m " ) , I m g u r . A l b u m = C l a s s . e x t e n d ( { i n i t : f u n c t i o n ( a ) { a = a | | { } , t h i s . _ = $ . e x t e n d ( ! 0 , { i d : n u l l , a l b u m : n u l l , i m a g e s : n u l l , c o v e r : n u l l , l a y o u t : n u l l , c d n U r l : n u l l , p r e l o a d C o u n t : 4 , o p e r a t i o n : n u l l , m o b i l e : ! 1 , i n i t i a l I m a g e : ! 0 , a j a x O p t i o n s : n u l l , a j a x G e t A l b u m s U R L : " / a j a x / a l b u m s l i s t " , a j a x P a r a m s : { } , a l b u m s P e r P a g e : 1 e 3 , t o t a l A l b u m s C o u n t : 0 , a l b u m s L i m i t R e a c h e d : ! 1 , c h a n g i n g P a g e : ! 1 , h a s A c c e s s : ! 1 , e l : { $ a l b u m s C o n t a i n e r : $ ( " # a l b u m - t h u m b s " ) , $ a l b u m s S c r o l l L o a d e r : $ ( " # a l b u m s - s c r o l l - c o n t r o l " ) , $ l o a d e r : $ ( " # a l b u m s - l o a d e r " ) , l i n k s : { c r e a t e A l b u m : $ ( " . a l b u m - c r e a t e - l i n k " ) } , a l b u m L i n k C l a s s e s : { c h a n g e S e t t i n g s : " . a l b u m - s e t t i n g s - l i n k " , n o n A u t h o r C h a n g e S e t t i n g s : " . a l b u m - l a y o u t - l i n k " , c h a n g e I m a g e s : " . a l b u m - i m a g e s - l i n k . u n p u b l i s h e d " , c h a n g e C o v e r : " . a l b u m - c o v e r - l i n k " , d e l e t e A l b u m : " . a l b u m - d e l e t e - l i n k " , e m b e d A l b u m : " . a l b u m - e m b e d - l i n k " , d o w n l o a d A l b u m : " . a l b u m - d o w n l o a d - l i n k " , h i d e A l b u m : " . a l b u m - h i d e - l i n k " } , e m b e d A l b u m F o r m : I m g u r . U t i l i t i e s . E m b e d . e l E m b e d A l b u m F o r m ( ) , c o l o r b o x E m b e d : I m g u r . U t i l i t i e s . E m b e d . e l C o l o r b o x E m b e d ( ) , c r e a t e A l b u m F o r m : { i d : " # c r e a t e - a l b u m - f o r m " , f o r m : $ ( " # c r e a t e - a l b u m - f o r m   f o r m " ) , h e a d e r : $ ( " # c r e a t e - a l b u m - f o r m   h 1 " ) , t i t l e I n p u t : $ ( " # a l b u m - t i t l e " ) , d e s c r i p t i o n I n p u t : $ ( " # a l b u m - d e s c r i p t i o n " ) , l a y o u t I n p u t : $ ( " # a l b u m - l a y o u t   i n p u t [ t y p e = r a d i o ] " ) , p r i v a c y I n p u t : $ ( " # a l b u m - p r i v a c y   i n p u t [ t y p e = r a d i o ] " ) , l o a d e r : $ ( " # c r e a t e - a l b u m - l o a d e r " ) , c o v e r : $ ( " # a l b u m - c o v e r " ) , h i d d e n I c o n : $ ( " . p r i v a c y - i c o n . h i d d e n " ) , s e c r e t I c o n : $ ( " . p r i v a c y - i c o n . s e c r e t " ) , e x l a n a t i o n P u b l i c : $ ( " . p r i v a c y - e x p l a n a t i o n . p u b l i c " ) , e x l a n a t i o n H i d d e n : $ ( " . p r i v a c y - e x p l a n a t i o n . h i d d e n " ) , e x l a n a t i o n S e c r e t : $ ( " . p r i v a c y - e x p l a n a t i o n . s e c r e t " ) , p r i v a c y T i t l e : $ ( " . p r i v a c y - t i t l e " ) , e r r o r b o x : $ ( " # c r e a t e - a l b u m - f o r m   . e r r o r " ) , s u b m i t B u t t o n : $ ( ' # c r e a t e - a l b u m - f o r m   i n p u t [ t y p e = " s u b m i t " ] ' ) } , c h a n g e L a y o u t : { l a y o u t B u t t o n : $ ( " . u s e r S e s s i o n L a y o u t " ) , l a y o u t F o r m : $ ( " # u s e r L a y o u t F o r m " ) } , a l b u m I m a g e s F o r m : { i d : " # a l b u m - i m a g e s " , f o r m : $ ( " # a l b u m - i m a g e s   f o r m " ) , s e l e c t H e a d e r : $ ( " # a l b u m - i m a g e s - s e l e c t - h e a d e r " ) , c o v e r H e a d e r : $ ( " # a l b u m - i m a g e s - c o v e r - h e a d e r " ) , m e n u F i r s t I t e m I d : " # a l b u m - i m a g e s   . m o d e . s t a r t " , i m a g e s M e n u : $ ( " # i m a g e s - m e n u " ) , m a i n C o l u m n : $ ( " # m a i n - c o l u m n " ) } , d e l e t e A l b u m F o r m : { i d : " # d e l e t e - a l b u m - f o r m " , y e s : $ ( " # d e l e t e - a l b u m - y e s " ) , n o : $ ( " # d e l e t e - a l b u m - n o " ) , l o a d e r : $ ( " # d e l e t e - a l b u m - f o r m   . s m a l l - l o a d e r " ) } , h i d e A l b u m F o r m : { i d : " # h i d e - a l b u m - f o r m " , y e s : $ ( " # h i d e - a l b u m - y e s " ) , n o : $ ( " # h i d e - a l b u m - n o " ) , l o a d e r : $ ( " # h i d e - a l b u m - f o r m   . s m a l l - l o a d e r " ) } , l a y o u t : { g l o b a l : { t i t l e : $ ( " # t i t l e " ) , d e s c r i p t i o n : $ ( " # d e s c r i p t i o n " ) , c o n t a i n e r : $ ( " # i m a g e - c o n t a i n e r " ) , m a i n I m a g e : n u l l , t h u m b s C a r o u s e l : $ ( " # t h u m b s - t o p ,   # t h u m b s - b o t t o m " ) , t h u m b s C a r o u s e l C o n t a i n e r : $ ( " . t h u m b s - c a r o u s e l " ) , t h u m b s C a r o u s e l N e x t : $ ( " . t h u m b s - c a r o u s e l   . c a r o u s e l - b u t t o n . n e x t " ) , t h u m b s C a r o u s e l P r e v : $ ( " . t h u m b s - c a r o u s e l   . c a r o u s e l - b u t t o n . p r e v " ) , t h u m b s C a r o u s e l T o p : $ ( " # t h u m b s - t o p " ) , t h u m b s C a r o u s e l B o t t o m : $ ( " # t h u m b s - b o t t o m " ) , n e x t I m a g e : $ ( " # n e x t " ) , p r e v I m a g e : $ ( " # p r e v " ) , i m a g e H o v e r I c o n C l a s s : " . i m a g e - h o v e r " , a c t i o n O p t i o n s C l a s s : " . a c t i o n - o p t i o n s " , a c t i o n O p t i o n s I t e m s : $ ( " . i m a g e - h o v e r   . o p t i o n s   . i t e m " ) } , b l o g : { l e f t P a n e l : $ ( " # c o n t e n t   . m a i n " ) , s i d e b a r : $ ( " # s c r o l l p a n e l " ) } , e m b e d : { o f f s i t e : $ ( " # o f f s i t e " ) } } , s u b d o m a i n : { c o n t a i n e r : $ ( " . l e f t   . p a n e l " ) , a l b u m C l a s s : " . a l b u m " , e d i t B u t t o n C l a s s : " . e d i t - b u t t o n " , e d i t O p t i o n s C l a s s : " . e d i t - o p t i o n s " , e d i t O p t i o n s I t e m s C l a s s : " . o p t i o n s   . i t e m " } } , l a y o u t s : { b l o g : " b " } , o p e r a t i o n s : { e m b e d : " e m b e d " } , m e s s a g e s : { c r e a t e A l b u m : " C r e a t e   a n   a l b u m " , a l b u m S e t t i n g s : " C h a n g e   a l b u m   s e t t i n g s " , s w i t c h L a y o u t : " S w i t c h   a l b u m   l a y o u t " , u p d a t e S e t t i n g s : " A l b u m   s e t t i n g s   h a v e   b e e n   u p d a t e d " , u p d a t e I m a g e s : " A l b u m   i m a g e s   h a v e   b e e n   u p d a t e d " , u p d a t e C o v e r : " A l b u m   c o v e r   h a s   b e e n   u p d a t e d " , d e l e t e A l b u m : " A l b u m   h a s   b e e n   d e l e t e d " , h i d e A l b u m : " A l b u m   h a s   b e e n   h i d d e n " , p r i v a t e G a l l e r y M e s s a g e : " T h i s   a l b u m   i s   i n   t h e   g a l l e r y ,   p l e a s e   r e m o v e   i t   b e f o r e   m a k i n g   i t   s e c r e t . " , p r i v a t e G a l l e r y E r r o r : " A   g a l l e r y   a l b u m ' s   p r i v a c y   c a n n o t   b e   s e t   t o   s e c r e t . " } , v a r s : { c u r r e n t I m a g e I n d e x : 0 , a j a x U R L : " / a j a x a l b u m s / " , a l b u m I m a g e s : n u l l , i n t e r v a l : n u l l , l o a d i n g V i e w p o r t : ! 1 , b o d y H e i g h t : 0 , t h u m b s S p e e d : 4 0 0 , e m b e d C l i p b o a r d : n u l l , s c r o l l i n g : ! 1 , c r e a t i n g A l b u m : ! 1 , s c r o l l e d P a g e : 0 , b i n d i n g s : { c r e a t e : ! 1 , i m a g e s : ! 1 , d e l : ! 1 , t h u m b s : ! 1 , m a i n : ! 1 } , c u r r e n t T h e m e : " d a r k " , e m b e d A l b u m F o r m L o a d e d : ! 1 , n e w E m b e d A l b u m F o r m L o a d e d : ! 1 , n e e d C a p t c h a T o P r o c e e d : ! 1 } , t h e m e s : { d a r k : { b a c k g r o u n d : " 2 9 2 9 2 9 " , t e x t : " f f f f f f " , l i n k : " 4 e 7 6 c 9 " } , l i g h t : { b a c k g r o u n d : " f 2 f 2 f 2 " , t e x t : " 1 a 1 a 1 a " , l i n k : " 4 e 7 6 c 9 " } , c u s t o m : { b a c k g r o u n d : " 2 9 2 9 2 9 " , t e x t : " f f f f f f " , l i n k : " 4 e 7 6 c 9 " } } } , a ) , t h i s . _ = $ . e x t e n d ( t h i s . _ , I m g u r . g e t I n s t a n c e ( ) . g e t S e t t i n g s ( ) ) , t h i s . _ . e l . c o l o r b o x E m b e d . e m b e d C o d e I n p u t . c l i c k ( $ ( t h i s ) . s e l e c t A l l ) , t h i s . _ . h a s A c c e s s = I m g u r . E n v i r o n m e n t . a u t h . h a s A c c e s s , t h i s . a l b u m s S c r o l l L i s t e n e r = t h i s . a l b u m s S c r o l l L i s t e n e r . b i n d ( t h i s ) , t h i s . _ s c r o l l L i s t e n e r = _ . t h r o t t l e ( t h i s . a l b u m s S c r o l l L i s t e n e r , 5 0 ) , $ ( w i n d o w ) . o n ( " s c r o l l " , t h i s . _ s c r o l l L i s t e n e r ) } , a l b u m s S c r o l l L i s t e n e r : f u n c t i o n ( ) { t h i s . _ . e l . $ a l b u m s S c r o l l L o a d e r . i s ( " : i n - v i e w p o r t " ) & & t h i s . l o a d N e x t P a g e ( ) } , f i n d I m a g e I n d e x : f u n c t i o n ( a ) { f o r ( v a r   b = 0 ; b < t h i s . _ . i m a g e s . c o u n t ; + + b ) i f ( t h i s . _ . i m a g e s . i m a g e s [ b ] . h a s h = = a ) r e t u r n   b ; r e t u r n   0 } , g e t S t a r t i n g I n d e x : f u n c t i o n ( ) { v a r   a = I m g u r . g e t I n s t a n c e ( ) . g e t P a g e H a s h ( ) ; r e t u r n   a ? i s N a N ( a ) ? t h i s . f i n d I m a g e I n d e x ( a ) : p a r s e I n t ( a ) : 0 } , l o a d I m a g e : f u n c t i o n ( a ) { i f ( a & & a . h a s C l a s s ( " u n l o a d e d " ) ) { a . a t t r ( " s r c " , a . a t t r ( " d a t a - s r c " ) ) , a . r e m o v e C l a s s ( " u n l o a d e d " ) ; v a r   b = n e w   I m a g e ; b . s r c = a . a t t r ( " s r c " ) ; b . o n l o a d = f u n c t i o n ( ) { v a r   a = $ ( t h i s ) . a t t r ( " s r c " ) ; a . s u b s t r i n g ( a . l a s t I n d e x O f ( " / " ) + 1 , a . l a s t I n d e x O f ( " . " ) ) } , b . o n e r r o r = f u n c t i o n ( ) { v a r   b = $ ( t h i s ) . a t t r ( " s r c " ) , c = b . s u b s t r i n g ( b . l a s t I n d e x O f ( " / " ) + 1 , b . l a s t I n d e x O f ( " . " ) ) . l e n g t h ; i f ( 8 = = = c | | 6 = = = c ) { v a r   d = b . s u b s t r i n g ( 0 , b . l a s t I n d e x O f ( " . " ) - 1 ) ; d & & ( d + = " . j p g " , t h i s . s r c = d , $ ( a ) . a t t r ( " s r c " , d ) , $ ( a ) . p a r e n t ( ) . h a s C l a s s ( " z o o m " ) & & $ ( a ) . p a r e n t ( ) . a t t r ( " h r e f " , t h i s . s r c ) ) } } } } , i n i t A l b u m I m a g e s : f u n c t i o n ( a , b , c , d ) { v a r   e = t h i s ; n u l l = = t h i s . _ . i m a g e s ? $ . g e t J S O N ( " / a j a x / i m a g e s " , { a l b u m : t h i s . _ . i d , s o r t : 0 , o r d e r : 1 , p a g e : 1 , p e r P a g e : 9 9 9 9 9 9 } , f u n c t i o n ( f ) { v a r   g = f . d a t a ; e . _ . i m a g e s = { } , e . _ . i m a g e s . i m a g e s = g . i m a g e s , e . _ . i m a g e s . c o u n t = g . c o u n t , d ? " f u n c t i o n " = = t y p e o f   c & & c ( ) : e . s e t u p A l b u m I m a g e s ( a , b , c ) , e . _ . i m a g e s = n u l l } ) : d ? " f u n c t i o n " = = t y p e o f   c & & c ( ) : e . s e t u p A l b u m I m a g e s ( a , b , c ) } , s e t u p A l b u m I m a g e s : f u n c t i o n ( a , b , c ) { v a r   d = [ ] ; i f ( a ) d [ t h i s . _ . c o v e r ] = ! 0 , t h i s . _ . e l . a l b u m I m a g e s F o r m . c o v e r H e a d e r . s h o w ( ) , t h i s . _ . e l . a l b u m I m a g e s F o r m . s e l e c t H e a d e r . h i d e ( ) ; e l s e { f o r ( i = 0 ; i < t h i s . _ . i m a g e s . c o u n t ; + + i ) d [ t h i s . _ . i m a g e s . i m a g e s [ i ] . h a s h ] = ! 0 ; t h i s . _ . e l . a l b u m I m a g e s F o r m . c o v e r H e a d e r . h i d e ( ) , t h i s . _ . e l . a l b u m I m a g e s F o r m . s e l e c t H e a d e r . s h o w ( ) } v a r   e = t h i s , f = 1 ; ( t h i s . _ . i m a g e s . c o u n t & & t h i s . _ . i m a g e s . c o u n t > 0 | | t h i s . _ . i m a g e s . i m a g e s & & t h i s . _ . i m a g e s . i m a g e s . l e n g t h & & t h i s . _ . i m a g e s . i m a g e s . l e n g t h > 0 ) & & ( f = t h i s . _ . i d ) ; v a r   g = { h o s t : t h i s . _ . h o s t , a l b u m : t h i s . _ . i d , i m a g e s : d , c d n U r l : t h i s . _ . c d n U r l , t o t a l C o u n t e r : $ ( " < d i v / > " ) , t o t a l C o u n t e r S u f f i x : $ ( " < d i v / > " ) , i m a g e s P e r P a g e : 6 4 , c h a n g e C o v e r : a , m o d e : f , o n S u b m i t C o m p l e t e : f u n c t i o n ( d ) { $ . c o l o r b o x . c l o s e ( ) , b & & ( a ? h u m a n M s g . d i s p l a y M s g ( e . _ . m e s s a g e s . u p d a t e C o v e r ) : h u m a n M s g . d i s p l a y M s g ( e . _ . m e s s a g e s . u p d a t e I m a g e s ) ) ; v a r   f = e ; a ? $ ( d o c u m e n t ) . b i n d ( " c b o x _ c l o s e d " , f u n c t i o n ( ) { $ ( d o c u m e n t ) . u n b i n d ( " c b o x _ c l o s e d " ) , f . _ . c o v e r = d . d a t a [ 0 ] [ 0 ] , $ ( " # a l b u m - " + e . _ . i d ) . a t t r ( " d a t a - c o v e r " , d . d a t a [ 0 ] [ 0 ] + " b . j p g " ) . f i n d ( " . c o v e r   i m g " ) . a t t r ( " s r c " , f . _ . c d n U r l + " / " + d . d a t a [ 0 ] [ 0 ] + " s . j p g " ) , f . c h a n g e S e t t i n g s ( ) } ) : " f u n c t i o n " = = t y p e o f   c ? c ( d . d a t a ) : 0 ! = l o c a t i o n . p a t h n a m e & & l o c a t i o n . r e l o a d ( ) } } ; t h i s . _ . v a r s . a l b u m I m a g e s = I m g u r . A l b u m . I m a g e s . g e t I n s t a n c e ( ) , t h i s . _ . v a r s . a l b u m I m a g e s . i n i t ( g ) } , b i n d c h a n g e I m a g e s : f u n c t i o n ( ) { t h i s . _ . v a r s . b i n d i n g s . i m a g e s = ! 0 , t h i s . _ . e l . a l b u m I m a g e s F o r m . f o r m . o n e ( " s u b m i t " , f u n c t i o n ( ) { r e t u r n   t h i s . _ . v a r s . a l b u m I m a g e s . _ . a l b u m = t h i s . _ . i d , t h i s . _ . v a r s . a l b u m I m a g e s . s u b m i t ( ) , ! 1 } . b i n d ( t h i s ) ) } , b i n d D e l e t e A l b u m : f u n c t i o n ( a ) { t h i s . _ . v a r s . b i n d i n g s . d e l = ! 0 , t h i s . _ . e l . d e l e t e A l b u m F o r m . n o . c l i c k ( f u n c t i o n ( ) { $ . c o l o r b o x . c l o s e ( ) } ) ; v a r   b = t h i s ; t h i s . _ . e l . d e l e t e A l b u m F o r m . y e s . c l i c k ( f u n c t i o n ( ) { b . _ . e l . d e l e t e A l b u m F o r m . y e s . d i s a b l e ( ) , b . _ . e l . d e l e t e A l b u m F o r m . l o a d e r . s h o w ( ) ; v a r   c = b ; $ . p o s t ( c . _ . v a r s . a j a x U R L + " d e l e t e / " + c . _ . i d , { m s i d : I m g u r . E n v i r o n m e n t . m s i d } , f u n c t i o n ( b ) { i f ( c . _ . e l . d e l e t e A l b u m F o r m . l o a d e r . h i d e ( ) , c . _ . e l . d e l e t e A l b u m F o r m . y e s . e n a b l e ( ) , $ . c o l o r b o x . c l o s e ( ) , h u m a n M s g . d i s p l a y M s g ( c . _ . m e s s a g e s . d e l e t e A l b u m ) , " f u n c t i o n " = = t y p e o f   a ) a ( b ) ; e l s e   i f ( " / " = = l o c a t i o n . p a t h n a m e & & $ ( " # a l b u m - " + c . _ . i d ) . f a d e O u t ( ) , " / " ! = l o c a t i o n . p a t h n a m e ) { v a r   d = c ; s e t T i m e o u t ( f u n c t i o n ( ) { d . _ . s i g n e d ? w i n d o w . l o c a t i o n = l o c a t i o n . p r o t o c o l + " / / " + I m g u r . g e t I n s t a n c e ( ) . _ . a u t h . u r l + " . " + d . _ . h o s t : w i n d o w . l o c a t i o n = " / " } , 1 e 3 ) } } ) . e r r o r ( f u n c t i o n ( ) { b . _ . e l . d e l e t e A l b u m F o r m . y e s . e n a b l e ( ) , b . _ . e l . d e l e t e A l b u m F o r m . l o a d e r . h i d e ( ) } ) } ) } , b i n d H i d e A l b u m : f u n c t i o n ( a ) { t h i s . _ . v a r s . b i n d i n g s . d e l = ! 0 , t h i s . _ . e l . h i d e A l b u m F o r m . n o . c l i c k ( f u n c t i o n ( ) { $ . c o l o r b o x . c l o s e ( ) } ) ; v a r   b = t h i s ; t h i s . _ . e l . h i d e A l b u m F o r m . y e s . c l i c k ( f u n c t i o n ( ) { b . _ . e l . h i d e A l b u m F o r m . y e s . d i s a b l e ( ) , b . _ . e l . h i d e A l b u m F o r m . l o a d e r . s h o w ( ) , $ . p o s t ( b . _ . v a r s . a j a x U R L + " h i d e / " + b . _ . i d , { m s i d : I m g u r . E n v i r o n m e n t . m s i d } , f u n c t i o n ( c ) { b . _ . e l . h i d e A l b u m F o r m . l o a d e r . h i d e ( ) , b . _ . e l . h i d e A l b u m F o r m . y e s . e n a b l e ( ) , $ . c o l o r b o x . c l o s e ( ) , h u m a n M s g . d i s p l a y M s g ( b . _ . m e s s a g e s . h i d e A l b u m ) , " f u n c t i o n " = = t y p e o f   a ? a ( c ) : ( " / " = = l o c a t i o n . p a t h n a m e & & $ ( " # a l b u m - " + b . _ . i d ) . f a d e O u t ( ) , " / " ! = l o c a t i o n . p a t h n a m e & & s e t T i m e o u t ( f u n c t i o n ( ) { b . _ . s i g n e d ? w i n d o w . l o c a t i o n = l o c a t i o n . p r o t o c o l + " / / " + I m g u r . g e t I n s t a n c e ( ) . _ . a u t h . u r l + " . " + b . _ . h o s t : w i n d o w . l o c a t i o n = " / " } , 1 e 3 ) ) } ) . e r r o r ( f u n c t i o n ( ) { b . _ . e l . h i d e A l b u m F o r m . y e s . e n a b l e ( ) , b . _ . e l . h i d e A l b u m F o r m . l o a d e r . h i d e ( ) } ) } ) } , b i n d C r e a t e A l b u m : f u n c t i o n ( a ) { t h i s . _ . v a r s . b i n d i n g s . c r e a t e = ! 0 ; v a r   b = t h i s ; t h i s . _ . e l . c r e a t e A l b u m F o r m . f o r m . s u b m i t ( f u n c t i o n ( ) { r e t u r n   b . c r e a t e A l b u m S u b m i t H a n d l e r ( a ) , ! 1 } ) , t h i s . _ . e l . c r e a t e A l b u m F o r m . f o r m . c h a n g e ( f u n c t i o n ( a ) { $ ( a . t a r g e t ) . a t t r ( " d a t a - c h a n g e d " , " t r u e " ) } ) , t h i s . _ . e l . c r e a t e A l b u m F o r m . p r i v a c y I n p u t . c h a n g e ( f u n c t i o n ( ) { b . h i d e A l b u m P r i v a c y ( ) , b . s h o w A l b u m P r i v a c y ( ) } ) , t h i s . _ . e l . c r e a t e A l b u m F o r m . p r i v a c y T i t l e . t i p s y ( { h t m l : ! 1 , o p a c i t y : 1 , g r a v i t y : " w " } ) } , i n i t C r e a t e A l b u m : f u n c t i o n ( ) { t h i s . _ . v a r s . c r e a t i n g A l b u m = ! 0 , $ ( t h i s . _ . e l . c r e a t e A l b u m F o r m . i d ) . a d d C l a s s ( " c r e a t e " ) , t h i s . _ . e l . c r e a t e A l b u m F o r m . h e a d e r . t e x t ( t h i s . _ . m e s s a g e s . c r e a t e A l b u m ) , t h i s . _ . e l . c r e a t e A l b u m F o r m . t i t l e I n p u t . v a l ( " " ) , t h i s . _ . e l . c r e a t e A l b u m F o r m . d e s c r i p t i o n I n p u t . v a l ( " " ) , t h i s . _ . e l . c r e a t e A l b u m F o r m . l a y o u t I n p u t . r e m o v e A t t r ( " c h e c k e d " ) . f i l t e r ( " : f i r s t " ) . a t t r ( " c h e c k e d " , " c h e c k e d " ) , t h i s . _ . e l . c r e a t e A l b u m F o r m . c o v e r . r e m o v e A t t r ( " s r c " ) , t h i s . _ . s i g n e d & & t h i s . _ . a u t h ? t h i s . _ . e l . c r e a t e A l b u m F o r m . p r i v a c y I n p u t . r e m o v e A t t r ( " c h e c k e d " ) . f i l t e r ( " [ v a l u e = " + t h i s . _ . a u t h . a l b u m _ p r i v a c y + " ] " ) . a t t r ( " c h e c k e d " , " c h e c k e d " ) : t h i s . _ . e l . c r e a t e A l b u m F o r m . p r i v a c y I n p u t . r e m o v e A t t r ( " c h e c k e d " ) . f i l t e r ( " : f i r s t " ) . a t t r ( " c h e c k e d " , " c h e c k e d " ) , t h i s . _ . e l . c r e a t e A l b u m F o r m . t i t l e I n p u t . s h o w P l a c e h o l d e r ( ) , t h i s . _ . e l . c r e a t e A l b u m F o r m . d e s c r i p t i o n I n p u t . s h o w P l a c e h o l d e r ( ) } , i n i t C h a n g e S e t t i n g s : f u n c t i o n ( a ) { v a r   b = t h i s . _ . i d ? $ ( " # a l b u m - " + t h i s . _ . i d ) : $ ( a ) . p a r e n t s ( " [ d a t a - p r i v a c y ] " ) ; i f ( t h i s . _ . i d | | ( t h i s . _ . i d = $ ( a ) . p a r e n t s ( " [ d a t a - p r i v a c y ] " ) . a t t r ( " i d " ) . s p l i t ( " - " ) [ 1 ] ) , t h i s . _ . v a r s . c r e a t i n g A l b u m = ! 1 , b . l e n g t h ) { t h i s . _ . s i g n e d ? $ ( t h i s . _ . e l . c r e a t e A l b u m F o r m . i d ) . r e m o v e C l a s s ( " c r e a t e " ) : $ ( t h i s . _ . e l . c r e a t e A l b u m F o r m . i d ) . a d d C l a s s ( " c r e a t e " ) , t h i s . _ . e l . c r e a t e A l b u m F o r m . t i t l e I n p u t . l e n g t h > 0 ? t h i s . _ . e l . c r e a t e A l b u m F o r m . h e a d e r . t e x t ( t h i s . _ . m e s s a g e s . a l b u m S e t t i n g s ) : t h i s . _ . e l . c r e a t e A l b u m F o r m . h e a d e r . t e x t ( t h i s . _ . m e s s a g e s . s w i t c h L a y o u t ) , t h i s . _ . e l . c r e a t e A l b u m F o r m . t i t l e I n p u t . v a l ( b . a t t r ( " d a t a - t i t l e " ) ) , t h i s . _ . e l . c r e a t e A l b u m F o r m . d e s c r i p t i o n I n p u t . v a l ( b . a t t r ( " d a t a - d e s c r i p t i o n " ) ) , t h i s . _ . e l . c r e a t e A l b u m F o r m . p r i v a c y I n p u t . r e m o v e A t t r ( " c h e c k e d " ) . f i l t e r ( ' [ v a l u e = " ' + b . a t t r ( " d a t a - p r i v a c y " ) + ' " ] ' ) . a t t r ( " c h e c k e d " , " c h e c k e d " ) ; v a r   c = b . a t t r ( " d a t a - c o v e r " ) ; i f ( c ) { v a r   d = t h i s . _ . c d n U r l + " / " + b . a t t r ( " d a t a - c o v e r " ) ; I m g u r . U t i l . b a s e n a m e ( d ) . i n d e x O f ( " . " ) = = - 1 & & ( d + = " b . j p g " ) , t h i s . _ . e l . c r e a t e A l b u m F o r m . c o v e r . a t t r ( " s r c " , d ) } t h i s . _ . e l . c r e a t e A l b u m F o r m . t i t l e I n p u t . v a l ( ) ? t h i s . _ . e l . c r e a t e A l b u m F o r m . t i t l e I n p u t . r e m o v e C l a s s ( " p l a c e h o l d e r " ) : t h i s . _ . e l . c r e a t e A l b u m F o r m . t i t l e I n p u t . s h o w P l a c e h o l d e r ( ) , t h i s . _ . e l . c r e a t e A l b u m F o r m . d e s c r i p t i o n I n p u t . v a l ( ) ? t h i s . _ . e l . c r e a t e A l b u m F o r m . d e s c r i p t i o n I n p u t . r e m o v e C l a s s ( " p l a c e h o l d e r " ) : t h i s . _ . e l . c r e a t e A l b u m F o r m . d e s c r i p t i o n I n p u t . s h o w P l a c e h o l d e r ( ) } } , s h o w A l b u m P r i v a c y : f u n c t i o n ( ) { s w i t c h ( t h i s . h i d e A l b u m P r i v a c y ( ) , t h i s . _ . e l . c r e a t e A l b u m F o r m . p r i v a c y I n p u t . f i l t e r ( " : c h e c k e d " ) . v a l ( ) ) { c a s e " 0 " : t h i s . _ . e l . c r e a t e A l b u m F o r m . e x l a n a t i o n P u b l i c . s h o w ( ) ; b r e a k ; c a s e " 1 " : t h i s . _ . e l . c r e a t e A l b u m F o r m . h i d d e n I c o n . s h o w ( ) , t h i s . _ . e l . c r e a t e A l b u m F o r m . e x l a n a t i o n H i d d e n . s h o w ( ) ; b r e a k ; c a s e " 2 " : t h i s . _ . e l . c r e a t e A l b u m F o r m . s e c r e t I c o n . s h o w ( ) , t h i s . _ . e l . c r e a t e A l b u m F o r m . e x l a n a t i o n S e c r e t . s h o w ( ) } t h i s . r e s i z e C r e a t e A l b u m F o r m ( ) } , h i d e A l b u m P r i v a c y : f u n c t i o n ( ) { t h i s . _ . e l . c r e a t e A l b u m F o r m . h i d d e n I c o n . h i d e ( ) , t h i s . _ . e l . c r e a t e A l b u m F o r m . s e c r e t I c o n . h i d e ( ) , t h i s . _ . e l . c r e a t e A l b u m F o r m . e x l a n a t i o n P u b l i c . h i d e ( ) , t h i s . _ . e l . c r e a t e A l b u m F o r m . e x l a n a t i o n H i d d e n . h i d e ( ) , t h i s . _ . e l . c r e a t e A l b u m F o r m . e x l a n a t i o n S e c r e t . h i d e ( ) } , r e s i z e C r e a t e A l b u m F o r m : f u n c t i o n ( ) { v a r   a = $ ( t h i s . _ . e l . c r e a t e A l b u m F o r m . i d ) ; $ . c o l o r b o x . r e s i z e ( { i n n e r W i d t h : a . w i d t h ( ) + 2 0 , i n n e r H e i g h t : a . h e i g h t ( ) + 2 0 } ) } , c r e a t e A l b u m S u b m i t H a n d l e r : f u n c t i o n ( a ) { v a r   b = I m g u r . A l b u m . g e t I n s t a n c e ( ) ; i f ( t h i s . _ . e l . c r e a t e A l b u m F o r m . e r r o r b o x . i s ( " : h i d d e n " ) | | ( t h i s . _ . e l . c r e a t e A l b u m F o r m . e r r o r b o x . h i d e ( ) , t h i s . r e s i z e C r e a t e A l b u m F o r m ( ) ) , t h i s . _ . e l . c r e a t e A l b u m F o r m . t i t l e I n p u t . l e n g t h > 0 & & " a l b u m   t i t l e   ( o p t i o n a l ) " = = t h i s . _ . e l . c r e a t e A l b u m F o r m . t i t l e I n p u t . v a l ( ) . t o L o w e r C a s e ( ) & & t h i s . _ . e l . c r e a t e A l b u m F o r m . t i t l e I n p u t . v a l ( " " ) , t h i s . _ . e l . c r e a t e A l b u m F o r m . d e s c r i p t i o n I n p u t . l e n g t h > 0 & & " a l b u m   d e s c r i p t i o n   ( o p t i o n a l ) " = = t h i s . _ . e l . c r e a t e A l b u m F o r m . d e s c r i p t i o n I n p u t . v a l ( ) . t o L o w e r C a s e ( ) & & t h i s . _ . e l . c r e a t e A l b u m F o r m . d e s c r i p t i o n I n p u t . v a l ( " " ) , t h i s . _ . v a r s . n e e d C a p t c h a T o P r o c e e d ) { v a r   c = b . _ . e l . c r e a t e A l b u m F o r m . f o r m . s e r i a l i z e O b j e c t ( ) ; r e t u r n   v o i d   $ . a j a x ( { u r l : " / / " + I m g u r . E n v i r o n m e n t . h o s t + " / c l e a r p r o t e c t i o n " , m e t h o d : " P O S T " , d a t a : { " g - r e c a p t c h a - r e s p o n s e " : g r e c a p t c h a . g e t R e s p o n s e ( ) } } ) . s u c c e s s ( f u n c t i o n ( c ) { c . d a t a . e r r o r ? ( h u m a n M s g . d i s p l a y M s g ( " C a p t c h a   i n v a l i d :   " + c . d a t a . e r r o r ) , g r e c a p t c h a . r e s e t ( ) ) : ( b . _ . v a r s . n e e d C a p t c h a T o P r o c e e d = ! 1 , b . c r e a t e A l b u m S u b m i t H a n d l e r ( a ) ) } ) . e r r o r ( f u n c t i o n ( a ) { h u m a n M s g . d i s p l a y M s g ( " A n   e r r o r   o c c u r r e d   w h e n   t r y i n g   t o   s u b m i t   t h e   C a p t c h a . " ) , g r e c a p t c h a . r e s e t ( ) } ) } t h i s . _ . e l . c r e a t e A l b u m F o r m . s u b m i t B u t t o n . d i s a b l e ( ) , t h i s . _ . e l . c r e a t e A l b u m F o r m . l o a d e r . s h o w ( ) ; v a r   d = t h i s . _ . v a r s . c r e a t i n g A l b u m ? " c r e a t e " : " s e t t i n g s / " + t h i s . _ . i d , c = t h i s . _ . e l . c r e a t e A l b u m F o r m . f o r m . s e r i a l i z e ( ) ; i f ( ! ( t h i s . _ . e l . c r e a t e A l b u m F o r m . t i t l e I n p u t . l e n g t h > 0 ) ) r e t u r n   w i n d o w . l o c a t i o n = w i n d o w . l o c a t i o n . p r o t o c o l + " / / " + I m g u r . E n v i r o n m e n t . h o s t + " / a / " + t h i s . _ . i d + " / l a y o u t / " + t h i s . _ . e l . c h a n g e L a y o u t . l a y o u t F o r m . f i n d ( " : r a d i o : c h e c k e d " ) . a t t r ( " i d " ) , a ? a . s t o p P r o p a g a t i o n ( ) : v o i d   0 , ! 1 ; v a r   b = t h i s ; r e t u r n   $ . p o s t ( t h i s . _ . v a r s . a j a x U R L + d , c , f u n c t i o n ( c ) { i f ( " o b j e c t " ! = t y p e o f   c & & ( c = $ . p a r s e J S O N ( c ) ) , c = c . d a t a , b . _ . e l . c r e a t e A l b u m F o r m . s u b m i t B u t t o n . e n a b l e ( ) , b . _ . e l . c r e a t e A l b u m F o r m . l o a d e r . h i d e ( ) , b . _ . v a r s . c r e a t i n g A l b u m ) i f ( $ . c o l o r b o x . c l o s e ( ) , " f u n c t i o n " = = t y p e o f   a ) a ( c ) ; e l s e   i f ( " / " = = l o c a t i o n . p a t h n a m e ) { v a r   d = b ; $ ( d o c u m e n t ) . b i n d ( " c b o x _ c l o s e d " , f u n c t i o n ( ) { $ ( d o c u m e n t ) . u n b i n d ( " c b o x _ c l o s e d " ) , d . _ . i d = c . i d , d . _ . i m a g e s = [ ] , d . c h a n g e I m a g e s ( ! 1 , ! 1 ) , $ ( d o c u m e n t ) . b i n d ( " c b o x _ c l o s e d " , f u n c t i o n ( ) { s e t T i m e o u t ( l o c a t i o n . r e l o a d , 1 e 3 ) } ) } ) } e l s e   w i n d o w . l o c a t i o n = " / a / " + c . i d ; e l s e   i f ( c . i d ) { $ . c o l o r b o x . c l o s e ( ) , h u m a n M s g . d i s p l a y M s g ( b . _ . m e s s a g e s . u p d a t e S e t t i n g s ) ; v a r   e = $ ( " # a l b u m - " + c . i d ) ; e . a t t r ( " d a t a - d e s c r i p t i o n " , c . d e s c r i p t i o n ) . a t t r ( " d a t a - p r i v a c y " , c . p r i v a c y ) . a t t r ( " d a t a - t i t l e " , c . t i t l e ) , " f u n c t i o n " = = t y p e o f   a ? a ( c ) : l o c a t i o n . r e l o a d ( ) } e l s e { v a r   f = " " ; f o r ( k e y   i n   e r r o r s ) " " ! = f & & ( f + = " \ n " ) , f + = e r r o r s [ k e y ] ; b . _ . e l . c r e a t e A l b u m F o r m . e r r o r b o x . t e x t ( f ) . s h o w ( ) , b . r e s i z e C r e a t e A l b u m F o r m ( ) } } ) . e r r o r ( f u n c t i o n ( a ) { b . _ . e l . c r e a t e A l b u m F o r m . s u b m i t B u t t o n . e n a b l e ( ) , b . _ . e l . c r e a t e A l b u m F o r m . l o a d e r . h i d e ( ) , a = $ . p a r s e J S O N ( a . r e s p o n s e T e x t ) , a . d a t a . e r r o r = = b . _ . m e s s a g e s . p r i v a t e G a l l e r y E r r o r ? h u m a n M s g . d i s p l a y M s g ( b . _ . m e s s a g e s . p r i v a t e G a l l e r y M e s s a g e ) : 4 0 3 = = a . s t a t u s & & a . d a t a . e r r o r ? h u m a n M s g . d i s p l a y M s g ( a . d a t a . e r r o r , " e r r o r - m s g " ) : 4 2 9 = = a . s t a t u s & & ( b . _ . v a r s . n e e d C a p t c h a T o P r o c e e d = ! 0 , b . s h o w A l b u m C a p t c h a ( a ) ) } ) , ! 1 } , s h o w A l b u m C a p t c h a : f u n c t i o n ( a ) { r e t u r n " u n d e f i n e d " = = t y p e o f   g r e c a p t c h a ? ( w i n d o w . o n l o a d A l b u m C a p t c h a C a l l b a c k = f u n c t i o n ( ) { t h i s . s h o w A l b u m C a p t c h a . a p p l y ( t h i s , a ) } . b i n d ( t h i s ) , v o i d   $ . g e t S c r i p t ( " h t t p s : / / w w w . g o o g l e . c o m / r e c a p t c h a / a p i . j s ? r e n d e r = e x p l i c i t & o n l o a d = o n l o a d A l b u m C a p t c h a C a l l b a c k " , f u n c t i o n ( ) { h u m a n M s g . d i s p l a y M s g ( a . d a t a . e r r o r . m e s s a g e ) } . b i n d ( t h i s ) ) ) : ( g r e c a p t c h a . r e n d e r ( " a l b u m C r e a t e C a p t c h a " , { s i t e k e y : I m g u r . E n v i r o n m e n t . r e c a p t c h a _ k e y , t h e m e : " d a r k " } ) , v o i d   t h i s . r e s i z e C r e a t e A l b u m F o r m ( ) ) } , o p e n C r e a t e A l b u m C o l o r b o x : f u n c t i o n ( a , b ) { v a r   c = t h i s ; $ . c o l o r b o x ( { h r e f : t h i s . _ . e l . c r e a t e A l b u m F o r m . i d , o p e n : ! 0 , t o p : " 1 5 % " , i n l i n e : ! 0 , t r a n s i t i o n : " n o n e " , p r e l o a d i n g : ! 1 , s c r o l l i n g : ! 1 , o n C o m p l e t e : f u n c t i o n ( ) { c . _ . v a r s . b i n d i n g s . c r e a t e | | c . b i n d C r e a t e A l b u m ( a ) , c . s h o w A l b u m P r i v a c y ( ) , c . _ . e l . c r e a t e A l b u m F o r m . t i t l e I n p u t . f o c u s ( ) } , o n C l e a n u p : f u n c t i o n ( ) { $ ( " . t i p s y " ) . r e m o v e ( ) , b & & ( c . _ . i d = n u l l ) } } ) } , c a r o u s e l I t e m F i r s t I n : f u n c t i o n ( a , b , c ) { 0 = = a . i n d e x ( ) ? c . a d d C l a s s ( " d i s a b l e d " ) : c . r e m o v e C l a s s ( " d i s a b l e d " ) } , c a r o u s e l I t e m L a s t I n : f u n c t i o n ( a , b , c ) { v a r   d = b . j c a r o u s e l ( " i t e m s " ) . l e n g t h ; a . i n d e x ( ) = = d - 1 ? c . a d d C l a s s ( " d i s a b l e d " ) : c . r e m o v e C l a s s ( " d i s a b l e d " ) } , s h r i n k T h u m b s C a r o u s e l : f u n c t i o n ( ) { t h i s . _ . e l . l a y o u t . g l o b a l . t h u m b s C a r o u s e l B o t t o m . r e m o v e ( ) , t h i s . _ . e l . l a y o u t . g l o b a l . t h u m b s C a r o u s e l C o n t a i n e r . a d d C l a s s ( " s h r u n k " ) } , g e t T h u m b s C a r o u s e l S c r o l l : f u n c t i o n ( ) { v a r   a = t h i s . _ . o p e r a t i o n s , b = t h i s . _ . l a y o u t s ; i f ( t h i s . _ . o p e r a t i o n = = a . e m b e d ) { v a r   c = $ ( " . e m b e d " ) . p a r e n t ( ) . w i d t h ( ) , d = 8 2 ; r e t u r n   M a t h . f l o o r ( c / d / 2 ) } s w i t c h ( t h i s . _ . a l b u m . a l b u m _ l a y o u t ) { c a s e   b . b l o g : r e t u r n   6 ; c a s e   b . h o r i z o n t a l : r e t u r n   5 } r e t u r n   0 } , t h u m b s C a r o u s e l S c r o l l : f u n c t i o n ( a , b ) { v a r   c = t h i s . _ . o p e r a t i o n s , d = t h i s . _ . l a y o u t s ; t r y { i f ( ! t h i s . _ . o p e r a t i o n & & t h i s . _ . a l b u m . a l b u m _ l a y o u t = = d . h o r i z o n t a l | | t h i s . _ . o p e r a t i o n = = c . e m b e d ) { v a r   e = t h i s . g e t T h u m b s C a r o u s e l S c r o l l ( ) ; a > = e & & a < t h i s . _ . i m a g e s . c o u n t - e ? t h i s . _ . e l . l a y o u t . g l o b a l . t h u m b s C a r o u s e l . j c a r o u s e l ( " s c r o l l " , a - e , b ) : a < e ? t h i s . _ . e l . l a y o u t . g l o b a l . t h u m b s C a r o u s e l . j c a r o u s e l ( " s c r o l l " , 0 , b ) : t h i s . _ . e l . l a y o u t . g l o b a l . t h u m b s C a r o u s e l . j c a r o u s e l ( " s c r o l l " , t h i s . _ . i m a g e s . c o u n t - 1 , b ) } } c a t c h ( f ) { } } , t h u m b s C a r o u s e l B i n d : f u n c t i o n ( ) { v a r   a = t h i s . _ . o p e r a t i o n s , b = t h i s . _ . l a y o u t s , c = t h i s ; t h i s . _ . e l . l a y o u t . g l o b a l . t h u m b s C a r o u s e l N e x t . c l i c k ( f u n c t i o n ( ) { v a r   d = c . g e t T h u m b s C a r o u s e l S c r o l l ( ) ; r e t u r n   c . _ . o p e r a t i o n ! = a . e m b e d & & c . _ . a l b u m . a l b u m _ l a y o u t = = b . b l o g & & ( d / = 2 ) , c . _ . e l . l a y o u t . g l o b a l . t h u m b s C a r o u s e l . j c a r o u s e l ( " s c r o l l " , " + = " + d ) , ! 1 } ) , t h i s . _ . e l . l a y o u t . g l o b a l . t h u m b s C a r o u s e l P r e v . c l i c k ( f u n c t i o n ( ) { v a r   d = c . g e t T h u m b s C a r o u s e l S c r o l l ( ) ; r e t u r n   c . _ . o p e r a t i o n ! = a . e m b e d & & c . _ . a l b u m . a l b u m _ l a y o u t = = b . b l o g & & ( d / = 2 ) , c . _ . e l . l a y o u t . g l o b a l . t h u m b s C a r o u s e l . j c a r o u s e l ( " s c r o l l " , " - = " + d ) , ! 1 } ) , t h i s . _ . e l . l a y o u t . g l o b a l . t h u m b s C a r o u s e l . f i n d ( " i m g " ) . c l i c k ( f u n c t i o n ( ) { v a r   d = p a r s e I n t ( $ ( t h i s ) . a t t r ( " d a t a - i n d e x " ) ) , e = c . _ . i m a g e s . i m a g e s [ d ] ; ! c . _ . o p e r a t i o n & & c . _ . a l b u m . a l b u m _ l a y o u t = = b . h o r i z o n t a l | | c . _ . o p e r a t i o n = = a . e m b e d ? c . s c r o l l M a i n I m a g e ( d ) : c . _ . a l b u m . a l b u m _ l a y o u t = = b . b l o g & & I m g u r . g e t I n s t a n c e ( ) . s e t P a g e H a s h ( e . h a s h ) } ) , $ ( " . t h u m b - t i t l e - e m b e d " ) . t i p s y ( { g r a v i t y : " s " , o p a c i t y : . 9 5 , h t m l : ! 0 , l i v e : ! 0 } ) ; v a r   d = t h i s . _ . a l b u m . a l b u m _ l a y o u t = = b . b l o g ? t h i s . g e t T h u m b s C a r o u s e l S c r o l l ( ) / 2 : t h i s . g e t T h u m b s C a r o u s e l S c r o l l ( ) ; t h i s . _ . i m a g e s . c o u n t < = d & & t h i s . s h r i n k T h u m b s C a r o u s e l ( ) } , t h u m b s C a r o u s e l I t e m V i s i b l e I n : f u n c t i o n ( a ) { I m g u r . A l b u m . g e t I n s t a n c e ( ) . l o a d I m a g e ( $ ( t h i s ) . f i n d ( " i m g " ) ) } , i n i t T h u m b s C a r o u s e l : f u n c t i o n ( ) { v a r   a = t h i s ; t h i s . _ . e l . l a y o u t . g l o b a l . t h u m b s C a r o u s e l . f i n d ( " l i " ) . b i n d ( " j c a r o u s e l i t e m v i s i b l e i n " , a . t h u m b s C a r o u s e l I t e m V i s i b l e I n ) , t h i s . _ . e l . l a y o u t . g l o b a l . t h u m b s C a r o u s e l T o p . f i n d ( " l i " ) . b i n d ( " j c a r o u s e l i t e m f i r s t i n " , f u n c t i o n ( b ) { a . c a r o u s e l I t e m F i r s t I n ( $ ( t h i s ) , a . _ . e l . l a y o u t . g l o b a l . t h u m b s C a r o u s e l T o p , a . _ . e l . l a y o u t . g l o b a l . t h u m b s C a r o u s e l P r e v ) } ) . b i n d ( " j c a r o u s e l i t e m l a s t i n " , f u n c t i o n ( b ) { a . c a r o u s e l I t e m L a s t I n ( $ ( t h i s ) , a . _ . e l . l a y o u t . g l o b a l . t h u m b s C a r o u s e l T o p , a . _ . e l . l a y o u t . g l o b a l . t h u m b s C a r o u s e l N e x t ) } ) , t h i s . _ . e l . l a y o u t . g l o b a l . t h u m b s C a r o u s e l . j c a r o u s e l ( { a n i m a t i o n : t h i s . _ . v a r s . t h u m b s S p e e d } ) , t h i s . t h u m b s C a r o u s e l B i n d ( ) } , g e t I m a g e S r c : f u n c t i o n ( a ) { a > = t h i s . _ . i m a g e s . c o u n t & & ( a = t h i s . _ . i m a g e s . c o u n t - 1 ) , a < 0 & & ( a = 0 ) ; v a r   b = t h i s . _ . i m a g e s . i m a g e s [ a ] ; r e t u r n   t h i s . _ . c d n U r l + " / " + b . h a s h + b . e x t } , s c r o l l M a i n I m a g e : f u n c t i o n ( a ) { i f ( 0 ! = t h i s . _ . i m a g e s . c o u n t ) { a > = t h i s . _ . i m a g e s . c o u n t & & ( a = t h i s . _ . i m a g e s . c o u n t - 1 ) , a < 0 & & ( a = 0 ) ; v a r   b = ( t h i s . g e t I m a g e S r c ( a ) , t h i s . _ . i m a g e s . i m a g e s [ a ] ) ; t h i s . _ . v a r s . c u r r e n t I m a g e I n d e x = a ; v a r   c = $ ( " # i m a g e - c o n t a i n e r - i n n e r " ) , d = " " ; i f ( t h i s . _ . o p e r a t i o n = = t h i s . _ . o p e r a t i o n s . e m b e d & & ! b . a n i m a t e d ) { v a r   e = t h i s . _ . e l . l a y o u t . g l o b a l . c o n t a i n e r . h e i g h t ( ) , f = t h i s . _ . e l . l a y o u t . g l o b a l . c o n t a i n e r . w i d t h ( ) , g = e > f ? e : f ; g < = 1 6 0 ? d = " t " : g < = 3 2 0 ? d = " m " : g < = 6 4 0 ? d = " l " : g < = 1 0 2 4 & & ( d = " h " ) } t h i s . _ . e l . l a y o u t . g l o b a l . m a i n I m a g e = R e a c t D O M . r e n d e r ( R e a c t . c r e a t e E l e m e n t ( I m g u r . I m a g e V i e w e r , { i t e m : b , t h u m b s i z e : d , d i s c a r d i n g _ r e f e r r e r : ! t h i s . _ . i n i t i a l I m a g e } ) , c . g e t ( 0 ) ) ; v a r   h = $ ( " . j q u e r y - i m a g e - z o o m " ) ; h . l e n g t h & & h . c l i c k ( ) , t h i s . m a i n C a r o u s e l I t e m V i s i b l e ( ) , I m g u r . g e t I n s t a n c e ( ) . s e t P a g e H a s h ( a ) , t h i s . _ . i n i t i a l I m a g e = ! 1 } } , m a i n C a r o u s e l S e t u p : f u n c t i o n ( ) { v a r   a = t h i s , b = t h i s . _ . o p e r a t i o n s ; t h i s . _ . l a y o u t s ; t h i s . _ . e l . l a y o u t . g l o b a l . d e s c r i p t i o n . t i p s y ( { g r a v i t y : $ . f n . t i p s y . a u t o N S , o p a c i t y : . 9 5 , o f f s e t : - 1 0 , h t m l : ! 0 , d e l a y O u t : 1 2 0 0 , l i v e : ! 0 } ) , t h i s . _ . e l . l a y o u t . g l o b a l . n e x t I m a g e . c l i c k ( f u n c t i o n ( ) { r e t u r n   a . s c r o l l M a i n I m a g e ( a . _ . v a r s . c u r r e n t I m a g e I n d e x + 1 ) , $ ( " . " + a . _ . e l . l a y o u t . g l o b a l . a c t i o n B u t t o n O p e n C l a s s ) . r e m o v e C l a s s ( " o p e n e d " ) , ! 1 } ) , t h i s . _ . e l . l a y o u t . g l o b a l . p r e v I m a g e . c l i c k ( f u n c t i o n ( ) { r e t u r n   a . s c r o l l M a i n I m a g e ( a . _ . v a r s . c u r r e n t I m a g e I n d e x - 1 ) , $ ( " . " + a . _ . e l . l a y o u t . g l o b a l . a c t i o n B u t t o n O p e n C l a s s ) . r e m o v e C l a s s ( " o p e n e d " ) , ! 1 } ) , $ ( d o c u m e n t ) . k e y d o w n ( f u n c t i o n ( b ) { r e t u r n ! ! ( b . c t r l K e y | | b . a l t K e y | | b . m e t a K e y ) | | ( 3 7 = = b . k e y C o d e ? a . s c r o l l M a i n I m a g e ( a . _ . v a r s . c u r r e n t I m a g e I n d e x - 1 ) : 3 9 = = b . k e y C o d e & & a . s c r o l l M a i n I m a g e ( a . _ . v a r s . c u r r e n t I m a g e I n d e x + 1 ) , ! 0 ) } ) , t h i s . _ . o p e r a t i o n = = b . e m b e d & & 0 = = t h i s . _ . e l . l a y o u t . e m b e d . o f f s i t e . l e n g t h & & t h i s . _ . e l . l a y o u t . g l o b a l . c o n t a i n e r . p a r e n t ( ) . m o u s e w h e e l ( f u n c t i o n ( b , c ) { r e t u r n   c = c ? d e t l a : b . o r i g i n a l E v e n t . w h e e l D e l t a Y | | b . o r i g i n a l E v e n t . d e t a i l , c > 0 ? a . s c r o l l M a i n I m a g e ( a . _ . v a r s . c u r r e n t I m a g e I n d e x - 1 ) : a . s c r o l l M a i n I m a g e ( a . _ . v a r s . c u r r e n t I m a g e I n d e x + 1 ) , b . p r e v e n t D e f a u l t ( ) , b . s t o p P r o p a g a t i o n ( ) , ! 1 } ) ; v a r   c = a . g e t S t a r t i n g I n d e x ( ) ; " g " = = t h i s . _ . a l b u m . a l b u m _ l a y o u t & & i s N a N ( p a r s e I n t ( w i n d o w . l o c a t i o n . h a s h . s u b s t r ( 1 ) ) ) | | a . s c r o l l M a i n I m a g e ( c ) } , m a i n C a r o u s e l I t e m V i s i b l e : f u n c t i o n ( ) { v a r   a = t h i s . _ . v a r s . c u r r e n t I m a g e I n d e x , b = t h i s . _ . i m a g e s . i m a g e s [ a ] , c = ( t h i s . _ . l a y o u t s , b . p r e f e r _ v i d e o ? " . g i f v " : b . e x t ) ; i f ( $ ( " . t i p s y " ) . r e m o v e ( ) , b . t i t l e ? t h i s . _ . e l . l a y o u t . g l o b a l . t i t l e . t e x t ( b . t i t l e ) . s h o w ( ) : t h i s . _ . e l . l a y o u t . g l o b a l . t i t l e . h i d e ( ) , b . d e s c r i p t i o n ) { v a r   d = I m g u r . U t i l . h t m l E n t i t y ( b . d e s c r i p t i o n ) ; t h i s . _ . e l . l a y o u t . g l o b a l . d e s c r i p t i o n . h t m l ( I m g u r . U t i l . l i n k i f y ( d , ! 0 , ! 0 ) ) . s h o w ( ) } e l s e   t h i s . _ . e l . l a y o u t . g l o b a l . d e s c r i p t i o n . h i d e ( ) ; t h i s . _ . e l . l a y o u t . g l o b a l . d e s c r i p t i o n . a t t r ( " t i t l e " , " " ) . a t t r ( " o r i g i n a l - t i t l e " , " " ) , t h i s . _ . o p e r a t i o n = = t h i s . _ . o p e r a t i o n s . e m b e d ? I m g u r . U t i l i t i e s . E m b e d . s e t u p E m b e d S c r e e n . c a l l ( t h i s ) : $ ( d o c u m e n t ) . h e i g h t ( ) > t h i s . _ . v a r s . b o d y H e i g h t & & ( t h i s . _ . v a r s . b o d y H e i g h t = $ ( d o c u m e n t ) . h e i g h t ( ) , $ ( " b o d y " ) . c s s ( " h e i g h t " , t h i s . _ . v a r s . b o d y H e i g h t ) ) , t h i s . t h u m b s C a r o u s e l S c r o l l ( a , ! 1 ) , t h i s . _ . e l . l a y o u t . g l o b a l . t h u m b s C a r o u s e l . f i n d ( " i m g " ) . r e m o v e C l a s s ( " s e l e c t e d " ) , $ ( " # t h u m b - " + b . h a s h ) . a d d C l a s s ( " s e l e c t e d " ) , $ ( t h i s . _ . e l . l a y o u t . g l o b a l . i m a g e H o v e r I c o n C l a s s ) . f i n d ( " . a l b u m - v i e w - l i n k " ) . h t m l ( ' < a   h r e f = " / a / ' + t h i s . _ . i d + ' "   t a r g e t = " _ b l a n k " > V i e w   a l b u m   o n   I m g u r < / a > ' ) , $ ( t h i s . _ . e l . l a y o u t . g l o b a l . i m a g e H o v e r I c o n C l a s s ) . f i n d ( " . a l b u m - v i e w - i m a g e - l i n k " ) . h t m l ( ' < a   h r e f = " ' + t h i s . _ . c d n U r l + " / " + b . h a s h + c + ' "   t a r g e t = " _ b l a n k " > V i e w   f u l l   r e s o l u t i o n < / a > ' ) , $ ( t h i s . _ . e l . l a y o u t . g l o b a l . i m a g e H o v e r I c o n C l a s s ) . f i n d ( " . d o w n l o a d " ) . h t m l ( ' < a   h r e f = " / / ' + I m g u r . E n v i r o n m e n t . h o s t + " / d o w n l o a d / " + b . h a s h + ( b . t i t l e ? " / " + e n c o d e U R I C o m p o n e n t ( b . t i t l e ) : " " ) + ' " > D o w n l o a d   f u l l   r e s o l u t i o n < / a > ' ) , a = = t h i s . _ . i m a g e s . c o u n t - 1 ? t h i s . _ . e l . l a y o u t . g l o b a l . n e x t I m a g e . a d d C l a s s ( " d i s a b l e d " ) : t h i s . _ . e l . l a y o u t . g l o b a l . n e x t I m a g e . r e m o v e C l a s s ( " d i s a b l e d " ) , 0 = = a ? t h i s . _ . e l . l a y o u t . g l o b a l . p r e v I m a g e . a d d C l a s s ( " d i s a b l e d " ) : t h i s . _ . e l . l a y o u t . g l o b a l . p r e v I m a g e . r e m o v e C l a s s ( " d i s a b l e d " ) ; f o r ( v a r   e = a - 1 ; e < a + t h i s . _ . p r e l o a d C o u n t & & e < = t h i s . _ . i m a g e s . c o u n t ; + + e ) " u n d e f i n e d " ! = t y p e o f   t h i s . _ . i m a g e s . i m a g e s [ e ] & & ( t h i s . _ . i m a g e s . i m a g e s [ e ] . a n i m a t e d & & " . g i f " = = = t h i s . _ . i m a g e s . i m a g e s [ e ] . e x t | | $ . p r e l o a d I m a g e s ( t h i s . g e t I m a g e S r c ( e ) ) ) } , i n i t M a i n C a r o u s e l : f u n c t i o n ( ) { t h i s . m a i n C a r o u s e l S e t u p ( ) } , c h o o s e L o g o C o l o r : f u n c t i o n ( a ) { i f ( a ) { v a r   b = p a r s e I n t ( a . s u b s t r ( 0 , 2 ) , 1 6 ) , c = p a r s e I n t ( a . s u b s t r ( 2 , 2 ) , 1 6 ) , d = p a r s e I n t ( a . s u b s t r ( 4 , 2 ) , 1 6 ) , e = ( 2 9 9 * b + 5 8 7 * c + 1 1 4 * d ) / 1 e 3 ; r e t u r n   e > = 1 2 8 } r e t u r n ! 1 } , a l b u m S o r t S t o p : f u n c t i o n ( ) { v a r   a = I m g u r . A l b u m . g e t I n s t a n c e ( ) ; i f ( a . _ . e l . s u b d o m a i n . c o n t a i n e r . f i n d ( a . _ . e l . s u b d o m a i n . a l b u m C l a s s ) . l e n g t h > 0 ) { f o r ( v a r   b = a . _ . e l . s u b d o m a i n . c o n t a i n e r . s o r t a b l e ( " t o A r r a y " ) , c = [ ] , d = 0 , e = b . l e n g t h ; d < e ; + + d ) c [ d ] = b [ d ] . s u b s t r ( b [ d ] . i n d e x O f ( " - " ) + 1 ) ; $ . p o s t ( a . _ . v a r s . a j a x U R L + " r e a r r a n g e A l b u m s " , " o r d e r = " + c + " & m s i d = " + I m g u r . E n v i r o n m e n t . m s i d ) } } , t o g g l e E d i t B u t t o n : f u n c t i o n ( a ) { a . t o g g l e C l a s s ( " o p e n e d " ) , a . s i b l i n g s ( t h i s . _ . e l . s u b d o m a i n . e d i t O p t i o n s C l a s s ) . t o g g l e ( ) } , e d i t B u t t o n C l i c k H a n d l e r : f u n c t i o n ( a ) { $ ( " b o d y " ) . u n b i n d ( " c l i c k " ) ; v a r   b = I m g u r . A l b u m . g e t I n s t a n c e ( ) ; r e t u r n / a l b u m - / . t e s t ( $ ( a . t a r g e t ) . p a r e n t ( ) . a t t r ( " i d " ) ) & & b . s e t A l b u m I D ( $ ( a . t a r g e t ) . p a r e n t ( ) . a t t r ( " i d " ) . r e p l a c e ( / a l b u m - / , " " ) ) , $ ( " b o d y " ) . c l i c k ( f u n c t i o n ( a ) { v a r   c = b ; $ ( " b o d y " ) . f i n d ( " . o p e n e d " ) . e a c h ( f u n c t i o n ( ) { c . t o g g l e E d i t B u t t o n ( $ ( t h i s ) ) } ) } ) , b . t o g g l e E d i t B u t t o n ( $ ( t h i s ) ) , 0 ! = $ ( a . t a r g e t ) . c l o s e s t ( " . g a l l e r y - s u b m i t - l i n k " ) . l e n g t h | | ( a . s t o p P r o p a g a t i o n ( ) , a . p r e v e n t D e f a u l t ( ) , ! 1 ) } , d o w n l o a d A l b u m : f u n c t i o n ( ) { v a r   a = I m g u r . A l b u m . g e t I n s t a n c e ( ) ; w i n d o w . l o c a t i o n = " h t t p s : / / " + I m g u r . E n v i r o n m e n t . h o s t + " / a / " + a . _ . i d + " / z i p " } , c r e a t e A l b u m : f u n c t i o n ( a ) { v a r   b = I m g u r . A l b u m . g e t I n s t a n c e ( ) ; b . i n i t C r e a t e A l b u m ( ) , b . o p e n C r e a t e A l b u m C o l o r b o x ( a ) } , c h a n g e S e t t i n g s : f u n c t i o n ( a , b ) { v a r   c = I m g u r . A l b u m . g e t I n s t a n c e ( ) , d = n u l l = = = t h i s . _ . i d ; c . i n i t C h a n g e S e t t i n g s ( b ) , c . o p e n C r e a t e A l b u m C o l o r b o x ( a , d ) } , c h a n g e I m a g e s : f u n c t i o n ( a , b , c ) { i f ( I m g u r . E n v i r o n m e n t . p u b l i s h e d ) r e t u r n ! 1 ; v a r   d = t h i s ; $ . c o l o r b o x ( { h r e f : t h i s . _ . e l . a l b u m I m a g e s F o r m . i d , o p e n : ! 0 , i n l i n e : ! 0 , t r a n s i t i o n : " n o n e " , s c r o l l i n g : ! 1 , o n C o m p l e t e : f u n c t i o n ( ) { d . _ . v a r s . b i n d i n g s . i m a g e s | | d . b i n d c h a n g e I m a g e s ( ) , a ? ( d . _ . e l . a l b u m I m a g e s F o r m . i m a g e s M e n u . h i d e ( ) , $ . c o l o r b o x . r e s i z e ( { i n n e r W i d t h : d . _ . e l . a l b u m I m a g e s F o r m . m a i n C o l u m n . w i d t h ( ) + 2 0 , i n n e r H e i g h t : d . _ . e l . a l b u m I m a g e s F o r m . f o r m . h e i g h t ( ) + 2 0 } ) , d . _ . e l . a l b u m I m a g e s F o r m . c o v e r H e a d e r . w i d t h ( d . _ . e l . a l b u m I m a g e s F o r m . m a i n C o l u m n . w i d t h ( ) + 2 0 ) ) : d . _ . e l . a l b u m I m a g e s F o r m . i m a g e s M e n u . s h o w ( ) , d . i n i t A l b u m I m a g e s ( a , b , c ) } , o n C l e a n u p : f u n c t i o n ( ) { d . _ . e l . a l b u m I m a g e s F o r m . f o r m . o f f ( " s u b m i t " ) , d . _ . v a r s . a l b u m I m a g e s . d e s t r o y ( ) , d . _ . v a r s . a l b u m I m a g e s = n u l l } } ) } , d e l e t e A l b u m : f u n c t i o n ( a ) { v a r   b = I m g u r . A l b u m . g e t I n s t a n c e ( ) ; $ . c o l o r b o x ( { h r e f : b . _ . e l . d e l e t e A l b u m F o r m . i d , o p e n : ! 0 , i n l i n e : ! 0 , t o p : " 1 5 % " , t r a n s i t i o n : " n o n e " , s c r o l l i n g : ! 1 , o n C o m p l e t e : f u n c t i o n ( ) { b . _ . v a r s . b i n d i n g s . d e l | | b . b i n d D e l e t e A l b u m ( a ) } } ) } , h i d e A l b u m : f u n c t i o n ( a ) { v a r   b = I m g u r . A l b u m . g e t I n s t a n c e ( ) ; $ . c o l o r b o x ( { h r e f : b . _ . e l . h i d e A l b u m F o r m . i d , o p e n : ! 0 , i n l i n e : ! 0 , t o p : " 1 5 % " , t r a n s i t i o n : " n o n e " , s c r o l l i n g : ! 1 , o n C o m p l e t e : f u n c t i o n ( ) { b . _ . v a r s . b i n d i n g s . d e l | | b . b i n d H i d e A l b u m ( a ) } } ) } , g e n e r a l I n i t : f u n c t i o n ( ) { v a r   a = t h i s . _ . o p e r a t i o n s ; t h i s . _ . o p e r a t i o n = = = a . e m b e d & & I m g u r . U t i l i t i e s . E m b e d . i n i t E m b e d . c a l l ( t h i s ) , 
 t h i s . _ . e l . l i n k s . c r e a t e A l b u m . u n b i n d ( " c l i c k " ) , t h i s . _ . e l . l i n k s . c r e a t e A l b u m . c l i c k ( t h i s . c r e a t e A l b u m ) , t h i s . _ . e l . e m b e d A l b u m F o r m . e m b e d C o d e I n p u t . c l i c k ( $ ( t h i s ) . s e l e c t A l l ) , I m g u r . F u l l s c r e e n & & I m g u r . F u l l s c r e e n . g e t I n s t a n c e ( ) } , a f t e r R e n d e r A l b u m s B i n d M e t h o d s : f u n c t i o n ( ) { v a r   a = t h i s ; $ ( " . t h u m b - t i t l e " ) . t i p s y ( { g r a v i t y : " n " , o p a c i t y : . 9 5 , o f f s e t : - 1 0 , h t m l : ! 0 } ) ; v a r   b = { c h a n g e S e t t i n g s : $ ( a . _ . e l . a l b u m L i n k C l a s s e s . c h a n g e S e t t i n g s ) , n o n A u t h o r C h a n g e S e t t i n g s : $ ( a . _ . e l . a l b u m L i n k C l a s s e s . n o n A u t h o r C h a n g e S e t t i n g s ) , c h a n g e I m a g e s : $ ( a . _ . e l . a l b u m L i n k C l a s s e s . c h a n g e I m a g e s ) , c h a n g e C o v e r : $ ( a . _ . e l . a l b u m L i n k C l a s s e s . c h a n g e C o v e r ) , d e l e t e A l b u m : $ ( a . _ . e l . a l b u m L i n k C l a s s e s . d e l e t e A l b u m ) , e m b e d A l b u m : $ ( a . _ . e l . a l b u m L i n k C l a s s e s . e m b e d A l b u m ) , d o w n l o a d A l b u m : $ ( a . _ . e l . a l b u m L i n k C l a s s e s . d o w n l o a d A l b u m ) , h i d e A l b u m : $ ( a . _ . e l . a l b u m L i n k C l a s s e s . h i d e A l b u m ) , e d i t B u t t o n : $ ( a . _ . e l . s u b d o m a i n . e d i t B u t t o n C l a s s ) , e d i t O p t i o n s I t e m s : $ ( a . _ . e l . s u b d o m a i n . e d i t O p t i o n s I t e m s C l a s s ) } ; b . e d i t O p t i o n s I t e m s . u n b i n d ( " c l i c k " ) , b . e d i t B u t t o n . u n b i n d ( " c l i c k " ) , b . c h a n g e S e t t i n g s . u n b i n d ( " c l i c k " ) , b . h i d e A l b u m . u n b i n d ( " c l i c k " ) , b . d e l e t e A l b u m . u n b i n d ( " c l i c k " ) , b . c h a n g e I m a g e s . u n b i n d ( " c l i c k " ) , b . c h a n g e C o v e r . u n b i n d ( " c l i c k " ) , b . e m b e d A l b u m . u n b i n d ( " c l i c k " ) , b . d o w n l o a d A l b u m . u n b i n d ( " c l i c k " ) , b . e d i t O p t i o n s I t e m s . c l i c k ( f u n c t i o n ( ) { v a r   b = $ ( t h i s ) . p a r e n t ( ) . p a r e n t ( ) . p a r e n t ( ) . a t t r ( " i d " ) ; a . _ . i d = b . s u b s t r ( b . i n d e x O f ( " - " ) + 1 ) } ) , b . e d i t B u t t o n . c l i c k ( t h i s . e d i t B u t t o n C l i c k H a n d l e r ) , b . c h a n g e S e t t i n g s . c l i c k ( f u n c t i o n ( ) { a . c h a n g e S e t t i n g s ( v o i d   0 , t h i s ) } ) , b . h i d e A l b u m . c l i c k ( t h i s . h i d e A l b u m ) , b . d e l e t e A l b u m . c l i c k ( t h i s . d e l e t e A l b u m ) , b . c h a n g e I m a g e s . c l i c k ( f u n c t i o n ( ) { a . c h a n g e I m a g e s ( ! 1 , ! 0 ) } ) , b . c h a n g e C o v e r . c l i c k ( f u n c t i o n ( ) { a . c h a n g e I m a g e s ( ! 0 , ! 0 ) } ) , b . e m b e d A l b u m . c l i c k ( _ . b i n d ( I m g u r . U t i l i t i e s . E m b e d . e m b e d M o d a l , t h i s ) ) , b . d o w n l o a d A l b u m . c l i c k ( t h i s . d o w n l o a d A l b u m ) , t h i s . _ . v a r s . b o d y H e i g h t = $ ( " b o d y " ) . h e i g h t ( ) , $ ( " . a l b u m - i m a g e s - l i n k . p u b l i s h e d " ) . t i p s y ( { g r a v i t y : " w " } ) } , p r o f i l e I n i t : f u n c t i o n ( ) { t h i s . _ . e l . s u b d o m a i n . c o n t a i n e r . s o r t a b l e ( { s t o p : t h i s . a l b u m S o r t S t o p , i t e m s : " . a l b u m " } ) , t h i s . g e n e r a l I n i t ( ) } , s e t A l b u m I D : f u n c t i o n ( a ) { t h i s . _ . i d = a , t h i s . _ . v a r s . b i n d i n g s . i m a g e s = ! 1 } , g e t H a s h : f u n c t i o n ( ) { r e t u r n   w i n d o w . l o c a t i o n . h a s h . s u b s t r i n g ( 1 ) } , g e t I n i t P a g e : f u n c t i o n ( ) { v a r   a = p a r s e I n t ( t h i s . g e t H a s h ( ) ) ; r e t u r n   a < 1 & & ( a = 1 ) , a ? a : 1 } , h a n d l e A l b u m s D a t a : f u n c t i o n ( a ) { i f ( n u l l ! = a ) i f ( a . a l b u m s . l e n g t h > 0 ) { v a r   b = t h i s ; $ . e a c h ( a . a l b u m s , f u n c t i o n ( a , c ) { b . a d d A l b u m T o C o n t a i n e r ( c , ! 0 ) } ) ; v a r   c = a . a l b u m s [ a . a l b u m s . l e n g t h - 1 ] ; t h i s . _ . a j a x P a r a m s . f r o m D a t e = c . d a t e t i m e , t h i s . _ . a j a x P a r a m s . f r o m O r d e r = c . o r d e r , a . a l b u m s . l e n g t h < t h i s . _ . a j a x P a r a m s . p e r P a g e & & ( t h i s . _ . a l b u m s L i m i t R e a c h e d = ! 0 , $ ( w i n d o w ) . o f f ( " s c r o l l " , t h i s . _ s c r o l l L i s t e n e r ) ) } e l s e   t h i s . _ . a l b u m s L i m i t R e a c h e d = ! 0 , $ ( w i n d o w ) . o f f ( " s c r o l l " , t h i s . _ s c r o l l L i s t e n e r ) ; t h i s . _ . c h a n g i n g P a g e = ! 1 , t h i s . _ . e l . $ l o a d e r . h i d e ( ) , t h i s . a f t e r R e n d e r A l b u m s B i n d M e t h o d s ( ) } , l o a d N e x t P a g e : f u n c t i o n ( ) { i f ( t h i s . _ . c h a n g i n g P a g e | | t h i s . _ . a l b u m s L i m i t R e a c h e d ) r e t u r n ! 1 ; v a r   a = t h i s ; r e t u r n   t h i s . _ . c h a n g i n g P a g e = ! 0 , t h i s . _ . e l . $ l o a d e r . s h o w ( ) , t h i s . _ . a j a x P a r a m s . p e r P a g e = t h i s . _ . a l b u m s P e r P a g e , t h i s . _ . a j a x = $ . g e t J S O N ( t h i s . _ . a j a x G e t A l b u m s U R L , t h i s . _ . a j a x P a r a m s , f u n c t i o n ( b ) { b . s u c c e s s & & a . h a n d l e A l b u m s D a t a ( b . d a t a ) } ) . f a i l ( f u n c t i o n ( b , c ) { a . h a n d l e A l b u m s D a t a ( n u l l ) } ) , ! 0 } , s e t T o t a l A l b u m s C o u n t : f u n c t i o n ( a , b ) { t h i s . _ . t o t a l A l b u m s C o u n t = a , t h i s . _ . a l b u m s P e r P a g e = b | | t h i s . _ . a l b u m s P e r P a g e } , a d d A l b u m T o C o n t a i n e r : f u n c t i o n ( a , b ) { a . v i e w s = a . v i e w s | | 0 , a . n u m _ i m a g e s = a . n u m _ i m a g e s | | 0 ; v a r   c = [ " a l b u m " ] ; t h i s . _ . h a s A c c e s s & & ( c . p u s h ( " a c c e s s " ) , 1 = = a . p r i v a c y ? c . p u s h ( " h i d d e n " ) : 2 = = a . p r i v a c y & & c . p u s h ( " s e c r e t " ) ) ; v a r   d , e = ' < d i v   i d = " a l b u m - ' + a . i d + ' "   d a t a - t i t l e = " ' + a . t i t l e + ' "   d a t a - c o v e r = " ' + a . c o v e r + ' "   d a t a - l a y o u t = " ' + a . l a y o u t + ' "   d a t a - p r i v a c y = " ' + a . p r i v a c y + ' "     d a t a - d e s c r i p t i o n = " ' + a . d e s c r i p t i o n + ' "   c l a s s = " a l b u m   ' + c . j o i n ( "   " ) + ' " > ' ; d = 0 = = a . n u m _ i m a g e s ? I m g u r . E n v i r o n m e n t . s t a t i c U r l + " / i m a g e s / " + a . t h u m b : I m g u r . E n v i r o n m e n t . c d n U r l + " / " + a . t h u m b ; v a r   f = ' < d i v   c l a s s = " c o v e r " > < a   h r e f = " / / ' + t h i s . _ . h o s t + " / a / " + a . i d + ' " > < i m g   s r c = " ' + d + ' "   a l t = " ' + a . t i t l e + ' "   / > < / a > ' ; t h i s . _ . h a s A c c e s s & & ( f + = ' < d i v   c l a s s = " p r i v a c y - d o t - c o n t a i n e r   o p t i o n s " > ' , f + = 1 = = a . p r i v a c y ? ' < s p a n   c l a s s = " p r i v a c y - d o t   o r a n g e   t i t l e   i t e m   a l b u m - s e t t i n g s - l i n k "   t i t l e = " P r i v a c y :   H i d d e n " > < / s p a n > ' : 2 = = a . p r i v a c y ? ' < s p a n   c l a s s = " p r i v a c y - d o t   r e d   t i t l e   i t e m   a l b u m - s e t t i n g s - l i n k "   t i t l e = " P r i v a c y :   S e c r e t " > < / s p a n > ' : ' < s p a n   c l a s s = " p r i v a c y - d o t   g r e e n   t i t l e   i t e m   a l b u m - s e t t i n g s - l i n k "   t i t l e = " P r i v a c y :   P u b l i c " > < / s p a n > ' , f + = " < / d i v > " ) , f + = " < / d i v > " ; v a r   g = ' < d i v   c l a s s = " i n f o " > ' ; g + = a . t i t l e ? a . t i t l e : " u n t i t l e d " , g + = " < / d i v > " ; v a r   h = ' < d i v   c l a s s = " m e t a d a t a " > ' + a . n u m _ i m a g e s + "   " + I m g u r . U t i l . p l u r a l i z e ( a . n u m _ i m a g e s , " i m a g e " ) + ' & m i d d o t ; < s p a n   t i t l e = " ' + m o m e n t ( a . d a t e t i m e ) . f o r m a t ( " d d d d ,   M M M M   D ,   Y Y Y Y   a \ t   H H : m m " ) + '   G M T " > ' + m o m e n t ( a . d a t e t i m e ) . f o r m a t ( " M M M   D ,   Y Y Y Y " ) + " < / s p a n >   & m i d d o t ;   " + I m g u r . U t i l . n u m b e r F o r m a t ( a . v i e w s ) + "   " + I m g u r . U t i l . p l u r a l i z e ( a . v i e w s , " v i e w " ) + " < / d i v > " , i = " " ; t h i s . _ . h a s A c c e s s & & ( i + = ' < d i v   c l a s s = " e d i t - b u t t o n   c o m b o b o x   l e f t "   t i t l e = " e d i t   t h i s   a l b u m " > < d i v   c l a s s = " o p t i o n s " > < d i v   c l a s s = " i t e m   a l b u m - i m a g e s - l i n k   ' + ( a . i n _ g a l l e r y ? " p u b l i s h e d " : " u n p u b l i s h e d " ) + ' "   ' + ( a . i n _ g a l l e r y ? ' t i t l e = " P l e a s e   r e m o v e   t h i s   a l b u m   f r o m   t h e   g a l l e r y   t o   c h a n g e   i t s   i m a g e s " ' : " " ) + ' > C h a n g e   i m a g e s < / d i v > < d i v   c l a s s = " i t e m   a l b u m - s e t t i n g s - l i n k " > C h a n g e   s e t t i n g s < / d i v > < d i v   c l a s s = " i t e m   a l b u m - e m b e d - l i n k " > E m b e d   a l b u m < / d i v > < d i v   c l a s s = " i t e m   a l b u m - d o w n l o a d - l i n k " > D o w n l o a d   a l b u m < / d i v > < d i v   c l a s s = " i t e m   a l b u m - d e l e t e - l i n k " > D e l e t e   a l b u m < / d i v > < / d i v > < / d i v > ' , i + = ' < d i v   c l a s s = " m o v e - i c o n "   t i t l e = " r e a r r a n g e   a l b u m " > < / d i v > ' ) , e + = f + g + h + i , e + = " < / d i v > " ; v a r   j = $ ( e ) ; r e t u r n   b ? j . a p p e n d T o ( t h i s . _ . e l . $ a l b u m s C o n t a i n e r ) : j . p r e p e n d T o ( t h i s . _ . e l . $ a l b u m s C o n t a i n e r ) , ! 0 } } ) , C l a s s . a d d S i n g l e t o n ( I m g u r . A l b u m ) , N a m e s p a c e ( " I m g u r . E l e m e n t s . T a g . V i e w " ) , I m g u r . E l e m e n t s . T a g . V i e w = R e a c t . c r e a t e C l a s s ( { d i s p l a y N a m e : " T a g V i e w " , g e t D e f a u l t P r o p s : f u n c t i o n ( ) { r e t u r n { r e d i r e c t T o : " " , r e d i r e c t A n a l y t i c s : f u n c t i o n ( ) { } , c l a s s N a m e s : " " } } , g e t B a c k g r o u n d I m a g e : f u n c t i o n ( ) { r e t u r n   t h i s . p r o p s . t a g ? t h i s . p r o p s . t a g . b a c k g r o u n d ? t h i s . p r o p s . t a g . b a c k g r o u n d : t h i s . p r o p s . t a g . b a c k g r o u n d _ h a s h ? I m g u r . E n v i r o n m e n t . c d n U r l + " / " + t h i s . p r o p s . t a g . b a c k g r o u n d _ h a s h + " _ d . p n g ? m a x w i d t h = 2 0 0 & f i d e l i t y = g r a n d " : " " : " " } , h a n d l e T a g C l i c k : f u n c t i o n ( a ) { t h i s . p r o p s . r e d i r e c t A n a l y t i c s ( ) , t h i s . p r o p s . r e d i r e c t T o | | t h i s . r e m o v e T a g ( a ) } , r e m o v e T a g : f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) , a . s t o p P r o p a g a t i o n ( ) , t h i s . p r o p s . a l l o w R e m o v a l & & t h i s . p r o p s . r e m o v e T a g ( t h i s . p r o p s . t a g N a m e ) } , r e n d e r : f u n c t i o n ( ) { v a r   a = " " ; t h i s . p r o p s . a l l o w R e m o v a l & & ( a = R e a c t . c r e a t e E l e m e n t ( " s p a n " , { c l a s s N a m e : " p o s t - t a g - d e l e t e   p o i n t e r   i c o n - x " , o n C l i c k : t h i s . r e m o v e T a g } ) ) ; v a r   b = { } ; r e t u r n   t h i s . g e t B a c k g r o u n d I m a g e ( ) & & ( b = { b a c k g r o u n d : " l i n e a r - g r a d i e n t ( r g b a ( 0 ,   0 ,   0 ,   0 . 1 5 ) ,   r g b a ( 0 ,   0 ,   0 ,   0 . 1 5 ) ) ,   u r l ( " + t h i s . g e t B a c k g r o u n d I m a g e ( ) + " ) " } ) , R e a c t . c r e a t e E l e m e n t ( " a " , { s t y l e : b , c l a s s N a m e : t h i s . p r o p s . c l a s s N a m e s , o n C l i c k : t h i s . h a n d l e T a g C l i c k , h r e f : t h i s . p r o p s . r e d i r e c t T o } , R e a c t . c r e a t e E l e m e n t ( " s p a n " , { c l a s s N a m e : " p o s t - t a g - l i n k " } , t h i s . p r o p s . t a g N a m e ) , a ) } } ) , I m g u r . E l e m e n t s . T a g . V i e w . p r o p T y p e s = { t a g N a m e : R e a c t . P r o p T y p e s . s t r i n g . i s R e q u i r e d , c l a s s N a m e s : R e a c t . P r o p T y p e s . s t r i n g , r e d i r e c t T o : R e a c t . P r o p T y p e s . s t r i n g , r e d i r e c t A n a l y t i c s : R e a c t . P r o p T y p e s . f u n c , a l l o w R e m o v a l : R e a c t . P r o p T y p e s . b o o l , r e m o v e T a g : R e a c t . P r o p T y p e s . f u n c , t a g : R e a c t . P r o p T y p e s . o b j e c t } , N a m e s p a c e ( " I m g u r . P o s t O p t i o n s " ) , I m g u r . P o s t O p t i o n s = R e a c t . c r e a t e C l a s s ( { d i s p l a y N a m e : " P o s t O p t i o n s " , _ : { e m b e d c o d e r : n u l l , s a v i n g : " S a v i n g . . . " , s a v e d : " S a v e d ! " , o p t i o n s P o s : 0 , a l b u m I n G a l l e r y M e s s a g e : " P l e a s e   r e m o v e   t h i s   a l b u m   f r o m   t h e   g a l l e r y   t o   c h a n g e   i t s   i m a g e s " , M A X _ T A G _ L E N G T H : 5 , t a g S u g g e s t P o s i t i o n : { r i g h t : { l e f t : 1 7 , t o p : 1 6 } , l e f t : { l e f t : - 2 3 0 , t o p : 1 6 } } } , g e t I n i t i a l S t a t e : f u n c t i o n ( ) { r e t u r n { h a s h : t h i s . p r o p s . i n i t i a l H a s h , p u b l i s h e d : t h i s . p r o p s . i n i t i a l I s P u b l i s h e d , p r i v a c y : t h i s . p r o p s . p r i v a c y , s h o w A l l L i n k s : I m g u r . L o c a l S t o r a g e . g e t ( " p o s t _ o p t i o n s : : s h o w A l l L i n k s " ) | | ! 1 , s a v e : " " , f i x e d : ! 1 , d e l e t e h a s h : t h i s . p r o p s . d e l e t e h a s h | | I m g u r . E n v i r o n m e n t . i m a g e . d e l e t e h a s h , i s A l b u m : t h i s . p r o p s . i s A l b u m | | I m g u r . E n v i r o n m e n t . i m a g e . i s _ a l b u m , i m a g e : t h i s . p r o p s . i m a g e | | I m g u r . E n v i r o n m e n t . i m a g e , s h o w i n g G r i d : ! 1 , t a g s : [ ] , s u g g e s t e d T a g s : n u l l , q u e r y : " " , t a g E r r o r : n u l l , t a g S u g g e s t F l a g : " r i g h t " , i s P o s t M a r k e d A s M a t u r e : ! 1 } } , c o m p o n e n t W i l l M o u n t : f u n c t i o n ( ) { t h i s . _ . e m b e d c o d e r = n e w   I m g u r . L i n k G e n e r a t o r , t h i s . _ . e m b e d c o d e r . s e t T h u m b S i z e ( " " ) , t h i s . i n i t P o s t M a t u r e S t a t e ( ) } , c o m p o n e n t D i d M o u n t : f u n c t i o n ( ) { $ ( " # d e l e t i o n - e m a i l " ) . f i n d ( " f o r m " ) . s u b m i t ( t h i s . d e l e t i o n E m a i l S u b m i t H a n d l e r ) , t h i s . p r o p s . e m i t t e r . o n ( " s a v i n g " , t h i s , _ . b i n d ( f u n c t i o n ( ) { t h i s . s e t S t a t e ( { s a v e : t h i s . _ . s a v i n g } ) } , t h i s ) ) , t h i s . p r o p s . e m i t t e r . o n ( " s a v e d " , t h i s , _ . b i n d ( f u n c t i o n ( ) { t h i s . s e t S t a t e ( { s a v e : t h i s . _ . s a v e d } ) } , t h i s ) ) , t h i s . p r o p s . e m i t t e r . o n ( " i n i t G r i d " , t h i s , f u n c t i o n ( ) { t h i s . s e t S t a t e ( { s h o w i n g G r i d : ! 0 } ) } ) , t h i s . p r o p s . e m i t t e r . o n ( " c l o s e G r i d " , t h i s , f u n c t i o n ( ) { t h i s . s e t S t a t e ( { s h o w i n g G r i d : ! 1 } ) } ) , t h i s . p r o p s . e m i t t e r . o n ( " t a g A d d e d " , t h i s , t h i s . r e s e t T a g s ) , t h i s . p r o p s . e m i t t e r . o n ( " t a g R e m o v e d " , t h i s , t h i s . r e s e t T a g s ) , t h i s . c a l c O p t i o n s P o s i t i o n ( ) , $ ( w i n d o w ) . o n ( " s c r o l l " , _ . t h r o t t l e ( t h i s . c h e c k S t i c k y O p t i o n s , 5 0 ) ) , t h i s . c h e c k S t i c k y O p t i o n s ( ) , t h i s . s t a t e . i s A l b u m | | I m g u r . T i t l e D e s c . g e t I n s t a n c e ( ) . b i n d T i t l e D e s c r i p t i o n S u b m i t ( n u l l , ! 0 ) , $ ( t h i s . r e f s [ " m a t u r e - t i p s y " ] ) . t i p s y ( { o p a c i t y : 1 , g r a v i t y : " n e " , h t m l : ! 0 } ) , t h i s . s t a t e . p u b l i s h e d & & ( $ ( t h i s . r e f s [ " a d d - i m a g e s " ] ) . t i p s y ( { o p a c i t y : 1 , g r a v i t y : " s " , h t m l : ! 0 , o f f s e t : 1 0 } ) , $ ( t h i s . r e f s [ " i n i t - r e a r r a n g e " ] ) . t i p s y ( { o p a c i t y : 1 , g r a v i t y : " s " , h t m l : ! 0 , o f f s e t : 1 5 } ) ) } , c o m p o n e n t D i d U p d a t e : f u n c t i o n ( a , b ) { i f ( t h i s . s t a t e . t a g I n p u t A c t i v e & & ! b . t a g I n p u t A c t i v e ) { t h i s . r e f s . a d d t a g . f o c u s ( ) ; v a r   c = R e a c t D O M . f i n d D O M N o d e ( t h i s . r e f s . t a g s u g g e s t ) . g e t B o u n d i n g C l i e n t R e c t ( ) ; c . r i g h t > w i n d o w . i n n e r W i d t h ? t h i s . s e t S t a t e ( { t a g S u g g e s t F l a g : " l e f t " } ) : c . r i g h t + c . w i d t h < w i n d o w . i n n e r W i d t h & & t h i s . s e t S t a t e ( { t a g S u g g e s t F l a g : " r i g h t " } ) } } , i n i t P o s t M a t u r e S t a t e : f u n c t i o n ( ) { v a r   a = t h i s . g e t L o c a l S t o r a g e M a t u r e S t a t e K e y ( ) ; I m g u r . L o c a l S t o r a g e . e x i s t s ( a ) & & t h i s . s e t S t a t e ( { i s P o s t M a r k e d A s M a t u r e : ! 0 } ) } , h a n d l e P o s t M a t u r e C h a n g e d : f u n c t i o n ( ) { v a r   a = t h i s . g e t L o c a l S t o r a g e M a t u r e S t a t e K e y ( ) ; t h i s . s e t S t a t e ( { i s P o s t M a r k e d A s M a t u r e : ! t h i s . s t a t e . i s P o s t M a r k e d A s M a t u r e } , f u n c t i o n ( ) { t h i s . s t a t e . i s P o s t M a r k e d A s M a t u r e ? I m g u r . L o c a l S t o r a g e . s a v e ( a , 1 ) : I m g u r . L o c a l S t o r a g e . r e m o v e ( a ) } ) } , g e t L o c a l S t o r a g e M a t u r e S t a t e K e y : f u n c t i o n ( ) { r e t u r n " P o s t M a r k e d A s M a t u r e - " + ( t h i s . s t a t e . i s A l b u m ? " A l b u m " : " I m a g e " ) + " - " + t h i s . s t a t e . h a s h } , r e s e t T a g s : f u n c t i o n ( ) { t h i s . s e t S t a t e ( { t a g s : t h i s . p r o p s . t a g S t o r e . g e t T a g s ( ) } ) } , c h e c k S t i c k y O p t i o n s : f u n c t i o n ( ) { v a r   a = $ ( w i n d o w ) . s c r o l l T o p ( ) ; a > = t h i s . _ . o p t i o n s P o s ? t h i s . s e t S t a t e ( { f i x e d : ! 0 } ) : t h i s . s e t S t a t e ( { f i x e d : ! 1 } ) } , c a l c O p t i o n s P o s i t i o n : f u n c t i o n ( ) { t h i s . _ . o p t i o n s P o s = $ ( R e a c t D O M . f i n d D O M N o d e ( t h i s ) ) . o f f s e t ( ) . t o p - 2 0 } , i n i t R e a r r a n g e I f U n p u b l i s h e d : f u n c t i o n ( ) { t h i s . s t a t e . p u b l i s h e d | | t h i s . p r o p s . e m i t t e r . t r i g g e r ( " i n i t G r i d " , " r e a r r a n g e " ) } , c l o s e R e a r r a n g e : f u n c t i o n ( ) { t h i s . p r o p s . e m i t t e r . t r i g g e r ( " c l o s e G r i d " ) } , h a n d l e E m b e d : f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) , $ . c o l o r b o x ( { h r e f : ' < d i v   i d = " e m b e d - m o d a l " > < / d i v > ' , o p e n : ! 0 , i n l i n e : ! 0 , t o p : 4 0 , t r a n s i t i o n : " n o n e " , s c r o l l i n g : ! 1 , w i d t h : 5 0 0 , h e i g h t : 5 8 1 , c l a s s N a m e : " e m b e d - w r a p p e r " , t i t l e : " E m b e d   t h i s   p o s t " , o n C o m p l e t e : _ . b i n d ( f u n c t i o n ( ) { R e a c t D O M . r e n d e r ( R e a c t . c r e a t e E l e m e n t ( I m g u r . G a l l e r y . E m b e d , { h a s h : t h i s . s t a t e . i m a g e . h a s h , t i t l e : t h i s . s t a t e . i m a g e . t i t l e , i n _ g a l l e r y : t h i s . s t a t e . p u b l i s h e d , i s _ a l b u m : t h i s . s t a t e . i s A l b u m , n s f w : ! ! t h i s . s t a t e . i m a g e . n s f w } ) , d o c u m e n t . g e t E l e m e n t B y I d ( " e m b e d - m o d a l " ) ) } , t h i s ) } ) } , h a n d l e D e l e t e : f u n c t i o n ( a ) { i f ( a . p r e v e n t D e f a u l t ( ) , ! t h i s . s t a t e . i s A l b u m ) r e t u r n   v o i d ( w i n d o w . l o c a t i o n = " / d e l e t e / " + t h i s . p r o p s . d e l e t e h a s h ) ; v a r   b = ' < s p a n   c l a s s = " a t t e n t i o n " > a l s o   b e   d e l e t e d < / s p a n > . ' , c = " D e l e t e   P o s t   &   I m a g e s " ; I m g u r . E n v i r o n m e n t . a u t h . i d & & ( b = ' < s p a n   c l a s s = " a t t e n t i o n " > n o t   b e   d e l e t e d < / s p a n >   f r o m   y o u r   a c c o u n t . ' , c = " D e l e t e   P o s t   O n l y " ) ; v a r   d = " A r e   y o u   s u r e   y o u   w a n t   t o   d e l e t e   t h i s   p o s t ?   T h e   i m a g e s   i n   t h i s   p o s t   w i l l   " + b ; $ . c o l o r b o x ( { h r e f : ' < d i v   i d = " d e l e t e - a l b u m - f o r m " > < / d i v > ' , o p e n : ! 0 , i n l i n e : ! 0 , t o p : " 1 5 % " , t r a n s i t i o n : " n o n e " , s c r o l l i n g : ! 1 , w i d t h : 4 2 0 , h e i g h t : 2 4 5 , c l a s s N a m e : " b l u r b o x " , t i t l e : " D e l e t e   P o s t " , o n C o m p l e t e : _ . b i n d ( f u n c t i o n ( ) { R e a c t D O M . r e n d e r ( R e a c t . c r e a t e E l e m e n t ( I m g u r . E l e m e n t s . C o n f i r m , { m e s s a g e : d , y e s B u t t o n T e x t : c , y e s B u t t o n C l a s s : " b t n - d a n g e r " , h a n d l e N o : $ . c o l o r b o x . c l o s e , h a n d l e Y e s : _ . b i n d ( f u n c t i o n ( ) { $ . a j a x ( { m e t h o d : " p o s t " , u r l : " / a j a x a l b u m s / d e l e t e / " + t h i s . s t a t e . i m a g e . h a s h , d a t a : { m s i d : I m g u r . E n v i r o n m e n t . m s i d } , s u c c e s s : f u n c t i o n ( ) { $ . c o l o r b o x . c l o s e ( ) , h u m a n M s g . d i s p l a y M s g ( " A l b u m   h a s   b e e n   d e l e t e d " ) , s e t T i m e o u t ( _ . b i n d ( f u n c t i o n ( ) { w i n d o w . l o c a t i o n = I m g u r . E n v i r o n m e n t . a u t h . u r l ? l o c a t i o n . p r o t o c o l + " / / " + I m g u r . E n v i r o n m e n t . a u t h . u r l + " . " + I m g u r . E n v i r o n m e n t . h o s t : " / " } , t h i s ) , 1 e 3 ) } } ) } , t h i s ) } ) , d o c u m e n t . g e t E l e m e n t B y I d ( " d e l e t e - a l b u m - f o r m " ) , $ . c o l o r b o x . r e s i z e ) } , t h i s ) } ) } , h a n d l e S h a r e : f u n c t i o n ( a ) { i f ( a . p r e v e n t D e f a u l t ( ) , I m g u r . U t i l . j a f o L o g ( { e v e n t : " s h a r e O n I m g u r I n v o k e d " , m e t a : { h a s h : t h i s . s t a t e . h a s h , l o c a t i o n : t h i s . s t a t e . i s A l b u m ? " a l b u m P o s t P a g e " : " s i n g l e I m a g e P o s t P a g e " } } ) , ! I m g u r . E n v i r o n m e n t . a u t h . i d ) r e t u r n   v o i d   I m g u r . g e t I n s t a n c e ( ) . s i g n i n ( { i n v o k e d R e g i s t e r S i g n i n B y : " p u b l i s h A t t e m p t " } ) ; i f ( t h i s . p r o p s . i m a g e S t o r e & & 0 = = t h i s . p r o p s . i m a g e S t o r e . g e t I m a g e s ( ) . c o u n t ) r e t u r n   v o i d   h u m a n M s g . d i s p l a y M s g ( " P l e a s e   a d d   a t   l e a s t   o n e   i m a g e   t o   s u b m i t   t o   t h e   g a l l e r y " , " e r r o r - m s g " ) ; f o r ( v a r   b = [ ] , c = v o i d   0 , d = 0 , e = 0 , f = 0 , g = 0 ; g < t h i s . s t a t e . t a g s . l e n g t h ; g + + ) s w i t c h ( f + + , b . p u s h ( t h i s . s t a t e . t a g s [ g ] . t a g N a m e ) , t h i s . s t a t e . t a g s [ g ] . a d d e d V i a ) { c a s e " t a g M o d u l e " : d + + ; b r e a k ; d e f a u l t : e + + } s w i t c h ( f ) { c a s e   d : c = " t a g M o d u l e " ; b r e a k ; c a s e   e : c = " h a s h t a g " ; b r e a k ; c a s e   0 : c = n u l l ; b r e a k ; d e f a u l t : c = " b o t h " } i f ( I m g u r . U t i l . j a f o L o g ( { e v e n t : " s h a r e O n I m g u r B u t t o n " , m e t a : { i n G a l l e r y : ! 0 , m a t u r e T o g g l e : t h i s . r e f s . m a t u r e . c h e c k e d , i m a g e C o u n t : t h i s . p r o p s . i s A l b u m ? t h i s . p r o p s . u p l o a d S t o r e . g e t I m a g e s ( ) . c o u n t : 1 , t a g A d d e d V i a : c , t a g s V i a H a s h t a g : e , t a g s V i a M o d u l e : d , t a g s T o t a l : f } } ) , " I m g u r A d s " = = I m g u r . E n v i r o n m e n t . a u t h . u r l ) r e t u r n   w i n d o w . l o c a t i o n = " / / " + I m g u r . E n v i r o n m e n t . h o s t + " / s h a r e / " + ( t h i s . s t a t e . i s A l b u m ? " a " : " i " ) + " / " + t h i s . s t a t e . h a s h ; v a r   h = $ ( " . p o s t - h e a d e r " ) , i = $ ( " . p o s t - t i t l e " ) . e q ( 0 ) ; r e t u r n   i . t e x t ( ) ? v o i d   $ . p o s t ( " / a j a x / s h a r e " , { h a s h : t h i s . s t a t e . h a s h , t i t l e : i . t e x t ( ) , i s _ a l b u m : t h i s . s t a t e . i s A l b u m ? 1 : 0 , m a t u r e : t h i s . r e f s . m a t u r e . c h e c k e d ? 1 : 0 , t a g s : b } , _ . b i n d ( f u n c t i o n ( a ) { v a r   c = I m g u r . U s e r S t a t i s t i c s . g e t I n s t a n c e ( ) ; c . e m i t A c t i o n U s e r S h a r e s T o T h e G a l l e r y ( b ) , w i n d o w . l o c a t i o n = " / / " + I m g u r . E n v i r o n m e n t . h o s t + " / g a l l e r y / " + t h i s . s t a t e . h a s h } , t h i s ) ) . f a i l ( _ . b i n d ( f u n c t i o n ( a ) { t r y { i f ( ! a ) t h r o w " b a d   r e s p o n s e " ; a . r e s p o n s e T e x t & & ( a = $ . p a r s e J S O N ( a . r e s p o n s e T e x t ) ) } c a t c h ( b ) { r e t u r n   h u m a n M s g . d i s p l a y M s g ( " A n   u n k n o w n   e r r o r   o c c u r r e d .   P l e a s e   t r y   a g a i n . " , " e r r o r - m s g " ) , v o i d   I m g u r . U t i l . j a f o L o g ( { e v e n t : " s h a r e O n I m g u r E r r o r " , m e t a : { h a s h : t h i s . s t a t e . h a s h , e r r o r : " u n p a r s a b l e " , b u t t o n : " s h a r e " } } ) } i f ( n u l l = = a . d a t a | | n u l l = = a . d a t a . e r r o r | | n u l l = = a . d a t a . e r r o r . m e s s a g e ) r e t u r n   h u m a n M s g . d i s p l a y M s g ( " A n   u n k n o w n   e r r o r   o c c u r r e d .   P l e a s e   t r y   a g a i n . " , " e r r o r - m s g " ) , v o i d   I m g u r . U t i l . j a f o L o g ( { e v e n t : " s h a r e O n I m g u r E r r o r " , m e t a : { h a s h : t h i s . s t a t e . h a s h , e r r o r : " u n k n o w n " , b u t t o n : " s h a r e " } } ) ; v a r   c = p a r s e I n t ( a . d a t a . e r r o r . m e s s a g e ) , d = " u n k n o w n " ; i f ( ! i s N a N ( c ) & & c > 0 ) { d = " r a t e L i m i t " ; v a r   e = c > 6 0 ? M a t h . r o u n d ( c / 6 0 ) + I m g u r . U t i l . p l u r a l i z e ( M a t h . r o u n d ( c / 6 0 ) , "   m i n u t e " ) : c + I m g u r . U t i l . p l u r a l i z e ( c , "   s e c o n d " ) ; h u m a n M s g . d i s p l a y M s g ( " Y o u ' r e   s h a r i n g   t o o   q u i c k l y .   P l e a s e   w a i t   " + e + " . " , " e r r o r - m s g " ) } e l s e " B a n n e d " = = a . d a t a . e r r o r . m e s s a g e ? ( d = " b a n n e d " , h u m a n M s g . d i s p l a y M s g ( " Y o u r   a c c o u n t   h a s   b e e n   b l o c k e d .   P l e a s e   c o n t a c t   s u p p o r t @ i m g u r . c o m . " , " e r r o r - m s g " ) ) : " N o t V e r i f i e d " = = a . d a t a . e r r o r . m e s s a g e ? ( d = " n o t V e r i f i e d " , $ . c o l o r b o x ( { h r e f : " / l i g h t b o x e s / v e r i f y e m a i l " , o p e n : ! 0 , i f r a m e : ! 0 , t o p : " 1 5 % " , t r a n s i t i o n : " n o n e " , s c r o l l i n g : ! 1 , i n n e r W i d t h : " 5 2 0 p x " , i n n e r H e i g h t : " 2 5 6 p x " , o n C o m p l e t e : _ . b i n d ( f u n c t i o n ( ) { $ . g e t ( " / a j a x / s e n d _ e m a i l _ v e r i f i c a t i o n " ) , c h e c k E m a i l V e r i f i c a t i o n ( " " , t h i s . h a n d l e S h a r e ) } , t h i s ) } ) ) : " O P " = = a . d a t a . e r r o r . m e s s a g e ? h u m a n M s g . d i s p l a y M s g ( " O P   m u s t   e x i s t . " , " e r r o r - m s g " ) : " S u s p e n d e d " = = a . d a t a . e r r o r . m e s s a g e ? ( d = " s u s p e n d e d " , h u m a n M s g . d i s p l a y M s g ( " Y o u r   a c c o u n t   i s   c u r r e n t l y   s u s p e n d e d " , " e r r o r - m s g " ) ) : " e x i s t s " = = a . d a t a . e r r o r . m e s s a g e ? w i n d o w . l o c a t i o n = " / / " + I m g u r . E n v i r o n m e n t . h o s t + " / g a l l e r y / " + t h i s . s t a t e . h a s h : h u m a n M s g . d i s p l a y M s g ( " A n   u n k n o w n   e r r o r   o c c u r r e d .   P l e a s e   t r y   a g a i n . " , " e r r o r - m s g " ) ; I m g u r . U t i l . j a f o L o g ( { e v e n t : " s h a r e O n I m g u r E r r o r " , m e t a : { h a s h : t h i s . s t a t e . h a s h , e r r o r : d , b u t t o n : " s h a r e " } } ) } , t h i s ) ) : ( h . a d d C l a s s ( " s h a k e " ) , s e t T i m e o u t ( f u n c t i o n ( ) { h . r e m o v e C l a s s ( " s h a k e " ) } , 2 5 0 ) , v o i d   i . f o c u s ( ) ) } , s h o w M o d a l I f U n p u b l i s h e d : f u n c t i o n ( ) { t h i s . s t a t e . p u b l i s h e d | | t h i s . p r o p s . s h o w U p l o a d M o d a l ( ) } , a d d T a g : f u n c t i o n ( a ) { v a r   b = t h i s ; a = a | | t h i s . r e f s . a d d t a g . i n n e r T e x t , t h i s . p r o p s . t a g S t o r e . a d d T a g ( a , " t a g M o d u l e " , f u n c t i o n ( a , c ) { a ? b . s e t S t a t e ( { t a g I n p u t A c t i v e : ! 1 } ) : b . s e t S t a t e ( { t a g E r r o r : c } ) } ) } , r e m o v e T a g : f u n c t i o n ( a ) { t h i s . p r o p s . t a g S t o r e . r e m o v e T a g ( a ) } , r e n d e r T a g I n p u t : f u n c t i o n ( ) { v a r   a = t h i s ; i f ( t h i s . s t a t e . t a g s . l e n g t h > = t h i s . _ . M A X _ T A G _ L E N G T H ) r e t u r n   R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " p o s t - o p t i o n s - t a g - l i m i t   c e n t e r " } , t h i s . _ . M A X _ T A G _ L E N G T H + "   t a g   l i m i t   r e a c h e d " ) ; i f ( ! t h i s . s t a t e . t a g I n p u t A c t i v e ) r e t u r n   R e a c t . c r e a t e E l e m e n t ( " s p a n " , { c l a s s N a m e : " p o s t - o p t i o n s - t a g   p o s t - o p t i o n s - t a g - - a d d " , o n C l i c k : f u n c t i o n ( ) { a . s e t S t a t e ( { t a g I n p u t A c t i v e : ! 0 } ) } } , R e a c t . c r e a t e E l e m e n t ( " s p a n " , { c l a s s N a m e : " s y m b o l " } , " + " ) , R e a c t . c r e a t e E l e m e n t ( " s p a n " , { c l a s s N a m e : " t a g - n a m e " } , " T a g " ) ) ; v a r   b = t h i s . _ . t a g S u g g e s t P o s i t i o n [ t h i s . s t a t e . t a g S u g g e s t F l a g ] , c = b . l e f t , d = b . t o p ; r e t u r n   R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " p o s t - o p t i o n s - t a g - i n p u t - w r a p p e r " } , R e a c t . c r e a t e E l e m e n t ( " s p a n " , { c o n t e n t E d i t a b l e : ! 0 , a u t o F o c u s : ! 0 , r e f : " a d d t a g " , k e y : " a d d t a g " , c l a s s N a m e : " p o s t - o p t i o n s - t a g - i n p u t   c e n t e r " , o n K e y U p : t h i s . g e t S u g g e s t i o n s , o n B l u r : f u n c t i o n ( ) { a . s e t S t a t e ( { t a g I n p u t A c t i v e : ! 1 } ) } , o n F o c u s : t h i s . g e t S u g g e s t i o n s , o n P a s t e : t h i s . n o H T M L } ) , R e a c t . c r e a t e E l e m e n t ( I m g u r . G a l l e r y . T a g S u g g e s t , { r e f : " t a g s u g g e s t " , o n S e l e c t : t h i s . a d d T a g , o n H i g h l i g h t e d K e y D o w n : t h i s . h a n d l e H i g h l i g h t e d , l e f t : c , t o p : d , s h o w i n g S u g g e s t i o n s : ! 0 , s u g g e s t e d T a g s : t h i s . s t a t e . s u g g e s t e d T a g s , q u e r y : t h i s . s t a t e . q u e r y , e r r o r : t h i s . s t a t e . t a g E r r o r , c l a s s N a m e s : " t a g - s u g g e s t - - f l a g - " + t h i s . s t a t e . t a g S u g g e s t F l a g } ) ) } , n o H T M L : f u n c t i o n ( ) { v a r   a = t h i s ; s e t T i m e o u t ( f u n c t i o n ( ) { a . r e f s . a d d t a g . i n n e r T e x t = a . r e f s . a d d t a g . i n n e r T e x t . r e p l a c e ( / ^ \ s + | \ s + $ | \ n / g , " " ) } , 1 ) } , g e t S u g g e s t i o n s : f u n c t i o n ( a ) { v a r   b = t h i s ; i f ( [ 3 8 , 4 0 ] . i n d e x O f ( a . w h i c h ) = = = - 1 ) { v a r   c = t h i s . r e f s . a d d t a g . i n n e r T e x t , d = t h i s . p r o p s . t a g S t o r e . g e t T a g V a l i d a t o r ( ) ; r e t u r n   d . i s V a l i d T a g ( " " , c , ! 1 ) ? ( t h i s . s e t S t a t e ( { t a g E r r o r : n u l l , q u e r y : c } ) , 1 3 ! = = a . w h i c h | | t h i s . p r o p s . t a g S t o r e . i s T a g E x i s t s ( c ) ? v o i d   t h i s . p r o p s . t a g S t o r e . g e t S u g g e s t i o n s ( c , f u n c t i o n ( a ) { b . s e t S t a t e ( { s u g g e s t e d T a g s : a } ) } ) : v o i d   t h i s . a d d T a g ( c ) ) : v o i d   t h i s . s e t S t a t e ( { t a g E r r o r : d . w h y N o t ( " " , c , ! 1 ) } ) } } , h a n d l e H i g h l i g h t e d : f u n c t i o n ( a ) { t h i s . r e f s . a d d t a g . i n n e r T e x t = a ; v a r   b = t h i s . r e f s . a d d t a g ; i f ( b . f o c u s ( ) , " u n d e f i n e d " ! = t y p e o f   w i n d o w . g e t S e l e c t i o n & & " u n d e f i n e d " ! = t y p e o f   d o c u m e n t . c r e a t e R a n g e ) { v a r   c = d o c u m e n t . c r e a t e R a n g e ( ) ; c . s e l e c t N o d e C o n t e n t s ( b ) , c . c o l l a p s e ( ! 1 ) ; v a r   d = w i n d o w . g e t S e l e c t i o n ( ) ; d . r e m o v e A l l R a n g e s ( ) , d . a d d R a n g e ( c ) } e l s e   i f ( " u n d e f i n e d " ! = t y p e o f   d o c u m e n t . b o d y . c r e a t e T e x t R a n g e ) { v a r   e = d o c u m e n t . b o d y . c r e a t e T e x t R a n g e ( ) ; e . m o v e T o E l e m e n t T e x t ( b ) , e . c o l l a p s e ( ! 1 ) , e . s e l e c t ( ) } } , r e n d e r : f u n c t i o n ( ) { v a r   a = t h i s ; i f ( t h i s . p r o p s . d i s p l a y = = = ! 1 ) r e t u r n ! 1 ; c l a s s N a m e s ( { " n e w - p a n e l " : ! 0 , " p o s t - o p t i o n s - p a n e l " : ! 0 } ) ; t h i s . _ . e m b e d c o d e r . s e t I t e m ( t h i s . s t a t e . i m a g e ) ; v a r   b = ( c l a s s N a m e s ( { " a l b u m - i m a g e s - l i n k " : ! 0 , p u b l i s h e d : t h i s . s t a t e . p u b l i s h e d } ) , " " ) , c = c l a s s N a m e s ( { " p o s t - s a v i n g - c o n t a i n e r " : ! 0 , f a d e : t h i s . s t a t e . s a v e = = t h i s . _ . s a v e d } ) ; s w i t c h ( t h i s . s t a t e . s a v e ) { c a s e   t h i s . _ . s a v i n g : b = R e a c t . c r e a t e E l e m e n t ( " s p a n " , { c l a s s N a m e : " p o s t - s a v i n g - s t a t u s   p o s t - s a v i n g " } ) ; b r e a k ; c a s e   t h i s . _ . s a v e d : b = R e a c t . c r e a t e E l e m e n t ( " s p a n " , { c l a s s N a m e : " p o s t - s a v i n g - s t a t u s   i c o n - g o o d " } ) } v a r   d = c l a s s N a m e s ( { c o p y f l a s h : ! 0 , " c o p y - i n p u t - p o s t " : ! 0 , " c o p y - i n p u t - p o s t - - s a v i n g " : t h i s . s t a t e . s a v e = = t h i s . _ . s a v i n g } ) ; r e t u r n   R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : t h i s . s t a t e . f i x e d ? " p o s t - o p t i o n s - f i x e d " : " " } , R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " p o s t - o p t i o n s - g a l l e r y - s u b m i t " + ( t h i s . p r o p s . s h o w S h a r e B u t t o n ! = = ! 1 ? "   s h o w " : " " ) } , t h i s . s t a t e . p u b l i s h e d ? R e a c t . c r e a t e E l e m e n t ( " d i v " , n u l l , R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " p o s t - o p t i o n s - p u b l i s h   p u b l i s h e d " } , " Y o u   s h a r e d   t h i s   p o s t ! " ) , R e a c t . c r e a t e E l e m e n t ( " a " , { c l a s s N a m e : " p o s t - o p t i o n s - v i e w - g a l l e r y " , h r e f : " / g a l l e r y / " + t h i s . s t a t e . h a s h } , " V i e w   i n   g a l l e r y " ) ) : R e a c t . c r e a t e E l e m e n t ( " d i v " , n u l l , R e a c t . c r e a t e E l e m e n t ( " d i v " , n u l l , R e a c t . c r e a t e E l e m e n t ( " a " , { c l a s s N a m e : " p o s t - o p t i o n s - p u b l i s h   b t n   b t n - a c t i o n " , o n C l i c k : t h i s . h a n d l e S h a r e } , " S h a r e   t o   c o m m u n i t y " ) ) , R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " d i v i d e r " } ) , R e a c t . c r e a t e E l e m e n t ( " d i v " , n u l l , R e a c t . c r e a t e E l e m e n t ( " s p a n " , { c l a s s N a m e : " p o s t - o p t i o n s - t a g s - h e a d e r " } , " H e l p   p e o p l e   f i n d   y o u r   p o s t " ) , R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " p o s t - o p t i o n s - t a g s - l e a r n " } , R e a c t . c r e a t e E l e m e n t ( " a " , { t a r g e t : " _ b l a n k " , h r e f : " h t t p s : / / h e l p . i m g u r . c o m / h c / e n - u s / a r t i c l e s / 1 1 5 0 0 0 6 2 1 7 8 3 " } , " L e a r n   M o r e " ) ) , R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " p o s t - o p t i o n s - t a g - b l o c k " } , t h i s . s t a t e . t a g s . m a p ( f u n c t i o n ( b ) { r e t u r n   R e a c t . c r e a t e E l e m e n t ( I m g u r . E l e m e n t s . T a g . V i e w , { k e y : " @ t a g - " + b . t a g N a m e , t a g N a m e : b . t a g N a m e , c l a s s N a m e s : " p o s t - o p t i o n s - t a g " , a l l o w R e m o v a l : ! 0 , r e m o v e T a g : a . r e m o v e T a g } ) } ) , t h i s . r e n d e r T a g I n p u t ( ) ) , R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " p o s t - o p t i o n s - t a g s - m a t u r e - w r a p " } , R e a c t . c r e a t e E l e m e n t ( " i n p u t " , { r e f : " m a t u r e " , i d : " p o s t - o p t i o n s - m a t u r e " , t y p e : " c h e c k b o x " , d e f a u l t C h e c k e d : t h i s . s t a t e . i s P o s t M a r k e d A s M a t u r e , o n C h a n g e : t h i s . h a n d l e P o s t M a t u r e C h a n g e d , c l a s s N a m e : " p o s t - o p t i o n s - m a t u r e   c h e c k b o x - s t y l e d " } ) , R e a c t . c r e a t e E l e m e n t ( " l a b e l " , { c l a s s N a m e : " i c o n - c h e c k " , h t m l F o r : " p o s t - o p t i o n s - m a t u r e " } , "   " ) , R e a c t . c r e a t e E l e m e n t ( " l a b e l " , { h t m l F o r : " p o s t - o p t i o n s - m a t u r e " } , "   M a t u r e   " , R e a c t . c r e a t e E l e m e n t ( " s p a n " , { c l a s s N a m e : " h e l p " , r e f : " m a t u r e - t i p s y " , t i t l e : " M a t u r e   c o n t e n t   m a y   i n c l u d e   c o n t e n t   t h a t   i s   s u g g e s t i v e   o r   p r o v o c a t i v e .   S e x u a l l y   e x p l i c i t   c o n t e n t   i s   n o t   a l l o w e d   i n   t h e   I m g u r   c o m m u n i t y . " } , " ( ? ) " ) ) ) ) ) , R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " d i v i d e r " } ) ) , R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " p o s t - c o p y - o p t i o n s " } , R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : c } , b , t h i s . s t a t e . s a v e ) , R e a c t . c r e a t e E l e m e n t ( I m g u r . E l e m e n t s . C o p y , { v a l u e : t h i s . _ . e m b e d c o d e r . i m a g e L i n k ( t h i s . s t a t e . i s A l b u m ) , i n p u t C l a s s : d , c o p y C l a s s : " c o p y - p o s t " } ) ) , R e a c t . c r e a t e E l e m e n t ( I m g u r . E l e m e n t s . S o c i a l i c o n s , { c l a s s e s : " p o s t - o p t i o n s - s o c i a l   c f " } ) , R e a c t . c r e a t e E l e m e n t ( " u l " , { c l a s s N a m e : " p o s t - o p t i o n s - e x t r a " } , t h i s . s t a t e . i s A l b u m & & t h i s . p r o p s . s h o w R e a r r a n g e ? R e a c t . c r e a t e E l e m e n t ( " l i " , { c l a s s N a m e : " e x t r a - o p t i o n " } , t h i s . s t a t e . s h o w i n g G r i d ? R e a c t . c r e a t e E l e m e n t ( " d i v " , { o n C l i c k : t h i s . c l o s e R e a r r a n g e } , R e a c t . c r e a t e E l e m e n t ( " s p a n " , { c l a s s N a m e : " e x t r a - o p t i o n - i c o n   i c o n - r e a r r a n g e " } ) , " D o n e   r e a r r a n g i n g " ) : R e a c t . c r e a t e E l e m e n t ( " d i v " , { r e f : " i n i t - r e a r r a n g e " , o n C l i c k : t h i s . i n i t R e a r r a n g e I f U n p u b l i s h e d , t i t l e : t h i s . s t a t e . p u b l i s h e d ? t h i s . _ . a l b u m I n G a l l e r y M e s s a g e : n u l l } , R e a c t . c r e a t e E l e m e n t ( " s p a n " , { c l a s s N a m e : " e x t r a - o p t i o n - i c o n   i c o n - r e a r r a n g e " } ) , " R e a r r a n g e   i m a g e s " ) ) : n u l l , t h i s . s t a t e . i s A l b u m ? R e a c t . c r e a t e E l e m e n t ( " l i " , { c l a s s N a m e : " e x t r a - o p t i o n " , r e f : " a d d - i m a g e s " , t i t l e : t h i s . s t a t e . p u b l i s h e d ? t h i s . _ . a l b u m I n G a l l e r y M e s s a g e : n u l l , o n C l i c k : t h i s . s h o w M o d a l I f U n p u b l i s h e d } , R e a c t . c r e a t e E l e m e n t ( " s p a n " , { c l a s s N a m e : " e x t r a - o p t i o n - i c o n   i c o n - p l u s - l i g h t " } ) , " A d d   m o r e   i m a g e s " ) : n u l l , R e a c t . c r e a t e E l e m e n t ( " l i " , { c l a s s N a m e : " e x t r a - o p t i o n " , o n C l i c k : t h i s . h a n d l e E m b e d } , R e a c t . c r e a t e E l e m e n t ( " s p a n " , { c l a s s N a m e : " e x t r a - o p t i o n - i c o n   i c o n - e m b e d " } ) , " E m b e d   p o s t " ) , R e a c t . c r e a t e E l e m e n t ( " l i " , { c l a s s N a m e : " e x t r a - o p t i o n   d e l e t e " , o n C l i c k : t h i s . h a n d l e D e l e t e } , R e a c t . c r e a t e E l e m e n t ( " s p a n " , { c l a s s N a m e : " e x t r a - o p t i o n - i c o n   i c o n - t r a s h " } ) , " D e l e t e   p o s t " ) ) ) } } ) , N a m e s p a c e ( " I m g u r . P r o m o t e d S p o t l i g h t " ) , I m g u r . P r o m o t e d S p o t l i g h t = R e a c t . c r e a t e C l a s s ( { d i s p l a y N a m e : " P r o m o t e d S p o t l i g h t " , r e n d e r : f u n c t i o n ( ) { r e t u r n   R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " s p o t l i g h t - c o n t a i n e r " } , R e a c t . c r e a t e E l e m e n t ( " a " , { h r e f : " h t t p s : / / b l o g . i m g u r . c o m / 2 0 1 5 / 0 5 / 3 1 / a b o u t - p r o m o t e d - p o s t s / " , t a r g e t : " _ b l a n k " } , R e a c t . c r e a t e E l e m e n t ( " i m g " , { c l a s s N a m e : " t h u m b " , s r c : I m g u r . E n v i r o n m e n t . s t a t i c U r l + " / i m a g e s / g i r a f f e - p r o m o - s p o t l i g h t . j p g " } ) ) , R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " c o n t e n t " } , R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " h e a d l i n e " } , R e a c t . c r e a t e E l e m e n t ( " a " , { c l a s s N a m e : " h e a d l i n e - t e x t " , h r e f : " h t t p s : / / b l o g . i m g u r . c o m / 2 0 1 5 / 0 5 / 3 1 / a b o u t - p r o m o t e d - p o s t s / " , t a r g e t : " _ b l a n k " } , " W h a t   a r e   p r o m o t e d   p o s t s ? " ) , R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " h e a d l i n e - l a b e l " } , " i m g u r   b l o g " ) ) , R e a c t . c r e a t e E l e m e n t ( " p " , { c l a s s N a m e : " b o d y " } , " A n d   w h y   a m   I   s e e i n g   t h e m ? " ) , R e a c t . c r e a t e E l e m e n t ( " a " , { c l a s s N a m e : " c t a " , h r e f : " h t t p s : / / b l o g . i m g u r . c o m / 2 0 1 5 / 0 5 / 3 1 / a b o u t - p r o m o t e d - p o s t s / " , t a r g e t : " _ b l a n k " } , " L e a r n   M o r e " ) ) ) } } ) ; v a r   Z e r o C l i p b o a r d = { v e r s i o n : " 1 . 0 . 7 " , c l i e n t s : { } , m o v i e P a t h : " / i n c l u d e / f l a s h / z e r o c l i p b o a r d . s w f " , n e x t I d : 1 , $ : f u n c t i o n ( a ) { r e t u r n " s t r i n g " = = t y p e o f   a & & ( a = d o c u m e n t . g e t E l e m e n t B y I d ( a ) ) , a . a d d C l a s s | | ( a . h i d e = f u n c t i o n ( ) { t h i s . s t y l e . d i s p l a y = " n o n e " } , a . s h o w = f u n c t i o n ( ) { t h i s . s t y l e . d i s p l a y = " " } , a . a d d C l a s s = f u n c t i o n ( a ) { t h i s . r e m o v e C l a s s ( a ) , t h i s . c l a s s N a m e + = "   " + a } , a . r e m o v e C l a s s = f u n c t i o n ( a ) { f o r ( v a r   b = t h i s . c l a s s N a m e . s p l i t ( / \ s + / ) , c = - 1 , d = 0 ; d < b . l e n g t h ; d + + ) b [ d ] = = a & & ( c = d , d = b . l e n g t h ) ; r e t u r n   c > - 1 & & ( b . s p l i c e ( c , 1 ) , t h i s . c l a s s N a m e = b . j o i n ( "   " ) ) , t h i s } , a . h a s C l a s s = f u n c t i o n ( a ) { r e t u r n ! ! t h i s . c l a s s N a m e . m a t c h ( n e w   R e g E x p ( " \ \ s * " + a + " \ \ s * " ) ) } ) , a } , s e t M o v i e P a t h : f u n c t i o n ( a ) { t h i s . m o v i e P a t h = a } , d i s p a t c h : f u n c t i o n ( a , b , c ) { v a r   d = t h i s . c l i e n t s [ a ] ; d & & d . r e c e i v e E v e n t ( b , c ) } , r e g i s t e r : f u n c t i o n ( a , b ) { t h i s . c l i e n t s [ a ] = b } , g e t D O M O b j e c t P o s i t i o n : f u n c t i o n ( a , b ) { f o r ( v a r   c = { l e f t : 0 , t o p : 0 , w i d t h : a . w i d t h ? a . w i d t h : a . o f f s e t W i d t h , h e i g h t : a . h e i g h t ? a . h e i g h t : a . o f f s e t H e i g h t } ; a & & a ! = b ; ) c . l e f t + = a . o f f s e t L e f t , c . t o p + = a . o f f s e t T o p , a = a . o f f s e t P a r e n t ; r e t u r n   c } , C l i e n t : f u n c t i o n ( a ) { t h i s . h a n d l e r s = { } , t h i s . i d = Z e r o C l i p b o a r d . n e x t I d + + , t h i s . m o v i e I d = " Z e r o C l i p b o a r d M o v i e _ " + t h i s . i d , Z e r o C l i p b o a r d . r e g i s t e r ( t h i s . i d , t h i s ) , a & & t h i s . g l u e ( a ) } } ; Z e r o C l i p b o a r d . C l i e n t . p r o t o t y p e = { i d : 0 , r e a d y : ! 1 , m o v i e : n u l l , c l i p T e x t : " " , h a n d C u r s o r E n a b l e d : ! 0 , c s s E f f e c t s : ! 0 , h a n d l e r s : n u l l , g l u e : f u n c t i o n ( a , b , c ) { t h i s . d o m E l e m e n t = Z e r o C l i p b o a r d . $ ( a ) ; v a r   d = 9 9 ; t h i s . d o m E l e m e n t . s t y l e . z I n d e x & & ( d = p a r s e I n t ( t h i s . d o m E l e m e n t . s t y l e . z I n d e x , 1 0 ) + 1 ) , " s t r i n g " = = t y p e o f   b ? b = Z e r o C l i p b o a r d . $ ( b ) : " u n d e f i n e d " = = t y p e o f   b & & ( b = d o c u m e n t . g e t E l e m e n t s B y T a g N a m e ( " b o d y " ) [ 0 ] ) ; v a r   e = Z e r o C l i p b o a r d . g e t D O M O b j e c t P o s i t i o n ( t h i s . d o m E l e m e n t , b ) ; t h i s . d i v = d o c u m e n t . c r e a t e E l e m e n t ( " d i v " ) ; v a r   f = t h i s . d i v . s t y l e ; i f ( f . p o s i t i o n = " a b s o l u t e " , f . l e f t = " " + e . l e f t + " p x " , f . t o p = " " + e . t o p - 5 + " p x " , f . w i d t h = " " + e . w i d t h + " p x " , f . h e i g h t = " " + e . h e i g h t + " p x " , f . z I n d e x = d , " o b j e c t " = = t y p e o f   c ) f o r ( a d d e d S t y l e   i n   c ) f [ a d d e d S t y l e ] = c [ a d d e d S t y l e ] ; b . a p p e n d C h i l d ( t h i s . d i v ) , t h i s . d i v . i n n e r H T M L = t h i s . g e t H T M L ( e . w i d t h , e . h e i g h t ) } , g e t H T M L : f u n c t i o n ( a , b ) { v a r   c = " " , d = " i d = " + t h i s . i d + " & w i d t h = " + a + " & h e i g h t = " + b ; i f ( n a v i g a t o r . u s e r A g e n t . m a t c h ( / M S I E / ) ) { v a r   e = l o c a t i o n . h r e f . m a t c h ( / ^ h t t p s / i ) ? " h t t p s : / / " : " h t t p : / / " ; c + = ' < o b j e c t   c l a s s i d = " c l s i d : d 2 7 c d b 6 e - a e 6 d - 1 1 c f - 9 6 b 8 - 4 4 4 5 5 3 5 4 0 0 0 0 "   c o d e b a s e = " ' + e + ' d o w n l o a d . m a c r o m e d i a . c o m / p u b / s h o c k w a v e / c a b s / f l a s h / s w f l a s h . c a b # v e r s i o n = 9 , 0 , 0 , 0 "   w i d t h = " ' + a + ' "   h e i g h t = " ' + b + ' "   i d = " ' + t h i s . m o v i e I d + ' "   a l i g n = " m i d d l e " > < p a r a m   n a m e = " a l l o w S c r i p t A c c e s s "   v a l u e = " a l w a y s "   / > < p a r a m   n a m e = " a l l o w F u l l S c r e e n "   v a l u e = " f a l s e "   / > < p a r a m   n a m e = " m o v i e "   v a l u e = " ' + Z e r o C l i p b o a r d . m o v i e P a t h + ' "   / > < p a r a m   n a m e = " l o o p "   v a l u e = " f a l s e "   / > < p a r a m   n a m e = " m e n u "   v a l u e = " f a l s e "   / > < p a r a m   n a m e = " q u a l i t y "   v a l u e = " b e s t "   / > < p a r a m   n a m e = " b g c o l o r "   v a l u e = " # f f f f f f "   / > < p a r a m   n a m e = " f l a s h v a r s "   v a l u e = " ' + d + ' " / > < p a r a m   n a m e = " w m o d e "   v a l u e = " t r a n s p a r e n t " / > < / o b j e c t > ' } e l s e   c + = ' < e m b e d   i d = " ' + t h i s . m o v i e I d + ' "   s r c = " ' + Z e r o C l i p b o a r d . m o v i e P a t h + ' "   l o o p = " f a l s e "   m e n u = " f a l s e "   q u a l i t y = " b e s t "   b g c o l o r = " # f f f f f f "   w i d t h = " ' + a + ' "   h e i g h t = " ' + b + ' "   n a m e = " ' + t h i s . m o v i e I d + ' "   a l i g n = " m i d d l e "   a l l o w S c r i p t A c c e s s = " a l w a y s "   a l l o w F u l l S c r e e n = " f a l s e "   t y p e = " a p p l i c a t i o n / x - s h o c k w a v e - f l a s h "   p l u g i n s p a g e = " h t t p : / / w w w . m a c r o m e d i a . c o m / g o / g e t f l a s h p l a y e r "   f l a s h v a r s = " ' + d + ' "   w m o d e = " t r a n s p a r e n t "   / > ' ; r e t u r n   c } , h i d e : f u n c t i o n ( ) { t h i s . d i v & & ( t h i s . d i v . s t y l e . l e f t = " - 2 0 0 0 p x " ) } , s h o w : f u n c t i o n ( ) { t h i s . r e p o s i t i o n ( ) } , d e s t r o y : f u n c t i o n ( ) { i f ( t h i s . d o m E l e m e n t & & t h i s . d i v ) { t h i s . h i d e ( ) , t h i s . d i v . i n n e r H T M L = " " ; v a r   a = d o c u m e n t . g e t E l e m e n t s B y T a g N a m e ( " b o d y " ) [ 0 ] ; t r y { a . r e m o v e C h i l d ( t h i s . d i v ) } c a t c h ( b ) { } t h i s . d o m E l e m e n t = n u l l , t h i s . d i v = n u l l } } , r e p o s i t i o n : f u n c t i o n ( a ) { i f ( a & & ( t h i s . d o m E l e m e n t = Z e r o C l i p b o a r d . $ ( a ) , t h i s . d o m E l e m e n t | | t h i s . h i d e ( ) ) , t h i s . d o m E l e m e n t & & t h i s . d i v ) { v a r   b = Z e r o C l i p b o a r d . g e t D O M O b j e c t P o s i t i o n ( t h i s . d o m E l e m e n t ) , c = t h i s . d i v . s t y l e ; c . l e f t = " " + b . l e f t + " p x " , c . t o p = " " + b . t o p + " p x " } } , s e t T e x t : f u n c t i o n ( a ) { t h i s . c l i p T e x t = a , t h i s . r e a d y & & t h i s . m o v i e . s e t T e x t ( a ) } , a d d E v e n t L i s t e n e r : f u n c t i o n ( a , b ) { a = a . t o S t r i n g ( ) . t o L o w e r C a s e ( ) . r e p l a c e ( / ^ o n / , " " ) , t h i s . h a n d l e r s [ a ] | | ( t h i s . h a n d l e r s [ a ] = [ ] ) , t h i s . h a n d l e r s [ a ] . p u s h ( b ) } , s e t H a n d C u r s o r : f u n c t i o n ( a ) { t h i s . h a n d C u r s o r E n a b l e d = a , t h i s . r e a d y & & t h i s . m o v i e . s e t H a n d C u r s o r ( a ) } , s e t C S S E f f e c t s : f u n c t i o n ( a ) { t h i s . c s s E f f e c t s = ! ! a } , r e c e i v e E v e n t : f u n c t i o n ( a , b ) { s w i t c h ( a = a . t o S t r i n g ( ) . t o L o w e r C a s e ( ) . r e p l a c e ( / ^ o n / , " " ) ) { c a s e " l o a d " : i f ( t h i s . m o v i e = d o c u m e n t . g e t E l e m e n t B y I d ( t h i s . m o v i e I d ) , ! t h i s . m o v i e ) { v a r   c = t h i s ; r e t u r n   v o i d   s e t T i m e o u t ( f u n c t i o n ( ) { c . r e c e i v e E v e n t ( " l o a d " , n u l l ) } , 1 ) } i f ( ! t h i s . r e a d y & & n a v i g a t o r . u s e r A g e n t . m a t c h ( / F i r e f o x / ) & & n a v i g a t o r . u s e r A g e n t . m a t c h ( / W i n d o w s / ) ) { v a r   c = t h i s ; r e t u r n   s e t T i m e o u t ( f u n c t i o n ( ) { c . r e c e i v e E v e n t ( " l o a d " , n u l l ) } , 1 0 0 ) , v o i d ( t h i s . r e a d y = ! 0 ) } t h i s . r e a d y = ! 0 , t h i s . m o v i e . s e t T e x t ( t h i s . c l i p T e x t ) , t h i s . m o v i e . s e t H a n d C u r s o r ( t h i s . h a n d C u r s o r E n a b l e d ) ; b r e a k ; c a s e " m o u s e o v e r " : t h i s . d o m E l e m e n t & & t h i s . c s s E f f e c t s & & ( t h i s . d o m E l e m e n t . a d d C l a s s ( " h o v e r " ) , t h i s . r e c o v e r A c t i v e & & t h i s . d o m E l e m e n t . a d d C l a s s ( " a c t i v e " ) ) ; b r e a k ; c a s e " m o u s e o u t " : t h i s . d o m E l e m e n t & & t h i s . c s s E f f e c t s & & ( t h i s . r e c o v e r A c t i v e = ! 1 , t h i s . d o m E l e m e n t . h a s C l a s s ( " a c t i v e " ) & & ( t h i s . d o m E l e m e n t . r e m o v e C l a s s ( " a c t i v e " ) , t h i s . r e c o v e r A c t i v e = ! 0 ) , t h i s . d o m E l e m e n t . r e m o v e C l a s s ( " h o v e r " ) ) ; b r e a k ; c a s e " m o u s e d o w n " : t h i s . d o m E l e m e n t & & t h i s . c s s E f f e c t s & & t h i s . d o m E l e m e n t . a d d C l a s s ( " a c t i v e " ) ; b r e a k ; c a s e " m o u s e u p " : t h i s . d o m E l e m e n t & & t h i s . c s s E f f e c t s & & ( t h i s . d o m E l e m e n t . r e m o v e C l a s s ( " a c t i v e " ) , t h i s . r e c o v e r A c t i v e = ! 1 ) } i f ( t h i s . h a n d l e r s [ a ] ) f o r ( v a r   d = 0 , e = t h i s . h a n d l e r s [ a ] . l e n g t h ; d < e ; d + + ) { v a r   f = t h i s . h a n d l e r s [ a ] [ d ] ; " f u n c t i o n " = = t y p e o f   f ? f ( t h i s , b ) : " o b j e c t " = = t y p e o f   f & & 2 = = f . l e n g t h ? f [ 0 ] [ f [ 1 ] ] ( t h i s , b ) : " s t r i n g " = = t y p e o f   f & & w i n d o w [ f ] ( t h i s , b ) } } } ; v a r   _ e x t e n d s = O b j e c t . a s s i g n | | f u n c t i o n ( a ) { f o r ( v a r   b = 1 ; b < a r g u m e n t s . l e n g t h ; b + + ) { v a r   c = a r g u m e n t s [ b ] ; f o r ( v a r   d   i n   c ) O b j e c t . p r o t o t y p e . h a s O w n P r o p e r t y . c a l l ( c , d ) & & ( a [ d ] = c [ d ] ) } r e t u r n   a } ; N a m e s p a c e ( " I m g u r . S i d e G a l l e r y " ) , I m g u r . S i d e G a l l e r y = R e a c t . c r e a t e C l a s s ( { d i s p l a y N a m e : " S i d e G a l l e r y " , H E I G H T : 4 8 5 , R O W _ H E I G H T : { l i s t : 8 5 , g r i d : 1 3 8 } , I T E M S _ P E R _ R O W : { l i s t : 1 , g r i d : 2 } , R E N D E R _ B U F F E R : 1 e 3 , F E T C H _ M O R E _ B U F F E R : 3 e 3 , S E L E C T E D _ O F F S E T : 0 , B R E A K _ H E I G H T : 6 0 , G R I D _ M A R G I N : 1 0 , i s L o a d i n g : ! 1 , c u r r e n t I n s e r t e d : ! 1 , e l : { $ s i d e G a l l e r y : n u l l , $ c o n t e n t : n u l l , $ n a n o : n u l l } , s e c t i o n T i t l e s : { h o t : " M o s t   V i r a l   I m a g e s " , " n e w " : " U s e r   S u b m i t t e d   I m a g e s " , t o p : " H i g h e s t   S c o r i n g   I m a g e s " , c u s t o m : " C u s t o m   G a l l e r y   I m a g e s " , f a v o r i t e s : " F a v o r i t e s " , r a n d o m : " R a n d o m " } , s o r t T i t l e s : { v i r a l : " s o r t e d   b y   p o p u l a r i t y " , t i m e : " n e w e s t   f i r s t " , " n e w " : " n e w e s t   f i r s t " , n e w e s t : " n e w e s t   f i r s t " , o l d e s t : " o l d e s t   f i r s t " , r i s i n g : " r i s i n g " , r a n d o m : " s o r t e d   b y   r a n d o m " } , w i n d o w T i t l e s : { d a y : " t o d a y " , w e e k : " t h i s   w e e k " , m o n t h : " t h i s   m o n t h " , y e a r : " t h i s   y e a r " , a l l : " a l l   t i m e " } , g e t I n i t i a l S t a t e : f u n c t i o n ( ) { r e t u r n   _ . e x t e n d ( t h i s . g e t G a l l e r y E n v i r o n m e n t ( ) , { i t e m s : [ ] , s c r o l l T o p : 0 , s e l e c t e d H a s h : t h i s . p r o p s . e n v . h a s h , e n d R e a c h e d : ! 1 , l a y o u t : I m g u r . L o c a l S t o r a g e . g e t ( " s i d e g a l l e r y _ l a y o u t _ e x p e r i m e n t " ) | | " l i s t " } ) } , g e t G a l l e r y E n v i r o n m e n t : f u n c t i o n ( ) { v a r   a = v o i d   0 , b = v o i d   0 , c = v o i d   0 , d = d o c u m e n t . c r e a t e E l e m e n t ( " a " ) ; r e t u r n   d . h r e f = d o c u m e n t . r e f e r r e r , " t w i t c h . t v " = = = d . h o s t ? ( a = " t a g " , b = " / t / g a m i n g " ) : t h i s . p r o p s . e n v . s u b r e d d i t S o u r c e & & t h i s . i s F r o m R e d d i t ( d . h o s t ) ? ( a = " s u b r e d d i t " , c = " n e w " , b = " / r / " + t h i s . g e t S u b r e d d i t N a m e ( ) ) : I m g u r . E n v i r o n m e n t . i m a g e . t o p i c & & " N o   T o p i c " ! = = I m g u r . E n v i r o n m e n t . i m a g e . t o p i c & & n u l l = = = d . h o s t . m a t c h ( / i m g u r ( - d e v ) ? . c o m / g ) & & ( a = " t a g " , b = " / t / " + I m g u r . E n v i r o n m e n t . i m a g e . t o p i c . r e p l a c e ( /   / g , " _ " ) ) , I m g u r . E n v i r o n m e n t . s e a r c h Q u e r y & & ( a = " s e a r c h " ) , { s o u r c e : b | | t h i s . p r o p s . e n v . b a s e U R L , s e c t i o n : a | | t h i s . p r o p s . e n v . s e c t i o n | | " h o t " , s o r t : c | | t h i s . p r o p s . e n v . s o r t | | " v i r a l " , w i n d o w : t h i s . p r o p s . e n v . w i n d o w | | " d a y " , p a g e : t h i s . p r o p s . e n v . p a g e | | 0 } } , i s F r o m R e d d i t : f u n c t i o n ( a ) { r e t u r n   a . i n d e x O f ( " r e d d i t . c o m " ) > = 0 } , c h a n g e L a y o u t : f u n c t i o n ( a ) { v a r   b = t h i s . s t a t e . s c r o l l T o p / ( t h i s . R O W _ H E I G H T [ t h i s . s t a t e . l a y o u t ] / t h i s . I T E M S _ P E R _ R O W [ t h i s . s t a t e . l a y o u t ] ) * ( t h i s . R O W _ H E I G H T [ a ] / t h i s . I T E M S _ P E R _ R O W [ a ] ) ; t h i s . s e t S t a t e ( { l a y o u t : a } , f u n c t i o n ( ) { t h i s . e l . $ c o n t e n t . s c r o l l T o p ( b ) } ) , I m g u r . L o c a l S t o r a g e . s a v e ( " s i d e g a l l e r y _ l a y o u t _ e x p e r i m e n t " , a ) , I m g u r . U t i l . j a f o L o g ( { e v e n t : " s i d e G a l l e r y L a y o u t " , m e t a : { l a y o u t : a } } ) } , u n i q u e I d : f u n c t i o n ( ) { f o r ( v a r   a = a r g u m e n t s . l e n g t h , b = A r r a y ( a ) , c = 0 ; c < a ; c + + ) b [ c ] = a r g u m e n t s [ c ] ; r e t u r n   b . f i l t e r ( f u n c t i o n ( a ) { r e t u r n   v o i d   0 ! = = a } ) . j o i n ( " - " ) } , a j a x S u c c e s s : f u n c t i o n ( a ) { v a r   b = t h i s ; i f ( t h i s . i s L o a d i n g = ! 1 , t h i s . i s M o u n t e d ( ) ) { v a r   c = t h i s . s t a t e . i t e m s . l e n g t h ; t h i s . s e t S t a t e ( { i t e m s : _ . u n i q ( t h i s . s t a t e . i t e m s . c o n c a t ( a . d a t a ) , ! 1 , f u n c t i o n ( a ) { r e t u r n   b . u n i q u e I d ( a . h a s h , a . p r o m o t e d P l a c e m e n t C o u n t ) } ) } , f u n c t i o n ( ) { t h i s . c h e c k E n d R e a c h e d ( a . d a t a . l e n g t h ) , ! t h i s . c u r r e n t I n s e r t e d & & I m g u r . E n v i r o n m e n t . c a p t i o n s E n a b l e d & & I m g u r . E n v i r o n m e n t . i m a g e & & ( t h i s . i n s e r t S i n g l e I t e m ( I m g u r . E n v i r o n m e n t . i m a g e , 0 , ! 0 ) , t h i s . c u r r e n t I n s e r t e d = ! 0 ) , a . d a t a . l e n g t h > 0 & & t h i s . p r o p s . e m i t t e r . t r i g g e r ( " s i d e g a l l e r y P a g e L o a d " , 0 = = = c ? " i n i t i a l " : " a p p e n d " ) , " r a n d o m i z e d - m o s t - v i r a l " = = t h i s . p r o p s . v a r i a t i o n & & I m g u r . E x p e r i m e n t s . i s A c t i v e ( " e x p T 4 3 7 7 b " ) & & t h i s . r e c o m m e n d a t i o n s . f e t c h C o n t r o l ( ) } . b i n d ( t h i s ) ) } } , o n S c r o l l : f u n c t i o n ( ) { v a r   a = t h i s . e l . $ c o n t e n t . s c r o l l T o p ( ) ; t h i s . s e t S t a t e ( { s c r o l l T o p : a } , t h i s . c h e c k S c r o l l P a g e N e e d e d ) } , c h e c k E n d R e a c h e d : f u n c t i o n ( a ) { ( 0 = = = a | | t h i s . l i s t H e i g h t ( ) < t h i s . H E I G H T ) & & t h i s . s e t S t a t e ( { e n d R e a c h e d : ! 0 } ) } , c h e c k S c r o l l P a g e N e e d e d : f u n c t i o n ( ) { t h i s . s t a t e . s c r o l l T o p > t h i s . l i s t H e i g h t ( ) - t h i s . F E T C H _ M O R E _ B U F F E R & & ! t h i s . i s L o a d i n g & & t h i s . s e t S t a t e ( { p a g e : t h i s . s t a t e . p a g e + 1 } , t h i s . l o a d P a g e ) } , l i s t H e i g h t : f u n c t i o n ( ) { r e t u r n   M a t h . c e i l ( t h i s . s t a t e . i t e m s . l e n g t h / t h i s . I T E M S _ P E R _ R O W [ t h i s . s t a t e . l a y o u t ] ) * t h i s . R O W _ H E I G H T [ t h i s . s t a t e . l a y o u t ] } , i t e m O f f s e t : f u n c t i o n ( a ) { r e t u r n   M a t h . c e i l ( ( a + 1 ) / t h i s . I T E M S _ P E R _ R O W [ t h i s . s t a t e . l a y o u t ] ) * t h i s . R O W _ H E I G H T [ t h i s . s t a t e . l a y o u t ] - t h i s . R O W _ H E I G H T [ t h i s . s t a t e . l a y o u t ] } , l o a d P a g e : f u n c t i o n ( ) { i f ( t h i s . s t a t e . e n d R e a c h e d ) r e t u r n ! 1 ; v a r   a = { } ; t h i s . i s L o a d i n g = ! 0 , 
 $ . a j a x ( { u r l : t h i s . g e n e r a t e U R L ( ) , d a t a : a , s u c c e s s : t h i s . a j a x S u c c e s s , e r r o r : t h i s . s w i t c h T o V i r a l } ) } , g e n e r a t e U R L : f u n c t i o n ( ) { v a r   a = v o i d   0 , b = t h i s . s t a t e . s e c t i o n & & " g r o u p " ! = t h i s . s t a t e . s e c t i o n & & " t a g " ! = t h i s . s t a t e . s e c t i o n & & " f a v o r i t e s " ! = t h i s . s t a t e . s e c t i o n & & " f a v o r i t e f o l d e r s " ! = t h i s . s t a t e . s e c t i o n & & " t o p i c " ! = t h i s . s t a t e . s e c t i o n & & " s u b r e d d i t " ! = t h i s . s t a t e . s e c t i o n ? " / " + t h i s . s t a t e . s e c t i o n : " " , c = " t o p " ! = t h i s . s t a t e . s e c t i o n ? t h i s . s t a t e . s o r t + " / " : " " , d = " t o p " = = t h i s . s t a t e . s o r t | | " t o p " = = t h i s . s t a t e . s e c t i o n ? t h i s . s t a t e . w i n d o w + " / " : " " , e = " " + t h i s . s t a t e . s o u r c e + b + " / " + c + d , f = " / g a l l e r y / h o t / v i r a l / " = = e ; i f ( I m g u r . E n v i r o n m e n t . i m a g e . i s _ a d & & f ) r e t u r n " / t / S t a f f _ P i c k s / v i r a l / p a g e / 0 / h i t . j s o n " ; i f ( I m g u r . E n v i r o n m e n t . s e a r c h Q u e r y ) { v a r   g = I m g u r . g e t I n s t a n c e ( ) . g e t S e a r c h U r l ( I m g u r . E n v i r o n m e n t , t h i s . s t a t e . p a g e , ! 0 ) ; a = g . u r l + " ? " + g . q u e r y } e l s e { v a r   h = t h i s . p r o p s . c a c h e ; ! f | | 0 ! = t h i s . s t a t e . p a g e & & 1 ! = t h i s . s t a t e . p a g e | | t h i s . p r o p s . v o t e d F a v e d R e c e n t l y | | ( h = " / h i t . j s o n " + ( t h i s . p r o p s . s h o w M a t u r e ? " ? m a t u r e " : " " ) ) , a = e + " p a g e / " + t h i s . s t a t e . p a g e + h } r e t u r n   a } , s w i t c h T o V i r a l : f u n c t i o n ( ) { " h o t " = = t h i s . s t a t e . s e c t i o n & & " v i r a l " = = t h i s . s t a t e . s o r t & & " d a y " = = t h i s . s t a t e . w i n d o w | | t h i s . s e t S t a t e ( { i t e m s : [ ] , p a g e : 0 , s e c t i o n : " h o t " , s o r t : " v i r a l " , w i n d o w : " d a y " , s o u r c e : " / g a l l e r y " , e n d R e a c h e d : ! 1 , s e l e c t e d H a s h : n u l l } , t h i s . l o a d P a g e ) } , n t h F r o m H a s h : f u n c t i o n ( a , b ) { v a r   c = t h i s . h a s h P o s i t i o n ( b ) , d = c + a ; i f ( c ! = = - 1 ) r e t u r n   d > = t h i s . s t a t e . i t e m s . l e n g t h & & ( d = t h i s . s t a t e . i t e m s . l e n g t h - 1 ) , t h i s . s t a t e . i t e m s [ d ] . h a s h } , i n s e r t S i n g l e I t e m : f u n c t i o n ( a , b , c , d , e ) { d = d | | " i n s e r t e d " ; v a r   f = t h i s . u n i q u e I d ( a . h a s h , a . p r o m o t e d P l a c e m e n t C o u n t ) , g = t h i s . h a s h P o s i t i o n ( f ) ; i f ( g ! = = - 1 & & ! a . i s A d ) r e t u r n   c ? t h i s . s e l e c t I m a g e ( f , n u l l , " d i r e c t " , d ) : n u l l , " f u n c t i o n " = = t y p e o f   e & & e ( ) , ! 1 ; f o r ( ; t h i s . s t a t e . i t e m s [ b ] & & t h i s . s t a t e . i t e m s [ b ] . r e c o m m e n d e d ; ) b + + ; t h i s . s t a t e . i t e m s . s p l i c e ( b , 0 , a ) , t h i s . s e t S t a t e ( { i t e m s : t h i s . s t a t e . i t e m s } , f u n c t i o n ( ) { c & & t h i s . s e l e c t I m a g e ( f , n u l l , " d i r e c t " , d ) , " f u n c t i o n " = = t y p e o f   e & & e ( ) } ) } , s e l e c t e d P o s i t i o n : f u n c t i o n ( ) { r e t u r n   t h i s . h a s h P o s i t i o n ( t h i s . s t a t e . s e l e c t e d H a s h ) } , h a s h P o s i t i o n : f u n c t i o n ( a ) { v a r   b = t h i s , c = a . s p l i t & & a . s p l i t ( " - " ) ; r e t u r n   c & & c . l e n g t h > 1 ? t h i s . s t a t e . i t e m s . m a p ( f u n c t i o n ( a ) { r e t u r n   b . u n i q u e I d ( a . h a s h , a . p r o m o t e d P l a c e m e n t C o u n t ) } ) . i n d e x O f ( a ) : t h i s . s t a t e . i t e m s . m a p ( f u n c t i o n ( a ) { r e t u r n   a . h a s h } ) . i n d e x O f ( a ) } , s e l e c t I m a g e : f u n c t i o n ( a , b , c , d ) { t h i s . s e t S t a t e ( { s e l e c t e d H a s h : a , s c r o l l T o H a s h : a } , f u n c t i o n ( ) { v a r   e = t h i s . h a s h P o s i t i o n ( a ) ; i f ( e = = = - 1 ) r e t u r n   v o i d ( I m g u r . E n v i r o n m e n t . i m a g e & & a = = = I m g u r . E n v i r o n m e n t . i m a g e . h a s h & & ( t h i s . p r o p s . e m i t t e r . t r i g g e r ( " s e l e c t " , I m g u r . E n v i r o n m e n t . i m a g e , b , c , d ) , t h i s . p r o p s . e m i t t e r . t r i g g e r ( " p o s t R e n d e r i n g " , I m g u r . E n v i r o n m e n t . i m a g e ) ) ) ; v a r   f = t h i s . s t a t e . i t e m s [ e ] ; t h i s . p r o p s . e m i t t e r . t r i g g e r ( " s e l e c t " , f , b , c , d ) , t h i s . p r o p s . e m i t t e r . t r i g g e r ( " p o s t R e n d e r i n g " , f ) , 0 = = e ? t h i s . p r o p s . e m i t t e r . t r i g g e r ( " f i r s t I m a g e " , f , ! 1 ) : e = = t h i s . s t a t e . i t e m s . l e n g t h - 1 & & t h i s . p r o p s . e m i t t e r . t r i g g e r ( " l a s t I m a g e " , f , ! 1 ) } ) } , g e t I m a g e : f u n c t i o n ( a ) { r e t u r n ! t h i s . c u r r e n t I n s e r t e d & & I m g u r . E n v i r o n m e n t . i m a g e & & I m g u r . E n v i r o n m e n t . i m a g e . h a s h = = = a ? I m g u r . E n v i r o n m e n t . i m a g e : t h i s . s t a t e . i t e m s [ t h i s . h a s h P o s i t i o n ( a ) ] } , g e t N e x t I m a g e : f u n c t i o n ( ) { v a r   a = t h i s . g e t N e x t I m a g e I t e m ( ) ; r e t u r n ! ! a & & a . h a s h } , g e t P r e v I m a g e : f u n c t i o n ( ) { v a r   a = t h i s . g e t P r e v I m a g e I t e m ( ) ; r e t u r n ! ! a & & a . h a s h } , g e t N e x t I m a g e I t e m : f u n c t i o n ( a ) { v a r   b = t h i s . h a s h P o s i t i o n ( t h i s . s t a t e . s e l e c t e d H a s h ) + 1 ; i f ( a ? b + = a : a = 0 , b < t h i s . s t a t e . i t e m s . l e n g t h ) { v a r   c = t h i s . s t a t e . i t e m s [ b ] ; r e t u r n " d o w n " = = = c . v o t e | | c . n e x t a b l e = = = ! 1 ? t h i s . g e t N e x t I m a g e I t e m ( + + a ) : c } r e t u r n ! 1 } , g e t P r e v I m a g e I t e m : f u n c t i o n ( a ) { v a r   b = t h i s . h a s h P o s i t i o n ( t h i s . s t a t e . s e l e c t e d H a s h ) - 1 ; i f ( a ? b - = a : a = 0 , b > = 0 ) { v a r   c = t h i s . s t a t e . i t e m s [ b ] ; r e t u r n " d o w n " = = = c . v o t e | | c . n e x t a b l e = = = ! 1 ? t h i s . g e t P r e v I m a g e I t e m ( + + a ) : c } r e t u r n ! 1 } , g e t S e c t i o n : f u n c t i o n ( ) { r e t u r n   t h i s . s t a t e . s e c t i o n } , c o m p o n e n t D i d M o u n t : f u n c t i o n ( ) { i f ( t h i s . p r o p s . d i s p l a y ! = = ! 1 ) { t h i s . l o a d P a g e ( ) , t h i s . b i n d M o u s e M o v e ( ) ; v a r   a = _ . t h r o t t l e ( _ . b i n d ( t h i s . o n S c r o l l , t h i s ) , 5 0 0 ) ; t h i s . e l . $ s i d e G a l l e r y = $ ( R e a c t D O M . f i n d D O M N o d e ( t h i s ) ) , t h i s . e l . $ c o n t e n t = t h i s . e l . $ s i d e G a l l e r y . f i n d ( " . c o n t e n t " ) , t h i s . e l . $ n a n o = t h i s . e l . $ s i d e G a l l e r y . f i n d ( " . c o n t e n t " ) , t h i s . e l . $ c o n t e n t . s c r o l l ( a ) , t h i s . p r o p s . e m i t t e r . o n ( " k e y b o a r d N a v " , t h i s , _ . p a r t i a l R i g h t ( t h i s . n a v , " k e y b o a r d " ) ) , t h i s . p r o p s . e m i t t e r . o n ( " b u t t o n N a v " , t h i s , _ . p a r t i a l R i g h t ( t h i s . n a v , " c l i c k " ) ) } } , b i n d M o u s e M o v e : f u n c t i o n ( ) { v a r   a , b = 0 , c = ( I m g u r . U t i l . g e t B r o w s e r S c r o l l b a r W i d t h ( ) , $ ( " # s i d e - g a l l e r y " ) . f i n d ( " . c o n t e n t " ) [ 0 ] ) , d = f u n c t i o n ( d ) { v a r   e = $ ( d . t a r g e t ) , f = e . c l o s e s t ( " . s c r o l l - c o n t e n t " ) . l e n g t h , g = M a t h . a b s ( d . c l i e n t X - a ) , h = M a t h . a b s ( d . c l i e n t Y - b ) ; ( g > 5 | | h > 5 ) & & f ? c . s t y l e . o v e r f l o w Y = " s c r o l l " : f | | ( c . s t y l e . o v e r f l o w Y = " h i d d e n " ) , a = d . c l i e n t X , b = d . c l i e n t Y } . b i n d ( t h i s ) ; $ ( " b o d y " ) . m o u s e m o v e ( _ . t h r o t t l e ( d , 2 0 ) ) } , n a v : f u n c t i o n ( a , b ) { v a r   c ; s w i t c h ( a ) { c a s e " n e x t " : c = t h i s . g e t N e x t I m a g e I t e m ( ) ; b r e a k ; c a s e " p r e v " : c = t h i s . g e t P r e v I m a g e I t e m ( ) } i f ( c ) { v a r   d = t h i s . u n i q u e I d ( c . h a s h , c . p r o m o t e d P l a c e m e n t C o u n t ) ; t h i s . s e l e c t I m a g e ( d , v o i d   0 , a , b ) } r e t u r n ! 1 } , u p d a t e P o i n t s : f u n c t i o n ( a , b , c ) { v a r   d = t h i s . h a s h P o s i t i o n ( a ) ; i f ( d ! = = - 1 ) { v a r   e = t h i s . s t a t e . i t e m s [ d ] ; e . u p s = b , e . d o w n s = c , e . p o i n t s = b - c , t h i s . s e t S t a t e ( { i t e m s : t h i s . s t a t e . i t e m s } ) } } , u p d a t e V i e w s : f u n c t i o n ( a , b ) { v a r   c = t h i s . h a s h P o s i t i o n ( a ) ; i f ( c ! = = - 1 ) { v a r   d = t h i s . s t a t e . i t e m s [ c ] ; d . v i e w s = b , t h i s . s e t S t a t e ( { i t e m s : t h i s . s t a t e . i t e m s } ) } } , u p d a t e V o t e : f u n c t i o n ( a , b , c ) { v a r   d = t h i s . h a s h P o s i t i o n ( a ) ; i f ( d = = = - 1 ) r e t u r n ! 1 ; v a r   e = t h i s . s t a t e . i t e m s [ d ] ; s w i t c h ( e . v o t e ) { c a s e " u p " : e . u p s - - ; b r e a k ; c a s e " d o w n " : e . d o w n s - - } s w i t c h ( b ) { c a s e " u p " : e . u p s + + ; b r e a k ; c a s e " d o w n " : e . d o w n s + + } e . v o t e = b , e . p o i n t s = e . u p s - e . d o w n s , t h i s . s e t S t a t e ( { i t e m s : t h i s . s t a t e . i t e m s } ) , c ( e . p o i n t s ) } , u p d a t e F a v o r i t e : f u n c t i o n ( a , b ) { t h i s . s t a t e . i t e m s [ t h i s . h a s h P o s i t i o n ( a ) ] . f a v o r i t e d = b , t h i s . s e t S t a t e ( { i t e m s : t h i s . s t a t e . i t e m s } ) } , s h o u l d C o m p o n e n t U p d a t e : f u n c t i o n ( ) { r e t u r n ! 0 } , c o m p o n e n t D i d U p d a t e : f u n c t i o n ( a , b ) { b . i t e m s . l e n g t h = = = t h i s . s t a t e . i t e m s . l e n g t h & & b . l a y o u t = = = t h i s . s t a t e . l a y o u t | | t h i s . e l . $ s i d e G a l l e r y . f i n d ( " . n a n o " ) . n a n o S c r o l l e r ( ) , b . s c r o l l T o H a s h ! = = t h i s . s t a t e . s c r o l l T o H a s h & & t h i s . s c r o l l T o H a s h ( t h i s . s t a t e . s c r o l l T o H a s h ) } , s c r o l l T o H a s h : f u n c t i o n ( a ) { v a r   b = R e a c t D O M . f i n d D O M N o d e ( t h i s . r e f s [ a ] ) ; b & & t h i s . e l . $ c o n t e n t . s t o p ( ) . a n i m a t e ( { s c r o l l T o p : b . o f f s e t T o p - t h i s . S E L E C T E D _ O F F S E T } ) } , g e t S u b r e d d i t N a m e : f u n c t i o n ( ) { r e t u r n   I m g u r . E n v i r o n m e n t . i m a g e . s u b r e d d i t | | t h i s . p r o p s . e n v . s u b r e d d i t S o u r c e } , r e n d e r : f u n c t i o n ( ) { i f ( t h i s . p r o p s . d i s p l a y = = = ! 1 ) r e t u r n ! 1 ; v a r   a , b , c , d , e , f , g , h , i , j = [ ] , k = { m i n : t h i s . s t a t e . s c r o l l T o p - t h i s . R E N D E R _ B U F F E R , m a x : t h i s . s t a t e . s c r o l l T o p + t h i s . H E I G H T + t h i s . R E N D E R _ B U F F E R } ; s w i t c h ( t h i s . s t a t e . s e c t i o n ) { c a s e " s u b r e d d i t " : h = t h i s . g e t S u b r e d d i t N a m e ( ) ; b r e a k ; c a s e " t o p i c " : h = I m g u r . E n v i r o n m e n t . i m a g e . t o p i c ; b r e a k ; c a s e " t a g " : h = I m g u r . E n v i r o n m e n t . t a g ; b r e a k ; c a s e " s e a r c h " : s w i t c h ( h = " S e a r c h i n g   " + I m g u r . E n v i r o n m e n t . s e a r c h Q u e r y , t h i s . s t a t e . s o r t ) { c a s e " r e l e v a n c e " : i = " m o s t   r e l e v a n t   f r o m   " + t h i s . w i n d o w T i t l e s [ t h i s . s t a t e . w i n d o w ] ; b r e a k ; c a s e " s c o r e " : i = " h i g h e s t   s c o r i n g   f r o m   " + t h i s . w i n d o w T i t l e s [ t h i s . s t a t e . w i n d o w ] } b r e a k ; c a s e " f a v o r i t e s " : c a s e " f a v o r i t e f o l d e r s " : v a r   l = I m g u r . E n v i r o n m e n t . f a v s _ a c c o u n t _ u r l | | I m g u r . E n v i r o n m e n t . a u t h . u r l , m = " s " = = l . s u b s t r ( - 1 ) ? l + " ' " : l + " ' s " ; h = R e a c t . c r e a t e E l e m e n t ( " s p a n " , n u l l , R e a c t . c r e a t e E l e m e n t ( " s p a n " , { c l a s s N a m e : " s g - u s e r n a m e " } , m ) , "   F a v o r i t e s " ) , i = t h i s . s o r t T i t l e s [ t h i s . s t a t e . s o r t ] ; b r e a k ; c a s e " t o p " : h = t h i s . s e c t i o n T i t l e s [ t h i s . s t a t e . s e c t i o n ] , i = " f r o m   " + t h i s . w i n d o w T i t l e s [ t h i s . s t a t e . w i n d o w ] ; b r e a k ; d e f a u l t : h = t h i s . s e c t i o n T i t l e s [ t h i s . s t a t e . s e c t i o n ] } i = i | | ( " t o p " = = t h i s . s t a t e . s o r t ? " f r o m   " + t h i s . w i n d o w T i t l e s [ t h i s . s t a t e . w i n d o w ] : t h i s . s o r t T i t l e s [ t h i s . s t a t e . s o r t ] ) ; f o r ( v a r   n = 0 ; n < t h i s . s t a t e . i t e m s . l e n g t h ; n + + ) { g = t h i s . s t a t e . i t e m s [ n ] , f = t h i s . s t a t e . i t e m s [ n - 1 ] , c = t h i s . i t e m O f f s e t ( n ) , b = c > k . m i n & & c < k . m a x , e = b ? g . t h u m b ? g . t h u m b : I m g u r . E n v i r o n m e n t . c d n U r l + " / " + ( g . i s _ a l b u m ? g . a l b u m _ c o v e r : g . h a s h ) + " b . j p g " : " d a t a : i m a g e / g i f ; b a s e 6 4 , R 0 l G O D l h A Q A B A A A A A C H 5 B A E K A A E A L A A A A A A B A A E A A A I C T A E A O w = = " ; v a r   o = t h i s . u n i q u e I d ( g . h a s h , g . p r o m o t e d P l a c e m e n t C o u n t ) ; a = _ . e x t e n d ( { } , g , { t h u m b : e , s e l e c t e d : o = = = t h i s . s t a t e . s e l e c t e d H a s h , s e l e c t I m a g e : t h i s . s e l e c t I m a g e , s h o u l d R e n d e r : b , l a y o u t : t h i s . s t a t e . l a y o u t , p o s i t i o n : n + 1 } ) , j . p u s h ( R e a c t . c r e a t e E l e m e n t ( I m g u r . S i d e G a l l e r y I t e m , _ e x t e n d s ( { r e f : o , k e y : o } , a ) ) ) } r e t u r n   d = t h i s . s t a t e . e n d R e a c h e d ? R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " s i d e g a l l e r y - e n d " } , " Y o u   h a v e   r e a c h e d   t h e   e n d   o f   t h i s   s t r e a m .   C o n t i n u e   b r o w s i n g   " , R e a c t . c r e a t e E l e m e n t ( " a " , { c l a s s N a m e : " l i n k " , o n C l i c k : t h i s . s w i t c h T o V i r a l } , " M o s t   V i r a l " ) ) : R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " s i d e g a l l e r y - e n d   l o a d i n g " } ) , R e a c t . c r e a t e E l e m e n t ( " d i v " , n u l l , R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " s g - h e a d e r " } , R e a c t . c r e a t e E l e m e n t ( " a " , { c l a s s N a m e : " s g - t i t l e - c o n t a i n e r " , h r e f : t h i s . s t a t e . s o u r c e } , R e a c t . c r e a t e E l e m e n t ( " h 2 " , { c l a s s N a m e : " s g - t i t l e " } , h ) , i ? R e a c t . c r e a t e E l e m e n t ( " h 3 " , { c l a s s N a m e : " s g - s u b t i t l e " } , i ) : n u l l ) , R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " l a y o u t - o p t i o n s " } , R e a c t . c r e a t e E l e m e n t ( " a " , { c l a s s N a m e : c l a s s N a m e s ( { " l a y o u t - b u t t o n " : ! 0 , s e l e c t e d : " l i s t " = = t h i s . s t a t e . l a y o u t } ) , o n C l i c k : t h i s . c h a n g e L a y o u t . b i n d ( t h i s , " l i s t " ) } , R e a c t . c r e a t e E l e m e n t ( " s p a n " , { c l a s s N a m e : " i c o n - r i g h t - l i s t " } ) ) , R e a c t . c r e a t e E l e m e n t ( " a " , { c l a s s N a m e : c l a s s N a m e s ( { " l a y o u t - b u t t o n " : ! 0 , s e l e c t e d : " g r i d " = = t h i s . s t a t e . l a y o u t } ) , o n C l i c k : t h i s . c h a n g e L a y o u t . b i n d ( t h i s , " g r i d " ) } , R e a c t . c r e a t e E l e m e n t ( " s p a n " , { c l a s s N a m e : " i c o n - g r i d " } ) ) ) ) , R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " n a n o " } , R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " c o n t e n t   s c r o l l - c o n t e n t   c f " } , R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : c l a s s N a m e s ( { i t e m s : ! 0 , g r i d : " g r i d " = = t h i s . s t a t e . l a y o u t , l i s t : " l i s t " = = t h i s . s t a t e . l a y o u t } ) } , j ) , d ) ) , R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " f a d e - o u t " } ) ) } } ) , N a m e s p a c e ( " I m g u r . S i d e G a l l e r y I t e m " ) , I m g u r . S i d e G a l l e r y I t e m = R e a c t . c r e a t e C l a s s ( { d i s p l a y N a m e : " S i d e G a l l e r y I t e m " , m i x i n s : [ R e a c t . a d d o n s . P u r e R e n d e r M i x i n ] , h a n d l e C l i c k : f u n c t i o n ( a ) { i f ( 1 ! = = a . b u t t o n ) { v a r   b = t h i s . p r o p s . h a s h ; t h i s . p r o p s . p r o m o t e d P l a c e m e n t C o u n t & & ( b = t h i s . p r o p s . h a s h + " - " + t h i s . p r o p s . p r o m o t e d P l a c e m e n t C o u n t ) , t h i s . p r o p s . s e l e c t I m a g e ( b , ! 1 , " t a r g e t e d " , " c l i c k " ) , a . p r e v e n t D e f a u l t ( ) } } , g e t W i d e P r o m o t e d T h u m b : f u n c t i o n ( ) { r e t u r n   R e a c t . c r e a t e E l e m e n t ( " a " , { c l a s s N a m e : t h i s . g e t T h u m b C l a s s e s ( " P r o m o t e d G r i d I t e m   P r o m o t e d G r i d I t e m - w i d e   l e f t " ) , s t y l e : t h i s . g e t T h u m b S t y l e s ( t h i s . p r o p s . t h u m b n a i l _ j s o n . h a s h ) , o n C l i c k : t h i s . h a n d l e C l i c k , h r e f : t h i s . g e t H r e f ( ) , t i t l e : t h i s . p r o p s . t i t l e } , t h i s . g e t V o t e M a r k u p ( ) , R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " P r o m o t e d G r i d I t e m - t e x t C o n t a i n e r " } , R e a c t . c r e a t e E l e m e n t ( " p " , { c l a s s N a m e : " P r o m o t e d G r i d I t e m - o p   f o n t - o p e n s a n s - b o l d " } , t h i s . p r o p s . a c c o u n t _ u r l ) , R e a c t . c r e a t e E l e m e n t ( " p " , { c l a s s N a m e : " P r o m o t e d G r i d I t e m - t e x t " } , t h i s . p r o p s . t h u m b n a i l _ j s o n . t i t l e | | t h i s . p r o p s . t i t l e ) ) ) } , g e t H r e f : f u n c t i o n ( ) { r e t u r n   t h i s . p r o p s . i n _ g a l l e r y ? " / g a l l e r y / " + t h i s . p r o p s . h a s h : ( t h i s . p r o p s . i s _ a l b u m ? " / a / " : " / " ) + t h i s . p r o p s . h a s h } , g e t T h u m b S t y l e s : f u n c t i o n ( a ) { v a r   b = a ? I m g u r . E n v i r o n m e n t . c d n U r l + " / " + a + " . j p g " : t h i s . p r o p s . t h u m b ; r e t u r n { b a c k g r o u n d I m a g e : " u r l ( " + b + " ) " } } , g e t T h u m b C l a s s e s : f u n c t i o n ( a ) { v a r   b = { " s g - i t e m " : ! 0 , s e l e c t e d : t h i s . p r o p s . s e l e c t e d , r e c o m m e n d e d : t h i s . p r o p s . r e c o m m e n d e d , b a s e : ! t h i s . p r o p s . r e c o m m e n d e d , g r i d : " g r i d " = = = t h i s . p r o p s . l a y o u t , l i s t : " l i s t " = = = t h i s . p r o p s . l a y o u t , u p : " u p " = = = t h i s . p r o p s . v o t e , d o w n : " d o w n " = = = t h i s . p r o p s . v o t e , p r o m o t e d : t h i s . p r o p s . i s A d & & ! t h i s . p r o p s . i s C t a , " s g - c t a " : t h i s . p r o p s . i s C t a } ; r e t u r n   t h i s . p r o p s . c l a s s N a m e & & ( b [ t h i s . p r o p s . c l a s s N a m e ] = ! 0 ) , a & & ( b [ a ] = ! 0 ) , c l a s s N a m e s ( b ) } , g e t V o t e M a r k u p : f u n c t i o n ( ) { v a r   a = c l a s s N a m e s ( { " s g - i t e m - v o t e " : ! 0 , " i c o n - u p v o t e - f i l l " : " u p " = = = t h i s . p r o p s . v o t e , " i c o n - d o w n v o t e - f i l l " : " d o w n " = = = t h i s . p r o p s . v o t e } ) ; r e t u r n   t h i s . p r o p s . s h o u l d R e n d e r & & t h i s . p r o p s . v o t e ? R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : a } ) : n u l l } , r e n d e r I t e m S t a t s : f u n c t i o n ( ) { r e t u r n   R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " s g - i t e m - s t a t s " } , _ . i s U n d e f i n e d ( t h i s . p r o p s . p o i n t s ) ? n u l l : R e a c t . c r e a t e E l e m e n t ( " s p a n " , { c l a s s N a m e : " i c o n - u p v o t e - o u t l i n e " } ) , _ . i s U n d e f i n e d ( t h i s . p r o p s . p o i n t s ) ? n u l l : R e a c t . c r e a t e E l e m e n t ( " s p a n " , { c l a s s N a m e : " s g - i t e m - c o u n t " } , I m g u r . U t i l . n u m b e r F o r m a t ( t h i s . p r o p s . p o i n t s ) ) , _ . i s U n d e f i n e d ( t h i s . p r o p s . c o m m e n t _ c o u n t ) ? n u l l : R e a c t . c r e a t e E l e m e n t ( " s p a n " , { c l a s s N a m e : " i c o n - m e s s a g e s " } ) , _ . i s U n d e f i n e d ( t h i s . p r o p s . c o m m e n t _ c o u n t ) ? n u l l : R e a c t . c r e a t e E l e m e n t ( " s p a n " , { c l a s s N a m e : " s g - i t e m - c o u n t " } , I m g u r . U t i l . n u m b e r F o r m a t ( t h i s . p r o p s . c o m m e n t _ c o u n t ) ) ) } , r e n d e r : f u n c t i o n ( ) { v a r   a = t h i s . p r o p s . i s A d & & t h i s . p r o p s . t h u m b n a i l _ j s o n & & " 2 8 8 x 1 4 1 " = = = t h i s . p r o p s . t h u m b n a i l _ j s o n . s i z e , b = " g r i d " = = = t h i s . p r o p s . l a y o u t ; i f ( a & & b ) r e t u r n   t h i s . g e t W i d e P r o m o t e d T h u m b ( ) ; v a r   c = t h i s . g e t T h u m b S t y l e s ( t h i s . p r o p s . i s A d & & t h i s . p r o p s . t h u m b n a i l _ j s o n & & t h i s . p r o p s . t h u m b n a i l _ j s o n . h a s h ) , d = t h i s . p r o p s . i s A d ? R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " s g - i t e m - t a g " } , " P R O M O T E D " ) : t h i s . p r o p s . s h o u l d R e n d e r & & t h i s . p r o p s . n u m _ i m a g e s > 1 ? R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " s g - i t e m - t a g " } , t h i s . p r o p s . n u m _ i m a g e s ) : n u l l ; i f ( t h i s . p r o p s . i s C t a ) r e t u r n   R e a c t . c r e a t e E l e m e n t ( " a " , { c l a s s N a m e : t h i s . g e t T h u m b C l a s s e s ( ) , t i t l e : t h i s . p r o p s . t i t l e , s t y l e : c , o n C l i c k : t h i s . h a n d l e C l i c k , h r e f : t h i s . g e t H r e f ( ) } ) ; i f ( b ) { v a r   e = t h i s . p r o p s . s h o u l d R e n d e r ? R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " s g - i t e m - t i t l e " } , t h i s . p r o p s . t i t l e ) : n u l l ; r e t u r n   R e a c t . c r e a t e E l e m e n t ( " a " , { c l a s s N a m e : t h i s . g e t T h u m b C l a s s e s ( ) , t i t l e : t h i s . p r o p s . t i t l e , s t y l e : c , o n C l i c k : t h i s . h a n d l e C l i c k , h r e f : t h i s . g e t H r e f ( ) } , t h i s . g e t V o t e M a r k u p ( ) , d , e ) } r e t u r n   R e a c t . c r e a t e E l e m e n t ( " a " , { c l a s s N a m e : t h i s . g e t T h u m b C l a s s e s ( ) , o n C l i c k : t h i s . h a n d l e C l i c k , h r e f : t h i s . g e t H r e f ( ) } , R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " s g - l i s t - i m a g e " , s t y l e : c } , d ) , R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " s g - l i s t - m e t a d a t a " } , R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " s g - l i s t - t i t l e " } , t h i s . p r o p s . t i t l e ) ) ) } } ) , N a m e s p a c e ( " I m g u r . R e p o r t B a d A d s " ) , I m g u r . R e p o r t B a d A d s = R e a c t . c r e a t e C l a s s ( { d i s p l a y N a m e : " R e p o r t - B a d - A d s " , t h a n k s M e s s a g e : " T h a n k s !   T h i s   a d   h a s   b e e n   r e p o r t e d . " , c o m p o n e n t D i d M o u n t : f u n c t i o n ( ) { r u n S l o t s . a d R e f r e s h = ! 1 , t h i s . a d I n f o A t T i m e O f R e p o r t = J S O N . p a r s e ( J S O N . s t r i n g i f y ( r u n S l o t s . c u r r e n t A d I n f o ) ) } , g e t I n i t i a l S t a t e : f u n c t i o n ( ) { r e t u r n { n a m e : " " , v a l u e : " " } } , h a n d l e S u b m i t : f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) , a . s t o p P r o p a g a t i o n ( ) ; v a r   b = t h i s . r e f s . f o r m . e l e m e n t s . s l o t n a m e . v a l u e , c = t h i s . a d I n f o A t T i m e O f R e p o r t [ b ] ? t h i s . a d I n f o A t T i m e O f R e p o r t [ b ] : " g e n e r i c - r e p o r t - " + b ; $ . a j a x ( { u r l : " / r e p o r t - b a d a d s " , m e t h o d : " P O S T " , d a t a : { s l o t _ n a m e : b , q q i d : c . q q i d , a d i d : c . a d i d , b i d d e r : c . b i d d e r , c p m : c . c p m , o x b : c . o x b , c o m m e n t s : t h i s . r e f s . c o m m e n t s . v a l u e } , s u c c e s s : f u n c t i o n ( ) { h u m a n M s g . d i s p l a y M s g ( t h i s . t h a n k s M e s s a g e ) } . b i n d ( t h i s ) , e r r o r : f u n c t i o n ( a ) { h u m a n M s g . d i s p l a y M s g ( a . e r r o r , " e r r o r - m s g " ) } } ) , t h i s . u n m o u n t ( ) } , u n m o u n t : f u n c t i o n ( ) { R e a c t D O M . u n m o u n t C o m p o n e n t A t N o d e ( R e a c t D O M . f i n d D O M N o d e ( t h i s ) . p a r e n t N o d e ) } , s t o p P r o p a g a t i o n : f u n c t i o n ( a ) { a . s t o p P r o p a g a t i o n ( ) } , r e n d e r : f u n c t i o n ( ) { r e t u r n   R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " m o d a l - b a c k d r o p " , o n C l i c k : t h i s . u n m o u n t } , R e a c t . c r e a t e E l e m e n t ( " f o r m " , { o n S u b m i t : t h i s . h a n d l e S u b m i t , o n C l i c k : t h i s . s t o p P r o p a g a t i o n , r e f : " f o r m " } , R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " m o d a l   b a d - a d s - m o d a l " } , R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " b a d - a d s - m o d a l - h e a d e r " } , R e a c t . c r e a t e E l e m e n t ( " h 2 " , { c l a s s N a m e : " h e a d l i n e " } , " R e p o r t   A d " ) , R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " i c o n - x " , o n C l i c k : t h i s . u n m o u n t } ) ) , R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " b a d - a d s - m o d a l - b o d y " } , R e a c t . c r e a t e E l e m e n t ( " p " , n u l l , " S e e   a n   a d   t h a t   m a y   v i o l a t e   o u r   " , R e a c t . c r e a t e E l e m e n t ( " a " , { h r e f : " h t t p s : / / h e l p . i m g u r . c o m / h c / e n - u s / a r t i c l e s / 2 0 5 1 0 7 6 8 5 - B a d - a d s " } , " a d v e r t i s i n g   g u i d e l i n e s " ) , " ?   I t  s   e a s y   t o   r e p o r t   i t   u s i n g   t h i s   f o r m . " ) , R e a c t . c r e a t e E l e m e n t ( " p " , n u l l , " P l e a s e   i n d i c a t e   t h e   l o c a t i o n   o f   t h e   a d : " ) , R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " b a d - a d s - l a y o u t s " } ) , R e a c t . c r e a t e E l e m e n t ( " r a d i o g r o u p " , n u l l , R e a c t . c r e a t e E l e m e n t ( " l a b e l " , { c l a s s N a m e : " r a d i o " } , R e a c t . c r e a t e E l e m e n t ( " i n p u t " , { t y p e : " r a d i o " , n a m e : " s l o t n a m e " , v a l u e : " t o p _ b a n n e r " } ) , " U p p e r   L e f t " ) , R e a c t . c r e a t e E l e m e n t ( " l a b e l " , { c l a s s N a m e : " r a d i o " } , R e a c t . c r e a t e E l e m e n t ( " i n p u t " , { t y p e : " r a d i o " , n a m e : " s l o t n a m e " , v a l u e : " u n d e r _ s i d e b a r " } ) , " M i d d l e   R i g h t " ) , R e a c t . c r e a t e E l e m e n t ( " l a b e l " , { c l a s s N a m e : " r a d i o " } , R e a c t . c r e a t e E l e m e n t ( " i n p u t " , { t y p e : " r a d i o " , n a m e : " s l o t n a m e " , v a l u e : " p o p _ s k y " } ) , " L o w e r   R i g h t " ) ) , R e a c t . c r e a t e E l e m e n t ( " t e x t a r e a " , { c l a s s N a m e : " b a d - a d s - c o m m e n t s " , r e f : " c o m m e n t s " , p l a c e h o l d e r : " P l e a s e   p r o v i d e   u s   w i t h   a d d i t i o n a l   c o n t e x t   f o r   y o u r   s u b m i s s i o n " } ) , R e a c t . c r e a t e E l e m e n t ( " i n p u t " , { t y p e : " s u b m i t " , v a l u e : " R e p o r t " , c l a s s N a m e : " b t n - a c t i o n   b t n - l a r g e   r i g h t " } ) ) ) ) ) } } ) ; v a r   _ c r e a t e C l a s s = f u n c t i o n ( ) { f u n c t i o n   a ( a , b ) { f o r ( v a r   c = 0 ; c < b . l e n g t h ; c + + ) { v a r   d = b [ c ] ; d . e n u m e r a b l e = d . e n u m e r a b l e | | ! 1 , d . c o n f i g u r a b l e = ! 0 , " v a l u e " i n   d & & ( d . w r i t a b l e = ! 0 ) , O b j e c t . d e f i n e P r o p e r t y ( a , d . k e y , d ) } } r e t u r n   f u n c t i o n ( b , c , d ) { r e t u r n   c & & a ( b . p r o t o t y p e , c ) , d & & a ( b , d ) , b } } ( ) , I m g u r R e c o m m e n d a t i o n s = f u n c t i o n ( a ) { f u n c t i o n   b ( ) { v a r   a , c , d , e ; _ c l a s s C a l l C h e c k ( t h i s , b ) ; f o r ( v a r   f = a r g u m e n t s . l e n g t h , g = A r r a y ( f ) , h = 0 ; h < f ; h + + ) g [ h ] = a r g u m e n t s [ h ] ; r e t u r n   c = d = _ p o s s i b l e C o n s t r u c t o r R e t u r n ( t h i s , ( a = b . _ _ p r o t o _ _ | | O b j e c t . g e t P r o t o t y p e O f ( b ) ) . c a l l . a p p l y ( a , [ t h i s ] . c o n c a t ( g ) ) ) , d . s t a t e = { r e c s : [ ] } , e = c , _ p o s s i b l e C o n s t r u c t o r R e t u r n ( d , e ) } r e t u r n   _ i n h e r i t s ( b , a ) , _ c r e a t e C l a s s ( b , [ { k e y : " c o m p o n e n t D i d M o u n t " , v a l u e : f u n c t i o n ( ) { t h i s . f e t c h R e c o m m e n d a t i o n s ( ) } } , { k e y : " f e t c h R e c o m m e n d a t i o n s " , v a l u e : f u n c t i o n ( ) { r e t u r n " l i f t - i g n i t e r - n o - p p " = = t h i s . p r o p s . v a r i a t i o n ? v o i d   t h i s . f e t c h L i f t I g n i t e r ( ! 0 ) : v o i d   t h i s . f e t c h C o n t r o l ( ) } } , { k e y : " f e t c h C o n t r o l " , v a l u e : f u n c t i o n ( ) { 0 ! = t h i s . p r o p s . s i d e G a l l e r y . s t a t e . i t e m s . l e n g t h & & t h i s . s e t S t a t e ( { r e c s : _ . s h u f f l e ( t h i s . p r o p s . s i d e G a l l e r y . s t a t e . i t e m s ) . s l i c e ( 0 , 8 ) } , f u n c t i o n ( ) { } ) } } , { k e y : " f e t c h L i f t I g n i t e r " , v a l u e : f u n c t i o n ( a ) { v a r   b = t h i s ; a | | $ p ( " r e s e t P a g e v i e w " ) , $ p ( " s e t R e q u e s t F i e l d s " , [ " t i t l e " , " u r l " , " h a s h " , " a c c o u n t _ i d " , " a c c o u n t _ u r l " , " a l b u m _ c o v e r " , " a n i m a t e d " , " c o m m e n t _ c o u n t " , " d e s c r i p t i o n " , " e x t " , " h e i g h t " , " i d " , " i s _ a l b u m " , " l o o p i n g " , " n u m _ i m a g e s " , " p o i n t s " , " p r e f e r _ v i d e o " , " t i m e s t a m p " , " v i e w s " , " r e c o m m e n d e d " , " w i d t h " ] ) , $ p ( " r e g i s t e r " , { m a x : 8 , w i d g e t : " a f t e r C o n t e n t " , c a l l b a c k : f u n c t i o n ( a ) { v a r   c = a . i t e m s . f i l t e r ( f u n c t i o n ( a ) { r e t u r n   a . u r l . i n d e x O f ( " / g a l l e r y / " ) > - 1 & & " u n d e f i n e d " ! = t y p e o f   a . i s _ a l b u m } ) . m a p ( f u n c t i o n ( a ) { r e t u r n   a . r e c o m m e n d e d = ! 0 , a . l o o p i n g = ! 0 , a . p r e f e r _ v i d e o = ! 0 , a . p l a c e = r u n S l o t s . _ p l a c e , a . u p s = a . p o i n t s , a . d o w n s = 0 , a . i n _ g a l l e r y = ! 0 , a } ) ; b . s e t S t a t e ( { r e c s : c } , f u n c t i o n ( ) { $ p ( " t r a c k " , { e l e m e n t s : d o c u m e n t . q u e r y S e l e c t o r A l l ( " . r e c - i t e m " ) , n a m e : " b e l o w C o n t e n t " , s o u r c e : " L I " } ) } ) } , o p t s : { a l l o w M a t u r e : ( ! ( ! I m g u r . E n v i r o n m e n t . a u t h | | ! I m g u r . E n v i r o n m e n t . a u t h . s h o w _ m a t u r e ) ) . t o S t r i n g ( ) } } ) , $ p ( " f e t c h " ) } } , { k e y : " n a v T o R e c o m m e n d a t i o n " , v a l u e : f u n c t i o n ( a , b , c ) { v a r   d = t h i s ; c . p r e v e n t D e f a u l t ( ) ; v a r   e = t h i s . p r o p s . s i d e G a l l e r y . s e l e c t e d P o s i t i o n ( ) + 1 ; a . r e c B o x P o s i t i o n = b , t h i s . p r o p s . s i d e G a l l e r y . i n s e r t S i n g l e I t e m ( a , e , ! 0 , " r e c o m m e n d a t i o n C l i c k " , f u n c t i o n ( ) { d . f e t c h R e c o m m e n d a t i o n s ( ) } ) } } , { k e y : " r e n d e r " , v a l u e : f u n c t i o n ( ) { v a r   a = t h i s , b = t h i s . s t a t e . r e c s . m a p ( f u n c t i o n ( b , c ) { v a r   d = I m g u r . E n v i r o n m e n t . c d n U r l + " / " + ( b . i s _ a l b u m ? b . a l b u m _ c o v e r : b . h a s h ) + " b . j p g " ; r e t u r n   R e a c t . c r e a t e E l e m e n t ( " a " , { h r e f : " / g a l l e r y / " + b . h a s h , k e y : b . h a s h , c l a s s N a m e : " r e c - i t e m " , s t y l e : { b a c k g r o u n d I m a g e : " u r l ( " + d + " ) " } , o n C l i c k : a . n a v T o R e c o m m e n d a t i o n . b i n d ( a , b , c ) } , R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " t i t l e " } , b . t i t l e ) ) } ) ; r e t u r n   0 = = b . l e n g t h ? n u l l : R e a c t . c r e a t e E l e m e n t ( " d i v " , n u l l , R e a c t . c r e a t e E l e m e n t ( " h 2 " , n u l l , " R e c o m m e n d e d   O n   I m g u r " ) , R e a c t . c r e a t e E l e m e n t ( " d i v " , n u l l , b ) ) } } ] ) , b } ( R e a c t . C o m p o n e n t ) ; I m g u r . R e c o m m e n d a t i o n s = I m g u r R e c o m m e n d a t i o n s , N a m e s p a c e ( " I m g u r . S h a r e B u t t o n s " ) , I m g u r . S h a r e B u t t o n s = I m g u r . e x t e n d ( { i n i t : f u n c t i o n ( a ) { t h i s . _ = $ . e x t e n d ( { r e s e t U r l : ! 1 , s h a r e B u t t o n C l a s s : " a d d t h i s _ b u t t o n " , a d d t h i s T i m e o u t : n u l l , s h a r e D a t a : { t i t l e : n u l l , u r l : n u l l , j a f o M e t a : { } } , g l o b a l S h a r e D a t a : n u l l } , a ) , t h i s . _ s u p e r ( t h i s . _ ) , t h i s . b i n d B u t t o n s ( ) } , e l e m e n t s : { $ s o c i a l : $ ( " . s o c i a l " ) } , g e t A d d t h i s C o n f i g : f u n c t i o n ( ) { r e t u r n { p u b i d : " i m g u r " , u s e r n a m e : " i m g u r " , u i _ c l i c k : ! 0 , u i _ h e a d e r _ c o l o r : " # 1 8 1 8 1 7 " , u i _ h e a d e r _ b a c k g r o u n d : " # d d d d d 1 " , u i _ o f f s e t _ t o p : " 0 p x " , u i _ o p e n _ w i n d o w s : ! 0 , d a t a _ g a _ p r o p e r t y : " U A - 6 6 7 1 9 0 8 - 2 " , d a t a _ g a _ t r a c k e r : w i n d o w . _ g a q , d a t a _ t r a c k _ c l i c k b a c k : ! 1 , d a t a _ g a _ s o c i a l : ! 0 , s e r v i c e s _ c o m p a c t : " s t u m b l e u p o n , g o o g l e _ p l u s o n e _ s h a r e , p i n t e r e s t _ s h a r e , t u m b l r , e m a i l , g m a i l " , s e r v i c e s _ e x c l u d e : " f a c e b o o k , r e d d i t " , s h a r e : { u r l : t h i s . _ . s h a r e D a t a . u r l , t i t l e : t h i s . g e t S h a r e T i t l e ( ) } } } , i n i t A d d t h i s : f u n c t i o n ( a ) { " u n d e f i n e d " = = t y p e o f   w i n d o w . a d d t h i s _ c o n f i g & & ( w i n d o w . a d d t h i s _ c o n f i g = t h i s . g e t A d d t h i s C o n f i g ( ) , $ . g e t S c r i p t ( l o c a t i o n . p r o t o c o l + " / / s 7 . a d d t h i s . c o m / j s / 3 0 0 / a d d t h i s _ w i d g e t . j s # p u b i d = i m g u r & d o m r e a d y = 1 " , _ . b i n d ( f u n c t i o n ( ) { i f ( t h i s . s e t u p A d d t h i s ( ) , a ) { v a r   b = f u n c t i o n ( a ) { $ ( " . a d d t h i s _ b u t t o n " ) . c l i c k ( ) } ; w i n d o w . a d d t h i s . a d d E v e n t L i s t e n e r ( " a d d t h i s . r e a d y " , b ) , t h i s . _ . a d d t h i s T i m e o u t = s e t T i m e o u t ( b , 4 0 0 ) } } , t h i s ) , ! 0 ) ) } , s e t S h a r e D a t a : f u n c t i o n ( a , b ) { b = _ . m e r g e ( { g l o b a l : ! 1 } , b ) , b . g l o b a l & & ( t h i s . _ . g l o b a l S h a r e D a t a = a ) , t h i s . _ s e t S h a r e D a t a ( a ) } , r e s e t S h a r e D a t a : f u n c t i o n ( ) { t h i s . _ . g l o b a l S h a r e D a t a & & t h i s . _ s e t S h a r e D a t a ( t h i s . _ . g l o b a l S h a r e D a t a ) , t h i s . _ . s h a r e D a t a . u r l | | ( t h i s . _ . s h a r e D a t a . u r l = t h i s . _ . p r o t o c o l + " / / " + t h i s . _ . h o s t + t h i s . _ . u r l ) } , _ s e t S h a r e D a t a : f u n c t i o n ( a ) { t h i s . _ s e t J a f o M e t a ( a . j a f o M e t a ) , t h i s . _ s e t S h a r e T i t l e ( a . t i t l e ) , t h i s . _ s e t U r l ( a . u r l ) } , _ s e t J a f o M e t a : f u n c t i o n ( a ) { t h i s . _ . s h a r e D a t a . j a f o M e t a = a } , _ s e t S h a r e T i t l e : f u n c t i o n ( a ) { a | | ( a = d o c u m e n t . t i t l e ) , a = a . r e p l a c e ( / \ s * \ -   ( ? : A l b u m   o n   ) ? I m g u r $ / , " " ) , t h i s . _ . s h a r e D a t a . t i t l e = a , " a d d t h i s " i n   w i n d o w & & " u p d a t e " i n   w i n d o w . a d d t h i s & & w i n d o w . a d d t h i s . u p d a t e ( " s h a r e " , " t i t l e " , a ) } , _ s e t U r l : f u n c t i o n ( a ) { t h i s . _ . s h a r e D a t a . u r l = a , " a d d t h i s " i n   w i n d o w & & " u p d a t e " i n   w i n d o w . a d d t h i s & & w i n d o w . a d d t h i s . u p d a t e ( " s h a r e " , " u r l " , a ) } , b i n d B u t t o n s : f u n c t i o n ( ) { t h i s . _ . s h a r e D a t a . u r l = t h i s . _ . s h a r e D a t a . u r l ? t h i s . _ . s h a r e D a t a . u r l : t h i s . _ . p r o t o c o l + " / / " + t h i s . _ . h o s t + t h i s . _ . u r l , t h i s . e l e m e n t s . $ s o c i a l . u n b i n d ( " c l i c k " ) , t h i s . e l e m e n t s . $ s o c i a l . o n ( " c l i c k " , " l i   s p a n [ d a t a - j s h o o k ] " , _ . b i n d ( f u n c t i o n ( a ) { s w i t c h ( t h i s . r e s e t S h a r e D a t a ( ) , a . c u r r e n t T a r g e t . g e t A t t r i b u t e ( " d a t a - j s h o o k " ) ) { c a s e " t w i t t e r _ c u s t o m " : t h i s . s h a r e T w i t t e r ( ) ; b r e a k ; c a s e " f a c e b o o k _ c u s t o m " : t h i s . s h a r e F a c e b o o k ( ) ; b r e a k ; c a s e " r e d d i t _ c u s t o m " : t h i s . s h a r e R e d d i t ( ) ; b r e a k ; c a s e " d i g g _ c u s t o m " : t h i s . s h a r e D i g g ( ) ; b r e a k ; c a s e " t u m b l r _ c u s t o m " : t h i s . s h a r e T u m b l r ( ) ; b r e a k ; c a s e " s t u m b l e u p o n _ c u s t o m " : t h i s . s h a r e S t u m b l e u p o n ( ) ; b r e a k ; c a s e " g o o g l e p l u s _ c u s t o m " : t h i s . s h a r e G o o g l e p l u s ( ) ; b r e a k ; c a s e " p i n t e r e s t _ c u s t o m " : t h i s . s h a r e P i n t e r e s t ( ) ; b r e a k ; c a s e " s t _ e m a i l _ c u s t o m " : t h i s . s h a r e E m a i l ( ) ; b r e a k ; c a s e " a d d t h i s _ c u s t o m " : t h i s . s h a r e A d d t h i s ( ) } } , t h i s ) ) , $ ( d o c u m e n t . b o d y ) . o n ( " h o v e r " , " . a d d t h i s _ b u t t o n " , _ . b i n d ( f u n c t i o n ( ) { t h i s . i n i t A d d t h i s ( ) } , t h i s ) ) } , b i n d A d d t h i s B u t t o n : f u n c t i o n ( ) { t r y { w i n d o w . a d d t h i s . b u t t o n ( " . " + t h i s . _ . s h a r e B u t t o n C l a s s ) } c a t c h ( a ) { } } , s e t u p A d d t h i s : f u n c t i o n ( ) { t r y { w i n d o w . a d d t h i s . o s t = 0 , w i n d o w . a d d t h i s . a d d E v e n t L i s t e n e r ( " a d d t h i s . m e n u . o p e n " , _ . b i n d ( f u n c t i o n ( a ) { t h i s . a d d t h i s O p e n ( a ) } , t h i s ) ) , w i n d o w . a d d t h i s . a d d E v e n t L i s t e n e r ( " a d d t h i s . m e n u . s h a r e " , _ . b i n d ( f u n c t i o n ( a ) { t h i s . l o g S h a r e P o s t A d d t h i s ( a . d a t a . s e r v i c e ) } , t h i s ) ) , w i n d o w . a d d t h i s . r e a d y ( ) , c l e a r T i m e o u t ( t h i s . _ . a d d t h i s T i m e o u t ) } c a t c h ( a ) { t h i s . _ . a d d t h i s T i m e o u t = s e t T i m e o u t ( _ . b i n d ( t h i s . s e t u p A d d t h i s , t h i s ) , 1 0 0 ) } } , a d d t h i s O p e n : f u n c t i o n ( a ) { a . d a t a . s h a r e | | ( a . d a t a . s h a r e = { } ) , a . d a t a . s h a r e . u r l = t h i s . _ . s h a r e D a t a . u r l } , l o g S h a r e : f u n c t i o n ( a ) { t h i s . _ . r e s e t U r l & & t h i s . r e s e t S h a r e D a t a ( ) ; t r y { a d d t h i s _ s h a r e . u r l = t h i s . _ . s h a r e D a t a . u r l , w i n d o w . a d d t h i s . s h a r e . t r a c k ( a , 0 , a d d t h i s _ s h a r e , w i n d o w . a d d t h i s _ c o n f i g ) } c a t c h ( b ) { t h i s . l o g S h a r e P o s t A d d t h i s ( a ) } } , l o g S h a r e P o s t A d d t h i s : f u n c t i o n ( a ) { v a r   b = t h i s . _ . s h a r e D a t a . u r l ; s w i t c h ( a ) { c a s e " g o o g l e _ p l u s o n e _ s h a r e " : a = " g o o g l e p l u s " ; b r e a k ; d e f a u l t : a = a . r e p l a c e ( / _ s h a r e $ / , " " ) } t h i s . _ . s h a r e D a t a . j a f o M e t a . h a s h & & $ . p o s t ( " / / " + t h i s . _ . h o s t + " / s h a r e / s h a r e " , { h a s h : t h i s . _ . s h a r e D a t a . j a f o M e t a . h a s h } ) ; v a r   b = t h i s . _ . s h a r e D a t a . u r l ; I m g u r . U t i l . j a f o L o g ( { e v e n t : " s h a r e " , m e t a : _ . m e r g e ( { s h a r e T o : a } , t h i s . _ . s h a r e D a t a . j a f o M e t a ) } ) ; t r y { w i n d o w . d a t a L a y e r = w i n d o w . d a t a L a y e r | | [ ] , w i n d o w . d a t a L a y e r . p u s h ( { s o c i a l N e t w o r k : a , s o c i a l A c t i o n : " s h a r e " , s o c i a l T a r g e t : b , e v e n t : " s o c i a l " } ) } c a t c h ( c ) { } } , g e t S h a r e T i t l e : f u n c t i o n ( ) { r e t u r n   t h i s . _ . s h a r e D a t a . t i t l e | | t h i s . _ s e t S h a r e T i t l e ( ) , t h i s . _ . s h a r e D a t a . t i t l e } , s h a r e T w i t t e r : f u n c t i o n ( ) { t h i s . l o g S h a r e ( " t w i t t e r " ) , I m g u r . U t i l . n e w W i n d o w ( " h t t p : / / t w i t t e r . c o m / s h a r e ? u r l = " + e n c o d e U R I C o m p o n e n t ( t h i s . _ . s h a r e D a t a . u r l ) + " & t e x t = " + e n c o d e U R I C o m p o n e n t ( t h i s . g e t S h a r e T i t l e ( ) ) + " & v i a = i m g u r " , 5 5 0 , 4 2 5 ) } , s h a r e F a c e b o o k : f u n c t i o n ( ) { t h i s . l o g S h a r e ( " f a c e b o o k " ) , I m g u r . U t i l . n e w W i n d o w ( " h t t p : / / w w w . f a c e b o o k . c o m / s h a r e r . p h p ? u = " + e n c o d e U R I C o m p o n e n t ( t h i s . _ . s h a r e D a t a . u r l ) , 7 5 5 , 4 2 5 ) } , s h a r e R e d d i t : f u n c t i o n ( ) { t h i s . l o g S h a r e ( " r e d d i t " ) , I m g u r . U t i l . n e w W i n d o w ( " h t t p : / / r e d d i t . c o m / s u b m i t ? u r l = " + e n c o d e U R I C o m p o n e n t ( t h i s . _ . s h a r e D a t a . u r l ) + " & t i t l e = " + e n c o d e U R I C o m p o n e n t ( t h i s . g e t S h a r e T i t l e ( ) ) ) } , s h a r e D i g g : f u n c t i o n ( ) { t h i s . l o g S h a r e ( " d i g g " ) , I m g u r . U t i l . n e w W i n d o w ( " h t t p : / / d i g g . c o m / s u b m i t ? p h a s e = 2 & u r l = " + e n c o d e U R I C o m p o n e n t ( t h i s . _ . s h a r e D a t a . u r l ) , 1 0 6 0 , 6 5 5 ) } , s h a r e T u m b l r : f u n c t i o n ( ) { t h i s . l o g S h a r e ( " t u m b l r " ) ; v a r   a = $ ( ' l i n k [ r e l = " i m a g e _ s r c " ] ' ) . a t t r ( " h r e f " ) ; i f ( a ) v a r   b = " h t t p : / / w w w . t u m b l r . c o m / s h a r e / p h o t o ? s o u r c e = " + e n c o d e U R I C o m p o n e n t ( a ) + " & c a p t i o n = " + e n c o d e U R I C o m p o n e n t ( t h i s . g e t S h a r e T i t l e ( ) ) + " & c l i c k _ t h r u = " + e n c o d e U R I C o m p o n e n t ( t h i s . _ . s h a r e D a t a . u r l ) ; e l s e   v a r   b = " h t t p : / / w w w . t u m b l r . c o m / s h a r e / l i n k ? u r l = " + e n c o d e U R I C o m p o n e n t ( t h i s . _ . s h a r e D a t a . u r l ) + " & n a m e = " + e n c o d e U R I C o m p o n e n t ( t h i s . g e t S h a r e T i t l e ( ) ) + " & d e s c r i p t i o n = " + e n c o d e U R I C o m p o n e n t ( $ ( ' m e t a [ n a m e = " d e s c r i p t i o n " ] ' ) . a t t r ( " c o n t e n t " ) ) ; I m g u r . U t i l . n e w W i n d o w ( b , 4 5 0 , 4 3 0 ) } , s h a r e S t u m b l e u p o n : f u n c t i o n ( ) { t h i s . l o g S h a r e ( " s t u m b l e u p o n " ) , I m g u r . U t i l . n e w W i n d o w ( " h t t p : / / w w w . s t u m b l e u p o n . c o m / s u b m i t ? u r l = " + e n c o d e U R I C o m p o n e n t ( t h i s . _ . s h a r e D a t a . u r l ) , 1 0 6 0 , 5 0 0 ) } , s h a r e G o o g l e p l u s : f u n c t i o n ( ) { t h i s . l o g S h a r e ( " g o o g l e p l u s " ) , I m g u r . U t i l . n e w W i n d o w ( " h t t p s : / / p l u s . g o o g l e . c o m / s h a r e ? u r l = " + e n c o d e U R I C o m p o n e n t ( t h i s . _ . s h a r e D a t a . u r l ) , 5 2 0 , 5 0 0 ) } , s h a r e P i n t e r e s t : f u n c t i o n ( ) { t h i s . l o g S h a r e ( " p i n t e r e s t " ) ; v a r   a = $ ( ' l i n k [ r e l = " i m a g e _ s r c " ] ' ) . a t t r ( " h r e f " ) ; I m g u r . U t i l . n e w W i n d o w ( " h t t p : / / p i n t e r e s t . c o m / p i n / c r e a t e / b u t t o n / ? u r l = " + e n c o d e U R I C o m p o n e n t ( t h i s . _ . s h a r e D a t a . u r l ) + " & d e s c r i p t i o n = " + e n c o d e U R I C o m p o n e n t ( t h i s . g e t S h a r e T i t l e ( ) ) + " & m e d i a = " + a , 8 0 0 , 3 4 0 ) } , s h a r e E m a i l : f u n c t i o n ( ) { } , s h a r e A d d t h i s : f u n c t i o n ( ) { t h i s . i n i t A d d t h i s ( ! 0 ) } } ) , C l a s s . a d d S i n g l e t o n ( I m g u r . S h a r e B u t t o n s ) , N a m e s p a c e ( " I m g u r . C a p t i o n " ) , I m g u r . C a p t i o n = I m g u r . e x t e n d ( { s i d : $ ( " # s i d " ) . v a l ( ) , i n i t : f u n c t i o n ( a ) { t h i s . _ = $ . e x t e n d ( { s i d : I m g u r . g e t I n s t a n c e ( ) . _ . s i d , a u t h _ i d : I m g u r . E n v i r o n m e n t . a u t h . i d , s i g n e d : I m g u r . E n v i r o n m e n t . s i g n e d , b a s e U R L : " / g a l l e r y " , h a s h : n u l l , p o p E v e n t S t a t e : " c o m m e n t " , e l : { $ c a p t i o n s : $ ( " # c a p t i o n s " ) } , $ c a p t i o n s : $ ( " # c a p t i o n s " ) , c h i l d r e n : " c h i l d r e n " , c o u n t e r C l a s s : " . c o u n t e r " , c a p t i o n B a r C l a s s : " c a p t i o n - b a r " , c o m m e n t N a m e : " c o m m e n t " , u s e r C o m m e n t s C l a s s : " . c o m m e n t - i t e m " , m o b i l e : ! 1 , s h o w R e p l i e s C o u n t : ! 1 , c a p t i o n s : { } } , a ) , t h i s . _ s u p e r ( t h i s . _ ) } , s e t u p H a n d l e r s : f u n c t i o n ( ) { I m g u r . S h a r e B u t t o n s . g e t I n s t a n c e ( ) . b i n d B u t t o n s ( ) } , a d d D o w n v o t e L i m i t : f u n c t i o n ( ) { c l e a r T i m e o u t ( t h i s . _ . t i m e o u t ) , $ ( " . c a p t i o n   . a r r o w . d o w n " ) . u n b i n d ( " c l i c k " ) , $ ( " . c a p t i o n   . a r r o w . d o w n " ) . a t t r ( " t i t l e " , " D o w n v o t i n g   o n   t h i s   i m a g e   h a s   b e e n   d i s a b l e d   f o r   o n e   m i n u t e   b e c a u s e   y o u   m a d e   a   c o m m e n t . " ) , $ ( " . c a p t i o n   . a r r o w . d o w n " ) . t i p s y ( { g r a v i t y : " n w " , o p a c i t y : 1 } ) } , r e m o v e D o w n v o t e L i m i t : f u n c t i o n ( ) { v a r   a = t h i s ; $ ( " . c a p t i o n   . a r r o w " ) . u n b i n d ( " c l i c k " ) , $ ( " . c a p t i o n   . a r r o w . d o w n " ) . u n b i n d ( " h o v e r " ) , $ ( " . t i p s y " ) . r e m o v e ( ) , $ ( " . c a p t i o n   . a r r o w . d o w n " ) . a t t r ( " t i t l e " , " d i s l i k e " ) , $ ( " . c a p t i o n   . a r r o w " ) . c l i c k ( f u n c t i o n ( b ) { a . v o t e ( b ) } ) } , h a v e C a p t i o n V o t e s : f u n c t i o n ( a ) { r e t u r n   a   i n   t h i s . _ . c a p t i o n s & & " v o t e s " i n   t h i s . _ . c a p t i o n s [ a ] } , h a v e C a p t i o n s : f u n c t i o n ( a ) { r e t u r n   a   i n   t h i s . _ . c a p t i o n s & & " s e t " i n   t h i s . _ . c a p t i o n s [ a ] } , d e l e t e C a p t i o n : f u n c t i o n ( a , b ) { t h i s . h a v e C a p t i o n s ( a ) & & b   i n   t h i s . _ . c a p t i o n s [ a ] . s e t & & ( t h i s . _ . c a p t i o n s [ a ] . s e t [ b ] . d e l e t e d = ! 0 , t h i s . _ . c a p t i o n s [ a ] . s e t [ b ] . j u s t _ d e l e t e d = ! 0 ) } , u n d e l e t e C a p t i o n : f u n c t i o n ( a , b ) { t h i s . _ . c a p t i o n s [ a ] . s e t [ b ] . d e l e t e d = ! 1 , t h i s . _ . c a p t i o n s [ a ] . s e t [ b ] . j u s t _ d e l e t e d = ! 1 } , g e t C a p t i o n D e p t h B y I d : f u n c t i o n ( a , b ) { i f ( b = N u m b e r ( b ) , t h i s . h a v e C a p t i o n s ( a ) & & b   i n   t h i s . _ . c a p t i o n s [ a ] . s e t ) { f o r ( v a r   c = [ ] , d = 0 , e = b ; n u l l ! = e & & ! ( e   i n   c ) ; ) { c . p u s h ( e ) ; v a r   f = t h i s . _ . c a p t i o n s [ a ] . s e t [ e ] ; i f ( f & & f . h a s O w n P r o p e r t y ( " d e p t h " ) ) r e t u r n   d + f . d e p t h ; e = t h i s . _ . c a p t i o n s [ a ] . p a r e n t [ e ] , d + + } r e t u r n   d - 1 } } , c o u n t C o m m e n t s : f u n c t i o n ( a ) { r e t u r n   t h i s . h a v e C a p t i o n s ( a ) ? O b j e c t . k e y s ( t h i s . _ . c a p t i o n s [ a ] . s e t ) . l e n g t h : n u l l } , g e t C a p t i o n R e p l i e s B y I d : f u n c t i o n ( a , b ) { i f ( b = N u m b e r ( b ) , t h i s . h a v e C a p t i o n s ( a ) & & b   i n   t h i s . _ . c a p t i o n s [ a ] . s e t ) r e t u r n   _ . f i l t e r ( _ . v a l u e s ( t h i s . _ . c a p t i o n s [ a ] . p a r e n t ) , f u n c t i o n ( a ) { r e t u r n   a = = = b } ) . l e n g t h } , g e t C a p t i o n B y I d : f u n c t i o n ( a , b ) { r e t u r n   b = N u m b e r ( b ) , t h i s . h a v e C a p t i o n s ( a ) & & b   i n   t h i s . _ . c a p t i o n s [ a ] . s e t ? t h i s . _ . c a p t i o n s [ a ] . s e t [ b ] : n u l l } , g e t C a p t i o n P r o p e r t y B y I d : f u n c t i o n ( a , b , c ) { r e t u r n   b = N u m b e r ( b ) , t h i s . h a v e C a p t i o n s ( a ) & & b   i n   t h i s . _ . c a p t i o n s [ a ] . s e t & & c   i n   t h i s . _ . c a p t i o n s [ a ] . s e t [ b ] ? t h i s . _ . c a p t i o n s [ a ] . s e t [ b ] [ c ] : n u l l } , g e t C a p t i o n P a r e n t B y I d : f u n c t i o n ( a , b ) { r e t u r n   b = N u m b e r ( b ) , t h i s . h a v e C a p t i o n s ( a ) & & b   i n   t h i s . _ . c a p t i o n s [ a ] . p a r e n t ? t h i s . _ . c a p t i o n s [ a ] . p a r e n t [ b ] : n u l l } , g e t P a r e n t I d s : f u n c t i o n ( a ) { r e t u r n   t h i s . h a v e C a p t i o n s ( a ) ? _ . u n i q ( _ . v a l u e s ( t h i s . _ . c a p t i o n s [ a ] . p a r e n t ) ) : [ ] } , g e t C a p t i o n C h i l d r e n I d s : f u n c t i o n ( a , b ) { r e t u r n   b = b , t h i s . h a v e C a p t i o n s ( a ) & & b   i n   t h i s . _ . c a p t i o n s [ a ] . c h i l d r e n ? t h i s . _ . c a p t i o n s [ a ] . c h i l d r e n [ b ] : [ ] } , g e t C a p t i o n I d s B y F i l t e r : f u n c t i o n ( a , b ) { i f ( ! t h i s . h a v e C a p t i o n s ( a ) ) r e t u r n [ ] ; v a r   c = [ ] ; r e t u r n   j Q u e r y . e a c h ( t h i s . _ . c a p t i o n s [ a ] . s e t , f u n c t i o n ( a , d ) { b ( d ) & & c . p u s h ( a ) } ) , c } , m e r g e C a p t i o n s : f u n c t i o n ( a , b , c ) { v a r   d = t h i s ; a   i n   t h i s . _ . c a p t i o n s ? " s e t " i n   t h i s . _ . c a p t i o n s [ a ] | | ( d . _ . c a p t i o n s [ a ] . s e t = { } , d . _ . c a p t i o n s [ a ] . p a r e n t = { } , d . _ . c a p t i o n s [ a ] . c h i l d r e n = { } ) : d . _ . c a p t i o n s [ a ] = { s e t : { } , p a r e n t : { } , c h i l d r e n : { } , v o t e s : { } } , j Q u e r y . e a c h ( b , f u n c t i o n ( b , c ) { c . p a r e n t _ i d = N u m b e r ( c . p a r e n t _ i d ) , c . i d = N u m b e r ( c . i d ) , c . p o i n t s = N u m b e r ( c . p o i n t s ) , c . v i s i b l e _ p o i n t s = N u m b e r ( c . p o i n t s ) , 0 = = = c . p a r e n t _ i d & & ( c . p a r e n t _ i d = n u l l ) , d . _ . c a p t i o n s [ a ] . s e t [ c . i d ] = c , d . _ . c a p t i o n s [ a ] . p a r e n t [ c . i d ] = c . p a r e n t _ i d , c . p a r e n t _ i d   i n   d . _ . c a p t i o n s [ a ] . c h i l d r e n | | ( d . _ . c a p t i o n s [ a ] . c h i l d r e n [ c . p a r e n t _ i d ] = [ ] ) , c . j u s t _ i n s e r t e d ? d . _ . c a p t i o n s [ a ] . c h i l d r e n [ c . p a r e n t _ i d ] . u n s h i f t ( c . i d ) : d . _ . c a p t i o n s [ a ] . c h i l d r e n [ c . p a r e n t _ i d ] . p u s h ( c . i d ) } ) , c & & c ( ) } , m e r g e C a p t i o n : f u n c t i o n ( a , b ) { t h i s . m e r g e C a p t i o n s ( a , [ b ] ) } , m e r g e V o t e s : f u n c t i o n ( a , b , c ) { v a r   d = t h i s ; b & & ( t h i s . h a v e C a p t i o n V o t e s ( a ) | | ( a   i n   t h i s . _ . c a p t i o n s ? t h i s . _ . c a p t i o n s [ a ] . v o t e s = { } : t h i s . _ . c a p t i o n s [ a ] = { p a r e n t : { } , v o t e s : { } } ) , j Q u e r y . e a c h ( b , f u n c t i o n ( b , c ) { d . _ . c a p t i o n s [ a ] . v o t e s [ c . c a p t i o n _ i d ] = c . v o t e } ) , c & & c ( ) ) } , g e t V o t e s : f u n c t i o n ( a ) { r e t u r n   t h i s . h a v e C a p t i o n V o t e s ( a ) ? t h i s . _ . c a p t i o n s [ a ] . v o t e s : { } } , s e t V o t e : f u n c t i o n ( a , b , c ) { v a r   d = t h i s . _ . c a p t i o n s [ a ] . v o t e s [ b ] ; v o i d   0 ! = = d & & n u l l ! = = d | | ( d = " v e t o " ) , t h i s . _ . c a p t i o n s [ a ] . v o t e s [ b ] = c ; v a r   e = t h i s . _ . c a p t i o n s [ a ] . s e t [ b ] . v i s i b l e _ p o i n t s , f = { u p : 1 , v e t o : 0 , d o w n : - 1 } , g = e - f [ d ] , h = g + f [ c ] ; t h i s . _ . c a p t i o n s [ a ] . s e t [ b ] . v i s i b l e _ p o i n t s = h } , g e t V o t e B y C a p t i o n I d : f u n c t i o n ( a , b ) { r e t u r n   t h i s . h a v e C a p t i o n V o t e s ( a ) & & b   i n   t h i s . _ . c a p t i o n s [ a ] . v o t e s ? t h i s . _ . c a p t i o n s [ a ] . v o t e s [ b ] : n u l l } , i s C a p t i o n O r I t s S u b t r e e N S F W : f u n c t i o n ( a ) { v a r   b = t h i s . _ . c a p t i o n s [ t h i s . _ . h a s h ] . s e t ; i f ( b . h a s O w n P r o p e r t y ( a ) ) { v a r   c = b [ a ] , d = _ . f i l t e r ( O b j e c t . k e y s ( t h i s . _ . c a p t i o n s [ t h i s . _ . h a s h ] . p a r e n t ) , _ . b i n d ( f u n c t i o n ( b ) { r e t u r n ! ( t h i s . _ . c a p t i o n s [ t h i s . _ . h a s h ] . s e t [ b ] . p o i n t s < 0 ) & & ( " M a t u r e " ! = = I m g u r . I n s i d e N a v . g e t I n s t a n c e ( ) . _ . t o p i c & & ( t h i s . _ . c a p t i o n s [ t h i s . _ . h a s h ] . p a r e n t [ b ] = = = a & & t h i s . _ . c a p t i o n s [ t h i s . _ . h a s h ] . s e t [ b ] . c a p t i o n . m a t c h ( / n s f w / g i ) ) ) } , t h i s ) ) ; r e t u r n   c . c a p t i o n . m a t c h ( / n s f w / g i ) | | d . l e n g t h } r e t u r n ! 1 } , s e t C a p t i o n V o t e S t a t e : f u n c t i o n ( a ) { v a r   b = [ " u p " , " d o w n " ] , c = a . v o t e , d = $ ( d o c u m e n t . g e t E l e m e n t B y I d ( " c a p t i o n - " + a . c a p t i o n _ i d ) ) . f i n d ( " . a r r o w s   * " ) ; i f ( " v e t o " = = c ) d . r e m o v e C l a s s ( " p u s h e d " ) ; e l s e { v a r   e = b [ 1 - b . i n d e x O f ( c ) ] , f = ( d . f i l t e r ( " . u p " ) , d . f i l t e r ( " . d o w n " ) , d . f i l t e r ( " . " + c ) ) , g = d . f i l t e r ( " . " + e ) ; f . h a s C l a s s ( " p u s h e d " ) | | f . a d d C l a s s ( " p u s h e d " ) , g . r e m o v e C l a s s ( " p u s h e d " ) } r e t u r n ! 0 } , p u r g e C a p t i o n D a t a : f u n c t i o n ( a ) { v a r   b = t h i s , c = O b j e c t . k e y s ( t h i s . _ . c a p t i o n s ) . f i l t e r ( f u n c t i o n ( c ) { r e t u r n   O b j e c t . h a s O w n P r o p e r t y . c a l l ( b . _ . c a p t i o n s , c ) & & a . i n d e x O f ( c ) = = = - 1 } ) ; j Q u e r y . e a c h ( c , f u n c t i o n ( a , c ) { d e l e t e   b . _ . c a p t i o n s [ c ] } ) } } ) , C l a s s . a d d S i n g l e t o n ( I m g u r . C a p t i o n ) , N a m e s p a c e ( " I m g u r . E l e m e n t s " ) , I m g u r . E l e m e n t s . C o m b o b o x = R e a c t . c r e a t e C l a s s ( { d i s p l a y N a m e : " C o m b o b o x " , p r o p T y p e s : { n a m e : R e a c t . P r o p T y p e s . s t r i n g . i s R e q u i r e d , v a l u e : R e a c t . P r o p T y p e s . s t r i n g . i s R e q u i r e d , o n C h a n g e : R e a c t . P r o p T y p e s . f u n c . i s R e q u i r e d } , g e t I n i t i a l S t a t e : f u n c t i o n ( ) { r e t u r n { v a l u e : t h i s . p r o p s . v a l u e } } , c o m p o n e n t D i d M o u n t : f u n c t i o n ( ) { $ ( t h i s . r e f s . b a s e ) . c o m b o b o x ( { o n C h a n g e : _ . b i n d ( f u n c t i o n ( a , b ) { s w i t c h ( a ) { c a s e   t h i s . p r o p s . n a m e : v a r   c = $ ( t h i s . r e f s . b a s e ) . f i n d ( " . s e l e c t i o n " ) . t e x t ( ) ; t h i s . p r o p s . o n C h a n g e ( c , b ) , t h i s . s e t S t a t e ( { v a l u e : c } ) } } , t h i s ) } ) } , r e n d e r : f u n c t i o n ( ) { r e t u r n   R e a c t . D O M . d i v ( { i d : t h i s . p r o p s . n a m e , c l a s s N a m e : " c o m b o b o x   " + t h i s . p r o p s . c l a s s N a m e , r e f : " b a s e " , n a m e : t h i s . p r o p s . n a m e } , R e a c t . D O M . d i v ( { c l a s s N a m e : " s e l e c t i o n " + ( t h i s . s t a t e . v a l u e = = t h i s . p r o p s . d e f a u l t V a l u e ? "   d e f a u l t " : "   g r e e n " ) } , t h i s . s t a t e . v a l u e ) , R e a c t . D O M . d i v ( { c l a s s N a m e : " t r i a n g l e " } , " " ) , R e a c t . D O M . d i v ( { c l a s s N a m e : " o p t i o n s " } , t h i s . p r o p s . d e f a u l t V a l u e ? R e a c t . D O M . d i v ( { c l a s s N a m e : " c o m b o b o x - h e a d e r " } , t h i s . p r o p s . d e f a u l t V a l u e ) : " " , _ . m a p ( t h i s . p r o p s . v a l u e s , _ . b i n d ( f u n c t i o n ( a ) { r e t u r n   R e a c t . D O M . d i v ( { c l a s s N a m e : " i t e m   " + ( t h i s . s t a t e . v a l u e = = a . l a b e l ? " s e l e c t e d " : " " ) , " d a t a - v a l u e " : a . v a l u e , k e y : a . l a b e l } , a . l a b e l ) } , t h i s ) ) ) ) } } ) , N a m e s p a c e ( " I m g u r . E l e m e n t s " ) , I m g u r . E l e m e n t s . C o n f i r m = R e a c t . c r e a t e C l a s s ( { d i s p l a y N a m e : " E l e m e n t s - C o n f i r m " , h a n d l e N o : f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) , t h i s . p r o p s . h a n d l e N o ( ) } , h a n d l e Y e s : f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) , t h i s . p r o p s . h a n d l e Y e s ( ) } , r e n d e r : f u n c t i o n ( ) { v a r   a = t h i s . p r o p s . y e s B u t t o n T e x t | | " I ' m   s u r e " , b = t h i s . p r o p s . n o B u t t o n T e x t | | " C a n c e l " ; r e t u r n   R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " p o p u p " } , R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " t e x t b o x " , d a n g e r o u s l y S e t I n n e r H T M L : { _ _ h t m l : t h i s . p r o p s . m e s s a g e } } ) , R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " m a r g i n - t o p   c f " } , R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " r i g h t   b t n - c o n f i r m - y e s   " + t h i s . p r o p s . y e s B u t t o n C l a s s } , R e a c t . c r e a t e E l e m e n t ( " a " , { r e f : " y e s " , h r e f : " " , o n C l i c k : t h i s . h a n d l e Y e s } , a ) ) , R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " r i g h t   b t n - c o n f i r m - n o " } , R e a c t . c r e a t e E l e m e n t ( " a " , { r e f : " n o " , h r e f : " " , o n C l i c k : t h i s . h a n d l e N o } , b ) ) ) ) } } ) , N a m e s p a c e ( " I m g u r . E l e m e n t s " ) , I m g u r . E l e m e n t s . P o p u p M e n u = R e a c t . c r e a t e C l a s s ( { d i s p l a y N a m e : " P o p u p M e n u " , c o m p o n e n t W i l l U n m o u n t : f u n c t i o n ( ) { $ ( " b o d y " ) . o f f ( " c l i c k " , t h i s . h a n d l e B o d y C l i c k ) } , g e t I n i t i a l S t a t e : f u n c t i o n ( ) { r e t u r n { o p e n e d : ! 1 } } , h a n d l e B o d y C l i c k : f u n c t i o n ( a ) { t h i s . s e t S t a t e ( { o p e n e d : ! 1 } ) } , h a n d l e M e n u C l i c k : f u n c t i o n ( a ) { a . s t o p P r o p a g a t i o n ( ) , " f u n c t i o n " = = t y p e o f   t h i s . p r o p s . m e n u C l i c k & & t h i s . p r o p s . m e n u C l i c k ( ! t h i s . s t a t e . o p e n e d ) , t h i s . s e t S t a t e ( { o p e n e d : ! t h i s . s t a t e . o p e n e d 
 } , _ . b i n d ( f u n c t i o n ( ) { t h i s . s t a t e . o p e n e d ? $ ( " b o d y " ) . o n ( " c l i c k " , t h i s . h a n d l e B o d y C l i c k ) : $ ( " b o d y " ) . o f f ( " c l i c k " , t h i s . h a n d l e B o d y C l i c k ) } , t h i s ) ) } , h a n d l e C h i l d C l i c k : f u n c t i o n ( a ) { a . s t o p P r o p a g a t i o n ( ) } , r e n d e r : f u n c t i o n ( ) { r e t u r n   R e a c t . D O M . d i v ( { o n C l i c k : t h i s . h a n d l e M e n u C l i c k , c l a s s N a m e : t h i s . p r o p s . c l a s s N a m e + "   l i k e - c o m b o b o x - b u t - n o t   " + ( t h i s . s t a t e . o p e n e d ? "   o p e n e d " : " " ) } , R e a c t . D O M . s p a n ( { } , t h i s . p r o p s . n a m e ) , R e a c t . D O M . s p a n ( { c l a s s N a m e : t h i s . p r o p s . a f t e r N a m e I c o n } ) , R e a c t . D O M . d i v ( { c l a s s N a m e : " o p t i o n s " } , R e a c t . D O M . d i v ( { o n C l i c k : t h i s . h a n d l e C h i l d C l i c k } , t h i s . p r o p s . c h i l d r e n ) ) ) } } ) , N a m e s p a c e ( " I m g u r . C o m m e n t " ) , I m g u r . C o m m e n t = R e a c t . c r e a t e C l a s s ( { d i s p l a y N a m e : " C o m m e n t " , _ i s M o u n t e d : ! 0 , p r o p T y p e s : { c h i l d m a p : R e a c t . P r o p T y p e s . o b j e c t . i s R e q u i r e d , c o n t e x t i d s : R e a c t . P r o p T y p e s . o b j e c t . i s R e q u i r e d , i m a g e : R e a c t . P r o p T y p e s . o b j e c t . i s R e q u i r e d , c o m m e n t : R e a c t . P r o p T y p e s . o b j e c t . i s R e q u i r e d , v o t a b l e : R e a c t . P r o p T y p e s . b o o l . i s R e q u i r e d , v o t e m a p : R e a c t . P r o p T y p e s . o b j e c t , o n S u b m i t : R e a c t . P r o p T y p e s . f u n c , e x p a n d e d : R e a c t . P r o p T y p e s . b o o l , h a v e C h i l d r e n : R e a c t . P r o p T y p e s . b o o l , t o u c h E n a b l e d : R e a c t . P r o p T y p e s . b o o l . i s R e q u i r e d , f o r c e R e n d e r P a r e n t : R e a c t . P r o p T y p e s . f u n c } , g e t D e f a u l t P r o p s : f u n c t i o n ( ) { r e t u r n { f o r c e R e n d e r P a r e n t : f u n c t i o n ( ) { } } } , c o n t e x t T y p e s : { m s i d : R e a c t . P r o p T y p e s . s t r i n g . i s R e q u i r e d , o n C o n t e x t C h a n g e : R e a c t . P r o p T y p e s . f u n c . i s R e q u i r e d , l i n k i f i e r : R e a c t . P r o p T y p e s . o b j e c t . i s R e q u i r e d , o n V o t e C h a n g e : R e a c t . P r o p T y p e s . f u n c } , g e t I n i t i a l S t a t e : f u n c t i o n ( ) { r e t u r n { s h o w i n g R e p l y : ! 1 , r e p o r t e d : ! 1 } } , c o m p o n e n t W i l l U n m o u n t : f u n c t i o n ( ) { t h i s . _ i s M o u n t e d = ! 1 } , c o m p o n e n t W i l l U p d a t e : f u n c t i o n ( a ) { t h i s . p r o p s . c o m m e n t . i d = = a . c o m m e n t . i d & & t h i s . p r o p s . c o m m e n t . v i s i b l e _ p o i n t s ! = a . c o m m e n t . v i s i b l e _ p o i n t s & & t h i s . r e f s . v i s i b l e _ p o i n t s & & t h i s . r e f s . v i s i b l e _ p o i n t s . c l a s s L i s t . a d d ( " p o s t - a c t i o n - s t a t s - p o i n t s - - f a d e " ) } , c o m p o n e n t D i d U p d a t e : f u n c t i o n ( ) { s e t T i m e o u t ( f u n c t i o n ( ) { t h i s . r e f s . v i s i b l e _ p o i n t s & & t h i s . r e f s . v i s i b l e _ p o i n t s . c l a s s L i s t . r e m o v e ( " p o s t - a c t i o n - s t a t s - p o i n t s - - f a d e " ) } . b i n d ( t h i s ) , 1 5 0 ) } , h a n d l e R e p l y C l i c k e d : f u n c t i o n ( ) { I m g u r . U t i l . j a f o L o g ( { e v e n t : " n e w C o m m e n t " , m e t a : { p a r e n t I d : t h i s . p r o p s . c o m m e n t . p a r e n t _ i d , h a s h : t h i s . p r o p s . c o m m e n t . h a s h , s t a t e : " i n i t i a t e d " } } ) , t h i s . s e t S t a t e ( { s h o w i n g R e p l y : ! 0 } ) } , h a n d l e R e p l y S u c c e s s : f u n c t i o n ( ) { t h i s . s e t S t a t e ( { s h o w i n g R e p l y : ! 1 } ) , t h i s . p r o p s . o n S u b m i t & & t h i s . p r o p s . o n S u b m i t ( ) } , h a n d l e P e r m a l i n k C l i c k : f u n c t i o n ( a ) { a . s t o p P r o p a g a t i o n ( ) , t h i s . c o n t e x t . o n C o n t e x t C h a n g e ( a , t h i s . p r o p s . c o m m e n t . i d , 0 ) , I m g u r . U t i l . j a f o L o g ( { e v e n t : " p e r m a l i n k I n v o k e d " , m e t a : { t y p e : " c o m m e n t " , c o m m e n t I d : t h i s . p r o p s . c o m m e n t . i d , h a s h : t h i s . p r o p s . c o m m e n t . h a s h , i s A l b u m : t h i s . p r o p s . c o m m e n t . o n _ a l b u m , n s f w : t h i s . p r o p s . i m a g e . n s f w , p a r e n t I d : t h i s . p r o p s . c o m m e n t . p a r e n t _ i d } } ) } , h a n d l e C o n t e x t C l i c k : f u n c t i o n ( a ) { a . s t o p P r o p a g a t i o n ( ) , t h i s . c o n t e x t . o n C o n t e x t C h a n g e ( a , t h i s . p r o p s . c o m m e n t . i d , 1 ) , I m g u r . U t i l . j a f o L o g ( { e v e n t : " c o n t e x t I n v o k e d " , m e t a : { t y p e : " c o m m e n t " , c o m m e n t I d : t h i s . p r o p s . c o m m e n t . i d , h a s h : t h i s . p r o p s . c o m m e n t . h a s h , i s A l b u m : t h i s . p r o p s . c o m m e n t . o n _ a l b u m , n s f w : t h i s . p r o p s . i m a g e . n s f w , p a r e n t I d : t h i s . p r o p s . c o m m e n t . p a r e n t _ i d } } ) } , h a n d l e S h a r e C l i c k : f u n c t i o n ( a ) { I m g u r . U t i l . j a f o L o g ( { e v e n t : " s h a r e I n v o k e d " , m e t a : { t y p e : " c o m m e n t " , c o m m e n t I d : t h i s . p r o p s . c o m m e n t . i d , h a s h : t h i s . p r o p s . c o m m e n t . h a s h , i s A l b u m : t h i s . p r o p s . c o m m e n t . o n _ a l b u m , n s f w : t h i s . p r o p s . i m a g e . n s f w , p a r e n t I d : t h i s . p r o p s . c o m m e n t . p a r e n t _ i d } } ) ; v a r   b = w i n d o w . l o c a t i o n . p r o t o c o l + " / / " + I m g u r . E n v i r o n m e n t . h o s t + I m g u r . E n v i r o n m e n t . b a s e U R L + " / " + t h i s . p r o p s . c o m m e n t . h a s h + " / c o m m e n t / " + t h i s . p r o p s . c o m m e n t . i d , c = t h i s . p r o p s . c o m m e n t . a u t h o r + "   c o m m e n t s   o n   ' " + t h i s . p r o p s . i m a g e . t i t l e + " '   -   I m g u r " , d = I m g u r . S h a r e B u t t o n s . g e t I n s t a n c e ( ) ; d . s e t S h a r e D a t a ( { j a f o M e t a : _ . e x t e n d ( I m g u r . G a l l e r y . g e t I n s t a n c e ( ) . g e t G a l l e r y M e t a d a t a ( ) , { t y p e : " c o m m e n t " , h a s h : t h i s . p r o p s . c o m m e n t . h a s h , i s A l b u m : t h i s . p r o p s . c o m m e n t . o n _ a l b u m , i n G a l l e r y : ! 0 , c o m m e n t I d : t h i s . p r o p s . c o m m e n t . i d , p a r e n t I d : t h i s . p r o p s . c o m m e n t . p a r e n t _ i d } ) , t i t l e : c , u r l : b } ) } , h a n d l e M o b i l e I c o n C l i c k : f u n c t i o n ( a ) { I m g u r . U t i l . j a f o L o g ( { e v e n t : " v i a A p p I c o n " , m e t a : { t y p e : " c o m m e n t " , c o m m e n t I d : t h i s . p r o p s . c o m m e n t . i d , p l a t f o r m : t h i s . p r o p s . c o m m e n t . p l a t f o r m } } ) } , h a n d l e D e l e t e C l i c k : f u n c t i o n ( a ) { v a r   b = " A r e   y o u   s u r e   y o u   w a n t   t o   d e l e t e   t h i s   c o m m e n t ? " ; c o n f i r m ( b ) & & ( $ . a j a x ( { u r l : " / g a l l e r y / a c t i o n / d e l e t e _ c a p t i o n / " + t h i s . p r o p s . c o m m e n t . i d , t y p e : " P O S T " , d a t a : { s i d : t h i s . c o n t e x t . m s i d } } ) . f a i l ( _ . b i n d ( f u n c t i o n ( ) { I m g u r . C a p t i o n . g e t I n s t a n c e ( ) . u n d e l e t e C a p t i o n ( t h i s . p r o p s . c o m m e n t . h a s h , t h i s . p r o p s . c o m m e n t . i d ) , t h i s . _ i s M o u n t e d & & t h i s . f o r c e U p d a t e ( ) } , t h i s ) ) , I m g u r . C a p t i o n . g e t I n s t a n c e ( ) . d e l e t e C a p t i o n ( t h i s . p r o p s . c o m m e n t . h a s h , t h i s . p r o p s . c o m m e n t . i d ) , t h i s . p r o p s . f o r c e R e n d e r P a r e n t ( ) ) } , h a n d l e W a r n D e l e t e C l i c k : f u n c t i o n ( a ) { v a r   b = " A r e   y o u   s u r e   y o u   w a n t   t o   d e l e t e   t h i s   c o m m e n t   a n d   w a r n   t h e   u s e r ? " ; c o n f i r m ( b ) & & $ . a j a x ( { u r l : " / a d m / r e m o v a l s / d e l e t e " , t y p e : " P O S T " , d a t a : { c a p t i o n : t h i s . p r o p s . c o m m e n t . i d , w a r n A n d D e l e t e : ! 0 , s i d : t h i s . c o n t e x t . m s i d } } ) . s u c c e s s ( _ . b i n d ( f u n c t i o n ( a ) { I m g u r . C a p t i o n . g e t I n s t a n c e ( ) . d e l e t e C a p t i o n ( t h i s . p r o p s . c o m m e n t . h a s h , t h i s . p r o p s . c o m m e n t . i d ) , t h i s . p r o p s . f o r c e R e n d e r P a r e n t ( ) } , t h i s ) ) . f a i l ( _ . b i n d ( f u n c t i o n ( ) { I m g u r . C a p t i o n . g e t I n s t a n c e ( ) . u n d e l e t e C a p t i o n ( t h i s . p r o p s . c o m m e n t . h a s h , t h i s . p r o p s . c o m m e n t . i d ) , t h i s . _ i s M o u n t e d & & t h i s . f o r c e U p d a t e ( ) } , t h i s ) ) } , h a n d l e M u t e U s e r C l i c k : f u n c t i o n ( a ) { I m g u r . E n v i r o n m e n t . a u t h . i d ? $ . c o l o r b o x ( { h t m l : ' < d i v   i d = " m u t e - c o n t a i n e r " > < / d i v > ' , o p e n : ! 0 , t o p : " 1 0 % " , t r a n s i t i o n : " n o n e " , s c r o l l i n g : ! 1 , f i x e d : ! 0 , w i d t h : I m g u r . E l e m e n t s . M u t e . d i m e n s i o n s . w i d t h , h e i g h t : I m g u r . E l e m e n t s . M u t e . d i m e n s i o n s . h e i g h t , c l a s s N a m e : " n o B o r d e r " , c l o s e : " " , o n C o m p l e t e : _ . b i n d ( f u n c t i o n ( ) { v a r   a = w i n d o w . R e a c t D O M | | w i n d o w . R e a c t ; a . r e n d e r ( R e a c t . c r e a t e E l e m e n t ( I m g u r . E l e m e n t s . M u t e , { u r l : " h t t p s : / / a p i . " + I m g u r . E n v i r o n m e n t . h o s t + " / a c c o u n t / v 1 / " + t h i s . p r o p s . c o m m e n t . a u t h o r + " / b l o c k ? t y p e = c o m m e n t & i d = " + t h i s . p r o p s . c o m m e n t . i d } ) , $ ( " # m u t e - c o n t a i n e r " ) . g e t ( 0 ) ) } , t h i s ) } ) : I m g u r . g e t I n s t a n c e ( ) . s i g n i n ( " m u t e A t t e m p t " ) } , h a n d l e R e p o r t C l i c k : f u n c t i o n ( a ) { v a r   b = { t y p e : " c o m m e n t " , c o m m e n t I d : t h i s . p r o p s . c o m m e n t . i d , h a s h : t h i s . p r o p s . c o m m e n t . h a s h , i s A l b u m : t h i s . p r o p s . c o m m e n t . o n _ a l b u m , n s f w : t h i s . p r o p s . i m a g e . n s f w } ; I m g u r . U t i l . j a f o L o g ( { e v e n t : " r e p o r t I n v o k e d " , m e t a : b } ) , I m g u r . E n v i r o n m e n t . a u t h . i d ? $ . c o l o r b o x ( { h t m l : ' < d i v   i d = " r e p o r t - c o n t a i n e r " > < / d i v > ' , o p e n : ! 0 , t o p : " 1 0 % " , t r a n s i t i o n : " n o n e " , s c r o l l i n g : ! 1 , f i x e d : ! 0 , w i d t h : I m g u r . E l e m e n t s . R e p o r t . d i m e n s i o n s . w i d t h , h e i g h t : I m g u r . E l e m e n t s . R e p o r t . d i m e n s i o n s . h e i g h t , c l a s s N a m e : " n o B o r d e r " , c l o s e : " " , o n C o m p l e t e : _ . b i n d ( f u n c t i o n ( ) { v a r   a = w i n d o w . R e a c t D O M | | w i n d o w . R e a c t ; a . r e n d e r ( R e a c t . c r e a t e E l e m e n t ( I m g u r . E l e m e n t s . R e p o r t , { t y p e : " c o m m e n t " , u r l : " / g a l l e r y / a c t i o n / r e p o r t _ c a p t i o n / " + t h i s . p r o p s . c o m m e n t . i d , m e t a d a t a : b , c b : _ . b i n d ( f u n c t i o n ( ) { t h i s . s e t S t a t e ( { r e p o r t e d : ! 0 } ) } , t h i s ) } ) , $ ( " # r e p o r t - c o n t a i n e r " ) . g e t ( 0 ) ) } , t h i s ) , o n C l o s e d : _ . b i n d ( f u n c t i o n ( ) { I m g u r . G a l l e r y . g e t I n s t a n c e ( ) . _ . p r e v e n t R e p o r t C l o s e A n a l y t i c s | | I m g u r . U t i l . j a f o L o g ( { e v e n t : " r e p o r t C a n c e l " , m e t a : _ . e x t e n d ( { m e t h o d : " m o d a l " } , b ) } ) , I m g u r . G a l l e r y . g e t I n s t a n c e ( ) . r e s e t R e p o r t C l o s e A n a l y t i c s ( ) } , t h i s ) } ) : I m g u r . g e t I n s t a n c e ( ) . s i g n i n ( " r e p o r t A t t e m p t " ) } , h a n d l e U p v o t e C l i c k : f u n c t i o n ( ) { v a r   a = t h i s . p r o p s . v o t e m a p [ t h i s . p r o p s . c o m m e n t . i d ] ; " u p " = = = a ? t h i s . _ v o t e ( " v e t o " ) : t h i s . _ v o t e ( " u p " ) } , h a n d l e D o w n v o t e C l i c k : f u n c t i o n ( ) { v a r   a = t h i s . p r o p s . v o t e m a p [ t h i s . p r o p s . c o m m e n t . i d ] ; " d o w n " = = = a ? t h i s . _ v o t e ( " v e t o " ) : t h i s . _ v o t e ( " d o w n " ) } , _ v o t e : f u n c t i o n ( a ) { I m g u r . E n v i r o n m e n t . s i g n e d | | I m g u r . g e t I n s t a n c e ( ) . s i g n i n ( { i n v o k e d R e g i s t e r S i g n i n B y : " v o t e A t t e m p t " , t y p e : " c o m m e n t " } ) ; v a r   b = I m g u r . I n s i d e N a v & & I m g u r . I n s i d e N a v . g e t I n s t a n c e ( ) . g e t H a s h ( ) ? " i n s i d e " : " o u t s i d e " ; I m g u r . C a p t i o n . g e t I n s t a n c e ( ) . s e t V o t e ( t h i s . p r o p s . c o m m e n t . h a s h , t h i s . p r o p s . c o m m e n t . i d , a ) , t h i s . c o n t e x t . o n V o t e C h a n g e ( t h i s . p r o p s . c o m m e n t , a ) , $ . a j a x ( { u r l : " / g a l l e r y / a c t i o n / v o t e / " + t h i s . p r o p s . c o m m e n t . i d , t y p e : " P O S T " , d a t a : { v o t e : a , s i d : t h i s . c o n t e x t . m s i d , t y p e : " c a p t i o n " , l o c a t i o n : b , g a l l e r y : I m g u r . G a l l e r y . g e t I n s t a n c e ( ) . g e t G a l l e r y M e t a d a t a ( ) } } ) ; v a r   c = { e v e n t : " v o t e " + ( t h i s . p r o p s . i m a g e . r e a d o n l y ? " R e a d O n l y " : " " ) , m e t a : _ . e x t e n d ( I m g u r . G a l l e r y . g e t I n s t a n c e ( ) . g e t G a l l e r y M e t a d a t a ( ) , { t y p e : " c o m m e n t " , v o t e : a , l o c a t i o n : b , c o m m e n t I d : t h i s . p r o p s . c o m m e n t . i d , h a s h : t h i s . p r o p s . c o m m e n t . h a s h , p a r e n t I d : t h i s . p r o p s . c o m m e n t . p a r e n t _ i d } ) } ; I m g u r . U t i l . j a f o L o g ( c ) } , _ n t h I f y : f u n c t i o n ( a ) { r e t u r n   1 = = = a ? " 1 s t " : 2 = = = a ? " 2 n d " : 3 = = = a ? " 3 r d " : S t r i n g ( a ) + " t h " } , h a n d l e U s e r P r o f i l e C l i c k : f u n c t i o n ( ) { I m g u r . U t i l . j a f o L o g ( { e v e n t : " u s e r P r o f i l e N a v " , m e t a : { a c c o u n t I d : t h i s . p r o p s . c o m m e n t . a u t h o r _ i d , m e t h o d : " u s e r n a m e C o m m e n t " } } ) } , h a n d l e M e n u C l i c k : f u n c t i o n ( a ) { a & & I m g u r . U t i l . j a f o L o g ( { e v e n t : " m o r e M e n u I n v o k e d " , m e t a : { c o m m e n t I d : t h i s . p r o p s . c o m m e n t . i d , h a s h : t h i s . p r o p s . c o m m e n t . h a s h , i s A l b u m : t h i s . p r o p s . c o m m e n t . o n _ a l b u m , n s f w : t h i s . p r o p s . i m a g e . n s f w , p a r e n t I d : t h i s . p r o p s . c o m m e n t . p a r e n t _ i d } } ) } , c l o s e R e p l y : f u n c t i o n ( ) { t h i s . s e t S t a t e ( { s h o w i n g R e p l y : ! 1 } ) } , r e n d e r : f u n c t i o n ( ) { v a r   a , b = 0 ; i f ( t h i s . p r o p s . c o m m e n t . i d   i n   t h i s . p r o p s . c h i l d m a p & & t h i s . p r o p s . h a v e C h i l d r e n & & ( b = t h i s . p r o p s . c h i l d m a p [ t h i s . p r o p s . c o m m e n t . i d ] . l e n g t h , b > 0 ) ) { v a r   c = R e a c t . D O M . s p a n ( { k e y : " r e p l y - v e r t i c a l " , c l a s s N a m e : " c o m m e n t - r e p l y - i c o n   " + ( t h i s . p r o p s . e x p a n d e d ? " " : "   c o m m e n t - r e p l y - i c o n - - v e r t i c a l " ) } ) , d = t h i s . p r o p s . e x p a n d e d ? "   C o l l a p s e " : "   " + b + ( b > 1 ? "   r e p l i e s " : "   r e p l y " ) ; a = R e a c t . D O M . s p a n ( { c l a s s N a m e : " c o m m e n t - r e p l y - c o u n t " } , R e a c t . D O M . s p a n ( { c l a s s N a m e : " c o m m e n t - r e p l y - i c o n " } ) , c , R e a c t . D O M . s p a n ( { c l a s s N a m e : " c o m m e n t - r e p l y - c o u n t - t e x t " } , d ) ) } v a r   e = " u p " = = t h i s . p r o p s . v o t e m a p [ t h i s . p r o p s . c o m m e n t . i d ] , f = " d o w n " = = t h i s . p r o p s . v o t e m a p [ t h i s . p r o p s . c o m m e n t . i d ] , g = c l a s s N a m e s ( { " c o m m e n t - v o t e " : ! 0 , " i c o n - u p v o t e - f i l l " : ! 0 , g r e e n : e } ) , h = c l a s s N a m e s ( { " c o m m e n t - v o t e " : ! 0 , " i c o n - d o w n v o t e - f i l l " : ! 0 , r e d : f } ) , i = R e a c t . D O M . d i v ( { c l a s s N a m e : " c o m m e n t - v o t e s " + ( t h i s . p r o p s . t o u c h E n a b l e d ? "   t o u c h " : " " ) } , t h i s . p r o p s . c o m m e n t . d e l e t e d ? " " : R e a c t . D O M . d i v ( { c l a s s N a m e : " c o m m e n t - v o t e s - w r a p p e r " } , t h i s . p r o p s . v o t a b l e ? R e a c t . c r e a t e E l e m e n t ( I m g u r . E l e m e n t s . P r e s s B u t t o n , { o n P r e s s : t h i s . h a n d l e U p v o t e C l i c k , c l a s s N a m e : g } ) : " " , t h i s . p r o p s . v o t a b l e ? R e a c t . c r e a t e E l e m e n t ( I m g u r . E l e m e n t s . P r e s s B u t t o n , { o n P r e s s : t h i s . h a n d l e D o w n v o t e C l i c k , c l a s s N a m e : h } ) : " " ) ) , j = t h i s . p r o p s . c o m m e n t . b e s t _ c o m m e n t ? R e a c t . D O M . s p a n ( { c l a s s N a m e : " c a p t i o n - a w a r d s   r i g h t   t i t l e " } , t h i s . _ n t h I f y ( t h i s . p r o p s . c o m m e n t . b e s t _ c o m m e n t ) ) : n u l l , k = c l a s s N a m e s ( { c a p t i o n : ! 0 , p o i n t e r : t h i s . p r o p s . h a v e C h i l d r e n , " c a p t i o n - - h a s c h i l d r e n " : t h i s . p r o p s . h a v e C h i l d r e n , " c a p t i o n - d e l e t e d " : t h i s . p r o p s . c o m m e n t . d e l e t e d , " c a p t i o n - d e l e t e d - - n o r e p l y " : t h i s . p r o p s . c o m m e n t . j u s t _ d e l e t e d & & ! t h i s . p r o p s . h a v e C h i l d r e n , u n v o t a b l e : ! t h i s . p r o p s . v o t a b l e , c o n t e x t e d : t h i s . p r o p s . c o m m e n t . i d   i n   t h i s . p r o p s . c o n t e x t i d s } ) , l = c l a s s N a m e s ( { u s e r t e x t : ! 0 , c f : ! 0 , " c o m m e n t - u p v o t e d " : e , " c o m m e n t - d o w n v o t e d " : f } ) , m = t h i s . c o n t e x t . l i n k i f i e r . g r a b ( t h i s . p r o p s . c o m m e n t . c a p t i o n , ! 0 ) , n = 1 = = = t h i s . p r o p s . c o m m e n t . v i s i b l e _ p o i n t s ? "   p t " : "   p t s " , o = n u l l , p = { i p h o n e : " i P h o n e " , a n d r o i d : " A n d r o i d " } , q = O b j e c t . k e y s ( p ) ; r e t u r n   q . i n d e x O f ( t h i s . p r o p s . c o m m e n t . p l a t f o r m ) > - 1 & & ( o = R e a c t . D O M . s p a n ( { c l a s s N a m e : " v i a " } , "   v i a   " , R e a c t . D O M . a ( { h r e f : " / a p p s " , t a r g e t : " _ b l a n k " , o n C l i c k : t h i s . h a n d l e M o b i l e I c o n C l i c k } , p [ t h i s . p r o p s . c o m m e n t . p l a t f o r m ] , R e a c t . D O M . s p a n ( { c l a s s N a m e : " i c o n   i c o n - m o b i l e " } , n u l l ) ) ) ) , R e a c t . D O M . d i v ( { c l a s s N a m e : k , " d a t a - i d " : t h i s . p r o p s . c o m m e n t . i d } , R e a c t . D O M . d i v ( { c l a s s N a m e : l } , j , R e a c t . D O M . d i v ( { c l a s s N a m e : " a u t h o r " } , R e a c t . D O M . a ( { c l a s s N a m e : " c o m m e n t - u s e r n a m e " , h r e f : " / u s e r / " + t h i s . p r o p s . c o m m e n t . a u t h o r , t i t l e : t h i s . p r o p s . c o m m e n t . a u t h o r , o n C l i c k : t h i s . h a n d l e U s e r P r o f i l e C l i c k } , t h i s . p r o p s . c o m m e n t . a u t h o r ) , t h i s . p r o p s . i m a g e . a c c o u n t _ i d & & t h i s . p r o p s . i m a g e . a c c o u n t _ i d = = = t h i s . p r o p s . c o m m e n t . a u t h o r _ i d & & ! t h i s . p r o p s . c o m m e n t . d e l e t e d ? R e a c t . D O M . s p a n ( { c l a s s N a m e : " c o m m e n t - o p " } , " O P " ) : " " , o , R e a c t . D O M . s p a n ( { r e f : " v i s i b l e _ p o i n t s " , c l a s s N a m e : t h i s . p r o p s . c o m m e n t . d e l e t e d ? " " : " c o m m e n t - m e t a - s p a c e r " } , I m g u r . U t i l . n u m b e r F o r m a t ( t h i s . p r o p s . c o m m e n t . v i s i b l e _ p o i n t s ) + n ) , R e a c t . c r e a t e E l e m e n t ( I m g u r . E l e m e n t s . T i m e s t a m p , { c l a s s N a m e s : " c o m m e n t - m e t a - s p a c e r " , s h o u l d U p d a t e : ! 1 , t i m e s t a m p : t h i s . p r o p s . c o m m e n t . d a t e t i m e } ) , R e a c t . c r e a t e E l e m e n t ( I m g u r . E l e m e n t s . P o p u p M e n u , { c l a s s N a m e : " i c o n - e l l i p s e s   c a p t i o n - t o o l b a r   e d i t - b u t t o n   c o m m e n t - m e t a - s p a c e r " , m e n u C l i c k : t h i s . h a n d l e M e n u C l i c k } , R e a c t . D O M . d i v ( { o n C l i c k : t h i s . h a n d l e S h a r e C l i c k , c l a s s N a m e : " a d d t h i s _ b u t t o n   i t e m   s h a r e - c a p t i o n - l i n k " } , " S h a r e " ) , R e a c t . D O M . a ( { o n C l i c k : t h i s . h a n d l e P e r m a l i n k C l i c k , c l a s s N a m e : " i t e m   p e r m a l i n k - c a p t i o n - l i n k " , h r e f : " / g a l l e r y / " + t h i s . p r o p s . c o m m e n t . h a s h + " / c o m m e n t / " + t h i s . p r o p s . c o m m e n t . i d } , " P e r m a l i n k " ) , n u l l ! = t h i s . p r o p s . c o m m e n t . p a r e n t _ i d ? R e a c t . D O M . a ( { o n C l i c k : t h i s . h a n d l e C o n t e x t C l i c k , c l a s s N a m e : " i t e m   c o n t e x t - c a p t i o n - l i n k " , h r e f : " / g a l l e r y / " + t h i s . p r o p s . c o m m e n t . h a s h + " / c o m m e n t / " + t h i s . p r o p s . c o m m e n t . i d + " / 1 " } , " C o n t e x t " ) : " " , N u m b e r ( t h i s . p r o p s . c o m m e n t . a u t h o r _ i d ) ! = = I m g u r . E n v i r o n m e n t . a u t h . i d ? R e a c t . D O M . d i v ( { o n C l i c k : t h i s . h a n d l e M u t e U s e r C l i c k , c l a s s N a m e : " i t e m " } , " M u t e   U s e r " ) : " " , t h i s . s t a t e . r e p o r t e d | | 1 = = $ . c o o k i e ( " c " + t h i s . p r o p s . c o m m e n t . i d ) ? R e a c t . D O M . d i v ( { c l a s s N a m e : " i t e m   r e p o r t - c a p t i o n - l i n k   r e d " } , " R e p o r t e d " ) : R e a c t . D O M . d i v ( { o n C l i c k : t h i s . h a n d l e R e p o r t C l i c k , c l a s s N a m e : " i t e m   r e p o r t - c a p t i o n - l i n k " } , " R e p o r t " ) , I m g u r . E n v i r o n m e n t . s i g n e d & & ( I m g u r . E n v i r o n m e n t . i s A d m i n | | I m g u r . E n v i r o n m e n t . i s G a l l e r y A d m i n | | I m g u r . E n v i r o n m e n t . i s G a l l e r y M o d e r a t o r ) ? R e a c t . D O M . d i v ( { o n C l i c k : t h i s . h a n d l e W a r n D e l e t e C l i c k , c l a s s N a m e : " i t e m   w a r n - c a p t i o n - l i n k " } , " W a r n " ) : " " , I m g u r . E n v i r o n m e n t . s i g n e d & & ( N u m b e r ( t h i s . p r o p s . c o m m e n t . a u t h o r _ i d ) = = = I m g u r . E n v i r o n m e n t . a u t h . i d | | I m g u r . E n v i r o n m e n t . i s G a l l e r y A d m i n | | I m g u r . E n v i r o n m e n t . i s G a l l e r y M o d e r a t o r ) ? R e a c t . D O M . a ( { o n C l i c k : t h i s . h a n d l e D e l e t e C l i c k , c l a s s N a m e : " i t e m   d e l e t e - c a p t i o n - l i n k   r e d " , h r e f : " j a v a s c r i p t : v o i d ( 0 ) " } , " D e l e t e " ) : " " ) ) , m , t h i s . p r o p s . c o m m e n t . d e l e t e d ? " " : R e a c t . D O M . d i v ( { c l a s s N a m e : " c o m m e n t - c r e a t e - r e p l y " , o n C l i c k : t h i s . h a n d l e R e p l y C l i c k e d } , R e a c t . D O M . d i v ( { c l a s s N a m e : " c o m m e n t - c r e a t e - r e p l y - w r a p p e r " } , R e a c t . D O M . d i v ( { c l a s s N a m e : " i c o n - r e p l y " } ) , R e a c t . D O M . d i v ( { } , " R e p l y " ) ) ) ) , t h i s . s t a t e . s h o w i n g R e p l y | | ! t h i s . p r o p s . h a v e C h i l d r e n | | t h i s . p r o p s . e x p a n d e d ? " " : R e a c t . D O M . d i v ( { c l a s s N a m e : " c a p t i o n - g r a d i e n t - w r a p p e r " } , R e a c t . D O M . d i v ( { c l a s s N a m e : " c a p t i o n - g r a d i e n t " } ) ) , i , a , t h i s . s t a t e . s h o w i n g R e p l y ? R e a c t . c r e a t e E l e m e n t ( I m g u r . C a p t i o n . R e p l y , { a u t o f o c u s : ! 0 , r e f : " r e p l y " , i m a g e : t h i s . p r o p s . i m a g e , p a r e n t I d : t h i s . p r o p s . c o m m e n t . i d , p a r e n t A u t h o r I d : N u m b e r ( t h i s . p r o p s . c o m m e n t . a u t h o r _ i d ) , o n S u c c e s s : t h i s . h a n d l e R e p l y S u c c e s s , o n C l o s e : t h i s . c l o s e R e p l y } ) : " " ) } } ) , N a m e s p a c e ( " I m g u r . C o m m e n t " ) , I m g u r . C o m m e n t T r e e = R e a c t . c r e a t e C l a s s ( { s t a t i c s : { E X P A N D _ M O D E _ F O R C E _ C O L L A P S E D : - 1 , E X P A N D _ M O D E _ D E F A U L T _ C O L L A P S E D : 0 , E X P A N D _ M O D E _ F O R C E _ E X P A N D E D : 1 } , d i s p l a y N a m e : " C o m m e n t T r e e " , m i x i n s : [ R e a c t . a d d o n s . P u r e R e n d e r M i x i n ] , p r o p T y p e s : { c o m m e n t : R e a c t . P r o p T y p e s . o b j e c t . i s R e q u i r e d , i m a g e : R e a c t . P r o p T y p e s . o b j e c t . i s R e q u i r e d , e x p a n d M o d e : R e a c t . P r o p T y p e s . n u m b e r . i s R e q u i r e d , e x p a n d e d F r o m P e r m a l i n k : R e a c t . P r o p T y p e s . b o o l . i s R e q u i r e d , g r o u p i n g B a d R e p l i e s : R e a c t . P r o p T y p e s . b o o l . i s R e q u i r e d , c o n t e x t i d s : R e a c t . P r o p T y p e s . o b j e c t . i s R e q u i r e d , c h i l d m a p : R e a c t . P r o p T y p e s . o b j e c t . i s R e q u i r e d , v o t e m a p : R e a c t . P r o p T y p e s . o b j e c t . i s R e q u i r e d , l e v e l : R e a c t . P r o p T y p e s . n u m b e r , m a x L e v e l : R e a c t . P r o p T y p e s . n u m b e r , v o t a b l e : R e a c t . P r o p T y p e s . b o o l } , c o n t e x t T y p e s : { o n C o n t e x t C h a n g e : R e a c t . P r o p T y p e s . f u n c . i s R e q u i r e d } , g e t I n i t i a l S t a t e : f u n c t i o n ( ) { r e t u r n { r e m o v i n g : ! 1 , e x p a n d e d : t h i s . p r o p s . e x p a n d M o d e = = = I m g u r . C o m m e n t T r e e . E X P A N D _ M O D E _ F O R C E _ E X P A N D E D | | t h i s . p r o p s . e x p a n d e d F r o m P e r m a l i n k } } , g e t D e f a u l t P r o p s : f u n c t i o n ( ) { r e t u r n { l e v e l : 0 , m a x L e v e l : 7 , v o t a b l e : ! 0 } } , c o m p o n e n t W i l l R e c e i v e P r o p s : f u n c t i o n ( a ) { ( t h i s . p r o p s . e x p a n d M o d e ! = a . e x p a n d M o d e | | a . e x p a n d e d F r o m P e r m a l i n k ) & & ( t h i s . s t a t e . e x p a n d e d & & a . e x p a n d M o d e < = I m g u r . C o m m e n t T r e e . E X P A N D _ M O D E _ F O R C E _ C O L L A P S E D ? t h i s . s e t S t a t e ( { e x p a n d e d : ! 1 } ) : ( ! t h i s . s t a t e . e x p a n d e d & & a . e x p a n d M o d e = = = I m g u r . C o m m e n t T r e e . E X P A N D _ M O D E _ F O R C E _ E X P A N D E D | | a . e x p a n d e d F r o m P e r m a l i n k ) & & t h i s . s e t S t a t e ( { e x p a n d e d : ! 0 } ) ) } , h a n d l e C o m m e n t C l i c k : f u n c t i o n ( a ) { v a r   b = $ ( a . t a r g e t ) ; i f ( ! b . i s ( " a ,   b u t t o n " ) & & ! b . c l o s e s t ( " . c o m m e n t - c r e a t e - r e p l y " ) . l e n g t h & & b . c l o s e s t ( " . u s e r t e x t ,   . c o m m e n t - r e p l y - c o u n t " ) . l e n g t h ) { v a r   c = t h i s . p r o p s . c o m m e n t . i d   i n   t h i s . p r o p s . c h i l d m a p , d = { c o m m e n t I d : t h i s . p r o p s . c o m m e n t . i d , h a s h : t h i s . p r o p s . c o m m e n t . h a s h , i s A l b u m : t h i s . p r o p s . c o m m e n t . o n _ a l b u m , n s f w : t h i s . p r o p s . i m a g e . n s f w , p a r e n t I d : t h i s . p r o p s . c o m m e n t . p a r e n t _ i d , l o c a t i o n : $ ( a . t a r g e t ) . c l o s e s t ( " . c o m m e n t - r e p l y - c o u n t " ) . l e n g t h ? " c o l l a p s e L i n k " : " c o m m e n t B o x " } , d = { c o m m e n t I d : t h i s . p r o p s . c o m m e n t . i d , h a s h : t h i s . p r o p s . c o m m e n t . h a s h , i s A l b u m : t h i s . p r o p s . c o m m e n t . o n _ a l b u m , n s f w : t h i s . p r o p s . i m a g e . n s f w , p a r e n t I d : t h i s . p r o p s . c o m m e n t . p a r e n t _ i d } ; a . s t o p P r o p a g a t i o n ( ) , t h i s . s e t S t a t e ( { r e m o v i n g : t h i s . s t a t e . e x p a n d e d } , _ . b i n d ( f u n c t i o n ( ) { t h i s . s e t S t a t e ( { r e m o v i n g : ! 1 , e x p a n d e d : ! t h i s . s t a t e . e x p a n d e d } ) } , t h i s ) ) , t h i s . s t a t e . e x p a n d e d = = = ! 1 & & c = = = ! 0 ? I m g u r . U t i l . j a f o L o g ( { e v e n t : " c o m m e n t E x p a n d I n v o k e d " , m e t a : d } ) : t h i s . s t a t e . e x p a n d e d = = = ! 0 & & c = = = ! 0 & & I m g u r . U t i l . j a f o L o g ( { e v e n t : " c o m m e n t C o l l a p s e I n v o k e d " , m e t a : d } ) } } , h a n d l e S u b m i t : f u n c t i o n ( ) { t h i s . s e t S t a t e ( { e x p a n d e d : ! 0 } ) } , h a n d l e L o a d M o r e C l i c k e d : f u n c t i o n ( a ) { t h i s . c o n t e x t . o n C o n t e x t C h a n g e ( a , t h i s . p r o p s . c o m m e n t . i d , 0 ) } , r e n d e r : f u n c t i o n ( ) { v a r   a , b = t h i s . p r o p s . c o m m e n t . i d   i n   t h i s . p r o p s . c h i l d m a p , c = t h i s . p r o p s . c h i l d m a p [ t h i s . p r o p s . c o m m e n t . i d ] & & t h i s . p r o p s . c h i l d m a p [ t h i s . p r o p s . c o m m e n t . i d ] . l e n g t h | | 0 ; t h i s . p r o p s . l e v e l < t h i s . p r o p s . m a x L e v e l ? t h i s . s t a t e . e x p a n d e d & & ( a = R e a c t . c r e a t e E l e m e n t ( I m g u r . C o m m e n t L i s t , { i m a g e : t h i s . p r o p s . i m a g e , c o n t e x t i d s : t h i s . p r o p s . c o n t e x t i d s , c h i l d m a p : t h i s . p r o p s . c h i l d m a p , v o t e m a p : t h i s . p r o p s . v o t e m a p , e x p a n d M o d e : t h i s . p r o p s . e x p a n d M o d e , e x p a n d e d F r o m P e r m a l i n k : t h i s . p r o p s . e x p a n d e d F r o m P e r m a l i n k , g r o u p i n g B a d R e p l i e s : t h i s . p r o p s . g r o u p i n g B a d R e p l i e s , l e v e l : t h i s . p r o p s . l e v e l + 1 , p a r e n t _ i d : t h i s . p r o p s . c o m m e n t . i d , v o t a b l e : t h i s . p r o p s . v o t a b l e , r e m o v i n g : t h i s . s t a t e . r e m o v i n g , t o u c h E n a b l e d : t h i s . p r o p s . t o u c h E n a b l e d } ) ) : b & & ( a = R e a c t . D O M . a ( { c l a s s N a m e : " l o a d - m o r e " , h r e f : " j a v a s c r i p t : v o i d ( 0 ) " , o n C l i c k : t h i s . h a n d l e L o a d M o r e C l i c k e d } , " l o a d   m o r e " ) ) ; v a r   d = c l a s s N a m e s ( { c o m m e n t : ! 0 , e x p a n d e d : t h i s . s t a t e . e x p a n d e d } ) ; r e t u r n   R e a c t . D O M . d i v ( { o n K e y D o w n : t h i s . h a n d l e K e y D o w n , " d a t a - l e v e l " : t h i s . p r o p s . l e v e l , o n C l i c k : t h i s . h a n d l e C o m m e n t C l i c k , c l a s s N a m e : d } , R e a c t . c r e a t e E l e m e n t ( I m g u r . C o m m e n t , { c h i l d m a p : t h i s . p r o p s . c h i l d m a p , c o n t e x t i d s : t h i s . p r o p s . c o n t e x t i d s , v o t e m a p : t h i s . p r o p s . v o t e m a p , i m a g e : t h i s . p r o p s . i m a g e , c o m m e n t : _ . e x t e n d ( { } , t h i s . p r o p s . c o m m e n t ) , v o t a b l e : t h i s . p r o p s . v o t a b l e , o n S u b m i t : t h i s . h a n d l e S u b m i t , e x p a n d e d : t h i s . s t a t e . e x p a n d e d , h a v e C h i l d r e n : b & & t h i s . p r o p s . l e v e l < t h i s . p r o p s . m a x L e v e l & & c > 0 , l e v e l : t h i s . p r o p s . l e v e l , c o l l a p s i n g : t h i s . s t a t e . r e m o v i n g , t o u c h E n a b l e d : t h i s . p r o p s . t o u c h E n a b l e d , f o r c e R e n d e r P a r e n t : t h i s . f o r c e U p d a t e . b i n d ( t h i s ) } ) , R e a c t . c r e a t e E l e m e n t ( R e a c t . a d d o n s . C S S T r a n s i t i o n G r o u p , { k e y : " j u s t - c o l l a p s e d - " + t h i s . p r o p s . i m a g e . h a s h , t r a n s i t i o n N a m e : " c o l l a p s e t r e e " , t r a n s i t i o n E n t e r : ! 1 , t r a n s i t i o n L e a v e T i m e o u t : 2 5 0 } , a ) ) } } ) , N a m e s p a c e ( " I m g u r " ) , I m g u r . C o m m e n t L i s t = R e a c t . c r e a t e C l a s s ( { R E N D E R E D _ A T _ A _ T I M E : 2 0 , d i s p l a y N a m e : " C o m m e n t L i s t " , m i x i n s : [ R e a c t . a d d o n s . P u r e R e n d e r M i x i n ] , p r o p T y p e s : { i m a g e : R e a c t . P r o p T y p e s . o b j e c t . i s R e q u i r e d , c o n t e x t i d s : R e a c t . P r o p T y p e s . o b j e c t . i s R e q u i r e d , c h i l d m a p : R e a c t . P r o p T y p e s . o b j e c t . i s R e q u i r e d , v o t e m a p : R e a c t . P r o p T y p e s . o b j e c t . i s R e q u i r e d , l e v e l : R e a c t . P r o p T y p e s . n u m b e r . i s R e q u i r e d , e x p a n d M o d e : R e a c t . P r o p T y p e s . n u m b e r . i s R e q u i r e d , e x p a n d e d F r o m P e r m a l i n k : R e a c t . P r o p T y p e s . b o o l . i s R e q u i r e d , g r o u p i n g B a d R e p l i e s : R e a c t . P r o p T y p e s . b o o l . i s R e q u i r e d , p a r e n t _ i d : R e a c t . P r o p T y p e s . n u m b e r } , g e t I n i t i a l S t a t e : f u n c t i o n ( ) { r e t u r n { r e n d e r e d : t h i s . R E N D E R E D _ A T _ A _ T I M E , b a d _ c o m m e n t s : ! 1 , t r u n c a t i n g F o r R e c o m m e n d a t i o n s : ! 0 } } , _ g e t C h i l d r e n I d s : f u n c t i o n ( ) { r e t u r n   t h i s . p r o p s . p a r e n t _ i d   i n   t h i s . p r o p s . c h i l d m a p ? t h i s . p r o p s . c h i l d m a p [ t h i s . p r o p s . p a r e n t _ i d ] : [ ] } , c o m p o n e n t D i d U p d a t e : f u n c t i o n ( ) { t h i s . _ c h e c k N e e d T o R e n d e r M o r e ( ) } , c o m p o n e n t D i d M o u n t : f u n c t i o n ( ) { t h i s . _ m o u n t e d = ! 0 , t h i s . _ l i s t e n e r = _ . t h r o t t l e ( t h i s . _ c h e c k N e e d T o R e n d e r M o r e , 5 0 ) , $ ( w i n d o w ) . o n ( " s c r o l l " , t h i s . _ l i s t e n e r ) , t h i s . _ c h e c k N e e d T o R e n d e r M o r e ( ) } , c o m p o n e n t W i l l U n m o u n t : f u n c t i o n ( ) { $ ( w i n d o w ) . o f f ( " s c r o l l " , t h i s . _ l i s t e n e r ) , t h i s . _ m o u n t e d = ! 1 } , t o g g l e S h o w i n g B a d C o m m e n t s : f u n c t i o n ( a ) { a . s t o p P r o p a g a t i o n ( ) , t h i s . s e t S t a t e ( { b a d _ c o m m e n t s : ! t h i s . s t a t e . b a d _ c o m m e n t s } ) } , _ c h e c k N e e d T o R e n d e r M o r e : f u n c t i o n ( ) { i f ( t h i s . _ m o u n t e d ) { v a r   a = t h i s . _ g e t C h i l d r e n I d s ( ) ; i f ( a . l e n g t h > 0 & & a . l e n g t h > t h i s . s t a t e . r e n d e r e d ) { v a r   b = $ ( R e a c t D O M . f i n d D O M N o d e ( t h i s . r e f s . l a s t ) ) ; b . i s ( " : i n - v i e w p o r t " ) & & t h i s . s e t S t a t e ( { r e n d e r e d : t h i s . s t a t e . r e n d e r e d + t h i s . R E N D E R E D _ A T _ A _ T I M E } ) } } } , _ h a n d l e B a d C a p t i o n s C o n t a i n e r C l i c k : f u n c t i o n ( a ) { a . s t o p P r o p a g a t i o n ( ) } , r e n d e r : f u n c t i o n ( ) { v a r   a = t h i s . p r o p s . i m a g e . h a s h , b = [ ] , c = [ ] , d = [ ] , e = t h i s . _ g e t C h i l d r e n I d s ( ) , f = ! 1 ; i f ( ! t h i s . p r o p s . r e m o v i n g ) f o r ( v a r   g = 0 ; g < M a t h . m i n ( e . l e n g t h , t h i s . s t a t e . r e n d e r e d ) ; g + + ) { v a r   h = I m g u r . C a p t i o n . g e t I n s t a n c e ( ) . g e t C a p t i o n B y I d ( a , e [ g ] ) , i = { c o m m e n t : h , i m a g e : t h i s . p r o p s . i m a g e , k e y : h . i d , l e v e l : t h i s . p r o p s . l e v e l , e x p a n d M o d e : t h i s . p r o p s . e x p a n d M o d e , e x p a n d e d F r o m P e r m a l i n k : t h i s . p r o p s . e x p a n d e d F r o m P e r m a l i n k , c o n t e x t i d s : t h i s . p r o p s . c o n t e x t i d s , c h i l d m a p : t h i s . p r o p s . c h i l d m a p , v o t e m a p : t h i s . p r o p s . v o t e m a p , v o t a b l e : ! 0 , g r o u p i n g B a d R e p l i e s : t h i s . p r o p s . g r o u p i n g B a d R e p l i e s , t o u c h E n a b l e d : t h i s . p r o p s . t o u c h E n a b l e d } ; g = = M a t h . m i n ( e . l e n g t h , t h i s . s t a t e . r e n d e r e d ) - 1 & & ( i . r e f = " l a s t " ) , h . p o i n t s > = 0 | | ! t h i s . p r o p s . g r o u p i n g B a d R e p l i e s ? h . j u s t _ i n s e r t e d ? d . p u s h ( R e a c t . c r e a t e E l e m e n t ( I m g u r . C o m m e n t T r e e , i ) ) : b . p u s h ( R e a c t . c r e a t e E l e m e n t ( I m g u r . C o m m e n t T r e e , i ) ) : ( c . p u s h ( R e a c t . c r e a t e E l e m e n t ( I m g u r . C o m m e n t T r e e , i ) ) , f = ! 0 ) } v a r   j = n u l l ; r e t u r n   t h i s . s t a t e . t r u n c a t i n g F o r R e c o m m e n d a t i o n s & & t h i s . p r o p s . i n R e c o m m e n d a t i o n s E x p e r i m e n t & & n u l l = = = t h i s . p r o p s . p a r e n t _ i d & & ( j = b . l e n g t h > 5 ? R e a c t . D O M . b u t t o n ( { c l a s s N a m e : " b t n   b t n - g r e y " , s t y l e : { m a r g i n : " 0   a u t o " , d i s p l a y : " b l o c k " } , o n C l i c k : f u n c t i o n ( ) { t h i s . s e t S t a t e ( { t r u n c a t i n g F o r R e c o m m e n d a t i o n s : ! 1 } ) } . b i n d ( t h i s ) } , " S h o w   M o r e   C o m m e n t s " ) : n u l l , b = b . s l i c e ( 0 , 5 ) ) , R e a c t . D O M . d i v ( { c l a s s N a m e : " c h i l d r e n " } , R e a c t . c r e a t e E l e m e n t ( R e a c t . a d d o n s . C S S T r a n s i t i o n G r o u p , { k e y : " j u s t - i n s e r t e d - " + t h i s . p r o p s . i m a g e . h a s h , t r a n s i t i o n N a m e : " n e w c o m m e n t " , t r a n s i t i o n E n t e r T i m e o u t : 5 0 0 , t r a n s i t i o n L e a v e : ! 1 } , d ) , R e a c t . c r e a t e E l e m e n t ( R e a c t . a d d o n s . C S S T r a n s i t i o n G r o u p , { k e y : " j u s t - e x p a n d e d - " + t h i s . p r o p s . i m a g e . h a s h , t r a n s i t i o n N a m e : " e x p a n d c o m m e n t " , t r a n s i t i o n A p p e a r : ! 0 , t r a n s i t i o n E n t e r : ! 1 , t r a n s i t i o n A p p e a r T i m e o u t : 2 5 0 , t r a n s i t i o n L e a v e T i m e o u t : 2 5 0 } , b , R e a c t . D O M . d i v ( { o n C l i c k : t h i s . _ h a n d l e B a d C a p t i o n s C o n t a i n e r C l i c k , c l a s s N a m e : " b a d - c a p t i o n s   " + ( f ? " " : " n o d i s p l a y " ) } , R e a c t . D O M . a ( { o n C l i c k : t h i s . t o g g l e S h o w i n g B a d C o m m e n t s , h r e f : " j a v a s c r i p t : v o i d ( 0 ) " , c l a s s N a m e : " l i n k " } , ( t h i s . s t a t e . b a d _ c o m m e n t s ? " h i d e " : " s h o w " ) + "   b a d   r e p l i e s " ) , R e a c t . D O M . d i v ( { c l a s s N a m e : t h i s . s t a t e . b a d _ c o m m e n t s ? " " : " n o d i s p l a y " } , c ) ) , j ) ) } } ) , N a m e s p a c e ( " I m g u r " ) , I m g u r . I n s i d e C o m m e n t s A r e a = R e a c t . c r e a t e C l a s s ( { d i s p l a y N a m e : " I n s i d e C o m m e n t A r e a " , p r o p T y p e s : { i m a g e : R e a c t . P r o p T y p e s . o b j e c t . i s R e q u i r e d , l o a d i n g : R e a c t . P r o p T y p e s . b o o l . i s R e q u i r e d , d e f a u l t E x p a n d M o d e : R e a c t . P r o p T y p e s . n u m b e r . i s R e q u i r e d , e x p a n d e d F r o m P e r m a l i n k : R e a c t . P r o p T y p e s . b o o l . i s R e q u i r e d , c h i l d m a p : R e a c t . P r o p T y p e s . o b j e c t . i s R e q u i r e d , c o m m e n t S o r t : R e a c t . P r o p T y p e s . s t r i n g . i s R e q u i r e d , o n C o m m e n t S o r t C h a n g e : R e a c t . P r o p T y p e s . f u n c . i s R e q u i r e d , c o n t e x t I d : R e a c t . P r o p T y p e s . n u m b e r , c o n t e x t L e v e l s : R e a c t . P r o p T y p e s . n u m b e r , p e r m a l i n k : R e a c t . P r o p T y p e s . o b j e c t } , c o n t e x t T y p e s : { o n C o n t e x t C h a n g e : R e a c t . P r o p T y p e s . f u n c . i s R e q u i r e d } , m i x i n s : [ R e a c t . a d d o n s . P u r e R e n d e r M i x i n ] , h a n d l e C l i c k P e r m a l i n k V i e w R e s t B a n n e r : f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) , t h i s . c o n t e x t . o n C o n t e x t C h a n g e ( a , v o i d   0 , v o i d   0 ) } , g e t I n i t i a l S t a t e : f u n c t i o n ( ) { r e t u r n { c o m m e n t R e p l y N u m b e r : 0 , e x p a n d M o d e : t h i s . p r o p s . d e f a u l t E x p a n d M o d e , e x p a n d e d F r o m P e r m a l i n k : t h i s . p r o p s . e x p a n d e d F r o m P e r m a l i n k , f o r c e C o l l a p s e d : ! 1 , t o u c h E n a b l e d : ! ! t h i s . t o u c h E n a b l e d ( ) } } , t o u c h E n a b l e d : f u n c t i o n ( ) { r e t u r n " o n t o u c h s t a r t " i n   w i n d o w | | n a v i g a t o r . m a x T o u c h P o i n t s } , c o m p o n e n t D i d M o u n t : f u n c t i o n ( ) { v a r   a = $ ( R e a c t D O M . f i n d D O M N o d e ( t h i s ) . p a r e n t N o d e ) ; a . h a s C l a s s ( " c o m m e n t s - i n i t i a l i z e d " ) | | a . a d d C l a s s ( " c o m m e n t s - i n i t i a l i z e d " ) , $ ( d o c u m e n t ) . o n ( " k e y u p " , t h i s . h a n d l e D o c u m e n t K e y U p ) , t h i s . p r o p s . e m i t t e r . o n ( " p o i n t U p d a t e " , t h i s , f u n c t i o n ( a ) { i f ( " c o m m e n t " = = = a . t y p e ) { c o n s t   b = I m g u r . C a p t i o n . g e t I n s t a n c e ( ) . g e t C a p t i o n B y I d ( t h i s . p r o p s . i m a g e . h a s h , a . c o m m e n t ) ; b & & b . v i s i b l e _ p o i n t s ! = a . p o i n t s & & ( b . v i s i b l e _ p o i n t s = a . p o i n t s , t h i s . f o r c e U p d a t e ( ) ) } } . b i n d ( t h i s ) ) } , c o m p o n e n t W i l l U n m o u n t : f u n c t i o n ( ) { $ ( R e a c t D O M . f i n d D O M N o d e ( t h i s ) . p a r e n t N o d e ) ; $ ( d o c u m e n t ) . o f f ( " k e y u p " , t h i s . h a n d l e D o c u m e n t K e y U p ) } , c o m p o n e n t W i l l R e c e i v e P r o p s : f u n c t i o n ( a ) { t h i s . p r o p s . c o n t e x t I d ! = = a . c o n t e x t I d & & a . c o n t e x t I d ? t h i s . s e t S t a t e ( { e x p a n d e d F r o m P e r m a l i n k : ! 0 } ) : t h i s . s e t S t a t e ( { e x p a n d e d F r o m P e r m a l i n k : ! 1 } ) , t h i s . p r o p s . i m a g e . h a s h = = = a . i m a g e . h a s h & & t h i s . p r o p s . i m a g e . i s _ a l b u m = = = a . i m a g e . i s _ a l b u m | | t h i s . s e t S t a t e ( { s h o w i n g R e p l y : ! 0 } ) } , h a n d l e C l i c k T o g g l e F o r c e E x p a n d e d : f u n c t i o n ( a ) { t h i s . s t a t e . e x p a n d M o d e ! = = I m g u r . C o m m e n t T r e e . E X P A N D _ M O D E _ F O R C E _ E X P A N D E D ? ( t h i s . s e t S t a t e ( { e x p a n d M o d e : I m g u r . C o m m e n t T r e e . E X P A N D _ M O D E _ F O R C E _ E X P A N D E D } ) , I m g u r . U t i l . j a f o L o g ( { e v e n t : " e x p a n d C o l l a p s e A l l I n v o k e d " , m e t a : { s t a t e : " e x p a n d " , h a s h : t h i s . p r o p s . i m a g e . h a s h } } ) ) : ( t h i s . s e t S t a t e ( { e x p a n d M o d e : I m g u r . C o m m e n t T r e e . E X P A N D _ M O D E _ F O R C E _ C O L L A P S E D - M a t h . a b s ( t h i s . s t a t e . e x p a n d M o d e ) } ) , I m g u r . U t i l . j a f o L o g ( { e v e n t : " e x p a n d C o l l a p s e A l l I n v o k e d " , m e t a : { s t a t e : " c o l l a p s e " , h a s h : t h i s . p r o p s . i m a g e . h a s h } } ) ) } , h a n d l e C o m m e n t S u c c e s s : f u n c t i o n ( ) { t h i s . s e t S t a t e ( { c o m m e n t R e p l y N u m b e r : t h i s . s t a t e . c o m m e n t R e p l y N u m b e r + 1 } ) } , h a n d l e D o c u m e n t K e y U p : f u n c t i o n ( a ) { i f ( ! ( a . c t r l K e y | | a . a l t K e y | | a . m e t a K e y | | $ ( a . t a r g e t ) . i s ( " i n p u t , t e x t a r e a " ) ) ) { v a r   b = { c o m m e n t I d : n u l l , h a s h : t h i s . p r o p s . i m a g e . h a s h , i s A l b u m : t h i s . p r o p s . i m a g e . i s A l b u m , n s f w : t h i s . p r o p s . i m a g e . n s f w , p a r e n t I d : n u l l , l o c a t i o n : " h o t k e y " } ; 2 1 9 = = = a . k e y C o d e ? t h i s . s t a t e . e x p a n d M o d e = = = I m g u r . C o m m e n t T r e e . E X P A N D _ M O D E _ F O R C E _ E X P A N D E D ? ( I m g u r . U t i l . j a f o L o g ( { e v e n t : " c o m m e n t C o l l a p s e I n v o k e d " , m e t a : b } ) , t h i s . s e t S t a t e ( { e x p a n d M o d e : I m g u r . C o m m e n t T r e e . E X P A N D _ M O D E _ F O R C E _ C O L L A P S E D } ) ) : ( I m g u r . U t i l . j a f o L o g ( { e v e n t : " c o m m e n t E x p a n d I n v o k e d " , m e t a : b } ) , t h i s . s e t S t a t e ( { e x p a n d M o d e : I m g u r . C o m m e n t T r e e . E X P A N D _ M O D E _ F O R C E _ E X P A N D E D } ) ) : 2 2 1 = = = a . k e y C o d e & & ( I m g u r . U t i l . j a f o L o g ( { e v e n t : " c o m m e n t C o l l a p s e I n v o k e d " , m e t a : b } ) , t h i s . s e t S t a t e ( { e x p a n d M o d e : I m g u r . C o m m e n t T r e e . E X P A N D _ M O D E _ F O R C E _ C O L L A P S E D - M a t h . a b s ( t h i s . s t a t e . e x p a n d M o d e ) } ) ) } } , r e n d e r : f u n c t i o n ( ) { v a r   a = [ ] , b = t h i s . s t a t e . e x p a n d M o d e = = = I m g u r . C o m m e n t T r e e . E X P A N D _ M O D E _ F O R C E _ E X P A N D E D ; i f ( a . p u s h ( R e a c t . c r e a t e E l e m e n t ( I m g u r . C a p t i o n . R e p l y , { k e y : " r e p l y : " + S t r i n g ( t h i s . s t a t e . c o m m e n t R e p l y N u m b e r ) + " : " + t h i s . p r o p s . i m a g e . h a s h , i m a g e : t h i s . p r o p s . i m a g e , p a r e n t I d : n u l l , p a r e n t A u t h o r I d : n u l l , a u t o f o c u s : ! 1 , o n B l u r : _ . n o o p , o n S u c c e s s : t h i s . h a n d l e C o m m e n t S u c c e s s } ) ) , a . p u s h ( R e a c t . D O M . d i v ( { k e y : " c o n t r o l s " , c l a s s N a m e : " c o m m e n t s - i n f o " } , R e a c t . D O M . d i v ( { c l a s s N a m e : " l e f t " } , R e a c t . D O M . d i v ( { c l a s s N a m e : " i n l i n e " } , R e a c t . D O M . s p a n ( { c l a s s N a m e : " c o m m e n t s - c o u n t " } , t h i s . p r o p s . l o a d i n g ? " L O A D I N G " : I m g u r . C a p t i o n . g e t I n s t a n c e ( ) . c o u n t C o m m e n t s ( t h i s . p r o p s . i m a g e . h a s h ) ) , "   C O M M E N T S " ) ) , R e a c t . c r e a t e E l e m e n t ( I m g u r . E l e m e n t s . P o p u p M e n u , { c l a s s N a m e : " c o m m e n t s - s o r t   r i g h t " , n a m e : t h i s . p r o p s . c o m m e n t S o r t , a f t e r N a m e I c o n : " i c o n - a r r o w - d o w n " } , R e a c t . D O M . d i v ( { c l a s s N a m e : " i t e m " + ( " b e s t " = = t h i s . p r o p s . c o m m e n t S o r t ? "   s e l e c t e d " : " " ) , o n C l i c k : _ . p a r t i a l ( t h i s . p r o p s . o n C o m m e n t S o r t C h a n g e , " b e s t " ) } , " b e s t " ) , R e a c t . D O M . d i v ( { c l a s s N a m e : " i t e m " + ( " n e w " = = t h i s . p r o p s . c o m m e n t S o r t ? "   s e l e c t e d " : " " ) , o n C l i c k : _ . p a r t i a l ( t h i s . p r o p s . o n C o m m e n t S o r t C h a n g e , " n e w " ) } , " n e w " ) , R e a c t . D O M . d i v ( { c l a s s N a m e : " i t e m " + ( " t o p " = = t h i s . p r o p s . c o m m e n t S o r t ? "   s e l e c t e d " : " " ) , o n C l i c k : _ . p a r t i a l ( t h i s . p r o p s . o n C o m m e n t S o r t C h a n g e , " t o p " ) } , " t o p " ) ) , R e a c t . D O M . s p a n ( { c l a s s N a m e : ( b ? " i c o n - c o l l a p s e - a l l " : " i c o n - e x p a n d " ) + "   c o m m e n t s - e x p a n d   r i g h t   p o i n t e r " , o n C l i c k : t h i s . h a n d l e C l i c k T o g g l e F o r c e E x p a n d e d , h r e f : " j a v a s c r i p t : v o i d ( 0 ) " } , b ? " C o l l a p s e   A l l " : " E x p a n d   A l l " ) , R e a c t . D O M . d i v ( { c l a s s N a m e : " c l e a r " } ) ) ) , ! t h i s . p r o p s . l o a d i n g ) i f ( t h i s . p r o p s . c o n t e x t I d ) { a . p u s h ( R e a c t . D O M . d i v ( { k e y : " p e r m a l i n k - b a n n e r " , c l a s s N a m e : " r e p l y - h e a d e r " } , R e a c t . D O M . s p a n ( n u l l , " Y o u   a r e   v i e w i n g   a   s i n g l e   c o m m e n t " ) , R e a c t . D O M . p ( n u l l , R e a c t . D O M . a ( { c l a s s N a m e : " l o a d - m o r e " , h r e f : " / g a l l e r y / " + t h i s . p r o p s . i m a g e . h a s h , o n C l i c k : t h i s . h a n d l e C l i c k P e r m a l i n k V i e w R e s t B a n n e r } , " v i e w   t h e   r e s t   o f   t h e   c o m m e n t s " ) ) ) ) ; v a r   c = { } , d = I m g u r . C a p t i o n . g e t I n s t a n c e ( ) . g e t C a p t i o n B y I d ( t h i s . p r o p s . i m a g e . h a s h , t h i s . p r o p s . c o n t e x t I d ) , e = I m g u r . C a p t i o n . g e t I n s t a n c e ( ) . g e t C a p t i o n B y I d ( t h i s . p r o p s . i m a g e . h a s h , t h i s . p r o p s . p e r m a l i n k . c o m m e n t I d ) ; i f ( I m g u r . E n v i r o n m e n t . s i g n e d & & I m g u r . E n v i r o n m e n t . a u t h . i d = = e . a u t h o r _ i d ) { v a r   f = I m g u r . C a p t i o n . g e t I n s t a n c e ( ) . g e t C a p t i o n I d s B y F i l t e r ( t h i s . p r o p s . i m a g e . h a s h , _ . b i n d ( f u n c t i o n ( a ) { v a r   b = m o m e n t . u t c ( a . d a t e t i m e , " Y Y Y Y - M M - D D   H H : m m : s s " ) . u n i x ( ) , c = e . i d = = a . p a r e n t _ i d , d = I m g u r . E n v i r o n m e n t . a u t h . i d = = a . a u t h o r _ i d , f = b > t h i s . p r o p s . t i m e L a s t R e a d ; r e t u r n   f & & c & & ! d } , t h i s ) ) ; _ . e a c h ( f , f u n c t i o n ( a ) { c [ a ] = ! 0 } ) } a . p u s h ( R e a c t . c r e a t e E l e m e n t ( I m g u r . C o m m e n t T r e e , { c o n t e x t i d s : c , c h i l d m a p : t h i s . p r o p s . c h i l d m a p , v o t e m a p : t h i s . p r o p s . v o t e m a p , i m a g e : t h i s . p r o p s . i m a g e , k e y : " t r e e : " + t h i s . p r o p s . i m a g e . h a s h , e x p a n d M o d e : t h i s . s t a t e . e x p a n d M o d e , e x p a n d e d F r o m P e r m a l i n k : t h i s . s t a t e . e x p a n d e d F r o m P e r m a l i n k , g r o u p i n g B a d R e p l i e s : ! 1 , c o m m e n t : d , v o t a b l e : ! 0 , t o u c h E n a b l e d : t h i s . s t a t e . t o u c h E n a b l e d } ) ) } e l s e { v a r   g = I m g u r . E x p e r i m e n t s . g e t U s e r B u c k e t ( " e x p T 4 3 7 7 b " ) , h = g & & g . v a r i a t i o n ; I m g u r . E x p e r i m e n t s . i s A c t i v e ( " e x p T 4 3 7 7 b " ) , a . p u s h ( R e a c t . c r e a t e E l e m e n t ( I m g u r . C o m m e n t L i s t , { c o n t e x t i d s : { } , c h i l d m a p : t h i s . p r o p s . c h i l d m a p , v o t e m a p : t h i s . p r o p s . v o t e m a p , i m a g e : t h i s . p r o p s . i m a g e , k e y : " l i s t : " + t h i s . p r o p s . i m a g e . h a s h , e x p a n d M o d e : t h i s . s t a t e . e x p a n d M o d e , e x p a n d e d F r o m P e r m a l i n k : t h i s . s t a t e . e x p a n d e d F r o m P e r m a l i n k , l e v e l : 0 , p a r e n t _ i d : n u l l , g r o u p i n g B a d R e p l i e s : ! 0 , v o t a b l e : ! 0 , t o u c h E n a b l e d : t h i s . s t a t e . t o u c h E n a b l e d , i n R e c o m m e n d a t i o n s E x p e r i m e n t : " c o n t r o l " ! = h & & I m g u r . E x p e r i m e n t s . i s A c t i v e ( " e x p T 4 3 7 7 b " ) } ) ) } r e t u r n   R e a c t . D O M . d i v ( { i d : " c o m m e n t s " , c l a s s N a m e : t h i s . p r o p s . l o a d i n g ? " " : " c o m m e n t s - l o a d e d " } , R e a c t . D O M . d i v ( { i d : " c a p t i o n s " , c l a s s N a m e : " r o o t - c a p t i o n - c o n t a i n e r " } , a ) ) } } ) , I m g u r . P o s t V i e w S u m m a r y = { } , f u n c t i o n ( ) { f u n c t i o n   a ( a ) { s w i t c h ( a . g a l l e r y T y p e ) { c a s e " s u b r e d d i t " : r e t u r n { g a l l e r y T y p e : a . g a l l e r y T y p e , g a l l e r y N a m e : a . s u b r e d d i t } ; c a s e " t a g " : r e t u r n { g a l l e r y T y p e : a . g a l l e r y T y p e , g a l l e r y N a m e : a . t a g N a m e } ; c a s e " n e w " : r e t u r n { g a l l e r y T y p e : " g a l l e r y " , g a l l e r y N a m e : " U s e r   S u b m i t t e d " } ; c a s e " v i r a l " : r e t u r n { g a l l e r y T y p e : " g a l l e r y " , g a l l e r y N a m e : " U s e r   S u b m i t t e d " } ; c a s e " h o t " : r e t u r n { g a l l e r y T y p e : " g a l l e r y " , g a l l e r y N a m e : " M o s t   V i r a l " } ; d e f a u l t : r e t u r n { g a l l e r y T y p e : " d e e p l i n k " , g a l l e r y N a m e : n u l l } } } I m g u r . P o s t V i e w S u m m a r y . V i e w e d P o s t = f u n c t i o n ( b , c , d , e ) { v a r   f = a ( b ) , g = f . g a l l e r y N a m e , h = f . g a l l e r y T y p e , i = { " T o t a l   C o u n t " : 1 , " N S F W   C o u n t " : d ? 1 : 0 , " P r o m o t e d   C o u n t " : c ? 1 : 0 , " P r o m o t e d   E l i g i b l e   C o u n t " : e ? 1 : 0 , L o c a t i o n : I m g u r . U t i l . c a p i t a l i z e S t r i n g ( h ) , T y p e : " D e t a i l " } ; g & & ( i [ " L o c a t i o n   I d e n t i f i e r " ] = g ) , I m g u r . U t i l . j a f o L o g E v e n t ( I m g u r . A n a l y t i c C a t e g o r i e s . P O S T , I m g u r . A n a l y t i c E v e n t N a m e s . v i e w i n g S u m m a r y , i ) } , I m g u r . P o s t V i e w S u m m a r y . g e t G a l l e r y N a m e A n d T y p e = a } ( ) ; v a r   _ t y p e o f = " f u n c t i o n " = = t y p e o f   S y m b o l & & " s y m b o l " = = t y p e o f   S y m b o l . i t e r a t o r ? f u n c t i o n ( a ) { r e t u r n   t y p e o f   a } : f u n c t i o n ( a ) { r e t u r n   a & & " f u n c t i o n " = = t y p e o f   S y m b o l & & a . c o n s t r u c t o r = = = S y m b o l & & a ! = = S y m b o l . p r o t o t y p e ? " s y m b o l " : t y p e o f   a } ; N a m e s p a c e ( " I m g u r . I n s i d e N a v " ) , I m g u r . I n s i d e N a v = I m g u r . e x t e n d ( { i n i t : f u n c t i o n ( a , b , c , d , e , f , g ) { g = g | | { } , t h i s . _ = $ . e x t e n d ( { a d : { U R L : v o i d   0 , t i m e T i l l R e f r e s h : 2 e 3 , n e x t I m a g e L o a d R e f r e s h e s A d : ! 1 , i n j e c t A d : ! $ ( " . a d v e r t i s e m e n t " ) . l e n g t h , c l o s e d : ! 1 , c u r r e n t T i m e o u t : v o i d   0 , a b p A d I d : $ ( " # d i v - g p t - a d - 1 4 2 1 1 9 3 5 7 9 4 2 2 - 0 " ) } , t a l l A d P a r a m s : { s q W i d t h : 8 2 1 , s q H e i g h t : 5 9 9 , r e c W i d t h : 1 2 9 4 , r e c H e i g h t : 5 9 9 , r i g h t C o n t e n t H e i g h t : $ ( " # r i g h t - c o n t e n t " ) . h e i g h t ( ) } , s k y P o p M a r g i n T o p : 4 0 , l a b e l W r a p p e r M a r g i n T o p : 3 2 , c a p t i o n L a y o u t : { s o r t : n u l l } , d e p t h : 1 , i n s i d e C o m m e n t s A r e a : n u l l , e m i t t e r : c , a u t o B r o w s e : ! 1 , a u t o B r o w s e T i m e o u t : n u l l , a u t o B r o w s e W a i t : 7 e 3 , i s H o t I m a g e : ! 0 , a d T y p e : n u l l , c a p t i o n I n s t a n c e : b , a l b u m I m a g e S t o r e : d , p o s t S a v i n g S t o r e : e , t a g S t o r e : f , f e t c h Q u e u e : [ ] , f e t c h i n g C a p t i o n s : { } , i m a g e : { } , f e t c h P a g e E v e n t C o u n t : 0 , c h e c k F e t c h Q u e u e I n t e r v a l : v o i d   0 , f e t c h I n t e r v a l : 2 5 0 , s i d e G a l l e r y : a , i n i t i a l I m a g e : ! 0 , i s P r o m o t e d : ! 1 , h e a d e r F i x e d : ! 1 , s c r o l l P o s i t i o n : 0 , p o s t T i t l e M a x H e i g h t : 1 2 0 , v w U n d e r I m a g e : { p a d d i n g : 2 0 , t i m e o u t : 5 0 0 , l a s t H a s h : n u l l } , v w T i m e : { l a s t H a s h : n u l l , m s e c : 0 } , v w U n d e r C o m m e n t s : { l a s t H a s h : n u l l } , p o s t C o n t e n t s : { l o a d i n g : [ ] , l o a d e d : [ ] , h a s h : n u l l } , p o s t : n u l l , e l e m e n t s : { $ m e t a d a t a L i n k : $ ( ' l i n k [ r e l = " i m a g e _ s r c " ] ' ) , $ w i n d o w : $ ( w i n d o w ) , $ i n s i d e : $ ( " # i n s i d e " ) , $ p o s t H e a d e r : $ ( " . p o s t - h e a d e r " ) , $ p o s t C o n t a i n e r : $ ( " . p o s t - c o n t a i n e r " ) , $ n a v P r e v : $ ( " . n a v P r e v " ) , $ n a v N e x t : $ ( " . n a v N e x t " ) , $ p o s t J u m p : $ ( " # p o s t - j u m p - c o n t a i n e r " ) , $ n i c e t i m e : $ ( " # n i c e t i m e " ) , $ v o t e U p : $ ( " # m a i n U p A r r o w " ) , $ v o t e D o w n : $ ( " # m a i n D o w n A r r o w " ) , $ i m a g e : $ ( " . p o s t - i m a g e s " ) , $ e m b e d : $ ( " # s t a t s - e m b e d - c o d e s " ) , $ p o s t A c t i o n B a r : $ ( " . p o s t - a c t i o n " ) , p o s t A c t i o n B a r : " . p o s t - a c t i o n " , $ p o s t T i t l e C o n t a i n e r : $ ( " . p o s t - t i t l e - c o n t a i n e r " ) , $ c a p t i o n s _ c o u n t : $ ( " # c o m m e n t - c o u n t " ) , $ a c t i o n T a b s : $ ( " # a c t i o n - t a b s " ) . f i n d ( " >   d i v " ) , $ s h a r e L i n k : $ ( " # u n d e r - i m a g e " ) . f i n d ( " . s h a r e - l i n k " ) , i m a g e C o n t a i n e r s : " . p o s t - i m a g e s   . p o s t - i m a g e - c o n t a i n e r " , a d f r a m e : $ ( " # a d i f r a m e " ) [ 0 ] , a d W r a p p e r : " . a d v e r t i s e m e n t " , p r o m o C o m p a n i o n : " . p r o m o C o m p a n i o n " , a l b u m T r u n c a t e d : " . j s - p o s t - t r u n c a t e d " , a l b u m D e s c r i p t i o n : " . p o s t - d e s c r i p t i o n " , $ f a v o r i t e d I m a g e : $ ( " . f a v o r i t e - i m a g e " ) , $ r a n d o m B u t t o n : $ ( " . r a n d o m - b u t t o n " ) , $ s i d e F o o t e r L i n k s : $ ( " # f i x e d - s i d e - f o o t e r - l i n k s " ) } , s k y P o p Y P o s : n u l l , i n s i d e C o m m e n t s A r e a W i t h C o n t e x t : R e a c t . c r e a t e C l a s s ( { d i s p l a y N a m e : " i n s i d e C o m m e n t s A r e a W i t h C o n t e x t " , c h i l d C o n t e x t T y p e s : { o n C o n t e x t C h a n g e : R e a c t . P r o p T y p e s . f u n c , m s i d : R e a c t . P r o p T y p e s . s t r i n g , o n S u b m i t : R e a c t . P r o p T y p e s . f u n c , l i n k i f i e r : R e a c t . P r o p T y p e s . o b j e c t , o n V o t e C h a n g e : R e a c t . P r o p T y p e s . f u n c } , g e t C h i l d C o n t e x t : f u n c t i o n ( ) { r e t u r n { o n C o n t e x t C h a n g e : t h i s . p r o p s . l o a d m o r e , m s i d : t h i s . p r o p s . m s i d , o n S u b m i t : t h i s . p r o p s . o n s u b m i t , l i n k i f i e r : t h i s . p r o p s . l i n k i f i e r , o n V o t e C h a n g e : t h i s . p r o p s . o n v o t e c h a n g e } } , r e n d e r : f u n c t i o n ( ) { r e t u r n   R e a c t . c r e a t e E l e m e n t ( I m g u r . I n s i d e C o m m e n t s A r e a , t h i s . p r o p s ) } } ) } , g ) , t h i s . _ s u p e r ( t h i s . _ ) , $ ( " . f o o t e r l i n k - r e p o r t - a d s " ) . r e m o v e C l a s s ( " n o d i s p l a y " ) . c l i c k ( t h i s . r e p o r t B a d A d s ) } , s e t H a s h : f u n c t i o n ( a ) { t h i s . _ . h a s h = a , t h i s . u p d a t e C a p t i o n H a s h ( ) , I m g u r . g e t I n s t a n c e ( ) . s e t H a s h ( a ) } , g e t H a s h : f u n c t i o n ( ) { r e t u r n   t h i s . _ . h a s h } , u p d a t e C a p t i o n H a s h : f u n c t i o n ( ) { t h i s . _ . c a p t i o n I n s t a n c e . s e t H a s h ( t h i s . _ . h a s h ) } , u p d a t e S h a r e : f u n c t i o n ( ) { i f ( ! t h i s . h a s I m a g e ( ) ) r e t u r n   v o i d   c o n s o l e . w a r n ( " C a n ' t   f i n d   i m a g e   w h e n   u p d a t i n g   s h a r e " ) ; v a r   a = t h i s . g e t I m a g e ( ) , b = " h t t p s : / / " + t h i s . _ . h o s t + t h i s . g e t U R L ( { t y p e : " h i s t o r y S t a t e " , h a s h : a . h a s h } ) ; b = a . i s _ a l b u m ? b . r e p l a c e ( " / a c c o u n t / f a v o r i t e s / " , " / a / " ) : b . r e p l a c e ( " / a c c o u n t / f a v o r i t e s / " , " / " ) ; v a r   c = I m g u r . S h a r e B u t t o n s . g e t I n s t a n c e ( ) ; c . s e t S h a r e D a t a ( { j a f o M e t a : _ . m e r g e ( I m g u r . G a l l e r y . g e t I n s t a n c e ( ) . g e t G a l l e r y M e t a d a t a ( ) , { t y p e : " g a l l e r y P o s t " } , t h i s . _ . i m a g e J a f o M e t a ) , t i t l e : a . t i t l e , u r l : b } , { g l o b a l : ! 0 } ) , t h i s . _ . e l e m e n t s . $ s h a r e L i n k . v a l ( b ) . d a t a ( " v a l u e " , b ) ; 
 } , h a s I m a g e : f u n c t i o n ( a ) { r e t u r n   a = a | | t h i s . _ . h a s h , a = = t h i s . _ . i m a g e . h a s h | | n u l l ! = t h i s . _ . s i d e G a l l e r y . g e t I m a g e ( a ) } , g e t I m a g e : f u n c t i o n ( a ) { r e t u r n   a = a | | t h i s . _ . h a s h , n u l l = = t h i s . _ . s i d e G a l l e r y ? t h i s . _ . i m a g e : t h i s . h a s I m a g e ( a ) ? t h i s . _ . s i d e G a l l e r y . g e t I m a g e ( a ) : n u l l } , g e t C u r r e n t I m a g e : f u n c t i o n ( ) { r e t u r n   t h i s . _ . s i d e G a l l e r y . g e t I m a g e ( t h i s . g e t H a s h ( ) ) } , c h e c k F e t c h Q u e u e : f u n c t i o n ( ) { i f ( 0 ! = = t h i s . _ . f e t c h Q u e u e . l e n g t h ) { v a r   a = t h i s . _ . f e t c h Q u e u e . s h i f t ( ) ; a & & a ( ) } } , g e n e r a l I n i t : f u n c t i o n ( a ) { t h i s . _ . s i g n e d ? t h i s . _ . a u t h . i d : n u l l ; t h i s . c h e c k A d T i m e ( ) , $ ( " . p o s t - i m a g e - p l a c e h o l d e r " ) . o n e ( " m o u s e d o w n " , f u n c t i o n ( a ) { a . t a r g e t . s e t A t t r i b u t e ( " s r c " , a . t a r g e t . p a r e n t N o d e . g e t A t t r i b u t e ( " h r e f " ) ) } ) , t h i s . _ . h a s A c c e s s & & ! I m g u r . E n v i r o n m e n t . c a p t i o n s E n a b l e d | | ( t h i s . b i n d A u t o B r o w s e ( ) , t h i s . b i n d H o t K e y s ( ) ) , t h i s . s e t u p H i s t o r y S t a t e ( ) , a ( ) , t h i s . _ . c h e c k F e t c h Q u e u e I n t e r v a l = w i n d o w . s e t I n t e r v a l ( t h i s . c h e c k F e t c h Q u e u e . b i n d ( t h i s ) , t h i s . _ . f e t c h I n t e r v a l ) , " o n h a s h c h a n g e " i n   w i n d o w & & $ ( w i n d o w ) . b i n d ( " h a s h c h a n g e " , _ . b i n d ( t h i s . f o r c e S c r o l l T o C a p t i o n , t h i s ) ) , $ ( " b o d y " ) . o n ( " h o v e r " , " . i m a g e - i d - l i n k " , _ . b i n d ( f u n c t i o n ( a ) { v a r   b = $ ( a . t a r g e t ) ; b . h a s C l a s s ( " i m g u r - i m a g e " ) | | ( b . a d d C l a s s ( " i m g u r - i m a g e " ) , $ . a j a x ( { u r l : " / g a l l e r y / a c t i o n / i m a g e / " + t h i s . g e t H a s h ( ) , t y p e : " G E T " , d a t a : { o r d e r : b . t e x t ( ) . m a t c h ( / \ d + / ) [ 0 ] } , s u c c e s s : f u n c t i o n ( a ) { a . d a t a & & a . d a t a . u r l & & a . d a t a . h a s h & & ( b . a t t r ( " h r e f " , a . d a t a . u r l ) , b . a t t r ( " d a t a - h a s h " , a . d a t a . h a s h ) ) } } ) ) } , t h i s ) ) , $ ( w i n d o w ) . o n ( " s c r o l l " , _ . t h r o t t l e ( _ . b i n d ( t h i s . c h e c k S t i c k y H e a d e r , t h i s ) , 5 0 ) ) , t h i s . c h e c k S t i c k y H e a d e r ( ) , t h i s . _ . e l e m e n t s . $ n a v P r e v . c l i c k ( _ . b i n d ( f u n c t i o n ( ) { t h i s . _ . e m i t t e r . t r i g g e r ( " b u t t o n N a v " , " p r e v " ) } , t h i s ) ) , t h i s . _ . e l e m e n t s . $ n a v N e x t . c l i c k ( _ . b i n d ( f u n c t i o n ( ) { t h i s . _ . e m i t t e r . t r i g g e r ( " b u t t o n N a v " , " n e x t " ) } , t h i s ) ) , t h i s . _ . e m i t t e r . o n ( " s e l e c t " , n u l l , _ . b i n d ( f u n c t i o n ( a , b , c , d ) { t h i s . l o g N a v i g a t i o n ( c , d , a ) } , t h i s ) ) , t h i s . _ . e m i t t e r . o n ( " s e l e c t " , n u l l , _ . b i n d ( t h i s . c h e c k V i e w a b i l i t y T i m e , t h i s ) ) , $ ( w i n d o w ) . o n ( " b e f o r e u n l o a d " , _ . b i n d ( t h i s . c h e c k V i e w a b i l i t y T i m e , t h i s ) ) , t h i s . _ . e m i t t e r . o n ( " s e l e c t " , n u l l , _ . p a r t i a l ( s e t T i m e o u t , _ . b i n d ( t h i s . p o s t L o a d i n g Q u e u e C o n t e n t s , t h i s ) , t h i s . _ . v w U n d e r I m a g e . t i m e o u t ) ) , t h i s . _ . e m i t t e r . o n ( " p o s t C o n t e n t s L o a d e d " , n u l l , _ . o n c e ( _ . b i n d ( t h i s . b i n d V i e w a b i l i t y S c r o l l , t h i s ) ) ) , t h i s . _ . e m i t t e r . o n ( " p o s t C o n t e n t s L o a d e d " , n u l l , _ . p a r t i a l ( s e t T i m e o u t , _ . b i n d ( t h i s . c h e c k V i e w a b i l i t y S c r o l l , t h i s ) , t h i s . _ . v w U n d e r I m a g e . t i m e o u t ) ) , t h i s . b i n d V i e w a b i l i t y J a f o ( ) , t h i s . b i n d S k y P o p S c r o l l ( ) , t h i s . b i n d P o s t J u m p ( ) } , b i n d S k y P o p S c r o l l : f u n c t i o n ( ) { i f ( t h i s . _ . e l e m e n t s . $ s k y P o p = t h i s . _ . e l e m e n t s . $ s k y P o p | | $ ( " # s i d e b a r - b o t t o m - a d s " ) , 0 ! = = t h i s . _ . e l e m e n t s . $ s k y P o p . l e n g t h ) { $ ( " # a b p - p o p _ s k y " ) . l e n g t h & & ( t h i s . _ . s k y P o p M a r g i n T o p = t h i s . _ . s k y P o p M a r g i n T o p - t h i s . _ . l a b e l W r a p p e r M a r g i n T o p ) ; v a r   a , b = ! 1 , c = _ . t h r o t t l e ( f u n c t i o n ( ) { r e t u r n ! b & & t h i s . _ . e l e m e n t s . $ s i d e F o o t e r L i n k s . l e n g t h & & ( a = t h i s . _ . e l e m e n t s . $ s i d e F o o t e r L i n k s . o f f s e t ( ) . t o p + t h i s . _ . e l e m e n t s . $ s i d e F o o t e r L i n k s . h e i g h t ( ) + t h i s . _ . s k y P o p M a r g i n T o p ) , a } . b i n d ( t h i s ) , 1 e 3 ) , d = f u n c t i o n ( ) { t h i s . _ . e l e m e n t s . $ s k y P o p . c s s ( { r i g h t : t h i s . _ . e l e m e n t s . $ w i n d o w . w i d t h ( ) - ( t h i s . _ . e l e m e n t s . $ s k y P o p . p a r e n t ( ) . o f f s e t ( ) . l e f t + t h i s . _ . e l e m e n t s . $ s k y P o p . p a r e n t ( ) . o u t e r W i d t h ( ) ) } ) } . b i n d ( t h i s ) ; t h i s . _ . e l e m e n t s . $ w i n d o w . o n ( " s c r o l l . s k y P o p A d P o s i t i o n i n g " , _ . d e b o u n c e ( f u n c t i o n ( ) { i f ( t h i s . _ . e l e m e n t s . $ s i d e F o o t e r L i n k s . l e n g t h ) { v a r   a = t h i s . _ . e l e m e n t s . $ w i n d o w . s c r o l l T o p ( ) > c ( ) ; ! b & & a ? ( t h i s . _ . e l e m e n t s . $ s k y P o p . a d d C l a s s ( " f i x e d " ) , b = ! 0 , d ( ) ) : b & & ! a & & ( t h i s . _ . e l e m e n t s . $ s k y P o p . r e m o v e C l a s s ( " f i x e d " ) , b = ! 1 ) } } . b i n d ( t h i s ) , 1 0 , { t r a i l i n g : ! 0 } ) ) , t h i s . _ . e l e m e n t s . $ w i n d o w . o n ( " r e s i z e . s k y P o p A d P o s i t i o n i n g " , _ . d e b o u n c e ( d . b i n d ( t h i s ) , 2 0 0 , { t r a i l i n g : ! 0 } ) ) } } , b i n d P o s t J u m p : f u n c t i o n ( ) { v a r   a = ! 1 ; t h i s . _ . e l e m e n t s . $ w i n d o w . o n ( " s c r o l l . p o s t J u m p " , _ . d e b o u n c e ( f u n c t i o n ( ) { v a r   b = t h i s . _ . e l e m e n t s . $ w i n d o w . s c r o l l T o p ( ) , c = 0 ! = b & & b + t h i s . _ . e l e m e n t s . $ w i n d o w . h e i g h t ( ) > t h i s . _ . e l e m e n t s . $ p o s t A c t i o n B a r . o f f s e t ( ) . t o p ; ! a & & c ? ( t h i s . _ . e l e m e n t s . $ p o s t J u m p . a d d C l a s s ( " i n - c o m m e n t s " ) , a = ! 0 ) : a & & ! c & & ( t h i s . _ . e l e m e n t s . $ p o s t J u m p . r e m o v e C l a s s ( " i n - c o m m e n t s " ) , a = ! 1 ) } . b i n d ( t h i s ) , 2 0 0 ) ) , t h i s . _ . e l e m e n t s . $ p o s t J u m p . f i n d ( " . g o - t o - c o m m e n t s " ) . c l i c k ( t h i s . s c r o l l T o C a p t i o n s . b i n d ( t h i s ) ) , t h i s . _ . e l e m e n t s . $ p o s t J u m p . f i n d ( " . t a k e - m e - u p " ) . c l i c k ( f u n c t i o n ( ) { $ ( " h t m l ,   b o d y " ) . a n i m a t e ( { s c r o l l T o p : 0 } , 5 0 0 ) } . b i n d ( t h i s ) ) } , b i n d V i e w a b i l i t y J a f o : f u n c t i o n ( ) { M a t h . r a n d o m ( ) < . 0 1 & & ( t h i s . _ . e m i t t e r . o n ( " v w T i m e " , n u l l , _ . b i n d ( f u n c t i o n ( a , b ) { I m g u r . U t i l . j a f o L o g ( { e v e n t : " v w T i m e " , m e t a : { h a s h : a , s e c : M a t h . f l o o r ( p a r s e I n t ( b , 1 0 ) / 1 e 3 ) } } ) } , t h i s ) ) , t h i s . _ . e m i t t e r . o n ( " v w U n d e r I m a g e " , n u l l , _ . b i n d ( f u n c t i o n ( a , b , c ) { I m g u r . U t i l . j a f o L o g ( { e v e n t : " v w U n d e r I m a g e " , m e t a : { h a s h : a , p o s : b , t a r g e t : c } } ) } , t h i s ) ) , t h i s . _ . e m i t t e r . o n ( " v w U n d e r C o m m e n t s " , n u l l , _ . b i n d ( f u n c t i o n ( a , b , c , d ) { v a r   e = { h a s h : a , i s A l b u m : b , n s f w : c } ; b | | ( e . i s A n i m a t e d = d ) , I m g u r . U t i l . j a f o L o g ( { e v e n t : " v w U n d e r C o m m e n t s " , m e t a : e } ) } , t h i s ) ) ) } , p o s t L o a d i n g Q u e u e C o n t e n t s : f u n c t i o n ( ) { v a r   a , b , c , d , e ; i f ( t h i s . _ . i m a g e & & ! ( t h i s . _ . i m a g e . n u m _ i m a g e s < 1 ) ) f o r ( t h i s . _ . p o s t C o n t e n t s . l o a d i n g = [ ] , t h i s . _ . p o s t C o n t e n t s . l o a d e d = [ ] , t h i s . _ . p o s t C o n t e n t s . h a s h = t h i s . _ . i m a g e . h a s h , a = $ ( t h i s . _ . e l e m e n t s . i m a g e C o n t a i n e r s ) , b = 0 ; b < a . l e n g t h ; b + + ) c = $ ( a [ b ] ) , e = c . a t t r ( " i d " ) , d = c . f i n d ( " v i d e o ,   i m g " ) . f i r s t ( ) , ! e | | d . l e n g t h < 1 | | ( t h i s . _ . p o s t C o n t e n t s . l o a d i n g . p u s h ( e ) , d . i s ( " v i d e o " ) ? t h i s . p o s t L o a d i n g C h e c k V i d e o ( e , d ) : t h i s . p o s t L o a d i n g C h e c k I m g ( e , d ) ) } , p o s t L o a d e d C o n t e n t H a s h : f u n c t i o n ( a ) { t h i s . p o s t L o a d i n g V e r i f y H a s h ( a ) & & ( t h i s . _ . p o s t C o n t e n t s . l o a d e d . p u s h ( a ) , t h i s . _ . p o s t C o n t e n t s . l o a d i n g . l e n g t h = = = t h i s . _ . p o s t C o n t e n t s . l o a d e d . l e n g t h & & t h i s . _ . e m i t t e r . t r i g g e r ( " p o s t C o n t e n t s L o a d e d " , t h i s . _ . i m a g e ) ) } , p o s t L o a d i n g V e r i f y H a s h : f u n c t i o n ( a ) { r e t u r n   t h i s . _ . p o s t C o n t e n t s . h a s h = = = t h i s . _ . i m a g e . h a s h & & t h i s . _ . p o s t C o n t e n t s . l o a d e d . i n d e x O f ( a ) < 0 & & t h i s . _ . p o s t C o n t e n t s . l o a d i n g . i n d e x O f ( a ) > - 1 } , p o s t L o a d i n g C h e c k I m g : f u n c t i o n ( a , b ) { t h i s . p o s t L o a d i n g V e r i f y H a s h ( a ) & & ( b [ 0 ] . c o m p l e t e ? t h i s . p o s t L o a d e d C o n t e n t H a s h ( a ) : b . o n ( " l o a d   e r r o r " , { i m g H a s h : a } , _ . b i n d ( t h i s . p o s t L o a d i n g H a n d l e I m g , t h i s ) ) ) } , p o s t L o a d i n g H a n d l e I m g : f u n c t i o n ( a ) { v a r   b = I m g u r . U t i l . d i v e ( a , " d a t a . i m g H a s h " ) ; _ . i s S t r i n g ( b ) & & t h i s . p o s t L o a d e d C o n t e n t H a s h ( b ) } , p o s t L o a d i n g C h e c k V i d e o : f u n c t i o n ( a , b ) { r e t u r n   b [ 0 ] . r e a d y S t a t e < 1 ? v o i d   b . o n ( " l o a d e d d a t a " , { i m g H a s h : a } , _ . b i n d ( t h i s . p o s t L o a d i n g H a n d l e V i d e o , t h i s ) ) : v o i d   t h i s . p o s t L o a d e d C o n t e n t H a s h ( a ) } , p o s t L o a d i n g H a n d l e V i d e o : f u n c t i o n ( a ) { v a r   b = I m g u r . U t i l . d i v e ( a , " d a t a . i m g H a s h " ) , c = $ ( a . t a r g e t ) ; c [ 0 ] . r e a d y S t a t e > 0 & & t h i s . p o s t L o a d e d C o n t e n t H a s h ( b ) } , b i n d V i e w a b i l i t y S c r o l l : f u n c t i o n ( ) { $ ( w i n d o w ) . o n ( " s c r o l l   r e s i z e " , _ . t h r o t t l e ( _ . b i n d ( t h i s . c h e c k V i e w a b i l i t y S c r o l l , t h i s ) , 2 5 0 ) ) } , c h e c k S t i c k y H e a d e r : f u n c t i o n ( ) { v a r   a = $ ( w i n d o w ) . s c r o l l T o p ( ) , b = $ ( " . p o s t - h e a d e r " ) , c = $ ( " . p o s t - c o n t a i n e r " ) , d = c . o f f s e t ( ) . t o p , e = a - t h i s . _ . s c r o l l P o s i t i o n ; i f ( t h i s . _ . s c r o l l P o s i t i o n = a , ! t h i s . _ . h e a d e r F i x e d & & a > d ) { v a r   f = b . o u t e r H e i g h t ( ) ; b . a d d C l a s s ( " f i x e d " ) , c . c s s ( " p a d d i n g - t o p " , f ) , t h i s . _ . h e a d e r F i x e d = ! 0 } e l s e   t h i s . _ . h e a d e r F i x e d & & a < = d & & ( b . r e m o v e C l a s s ( " f i x e d " ) , c . c s s ( " p a d d i n g - t o p " , 0 ) , t h i s . _ . h e a d e r F i x e d = ! 1 ) ; a > d + t h i s . _ . p o s t T i t l e M a x H e i g h t & & e > 1 0 & & ! b . h a s C l a s s ( " a n i m a t e " ) & & b . o u t e r H e i g h t ( ) > 8 0 ? ( b . a d d C l a s s ( " a n i m a t e " ) , b . o n e ( " w e b k i t T r a n s i t i o n E n d   o t r a n s i t i o n e n d   o T r a n s i t i o n E n d   m s T r a n s i t i o n E n d   t r a n s i t i o n e n d " , f u n c t i o n ( ) { $ ( t h i s ) . a d d C l a s s ( " a n i m a t i o n - f i n i s h e d " ) } ) ) : ( a < = d + t h i s . _ . p o s t T i t l e M a x H e i g h t | | e < - 1 0 0 ) & & ( b . o f f ( " w e b k i t T r a n s i t i o n E n d   o t r a n s i t i o n e n d   o T r a n s i t i o n E n d   m s T r a n s i t i o n E n d   t r a n s i t i o n e n d " ) , b . r e m o v e C l a s s ( " a n i m a t i o n - f i n i s h e d " ) , b . r e m o v e C l a s s ( " a n i m a t e " ) ) , t h i s . _ . c a p t i o n s E n a b l e d & & ( $ . i n v i e w p o r t ( $ ( " # r i g h t - c o n t e n t " ) , { t h r e s h o l d : 0 } ) ? t h i s . _ . e l e m e n t s . $ p o s t J u m p . r e m o v e C l a s s ( " j s - a n i m a t e " ) : t h i s . _ . e l e m e n t s . $ p o s t J u m p . a d d C l a s s ( " j s - a n i m a t e " ) ) } , c h e c k V i e w a b i l i t y T i m e : f u n c t i o n ( a ) { ( _ . i s O b j e c t ( a ) | | t h i s . _ . v w T i m e . l a s t H a s h ! = = t h i s . _ . h a s h ) & & ( t h i s . _ . v w T i m e . m s e c > 0 & & t h i s . _ . e m i t t e r . t r i g g e r ( " v w T i m e " , t h i s . _ . v w T i m e . l a s t H a s h , ( n e w   D a t e ) . v a l u e O f ( ) - t h i s . _ . v w T i m e . m s e c ) , t h i s . _ . v w T i m e . l a s t H a s h = " " + t h i s . _ . h a s h , t h i s . _ . v w T i m e . m s e c = ( n e w   D a t e ) . v a l u e O f ( ) ) } , c h e c k V i e w a b i l i t y S c r o l l : f u n c t i o n ( ) { v a r   a = p a r s e I n t ( t h i s . _ . e l e m e n t s . $ w i n d o w . s c r o l l T o p ( ) + t h i s . _ . e l e m e n t s . $ w i n d o w . h e i g h t ( ) , 1 0 ) , b = p a r s e I n t ( t h i s . _ . e l e m e n t s . $ p o s t A c t i o n B a r . o f f s e t ( ) . t o p + t h i s . _ . e l e m e n t s . $ p o s t A c t i o n B a r . o u t e r H e i g h t ( ) + t h i s . _ . v w U n d e r I m a g e . p a d d i n g , 1 0 ) , c = $ ( " # c o m m e n t s - c o n t a i n e r " ) ; i f ( t h i s . _ . c a p t i o n s E n a b l e d ) { v a r   d = c . o f f s e t ( ) ; i f ( d ) v a r   e = d . t o p + c . h e i g h t ( ) ; i f ( t h i s . _ . v w U n d e r I m a g e . l a s t H a s h ! = = t h i s . _ . h a s h & & a > = b & & ( t h i s . _ . e m i t t e r . t r i g g e r ( " v w U n d e r I m a g e " , t h i s . _ . h a s h , a , b ) , t h i s . _ . v w U n d e r I m a g e . l a s t H a s h = t h i s . _ . h a s h ) , t h i s . _ . c a p t i o n s E n a b l e d & & t h i s . _ . v w U n d e r C o m m e n t s . l a s t H a s h ! = = t h i s . _ . h a s h & & e < a & & e > = t h i s . _ . e l e m e n t s . $ w i n d o w . s c r o l l T o p ( ) ) { v a r   f = t h i s . _ . s i d e G a l l e r y . g e t I m a g e ( t h i s . _ . h a s h ) | | { } ; t h i s . _ . e m i t t e r . t r i g g e r ( " v w U n d e r C o m m e n t s " , t h i s . _ . h a s h , f . i s _ a l b u m , f . n s f w , f . a n i m a t e d ) , t h i s . _ . v w U n d e r C o m m e n t s . l a s t H a s h = t h i s . _ . h a s h } } } , e n a b l e P r e v B u t t o n : f u n c t i o n ( ) { t h i s . _ . e l e m e n t s . $ n a v P r e v . r e m o v e C l a s s ( " d i s a b l e d " ) } , e n a b l e N e x t B u t t o n : f u n c t i o n ( ) { t h i s . _ . e l e m e n t s . $ n a v N e x t . r e m o v e C l a s s ( " d i s a b l e d " ) } , d i s a b l e P r e v B u t t o n : f u n c t i o n ( ) { t h i s . _ . e l e m e n t s . $ n a v P r e v . a d d C l a s s ( " d i s a b l e d " ) } , d i s a b l e N e x t B u t t o n : f u n c t i o n ( ) { t h i s . _ . e l e m e n t s . $ n a v N e x t . a d d C l a s s ( " d i s a b l e d " ) } , c h a n g e S e c t i o n : f u n c t i o n ( a ) { t h i s . _ . s e c t i o n = a } , c h a n g e S o r t : f u n c t i o n ( a ) { t h i s . _ . s o r t = a } , c h a n g e W i n d o w : f u n c t i o n ( a ) { t h i s . _ . w i n d o w = a } , g e t U R L : f u n c t i o n ( a ) { r e t u r n { h i s t o r y S t a t e : t h i s . _ . b a s e U R L + " / " + a . h a s h , i m a g e : t h i s . _ . c d n U R L + " / " + a . h a s h + a . e x t , t h u m b : t h i s . _ . c d n U R L + " / " + a . h a s h + " b " + a . e x t , i m a g e V o t e s J S O N : " / / " + I m g u r . E n v i r o n m e n t . h o s t + " / g a l l e r y / " + a . h a s h + " / v o t e s . j s o n " , c a p t i o n s J S O N : " / / " + I m g u r . E n v i r o n m e n t . h o s t + " / g a l l e r y / " + a . h a s h + " / c o m m e n t / b e s t / h i t . j s o n " } [ a . t y p e ] } , f e t c h I m a g e : f u n c t i o n ( a , b , c ) { v a r   d = t h i s . _ . s i d e G a l l e r y . g e t I m a g e ( a ) ; d & & ( d . i s _ a l b u m & & n u l l = = t h i s . _ . a l b u m I m a g e S t o r e . g e t I m a g e s ( d . h a s h ) ? t h i s . _ . a l b u m I m a g e S t o r e . f e t c h I m a g e s ( d . h a s h , _ . b i n d ( f u n c t i o n ( a ) { f o r ( v a r   c = 0 ; c < a . c o u n t & & c < 5 ; + + c ) t h i s . p r e l o a d I m a g e ( a . i m a g e s [ c ] ) ; t h i s . i n s e r t P o s t ( d , ! 0 ) , " f u n c t i o n " = = t y p e o f   b & & b ( d ) } , t h i s ) ) : ( t h i s . p r e l o a d I m a g e ( d ) , " f u n c t i o n " = = t y p e o f   b & & b ( d ) ) , t h i s . f e t c h C a p t i o n s ( d . h a s h , c | | _ . n o o p ) ) } , f e t c h C a p t i o n s : f u n c t i o n ( a , b , c ) { i f ( t h i s . _ . c a p t i o n s E n a b l e d ) { i f ( t h i s . _ . c a p t i o n I n s t a n c e . h a v e C a p t i o n s ( a ) ) r e t u r n   v o i d   b ( ) ; i f ( ! t h i s . _ . f e t c h i n g C a p t i o n s [ a ] ) { t h i s . _ . f e t c h i n g C a p t i o n s [ a ] = ! 0 ; v a r   d = t h i s , e = t h i s . g e t U R L ( { t y p e : " c a p t i o n s J S O N " , h a s h : a } ) , f = t h i s . g e t U R L ( { t y p e : " i m a g e V o t e s J S O N " , h a s h : a } ) ; $ . a j a x ( e , { d i s p l a y G e n e r i c E r r o r : ! 1 } ) . d o n e ( f u n c t i o n ( e ) { e & & e . d a t a & & e . d a t a . c a p t i o n s ? ( d . _ . c a p t i o n I n s t a n c e . m e r g e C a p t i o n s ( a , e . d a t a . c a p t i o n s ) , b ( ) , d e l e t e   d . _ . f e t c h i n g C a p t i o n s [ a ] ) : c | | ( d e l e t e   d . _ . f e t c h i n g C a p t i o n s [ a ] , d . f e t c h C a p t i o n s ( a , b , ! 0 ) ) } ) . f a i l ( f u n c t i o n ( ) { d e l e t e   d . _ . f e t c h i n g C a p t i o n s [ a ] , c | | d . f e t c h C a p t i o n s ( a , b , ! 0 ) } ) , t h i s . _ . s i g n e d & & ! c & & $ . a j a x ( f , { d i s p l a y G e n e r i c E r r o r : ! 1 } ) . d o n e ( f u n c t i o n ( c ) { c & & c . d a t a & & c . d a t a . v o t e s & & ( d . _ . c a p t i o n I n s t a n c e . m e r g e V o t e s ( a , c . d a t a . v o t e s ) , b ( ) ) } ) } } } , s c r o l l T o C a p t i o n s : f u n c t i o n ( a ) { v a r   b = $ ( t h i s . _ . e l e m e n t s . p o s t A c t i o n B a r ) . o f f s e t ( ) . t o p - t h i s . _ . e l e m e n t s . $ p o s t H e a d e r . o u t e r H e i g h t ( ) ; a ? $ ( " h t m l ,   b o d y " ) . a n i m a t e ( { s c r o l l T o p : b } , 5 0 0 , f u n c t i o n ( ) { } . b i n d ( t h i s ) ) : w i n d o w . s c r o l l T o ( 0 , b ) } , p r o c e s s C a p t i o n s : f u n c t i o n ( ) { v a r   a = t h i s , b = t h i s . _ . h a s h , c = t h i s . g e t C a p t i o n S o r t e r ( ) , d = b = = = t h i s . _ . i m a g e . h a s h ? t h i s . _ . i m a g e : t h i s . _ . s i d e G a l l e r y . g e t I m a g e ( b ) , e = _ . c l o n e ( t h i s . _ . c a p t i o n I n s t a n c e . g e t P a r e n t I d s ( b ) ) , f = _ . t r a n s f o r m ( e , f u n c t i o n ( d , e ) { v a r   f = a . _ . c a p t i o n I n s t a n c e . g e t C a p t i o n C h i l d r e n I d s ( b , e ) , g = [ ] ; i f ( I m g u r . E n v i r o n m e n t . a u t h . s h o w _ m a t u r e ) g = f ; e l s e   f o r ( v a r   h = 0 ; h < f . l e n g t h ; h + + ) { v a r   i = a . _ . c a p t i o n I n s t a n c e . g e t C a p t i o n B y I d ( b , f [ h ] ) , j = i . c a p t i o n . m a t c h ( / n s f w | m a t u r e / i ) , k = / ( \ b ( h t t p s ? | f t p | f i l e ) : \ / \ / [ - A - Z 0 - 9 + & @ # \ / % ? = ~ _ | ! : , . ; ] * [ - A - Z 0 - 9 + & @ # \ / % = ~ _ | ] ) / g i , l = i . c a p t i o n . m a t c h ( k ) ; j & & l & & i . a u t h o r _ i d ! = I m g u r . E n v i r o n m e n t . a u t h . i d | | g . p u s h ( f [ h ] ) } g . s o r t ( f u n c t i o n ( d , e ) { v a r   f = a . _ . c a p t i o n I n s t a n c e . g e t C a p t i o n B y I d ( b , d ) , g = a . _ . c a p t i o n I n s t a n c e . g e t C a p t i o n B y I d ( b , e ) ; r e t u r n   c ( f , g ) } ) , d [ e ] = g } , { } ) , g = _ . b i n d ( f u n c t i o n ( a , b , c ) { a . p r e v e n t D e f a u l t ( ) , t h i s . p u s h W i n d o w S t a t e ( b , c ) , t h i s . p r o c e s s C a p t i o n s ( ) } , t h i s ) , h = _ . b i n d ( f u n c t i o n ( a ) { t h i s . p r o c e s s C a p t i o n s ( ) , t h i s . _ . e m i t t e r . t r i g g e r ( " c a p t i o n S u b m i t " , a ) } , t h i s ) , i = $ . c o o k i e ( " G C S " ) ; i | | ( i = " b e s t " ) ; v a r   j = _ . b i n d ( f u n c t i o n ( a , b ) { t h i s . p r o c e s s C a p t i o n s ( ) , t h i s . _ . e m i t t e r . t r i g g e r ( " c a p t i o n V o t e d " , a , b ) } , t h i s ) , k = _ . b i n d ( f u n c t i o n ( a ) { t h i s . s e t C a p t i o n S o r t ( a ) , $ . c o o k i e ( " G C S " , a , { e x p i r e s : 7 , p a t h : " / " } ) , I m g u r . U t i l . j a f o L o g ( { e v e n t : " c o m m e n t S o r t " , m e t a : { s o r t : a , s t a t e : " d o n e " , h a s h : b } } ) , t h i s . p r o c e s s C a p t i o n s ( ) } , t h i s ) , l = v o i d   0 , m = t h i s . g e t P e r m a l i n k I f E x i s t s ( ) , n = n u l l ; i f ( " u n d e f i n e d " ! = t y p e o f   m ) { l = m . c o m m e n t I d ; v a r   o = I m g u r . C a p t i o n . g e t I n s t a n c e ( ) . g e t C a p t i o n B y I d ( b , l ) , p = 1 ; i f ( n u l l ! = = o ) { v a r   q = o . p a r e n t _ i d , r = o . i d ; n = m . c o n t e x t L e v e l s | | p ; f o r ( v a r   s = 0 ; s < n & & ( f [ q ] = [ r ] , n u l l ! = = q ) ; s + + ) r = q , q = I m g u r . C a p t i o n . g e t I n s t a n c e ( ) . g e t C a p t i o n P a r e n t B y I d ( b , q ) ; l = n > 0 ? r : o . i d } e l s e   l = v o i d   0 } v a r   t = " u n d e f i n e d " ! = t y p e o f   m & & " u n d e f i n e d " ! = t y p e o f   l , u = I m g u r . U t i l . g e t Q u e r y P a r a m s ( w i n d o w . l o c a t i o n . s e a r c h ) , v = " l r " i n   u ? p a r s e I n t ( u . l r ) : N u m b e r . M A X _ S A F E _ I N T E G E R , w = { i m a g e : d , l o a d i n g : ! I m g u r . C a p t i o n . g e t I n s t a n c e ( ) . h a v e C a p t i o n s ( b ) , c h i l d m a p : f , v o t e m a p : I m g u r . C a p t i o n . g e t I n s t a n c e ( ) . g e t V o t e s ( b ) , c o n t e x t I d : l , c o n t e x t L e v e l s : n , d e f a u l t E x p a n d M o d e : I m g u r . C o m m e n t T r e e . E X P A N D _ M O D E _ D E F A U L T _ C O L L A P S E D , e x p a n d e d F r o m P e r m a l i n k : t , c o m m e n t S o r t : i , o n C o m m e n t S o r t C h a n g e : k , t i m e L a s t R e a d : v , p e r m a l i n k : m , l o a d m o r e : g , m s i d : I m g u r . E n v i r o n m e n t . m s i d , o n s u b m i t : h , l i n k i f i e r : t h i s . _ . l i n k i f i e r , o n v o t e c h a n g e : j , e m i t t e r : t h i s . _ . e m i t t e r } , x = t h i s . _ . i n s i d e C o m m e n t s A r e a W i t h C o n t e x t , y = $ ( " # c o m m e n t s - c o n t a i n e r " ) . g e t ( 0 ) ; y & & ( t h i s . _ . i n s i d e C o m m e n t s A r e a = R e a c t D O M . r e n d e r ( R e a c t . c r e a t e E l e m e n t ( x , w ) , y ) ) , I m g u r . S h a r e B u t t o n s . g e t I n s t a n c e ( ) . b i n d A d d t h i s B u t t o n ( ) } , g e t P e r m a l i n k I f E x i s t s : f u n c t i o n ( ) { v a r   a = w i n d o w . l o c a t i o n . p a t h n a m e , b = a . i n d e x O f ( " c o m m e n t " ) ! = = - 1 ; i f ( b ) { v a r   c = a . s p l i t ( " / c o m m e n t / " ) [ 1 ] . s p l i t ( " / " ) ; r e t u r n { c o m m e n t I d : p a r s e I n t ( c [ 0 ] ) , c o n t e x t L e v e l s : p a r s e I n t ( c [ 1 ] ) } } } , s e t u p H i s t o r y S t a t e : f u n c t i o n ( ) { v a r   a = t h i s , b = I m g u r . H i s t o r y . g e t I n s t a n c e ( ) ; b . a d d P o p S t a t e ( " i n s i d e _ n a v . c o m m e n t " , f u n c t i o n ( b ) { a . h a n d l e P o p S t a t e C o m m e n t ( b ) } ) , b . a d d P o p S t a t e ( " i n s i d e _ n a v . i m a g e " , f u n c t i o n ( b ) { a . h a n d l e P o p S t a t e I m a g e ( b ) } ) } , h a n d l e P o p S t a t e C o m m e n t : f u n c t i o n ( a ) { v a r   b = w i n d o w . l o c a t i o n . p a t h n a m e . s p l i t ( " / " ) , c = n u l l ; 3 = = b . l e n g t h & & b [ 2 ] . l e n g t h > = 5 & & ( c = b [ 2 ] ) , b . l e n g t h > 3 & & ( c = " r " = = = b [ 1 ] ? b [ b . l e n g t h - 1 ] : " u s e r " = = = b [ 1 ] ? b [ 4 ] : b [ 2 ] ) , t h i s . s e t H a s h ( c ) , t h i s . s c r o l l T o C a p t i o n s ( ) , t h i s . p r o c e s s C a p t i o n s ( ) } , h a n d l e P o p S t a t e I m a g e : f u n c t i o n ( a ) { v a r   b = w i n d o w . l o c a t i o n . p a t h n a m e . s p l i t ( " / " ) , c = n u l l ; 3 = = = b . l e n g t h & & b [ 2 ] . l e n g t h > = 5 & & ( c = b [ 2 ] ) , b [ 2 ] & & ( c = _ . i n d e x O f ( [ " r " , " t " , " t o p i c " ] , b [ 1 ] ) ! = = - 1 ? b [ b . l e n g t h - 1 ] : " u s e r " = = = b [ 1 ] ? b [ 4 ] : b [ 2 ] ) , t h i s . _ . s i d e G a l l e r y . g e t I m a g e ( b [ 1 ] ) & & ( c = b [ 1 ] ) , t h i s . _ . s i d e G a l l e r y . s e l e c t I m a g e ( c , ! 0 ) , t h i s . p r o c e s s C a p t i o n s ( ) , t h i s . u p d a t e S h a r e ( ) } , p u s h W i n d o w S t a t e : f u n c t i o n ( a , b ) { v a r   c = t h i s . _ . b a s e U R L + " / " + t h i s . _ . h a s h ; a & & ( c + = " / c o m m e n t / " + a , b & & ( c + = " / " + b ) ) , I m g u r . H i s t o r y . g e t I n s t a n c e ( ) . a d d W i n d o w S t a t e ( " i n s i d e _ n a v . c o m m e n t " , " C o m m e n t s   o n   " + w i n d o w . t i t l e , c ) } , s e t C a p t i o n S o r t : f u n c t i o n ( a ) { v a r   b = a . s u b s t r ( 0 , 1 ) . t o U p p e r C a s e ( ) + a . s u b s t r ( 1 ) ; t h i s . _ . c a p t i o n L a y o u t . s o r t = t h i s [ " s o r t C a p t i o n s B y " + b ] } , g e t C a p t i o n S o r t e r : f u n c t i o n ( ) { v a r   a = [ _ . b i n d ( t h i s . s o r t C a p t i o n s B y M i n e J u s t S u b m i t t e d , t h i s ) , t h i s . _ . c a p t i o n L a y o u t . s o r t , _ . b i n d ( t h i s . s o r t C a p t i o n s B y I d D e s c , t h i s ) ] ; r e t u r n   f u n c t i o n ( b , c ) { f o r ( v a r   d = 0 ; d < a . l e n g t h ; d + + ) { v a r   e = a [ d ] ( b , c ) ; i f ( 0 ! = e ) r e t u r n   e } r e t u r n   0 } } , s o r t C a p t i o n s B y T o p : f u n c t i o n ( a , b ) { v a r   c = a . p o i n t s , d = b . p o i n t s ; r e t u r n   c > d ? - 1 : c < d ? 1 : 0 } , s o r t C a p t i o n s B y B e s t : f u n c t i o n ( a , b ) { v a r   c = a . b e s t _ s c o r e , d = b . b e s t _ s c o r e ; r e t u r n   c > d ? - 1 : c < d ? 1 : 0 } , s o r t C a p t i o n s B y N e w : f u n c t i o n ( a , b ) { v a r   c = n e w   D a t e ( a . d a t e t i m e ) , d = n e w   D a t e ( b . d a t e t i m e ) ; r e t u r n   c > d ? - 1 : c < d ? 1 : 0 } , s o r t C a p t i o n s B y M i n e J u s t S u b m i t t e d : f u n c t i o n ( a , b ) { r e t u r n " j u s t _ i n s e r t e d " i n   a & & ! ( " j u s t _ i n s e r t e d " i n   b ) ? - 1 : " j u s t _ i n s e r t e d " i n   b & & ! ( " j u s t _ i n s e r t e d " i n   a ) ? 1 : 0 } , s o r t C a p t i o n s B y I d : f u n c t i o n ( a , b ) { r e t u r n   a . i d < b . i d ? - 1 : a . i d > b . i d ? 1 : 0 } , s o r t C a p t i o n s B y I d D e s c : f u n c t i o n ( a , b ) { r e t u r n   a . i d > b . i d ? - 1 : a . i d < b . i d ? 1 : 0 } , b l a n k P a g e : f u n c t i o n ( ) { t h i s . _ . i s P r o m o t e d & & t h i s . r e m o v e P r o m o t e d C o m p a n i o n ( ) , h u m a n M s g . r e m o v e M s g ( f u n c t i o n ( ) { $ ( " # h u m a n M s g " ) . r e m o v e ( ) , h u m a n M s g . s e t u p ( ) } ) , t h i s . _ . f e t c h Q u e u e = [ ] } , p u s h T o F e t c h Q u e u e : f u n c t i o n ( a , b , c ) { t h i s . _ . f e t c h Q u e u e . p u s h ( _ . b i n d ( t h i s . f e t c h I m a g e , t h i s , a , b , c ) ) } , s e t u p R e p o r t L i n k : f u n c t i o n ( ) { v a r   a = t h i s . g e t H a s h ( ) , b = t h i s . _ . s i d e G a l l e r y . g e t I m a g e ( a ) , c = I m g u r . E n v i r o n m e n t . a u t h . u r l = = = t h i s . _ . i m a g e . a c c o u n t _ u r l | | ! t h i s . _ . c a p t i o n s E n a b l e d | | b . p r o m o I d | | b . r e a d o n l y ; t h i s . _ . e l . i n s i d e . r e p o r t I m a g e L i n k . t o g g l e C l a s s ( " n o d i s p l a y " , c ) , 1 = = $ . c o o k i e ( " r " + t h i s . g e t H a s h ( ) ) ? ( t h i s . _ . e l . i n s i d e . r e p o r t I m a g e L i n k . a d d C l a s s ( " r e d " ) . t e x t ( "   p o s t   r e p o r t e d " ) , t h i s . _ . e l . i n s i d e . r e p o r t I m a g e L i n k . u n b i n d ( " c l i c k " ) ) : ( t h i s . _ . e l . i n s i d e . r e p o r t I m a g e L i n k . r e m o v e C l a s s ( " r e d " ) . t e x t ( "   r e p o r t   p o s t " ) , t h i s . _ . e l . i n s i d e . r e p o r t I m a g e L i n k . u n b i n d ( " c l i c k " ) , t h i s . _ . e l . i n s i d e . r e p o r t I m a g e L i n k . c l i c k ( _ . b i n d ( f u n c t i o n ( ) { s e l f . _ . e m i t t e r . t r i g g e r ( " r e p o r t   i m a g e " ) } , t h i s ) ) ) } , h a n d l e A d s : f u n c t i o n ( ) { v a r   a = t h i s . g e t H a s h ( ) , b = t h i s . _ . s i d e G a l l e r y . g e t I m a g e ( a ) ; t h i s . _ . a d . i n j e c t A d & & ( ! t h i s . _ . i s H o t I m a g e & & b . i s _ h o t | | b . h a s O w n P r o p e r t y ( " i n _ g a l l e r y " ) & & b . i n _ g a l l e r y ) ? t h i s . s h o w A d s ( ) : t h i s . _ . a d . i n j e c t A d & & t h i s . _ . s e c t i o n & & 0 = = $ ( t h i s . _ . e l e m e n t s . a d W r a p p e r ) . l e n g t h & & t h i s . s h o w A d s ( ) } , i s S a f e : f u n c t i o n ( ) { v a r   a = t h i s . _ . s i d e G a l l e r y . g e t I m a g e ( t h i s . g e t H a s h ( ) ) ; r e t u r n ! ! a & & ( a . i s _ s a f e = = = ! 0 | | ! ( a . n s f w _ t a g | | a . n s f w | | a . h a s O w n P r o p e r t y ( " i n _ g a l l e r y " ) & & ! a . i n _ g a l l e r y | | a . i s _ m o d e r a t e d = = = ! 1 ) ) } , u p d a t e S p o n s o r e d I n f o : f u n c t i o n ( ) { v a r   a = t h i s . g e t H a s h ( ) ; t h i s . _ . e l e m e n t s , t h i s . _ . s i d e G a l l e r y . g e t I m a g e ( a ) ; t h i s . _ . e m i t t e r . t r i g g e r ( " d i s p l a y P r o m o t e d " , a ) } , u p d a t e S u b m i s s i o n I n f o : f u n c t i o n ( ) { v a r   a = t h i s . _ . s i d e G a l l e r y . g e t I m a g e ( t h i s . g e t H a s h ( ) ) ; a . t o p i c ? $ ( " # p o s t - t o p i c   o p t i o n " ) . e a c h ( f u n c t i o n ( ) { i f ( $ ( t h i s ) . t e x t ( ) = = a . t o p i c ) r e t u r n   $ ( t h i s ) . a t t r ( " s e l e c t e d " , ! 0 ) , ! 1 } ) : $ ( " # p o s t - t o p i c   o p t i o n " ) . e q ( 0 ) . a t t r ( " s e l e c t e d " , ! 0 ) } , u p d a t e P a g e : f u n c t i o n ( a , b ) { v a r   c = t h i s . g e t H a s h ( ) , d = t h i s . _ . e l e m e n t s , e = t h i s . _ . s i d e G a l l e r y . g e t I m a g e ( c ) , f = t h i s ; i f ( t h i s . _ . i m a g e = e , I m g u r . G a l l e r y . g e t I n s t a n c e ( ) . _ . a c c o u n t _ u r l = e . a c c o u n t _ u r l , a | | I m g u r . H i s t o r y . g e t I n s t a n c e ( ) . a d d W i n d o w S t a t e ( " i n s i d e _ n a v . i m a g e " , e . t i t l e , t h i s . g e t U R L ( { t y p e : " h i s t o r y S t a t e " , h a s h : c } ) ) , $ ( " . o p e n e d " ) . r e m o v e C l a s s ( " o p e n e d " ) , ! e . c o m m e n t s _ d i s a b l e d & & ( " c o m m e n t _ c o u n t " i n   e | | e . i s A d | | e . i n _ g a l l e r y ) ) { $ ( " # c o m m e n t s - c o n t a i n e r " ) . l e n g t h | | ( $ ( ' < d i v   i d = " c o m m e n t s - c o n t a i n e r " > ' ) . i n s e r t A f t e r ( " . p o s t - c o n t a i n e r " ) , t h i s . _ . c a p t i o n s E n a b l e d = ! 0 ) ; v a r   g = I m g u r . G a l l e r y . g e t I n s t a n c e ( ) ; i f ( n u l l = = = g . _ . s o r t ) { v a r   h = t h i s . _ . s i d e G a l l e r y . g e t G a l l e r y E n v i r o n m e n t ( ) ; g . _ . s o r t = h . s o r t , g . _ . w i n d o w = h . w i n d o w , g . _ . s e c t i o n = h . s e c t i o n } } e l s e   $ ( " # c o m m e n t s - c o n t a i n e r " ) . r e m o v e ( ) , t h i s . _ . c a p t i o n s E n a b l e d = ! 1 ; e . i s A d ? R e a c t D O M . r e n d e r ( R e a c t . c r e a t e E l e m e n t ( I m g u r . P r o m o t e d S p o t l i g h t , n u l l ) , d o c u m e n t . g e t E l e m e n t B y I d ( " p r o m o t e d - s p o t l i g h t " ) ) : R e a c t D O M . u n m o u n t C o m p o n e n t A t N o d e ( d o c u m e n t . g e t E l e m e n t B y I d ( " p r o m o t e d - s p o t l i g h t " ) ) , t h i s . b l a n k P a g e ( ) , t h i s . _ . i s P r o m o t e d = e . i s A d , " o b j e c t " = = = ( " u n d e f i n e d " = = t y p e o f   r u n S l o t s ? " u n d e f i n e d " : _ t y p e o f ( r u n S l o t s ) ) & & r u n S l o t s . g a l l e r y N a v ( e ) , " o b j e c t " = = = _ t y p e o f ( w i n d o w . c N E k D p H A x P ) & & w i n d o w . c N E k D p H A x P . p u s h ( f u n c t i o n ( a ) { a . r e c o r d P V ( ) } ) , t h i s . s e t u p R e p o r t L i n k ( ) , t h i s . _ . i s P r o m o t e d | | t h i s . h a n d l e A d s ( ) , t h i s . c h e c k A d T i m e ( ) , e . i s _ a l b u m & & I m g u r . U t i l . t r i g g e r V i e w ( e . h a s h , { a l b u m : ! 0 , d i s c a r d : ! 0 } ) ; e . i s A d ? _ . u n e s c a p e ( e . d e s c r i p t i o n ) : e . d e s c r i p t i o n ; i f ( n u l l = = e . t i t l e | | " u n t i t l e d " = = e . t i t l e ? I m g u r . N o t i f i c a t i o n . g e t I n s t a n c e ( ) . s e t T i t l e ( t h i s . _ . g a l l e r y T i t l e + "   -   I m g u r " ) : I m g u r . N o t i f i c a t i o n . g e t I n s t a n c e ( ) . s e t T i t l e ( e . t i t l e + "   -   I m g u r " ) , e . i s A d ? t h i s . u p d a t e S p o n s o r e d I n f o ( ) : t h i s . u p d a t e S u b m i s s i o n I n f o ( ) , e . c o m m e n t s _ d i s a b l e d | | ! t h i s . _ . c a p t i o n s E n a b l e d | | t h i s . _ . c a p t i o n I n s t a n c e . h a v e C a p t i o n s ( c ) ) f . i n s e r t P o s t ( e ) , t h i s . _ . c a p t i o n s E n a b l e d & & t h i s . p r o c e s s C a p t i o n s ( ) ; e l s e { i f ( t h i s . _ . i n s i d e C o m m e n t s A r e a ) { v a r   i = t h i s . _ . i n s i d e C o m m e n t s A r e a . p r o p s ; i . l o a d i n g = ! I m g u r . C a p t i o n . g e t I n s t a n c e ( ) . h a v e C a p t i o n s ( e . h a s h ) , i . i m a g e = e ; v a r   j = t h i s . _ . i n s i d e C o m m e n t s A r e a W i t h C o n t e x t ; t h i s . _ . i n s i d e C o m m e n t s A r e a = R e a c t D O M . r e n d e r ( R e a c t . c r e a t e E l e m e n t ( j , i ) , $ ( " # c o m m e n t s - c o n t a i n e r " ) . g e t ( 0 ) ) } t h i s . p u s h T o F e t c h Q u e u e ( c , f u n c t i o n ( a ) { f . i n s e r t P o s t ( a ) } , _ . b i n d ( t h i s . p r o c e s s C a p t i o n s , t h i s ) ) } e . i s _ a l b u m = = = ! 0 ? d . $ m e t a d a t a L i n k . a t t r ( " h r e f " , t h i s . _ . p r o t o c o l + t h i s . _ . c d n U R L + " / " + e . a l b u m _ c o v e r + e . e x t ) : d . $ m e t a d a t a L i n k . a t t r ( " h r e f " , t h i s . _ . p r o t o c o l + t h i s . _ . c d n U R L + " / " + e . h a s h + e . e x t ) , d . $ a c t i o n T a b s . h i d e ( ) , " u p " = = e . v o t e ? ( t h i s . _ . e l e m e n t s . $ v o t e U p . a d d C l a s s ( " p u s h e d " ) , t h i s . _ . e l e m e n t s . $ v o t e D o w n . r e m o v e C l a s s ( " p u s h e d " ) ) : " d o w n " = = e . v o t e ? ( t h i s . _ . e l e m e n t s . $ v o t e D o w n . a d d C l a s s ( " p u s h e d " ) , t h i s . _ . e l e m e n t s . $ v o t e U p . r e m o v e C l a s s ( " p u s h e d " ) ) : ( t h i s . _ . e l e m e n t s . $ v o t e D o w n . r e m o v e C l a s s ( " p u s h e d " ) , t h i s . _ . e l e m e n t s . $ v o t e U p . r e m o v e C l a s s ( " p u s h e d " ) ) ; v a r   k = t h i s . _ . s i d e G a l l e r y . g e t N e x t I m a g e ( ) ; n u l l ! = k & & t h i s . p u s h T o F e t c h Q u e u e ( k ) , $ ( " . t i p s y " ) . r e m o v e ( ) , I m g u r . U t i l . g o o g l e T r a c k P a g e v i e w ( ) , t h i s . p u r g e C o m m e n t D a t a ( ) , t h i s . u p d a t e C a p t i o n H a s h ( ) ; v a r   l = " i t e m " , m = I m g u r . G a l l e r y . g e t I n s t a n c e ( ) , n = m . g e t G a l l e r y M e t a d a t a ( l ) ; n . t a g s = [ ] , A r r a y . i s A r r a y ( e . g a l l e r y T a g s ) & & ( n . t a g s = e . g a l l e r y T a g s . m a p ( f u n c t i o n ( a ) { r e t u r n   a . t a g } ) ) , n . p r o m o t e d T a g G a l l e r y = m . i s P r o m o t e d T a g G a l l e r y ( n . t a g N a m e , e . g a l l e r y T a g s ) ; v a r   o = " u n d e f i n e d " ! = t y p e o f   I m g u r . G a l l e r y , p = ! ! e . i s A d , q = e . n s f w , r = e . p r o m o t e d P o s t R e q u e s t E x p e c t e d , s = _ . e x t e n d ( n , { h a s h : e . h a s h , p r o m o t e d : p , w a s I n s e r t e d : p , i n G a l l e r y : o , i s A l b u m : e . i s _ a l b u m , s h o w s A d s : e . a d C o n f i g & & e . a d C o n f i g . s h o w s A d s , n s f w : q , g a l l e r y E n t r y : n u l l } ) ; " u n d e f i n e d " ! = t y p e o f   e . p r o m o t e d P o s t R e q u e s t E x p e c t e d & & ( s . p r o m o t e d P o s t R e q u e s t E x p e c t e d = e . p r o m o t e d P o s t R e q u e s t E x p e c t e d ) , " s t r i n g " = = t y p e o f   e . s u b r e d d i t & & ( s . s u b r e d d i t = e . s u b r e d d i t ) ; t r y { " s t r i n g " = = t y p e o f   e . r e d d i t & & " s t r i n g " = = t y p e o f   e . h o t _ d a t e t i m e ? s . g a l l e r y E n t r y = m o m e n t . u t c ( e . h o t _ d a t e t i m e , " Y Y Y Y - M M - D D   H H : m m : s s " ) . v a l u e O f ( ) : " s t r i n g " = = t y p e o f   e . t i m e s t a m p & & ( s . g a l l e r y E n t r y = m o m e n t . u t c ( e . t i m e s t a m p , " Y Y Y Y - M M - D D   H H : m m : s s " ) . v a l u e O f ( ) ) } c a t c h ( t ) { s . g a l l e r y E n t r y = n u l l } t h i s . _ . d e p t h + = a ? - 1 : 1 , s . d e p t h = t h i s . _ . d e p t h , I m g u r . U t i l . j a f o L o g ( { e v e n t : l , m e t a : s } ) , t h i s . _ . i m a g e J a f o M e t a = s , t h i s . u p d a t e S h a r e ( ) ; v a r   u = I m g u r . G a l l e r y . g e t I n s t a n c e ( ) . g e t G a l l e r y M e t a d a t a ( ) ; I m g u r . P o s t V i e w S u m m a r y . V i e w e d P o s t ( u , p , q , r ) } , p u r g e C o m m e n t D a t a : f u n c t i o n ( ) { v a r   a = t h i s , b = O b j e c t . k e y s ( t h i s . _ . c a p t i o n I n s t a n c e . _ . c a p t i o n s ) . f i l t e r ( f u n c t i o n ( b ) { r e t u r n   O b j e c t . h a s O w n P r o p e r t y . c a l l ( a . _ . c a p t i o n I n s t a n c e . _ . c a p t i o n s , b ) & & ( a . i s I m a g e N e a r b y ( b ) | | a . i s I m a g e P r o m o t e d ( b ) ) } ) ; t h i s . _ . c a p t i o n I n s t a n c e . p u r g e C a p t i o n D a t a ( b ) } , i s I m a g e P r o m o t e d : f u n c t i o n ( a ) { v a r   b = t h i s . _ . s i d e G a l l e r y . g e t I m a g e ( a ) ; r e t u r n   b . i s A d } , i s I m a g e N e a r b y : f u n c t i o n ( a ) { v a r   b = t h i s . _ . s i d e G a l l e r y . s e l e c t e d P o s i t i o n ( ) , c = t h i s . _ . s i d e G a l l e r y . h a s h P o s i t i o n ( a ) ; r e t u r n   c ! = = - 1 & & c > = b - 3 & & c < = b + 1 } , _ p r o m o t e d T a g : f u n c t i o n ( a , b ) { v a r   c = R e a c t . D O M . d i v ( { c l a s s N a m e : " p r o m o t e d - t a g " } , R e a c t . D O M . a ( { h r e f : I m g u r . E n v i r o n m e n t . p p B l o g , c l a s s N a m e : " t i t l e " , t i t l e : " l e a r n   m o r e   a b o u t   p r o m o t e d   p o s t s " } , " p r o m o t e d " ) ) ; r e t u r n   c } , _ p r o m o t e d W r a p : f u n c t i o n ( a ) { r e t u r n   R e a c t . D O M . d i v ( { c l a s s N a m e : " p r o m o t e d - w r a p " } , t h i s . _ p r o m o t e d T a g ( ) , a ) } , i n s e r t P o s t : f u n c t i o n ( a , b ) { i f ( a . h a s h = = t h i s . g e t H a s h ( ) ) { i f ( a . i s _ a l b u m & & n u l l = = t h i s . _ . a l b u m I m a g e S t o r e . g e t I m a g e s ( a . h a s h ) ) r e t u r n   v o i d   t h i s . _ . a l b u m I m a g e S t o r e . f e t c h I m a g e s ( a . h a s h , _ . b i n d ( t h i s . i n s e r t P o s t , t h i s , t h i s . _ . s i d e G a l l e r y . g e t I m a g e ( a . h a s h ) | | a , b ) ) ; v a r   c = t h i s . _ . h a s A c c e s s & & ! I m g u r . E n v i r o n m e n t . c a p t i o n s E n a b l e d ; i f ( c & & a . i s _ a l b u m ) { v a r   d = { i n s t a n c e : " a l b u m " , e m i t t e r : t h i s . _ . e m i t t e r , h a s h : a . h a s h , p r i v a c y : a . a l b u m _ p r i v a c y , d e l e t e h a s h : a . d e l e t e h a s h , d a t e t i m e : a . d a t e t i m e , i m a g e s : t h i s . _ . a l b u m I m a g e S t o r e . g e t I m a g e s ( a . h a s h ) , l i n k i f i e r : t h i s . _ . l i n k i f i e r , d a t a : a , h o s t : I m g u r . E n v i r o n m e n t . h o s t } ; R e a c t D O M . r e n d e r ( R e a c t . c r e a t e E l e m e n t ( I m g u r . U p l o a d , d ) , d o c u m e n t . g e t E l e m e n t B y I d ( " u p l o a d - a l b u m " ) , _ . b i n d ( t h i s . r e c a c h e P o s t E l e m e n t s , t h i s ) ) , t h i s . _ . e l e m e n t s . $ i n s i d e . e m p t y ( ) } e l s e { v a r   e = { d a t a : a , i n i t i a l : t h i s . _ . i n i t i a l I m a g e , a l l _ l o a d e d : b , a l b u m _ i m a g e _ s t o r e : t h i s . _ . a l b u m I m a g e S t o r e , i n _ g a l l e r y : t h i s . _ . c a p t i o n s E n a b l e d | | a . i s A d & & a . h a s O w n P r o p e r t y ( " s t a r t i n g _ s c o r e " ) , h a s _ a c c e s s : t h i s . _ . h a s A c c e s s , p o s t S a v i n g S t o r e : t h i s . _ . p o s t S a v i n g S t o r e , s h o w E d i t T o o l s : c , e m i t t e r : t h i s . _ . e m i t t e r , h i d e _ p o i n t s : ! t h i s . _ . c a p t i o n s E n a b l e d | | t h i s . _ . i s P r o m o t e d | | t h i s . _ . i m a g e . a d _ t y p e > 0 , h i d e _ v i e w s : t h i s . _ . i s P r o m o t e d | | t h i s . _ . i m a g e . a d _ t y p e > 0 , h i d e _ t a g s : ! t h i s . _ . c a p t i o n s E n a b l e d , h i d e _ r e p o r t : I m g u r . E n v i r o n m e n t . a u t h . u r l = = = a . a c c o u n t _ u r l | | t h i s . _ . i s P r o m o t e d , l i n k i f i e r : t h i s . _ . l i n k i f i e r , s i d e G a l l e r y : t h i s . _ . s i d e G a l l e r y , t a g S t o r e : t h i s . _ . t a g S t o r e } ; t h i s . _ . p o s t = R e a c t D O M . r e n d e r ( R e a c t . c r e a t e E l e m e n t ( I m g u r . G a l l e r y . P o s t , e ) , $ ( " . p o s t - i m a g e s " ) . g e t ( 0 ) , _ . b i n d ( t h i s . p o s t R e n d e r e d , t h i s ) ) } } } , p o s t R e n d e r e d : f u n c t i o n ( ) { t h i s . _ . e m i t t e r . t r i g g e r ( " p o s t R e n d e r e d " , t h i s . _ . s i d e G a l l e r y & & t h i s . _ . s i d e G a l l e r y . g e t I m a g e ? t h i s . _ . s i d e G a l l e r y . g e t I m a g e ( t h i s . g e t H a s h ( ) ) : { } ) } , r e c a c h e P o s t E l e m e n t s : f u n c t i o n ( ) { t h i s . _ . e l e m e n t s . $ p o s t A c t i o n B a r = $ ( " . p o s t - a c t i o n " ) , t h i s . _ . e l e m e n t s . $ p o s t H e a d e r = $ ( " . p o s t - h e a d e r " ) , t h i s . _ . e l e m e n t s . $ p o s t C o n t a i n e r = $ ( " . p o s t - c o n t a i n e r " ) , t h i s . _ . e m i t t e r . t r i g g e r ( " p o s t R e n d e r i n g " , t h i s . _ . s i d e G a l l e r y & & t h i s . _ . s i d e G a l l e r y . g e t I m a g e ? t h i s . _ . s i d e G a l l e r y . g e t I m a g e ( t h i s . g e t H a s h ( ) ) : { } ) } , p r e l o a d I m a g e : f u n c t i o n ( a ) { v a r   b , c = " . g i f " = = a . e x t & & a . a n i m a t e d & & a . s i z e > 2 0 9 7 1 5 2 ; i f ( c ) { v a r   d = d o c u m e n t . c r e a t e E l e m e n t ( " v i d e o " ) , e = d o c u m e n t . c r e a t e E l e m e n t ( " s o u r c e " ) ; d . c a n P l a y T y p e & & ( e . s r c = I m g u r . E n v i r o n m e n t . c d n U r l + " / " + a . h a s h + " . m p 4 " ) , d . a p p e n d C h i l d ( e ) , b = d } e l s e { v a r   f = d o c u m e n t . c r e a t e E l e m e n t ( " i m g " ) ; f . s r c = I m g u r . E n v i r o n m e n t . c d n U r l + " / " + a . h a s h + a . e x t , b = f } v a r   g = f u n c t i o n ( ) { b & & ( c ? $ ( b ) . f i n d ( " s o u r c e " ) . a t t r ( " s r c " , " " ) : $ ( b ) . a t t r ( " s r c " , " " ) , b = n u l l ) } ; b . o n l o a d = b . o n e r r o r = g , t h i s . _ . e m i t t e r . o n c e ( " s e l e c t " , n u l l , g ) } , c h e c k A d T i m e : f u n c t i o n ( ) { v a r   a = ( t h i s . _ . e l e m e n t s , t h i s ) ; i f ( t h i s . _ . a d . n e x t I m a g e L o a d R e f r e s h e s A d ) { a . _ . e l e m e n t s ; i f ( w i n d o w . u s e s A B P & & " u n d e f i n e d " ! = t y p e o f   w i n d o w . a b p _ a d ) { t h i s . _ . a d . a b p A d I d . r e m o v e C l a s s ( " n o d i s p l a y " ) ; t r y { g o o g l e t a g . p u b a d s ( ) . r e f r e s h ( [ w i n d o w . a b p _ a d ] ) } c a t c h ( b ) { } } e l s e   i f ( " u n d e f i n e d " ! = t y p e o f   w i n d o w . d f p _ a d s l o t ) t r y { a . _ . e l e m e n t s . a d f r a m e . c o n t e n t W i n d o w . t a g R e f r e s h ( ) } c a t c h ( b ) { } i f ( " u n d e f i n e d " ! = t y p e o f   w i n d o w . l e a d e r b o a r d _ s l o t & & w i n d o w . l e a d e r b o a r d _ s l o t & & ! I m g u r . E n v i r o n m e n t . a u t h . i d ) t r y { w i n d o w . l e a d e r b o a r d _ s l o t . s e t T a r g e t i n g ( " u r l " , l o c a t i o n . h r e f ) , g o o g l e t a g . p u b a d s ( ) . r e f r e s h ( [ w i n d o w . l e a d e r b o a r d _ s l o t ] ) } c a t c h ( b ) { } t h i s . _ . c a p t i o n s E n a b l e d | | I m g u r . E n v i r o n m e n t . a u t h . i d | | ( $ ( " . t r c _ r b o x " ) . r e m o v e ( ) , w i n d o w . _ t a b o o l a = w i n d o w . _ t a b o o l a | | [ ] , _ t a b o o l a . p u s h ( { m o d e : " t h u m b n a i l s - a " , c o n t a i n e r : " t a b o o l a - b e l o w - a r t i c l e - t h u m b n a i l s " , p l a c e m e n t : " L o g g e d O u t _ N o n G a l l e r y " , t a r g e t _ t y p e : " m i x " } ) , w i n d o w . _ t a b o o l a = w i n d o w . _ t a b o o l a | | [ ] , _ t a b o o l a . p u s h ( { f l u s h : ! 0 } ) ) , t h i s . _ . a d . n e x t I m a g e L o a d R e f r e s h e s A d = ! 1 , w i n d o w . c l e a r T i m e o u t ( t h i s . _ . a d . c u r r e n t T i m e o u t ) , t h i s . _ . a d . c u r r e n t T i m e o u t = w i n d o w . s e t T i m e o u t ( f u n c t i o n ( ) { a . _ . a d . n e x t I m a g e L o a d R e f r e s h e s A d = ! 0 , a . _ . a d . c u r r e n t T i m e o u t = v o i d   0 } , t h i s . _ . a d . t i m e T i l l R e f r e s h ) } e l s e   t h i s . _ . a d . c u r r e n t T i m e o u t | | ( t h i s . _ . a d . c u r r e n t T i m e o u t = w i n d o w . s e t T i m e o u t ( f u n c t i o n ( ) { a . _ . a d . n e x t I m a g e L o a d R e f r e s h e s A d = ! 0 , a . _ . a d . c u r r e n t T i m e o u t = v o i d   0 } , t h i s . _ . a d . t i m e T i l l R e f r e s h ) ) } , r e m o v e P r o m o t e d C o m p a n i o n : f u n c t i o n ( ) { $ ( t h i s . _ . e l e m e n t s . p r o m o C o m p a n i o n ) . r e m o v e ( ) } , s h o w A d s : f u n c t i o n ( a , b ) { i f ( a & & ( t h i s . _ . a d T y p e = " n o r m a l " , " u n d e f i n e d " = = t y p e o f   I m g u r . g e t I n s t a n c e ( ) . _ . a u t h | | I m g u r . g e t I n s t a n c e ( ) . _ . a u t h . i s P r o ! = = ! 0 ) ) { v a r   c , d , e , f , g = t h i s . g e t H a s h ( ) , h = t h i s . _ . s i d e G a l l e r y . g e t I m a g e ( g ) , i = " / / " + I m g u r . E n v i r o n m e n t . h o s t + " / a d s ? p a g e = " ; i f ( " h t t p s : " = = d o c u m e n t . l o c a t i o n . p r o t o c o l ? ( c = " d i v - g p t - a d - 1 3 7 8 4 4 9 2 1 5 0 4 4 - 0 " , i + = " s s l " ) : h . h a s O w n P r o p e r t y ( " i n _ g a l l e r y " ) ? ( c = " d i v - g p t - a d - 1 3 4 5 4 3 6 9 5 9 7 3 7 - 0 " , i + = " i n s i d e " ) : ( c = " d i v - g p t - a d - 1 4 0 7 3 5 7 8 4 1 0 3 1 - 0 " , i + = " i n s i d e & m a i n = 1 & h o t = 1 " ) , ! w i n d o w . u s e s A B P ) { v a r   j = $ ( " # r i g h t - c o n t e n t   # u n d e r - s i d e b a r - p a r e n t . a d v e r t i s e m e n t " ) ; j . l e n g t h | | $ ( " # r i g h t - c o n t e n t   # s i d e - g a l l e r y " ) . a f t e r ( ' < d i v   c l a s s = " a d v e r t i s e m e n t " > < / d i v > ' ) , d = $ ( " # r i g h t - c o n t e n t   # u n d e r - s i d e b a r - p a r e n t . a d v e r t i s e m e n t   . p a n e l - a d " ) , e = $ ( " # r i g h t - c o n t e n t   # u n d e r - s i d e b a r - p a r e n t . a d v e r t i s e m e n t   . c u s t o m - a d " ) , a ? ( d . l e n g t h & & d . a d d C l a s s ( " n o d i s p l a y " ) , e . l e n g t h < 1 & & ( $ ( " # r i g h t - c o n t e n t   # u n d e r - s i d e b a r - p a r e n t . a d v e r t i s e m e n t " ) . a p p e n d ( ' < d i v   c l a s s = " c u s t o m - a d " > ' + a + " < / d i v > " ) , e = $ ( " # r i g h t - c o n t e n t   # u n d e r - s i d e b a r - p a r e n t . a d v e r t i s e m e n t   . c u s t o m - a d " ) ) , e . h t m l ( a ) , f = e ) : ( e . r e m o v e ( ) , d . h t m l ( ' < i f r a m e   i d = " a d i f r a m e "   c l a s s = " a d f r a m e "   s r c = " ' + i + ' "   s c r o l l i n g = " n o "   f r a m e B o r d e r = " 0 " > < / i f r a m e > ' ) , f = d ) , a | | ( t h i s . _ . e l e m e n t s . a d f r a m e = $ ( " # a d i f r a m e " ) . g e t ( 0 ) ) } t h i s . _ . a d . n e x t I m a g e L o a d R e f r e s h e s A d = ! 0 , t h i s . _ . a d . i n j e c t A d = ! 1 , " f u n c t i o n " = = t y p e o f   b & & b . a p p l y ( w i n d o w , [ a , f ] ) } } , r e p o r t B a d A d s : f u n c t i o n ( ) { r u n S l o t s . b l o c k e d ( ) ? h u m a n M s g . d i s p l a y M s g ( " W e  v e   d e t e c t e d   t h a t   y o u   h a v e   a n   a d   b l o c k e r   e n a b l e d .   I f   y o u  d   l i k e   t o   h e l p   r e p o r t   a d s   a n d   s u p p o r t   I m g u r ,   p l e a s e   c o n s i d e r   w h i t e l i s t i n g   u s . " , " e r r o r - m s g " ) : R e a c t D O M . r e n d e r ( R e a c t . c r e a t e E l e m e n t ( I m g u r . R e p o r t B a d A d s , n u l l ) , d o c u m e n t . g e t E l e m e n t B y I d ( " r e p o r t - b a d - a d s - m o d a l " ) ) } , h i d e Z o o m e d I m a g e : f u n c t i o n ( ) { $ ( " . j q u e r y - i m a g e - z o o m " ) . i s ( " : v i s i b l e " ) & & $ ( " d i v . j q u e r y - i m a g e - z o o m   a " ) . c l i c k ( ) , $ . c o l o r b o x . c l o s e ( ) } , t i m e o u t N e x t I m a g e : f u n c t i o n ( ) { i f ( t h i s . _ . a u t o B r o w s e & & ! t h i s . _ . a u t o B r o w s e T i m e o u t ) { v a r   a = t h i s . _ . a u t o B r o w s e W a i t , b = t h i s ; t h i s . _ . a u t o B r o w s e T i m e o u t = s e t T i m e o u t ( f u n c t i o n ( ) { b . _ . a u t o B r o w s e T i m e o u t = n u l l , b . _ . e m i t t e r . t r i g g e r ( " b u t t o n N a v " , " n e x t " ) } , a ) } e l s e   t h i s . _ . a u t o B r o w s e & & ( w i n d o w . c l e a r T i m e o u t ( t h i s . _ . a u t o B r o w s e T i m e o u t ) , t h i s . _ . a u t o B r o w s e T i m e o u t = n u l l , t h i s . t i m e o u t N e x t I m a g e ( ) ) } , b i n d A u t o B r o w s e : f u n c t i o n ( ) { v a r   a = t h i s ; $ ( d o c u m e n t ) . k e y u p ( f u n c t i o n ( b ) { r e t u r n   b . c t r l K e y & & 1 2 0 = = = b . k e y C o d e & & ( a . _ . a u t o B r o w s e = ! a . _ . a u t o B r o w s e , a . _ . a u t o B r o w s e ? ( a . t i m e o u t N e x t I m a g e ( ) , h u m a n M s g . d i s p l a y M s g ( " S t a r t i n g   a u t o   b r o w s e   i n   " + M a t h . c e i l ( a . _ . a u t o B r o w s e W a i t / 1 e 3 ) + "   s e c o n d s ! " ) ) : ( c l e a r T i m e o u t ( a . _ . a u t o B r o w s e T i m e o u t ) , h u m a n M s g . d i s p l a y M s g ( " D o n e   a l r e a d y ? " ) ) ) , ! 0 } ) } , n a v T o I m a g e : f u n c t i o n ( a , b ) { i f ( ! ( " h a s h " i n   a & & t h i s . _ . h a s h = = a . h a s h ) ) { v a r   c = t h i s . g e t H a s h ( ) ; t h i s . _ . i n i t i a l I m a g e = ! 1 , t h i s . h i d e Z o o m e d I m a g e ( ) , t h i s . s e t H a s h ( a . h a s h ) , t h i s . u p d a t e P a g e ( b , c ) , t h i s . t i m e o u t N e x t I m a g e ( ) , t h i s . _ . e m i t t e r . t r i g g e r ( " n a v T o I m a g e " , t h i s . g e t H a s h ( ) ) } } , l o g N a v i g a t i o n : f u n c t i o n ( a , b , c ) { " i n s e r t e d " ! = = b & & I m g u r . U t i l . j a f o L o g ( { e v e n t : " g a l l e r y N a v " , m e t a : _ . e x t e n d ( I m g u r . G a l l e r y . g e t I n s t a n c e ( ) . g e t G a l l e r y M e t a d a t a ( ) , { r e c o m m e n d a t i o n s B o x : " r e c o m m e n d a t i o n C l i c k " = = = b , d i r e c t i o n : a , t r i g g e r : b , t a r g e t e d : c . h a s h , v i s i b l e T o o l t i p : t h i s . _ . t o o l t i p & & t h i s . _ . t o o l t i p . s h o w i n g ( ) ? t h i s . _ . t o o l t i p . n a m e ( ) : n u l l , l a y o u t : t h i s . _ . s i d e G a l l e r y . s t a t e . l a y o u t , p o s i t i o n : t h i s . _ . s i d e G a l l e r y . s e l e c t e d P o s i t i o n ( ) + 1 + ( " n e x t " = = a ? 1 : - 1 ) , r e c B o x P o s i t i o n : c . r e c B o x P o s i t i o n } ) } ) } , i s I n v a l i d K e y C o n t e x t : f u n c t i o n ( a ) { v a r   b = $ ( a . t a r g e t ) ; r e t u r n " t r u e " = = = b . a t t r ( " c o n t e n t e d i t a b l e " ) | | ( ! ! ( a . c t r l K e y | | a . a l t K e y | | a . m e t a K e y ) | | b . i s ( " i n p u t ,   t e x t a r e a " ) ) } , b i n d H o t K e y s : f u n c t i o n ( ) { v a r   a = t h i s ; t h i s . _ . e m i t t e r . o n ( " b l o c k H o t K e y s " , n u l l , f u n c t i o n ( b ) { a . h o t K e y s B l o c k e d = b } ) ; v a r   b = { A R R O W _ L E F T : [ 3 7 ] , A R R O W _ R I G H T : [ 3 9 ] , E N T E R : [ 1 3 ] , M I N U S : [ 1 0 9 , 1 8 9 ] , P L U S : [ 1 8 7 , 6 1 , 1 0 7 ] , N I N E : [ 5 7 , 1 0 5 ] , Z E R O : [ 4 5 , 4 8 , 9 6 ] , R : [ 8 2 ] , S : [ 8 3 ] } ; n a v i g a t o r . u s e r A g e n t . t o L o w e r C a s e ( ) . i n d e x O f ( " f i r e f o x " ) > - 1 & & b . M I N U S . p u s h ( 1 7 3 ) , $ ( d o c u m e n t ) . k e y d o w n ( _ . t h r o t t l e ( f u n c t i o n ( c ) { i f ( ! a . h o t K e y s B l o c k e d ) { i f ( ! a . i s I n v a l i d K e y C o n t e x t ( c ) ) { i f ( b . A R R O W _ L E F T . i n d e x O f ( c . k e y C o d e ) ! = = - 1 & & a . _ . s i d e G a l l e r y . g e t P r e v I m a g e ( ) ) c . p r e v e n t D e f a u l t ( ) , a . _ . e m i t t e r . t r i g g e r ( " k e y b o a r d N a v " , " p r e v " ) ; e l s e   i f ( b . A R R O W _ R I G H T . i n d e x O f ( c . k e y C o d e ) ! = = - 1 & & a . _ . s i d e G a l l e r y . g e t N e x t I m a g e ( ) ) { i f ( I m g u r . E n v i r o n m e n t . h a s A c c e s s & & ! I m g u r . E n v i r o n m e n t . c a p t i o n s E n a b l e d ) r e t u r n ! 0 ; c . p r e v e n t D e f a u l t ( ) , a . _ . e m i t t e r . t r i g g e r ( " k e y b o a r d N a v " , " n e x t " ) } e l s e   i f ( b . E N T E R . i n d e x O f ( c . k e y C o d e ) ! = = - 1 ) { v a r   d = $ ( " . j q u e r y - i m a g e - z o o m " ) ; i f ( d . l e n g t h ) d . c l i c k ( ) ; e l s e { v a r   e = $ ( " . p o s t - i m a g e   i m g " ) ; e . l e n g t h & & e [ 0 ] . c l i c k ( ) } } e l s e   i f ( b . M I N U S . i n d e x O f ( c . k e y C o d e ) ! = = - 1 & & a . _ . c a p t i o n s E n a b l e d ) { v a r   f = $ ( " . p o s t - a c t i o n - d o w n v o t e " ) ; f . l e n g t h & & ! f . h a s C l a s s ( " r e d " ) & & h u m a n M s g . d i s p l a y M s g ( ' < d i v   c l a s s = " f a v o r i t e d   d o w n v o t e d _ m s g " > < / d i v > ' , " a c t i o n - m s g " ) ; v a r   g = n e w   M o u s e E v e n t ( " m o u s e u p " , { v i e w : w i n d o w , b u b b l e s : ! 0 , c a n c e l a b l e : ! 0 } ) ; f [ 0 ] . d i s p a t c h E v e n t ( g ) } e l s e   i f ( b . P L U S . i n d e x O f ( c . k e y C o d e ) ! = = - 1 & & a . _ . c a p t i o n s E n a b l e d ) { v a r   f = $ ( " . p o s t - a c t i o n - u p v o t e " ) ; f . l e n g t h & & ! f . h a s C l a s s ( " g r e e n " ) & & h u m a n M s g . d i s p l a y M s g ( ' < d i v   c l a s s = " f a v o r i t e d   u p v o t e d _ m s g " > < / d i v > ' , " a c t i o n - m s g " ) ; v a r   g = n e w   M o u s e E v e n t ( " m o u s e u p " , { v i e w : w i n d o w , b u b b l e s : ! 0 , c a n c e l a b l e : ! 0 } ) ; f [ 0 ] . d i s p a t c h E v e n t ( g ) } e l s e   i f ( b . N I N E . i n d e x O f ( c . k e y C o d e ) ! = = - 1 ) a . _ . p o s t ? a . _ . p o s t . l o a d A l l ( ) : $ ( " . p o s t - l o a d a l l " ) . c l i c k ( ) ; e l s e   i f ( b . S . i n d e x O f ( c . k e y C o d e ) ! = = - 1 ) $ ( " . p o s t - a c t i o n - s t a t s " ) . c l i c k ( ) ; e l s e   i f ( b . R . i n d e x O f ( c . k e y C o d e ) ! = = - 1 ) a . r e p o r t B a d A d s ( ) ; e l s e   i f ( b . Z E R O . i n d e x O f ( c . k e y C o d e ) ! = = - 1 ) { v a r   h = $ ( " . p o s t - a c t i o n - f a v o r i t e " ) ; h . l e n g t h & & ! h . h a s C l a s s ( " a q u a " ) ? h u m a n M s g . d i s p l a y M s g ( ' < d i v   c l a s s = " f a v o r i t e d " > < / d i v > ' , " a c t i o n - m s g " ) : h u m a n M s g . d i s p l a y M s g ( ' < d i v   c l a s s = " f a v o r i t e d   u n f a v o r i t e d " > < / d i v > ' , " a c t i o n - m s g " ) ; v a r   g = n e w   M o u s e E v e n t ( " m o u s e u p " , { v i e w : w i n d o w , b u b b l e s : ! 0 , c a n c e l a b l e : ! 0 } ) ; h [ 0 ] . d i s p a t c h E v e n t ( g ) } r e t u r n ! 0 } r e t u r n ! 0 } } , 1 0 0 ) ) , t h i s . _ . i s R a n d o m & & t h i s . _ . e l e m e n t s . $ r a n d o m B u t t o n . c l i c k ( f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) , s e l f . _ . e m i t t e r . t r i g g e r ( " k e y b o a r d N a v " , " n e x t " ) } ) } , g e t S i d e G a l l e r y : f u n c t i o n ( ) { r e t u r n   t h i s . _ . s i d e G a l l e r y } , f o r c e S c r o l l T o C a p t i o n : f u n c t i o n ( ) { v a r   a = d o c u m e n t . l o c a t i o n . h a s h . s u b s t r ( 1 ) , b = p a r s e I n t ( a , 1 0 ) ; i f ( ! i s N a N ( b ) ) { v a r   c = $ ( " # c a p t i o n - " + a ) ; t h i s . s c r o l l T o C a p t i o n ( c ) } } , s c r o l l T o C a p t i o n : f u n c t i o n ( a ) { v a r   b = a . o f f s e t ( ) . t o p ; $ ( " b o d y " ) . s c r o l l T o p ( b ) ; v a r   c = a . f i n d ( " . t e x t b o x " ) . f i r s t ( ) ; c . a d d C l a s s ( " f l a s h " ) , s e t T i m e o u t ( f u n c t i o n ( ) { c . r e m o v e C l a s s ( " f l a s h " ) } , 2 e 3 ) } } ) , C l a s s . a d d S i n g l e t o n ( I m g u r . I n s i d e N a v ) , N a m e s p a c e ( " I m g u r . F u l l s c r e e n " ) , I m g u r . F u l l s c r e e n = C l a s s . e x t e n d ( { i n i t : f u n c t i o n ( a ) { t h i s . _ = $ . e x t e n d ( { s i g n e d : I m g u r . g e t I n s t a n c e ( ) . _ . s i g n e d , e l : { $ f u l l s c r e e n B o x : $ ( " . f u l l s c r e e n B o x " ) , $ f u l l s c r e e n L i n k : $ ( " . a l b u m - f u l l s c r e e n - l i n k " ) , $ u s e r A c t i o n L i n k s : $ ( " . u s e r A c t i o n L i n k s " ) , $ e m b e d : $ ( " # f u l l s c r e e n E m b e d " ) } } , a ) , w i n d o w . f u l l S c r e e n A p i & & f u l l S c r e e n A p i . s u p p o r t s F u l l S c r e e n & & t h i s . _ . e l . $ e m b e d . l e n g t h & & ( t h i s . _ . s i g n e d & & ( t h i s . _ . e l . $ f u l l s c r e e n B o x . h i d e ( ) , t h i s . _ . e l . $ f u l l s c r e e n B o x = $ ( " . f u l l s c r e e n A l b u m O p t i o n s " ) , t h i s . _ . e l . $ f u l l s c r e e n L i n k = $ ( " . f u l l s c r e e n A l b u m O p t i o n s   . a l b u m - f u l l s c r e e n - l i n k " ) ) , t h i s . _ . e l . $ f u l l s c r e e n L i n k . l e n g t h & & ( t h i s . _ . e l . $ f u l l s c r e e n L i n k . u n b i n d ( " c l i c k " ) , t h i s . _ . e l . $ f u l l s c r e e n L i n k [ 0 ] . r e m o v e E v e n t L i s t e n e r ( " c l i c k " , t h i s . v i e w F u l l s c r e e n ) , t h i s . _ . e l . $ f u l l s c r e e n L i n k [ 0 ] . a d d E v e n t L i s t e n e r ( " c l i c k " , t h i s . v i e w F u l l s c r e e n , ! 0 ) ) , t h i s . _ . e l . $ u s e r A c t i o n L i n k s . h a s C l a s s ( " v e r t i c a l " ) & & t h i s . _ . e l . $ u s e r A c t i o n L i n k s . c s s ( { " l i n e - h e i g h t " : " 2 2 p x " , p a d d i n g : " 8 p x " , " f o n t - s i z e " : " 1 3 p x " } ) , t h i s . _ . e l . $ e m b e d . a t t r ( " s r c " , " " ) , t h i s . _ . e l . $ f u l l s c r e e n B o x . s h o w ( ) ) } , v i e w F u l l s c r e e n : f u n c t i o n ( ) { v a r   a = I m g u r . F u l l s c r e e n . g e t I n s t a n c e ( ) , b = a . _ . e l . $ e m b e d , c = b [ 0 ] ; i f ( a . _ . e l . $ e m b e d . l e n g t h ) { i f ( ! a . _ . e l . $ e m b e d . a t t r ( " s r c " ) | | ! a . _ . e l . $ e m b e d . a t t r ( " s r c " ) . l e n g t h ) r e t u r n   a . _ . e l . $ e m b e d . a t t r ( " s r c " , " / a / " + I m g u r . A l b u m . g e t I n s t a n c e ( ) . _ . i d + " / e m b e d " ) , 
 $ ( a . _ . e l . $ e m b e d [ 0 ] . c o n t e n t D o c u m e n t ) . r e a d y ( a . v i e w F u l l s c r e e n ) , v o i d   h u m a n M s g . d i s p l a y M s g ( " S t a r t i n g   f u l l s c r e e n   m o d e . . . " ) } e l s e   s e t T i m e o u t ( a . v i e w F u l l s c r e e n , 8 0 ) ; a . _ . e l . $ e m b e d . s h o w ( ) , w i n d o w . f u l l S c r e e n A p i . r e q u e s t F u l l S c r e e n ( c ) , s e t T i m e o u t ( a . f o c u s O v e r l a y A f t e r O p e n , 9 9 ) ; v a r   d = s e t I n t e r v a l ( f u n c t i o n ( ) { a . s h o w O v e r l a y I f O p e n ( d ) } , 1 0 0 ) , e = s e t I n t e r v a l ( f u n c t i o n ( ) { a . c l o s e O v e r l a y I f E x i t e d ( e ) } , 1 0 0 ) } , f o c u s O v e r l a y A f t e r O p e n : f u n c t i o n ( ) { v a r   a = I m g u r . F u l l s c r e e n . g e t I n s t a n c e ( ) ; f u l l S c r e e n A p i . i s F u l l S c r e e n ( ) ? ( a . _ . e l . $ e m b e d [ 0 ] . c o n t e n t W i n d o w . f o c u s ( ) , $ ( a . _ . e l . $ e m b e d [ 0 ] . c o n t e n t W i n d o w ) . k e y d o w n ( f u n c t i o n ( b ) { 2 7 = = b . w h i c h & & a . _ . e l . $ e m b e d . h i d e ( ) , b . s t o p P r o p a g a t i o n ( ) } ) ) : ( w i n d o w . f u l l S c r e e n A p i . r e q u e s t F u l l S c r e e n ( a . _ . e l . $ e m b e d [ 0 ] ) , s e t T i m e o u t ( a . f o c u s O v e r l a y A f t e r O p e n , 2 0 0 ) ) } , s h o w O v e r l a y I f O p e n : f u n c t i o n ( a ) { v a r   b = I m g u r . F u l l s c r e e n . g e t I n s t a n c e ( ) ; b . _ . e l . $ e m b e d . i s ( " : v i s i b l e " ) ? c l e a r I n t e r v a l ( a ) : b . _ . e l . $ e m b e d . c s s ( { d i s p l a y : " b l o c k " , o p a c i t y : " 1 0 0 % " } ) } , c l o s e O v e r l a y I f E x i t e d : f u n c t i o n ( a ) { v a r   b = I m g u r . F u l l s c r e e n . g e t I n s t a n c e ( ) ; f u l l S c r e e n A p i . i s F u l l S c r e e n ( ) | | ( b . _ . e l . $ e m b e d . i s ( " : v i s i b l e " ) ? b . _ . e l . $ e m b e d . c s s ( { d i s p l a y : " n o n e " } ) : c l e a r I n t e r v a l ( a ) ) } } ) , C l a s s . a d d S i n g l e t o n ( I m g u r . F u l l s c r e e n ) ; v a r   _ e x t e n d s = O b j e c t . a s s i g n | | f u n c t i o n ( a ) { f o r ( v a r   b = 1 ; b < a r g u m e n t s . l e n g t h ; b + + ) { v a r   c = a r g u m e n t s [ b ] ; f o r ( v a r   d   i n   c ) O b j e c t . p r o t o t y p e . h a s O w n P r o p e r t y . c a l l ( c , d ) & & ( a [ d ] = c [ d ] ) } r e t u r n   a } , _ c r e a t e C l a s s = f u n c t i o n ( ) { f u n c t i o n   a ( a , b ) { f o r ( v a r   c = 0 ; c < b . l e n g t h ; c + + ) { v a r   d = b [ c ] ; d . e n u m e r a b l e = d . e n u m e r a b l e | | ! 1 , d . c o n f i g u r a b l e = ! 0 , " v a l u e " i n   d & & ( d . w r i t a b l e = ! 0 ) , O b j e c t . d e f i n e P r o p e r t y ( a , d . k e y , d ) } } r e t u r n   f u n c t i o n ( b , c , d ) { r e t u r n   c & & a ( b . p r o t o t y p e , c ) , d & & a ( b , d ) , b } } ( ) , R E A C T I O N _ S T A T E _ C O L L E C T I O N S = " c o l l e c t i o n s " , R E A C T I O N _ S T A T E _ C O L L E C T I O N = " c o l l e c t i o n " , G R I D _ C O L O R S _ L O A D I N G = [ " # f f d d 0 0 " , " # 1 b b 7 6 e " , " # 2 2 7 e f a " , " # 4 a 5 8 f b " , " # 6 4 3 2 f 9 " , " # e c 4 0 8 1 " , " # 4 3 6 6 d 0 " , " # 7 b 8 5 f 7 " , " # f c 6 3 6 9 " , " # f 1 4 7 6 8 " , " # f f 5 1 b a " , " # 2 c c a f f " , " # 4 3 d 0 b d " , " # 2 0 b e e 8 " , " # f f d 3 0 0 " , " # f f 7 d 0 0 " ] , P R O M O _ C O L L E C T I O N _ N A M E = " T H E   H A P P Y T I M E   M U R D E R S " , P R O M O _ C O L L E C T I O N = { n a m e : P R O M O _ C O L L E C T I O N _ N A M E , s h o r t n a m e : " t h e   h a p p y t i m e   m u r d e r s " , b y l i n e : " P R O M O T E D " , p r e v i e w : " x V U 8 x G U " , p r o m o t e d : ! 0 } , d e f a u l t C o l l e c t i o n S t a t e = [ P R O M O _ C O L L E C T I O N , { n a m e : " H e l l o " , s h o r t n a m e : " h e l l o " , p r e v i e w : " 1 e o M K h E " } ] , R e a c t i o n G i f P i c k e r H e a d e r = f u n c t i o n ( a ) { f u n c t i o n   b ( ) { r e t u r n   _ c l a s s C a l l C h e c k ( t h i s , b ) , _ p o s s i b l e C o n s t r u c t o r R e t u r n ( t h i s , ( b . _ _ p r o t o _ _ | | O b j e c t . g e t P r o t o t y p e O f ( b ) ) . a p p l y ( t h i s , a r g u m e n t s ) ) } r e t u r n   _ i n h e r i t s ( b , a ) , _ c r e a t e C l a s s ( b , [ { k e y : " r e n d e r " , v a l u e : f u n c t i o n ( ) { r e t u r n   R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " g i f p i c k e r - h e a d e r " } , R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " g i f p i c k e r - h e a d e r - c o n t e n t " } , R e a c t . c r e a t e E l e m e n t ( " p " , { c l a s s N a m e : " g i f p i c k e r - h e a d e r - c o n t e n t - t i t l e " } , " R E A C T I O N   G I F s " ) , t h i s . p r o p s . p r o m o E n a b l e d & & R e a c t . c r e a t e E l e m e n t ( " p " , { c l a s s N a m e : " g i f p i c k e r - h e a d e r - c o n t e n t - d e s c " } , " B r o u g h t   t o   y o u   b y " , R e a c t . c r e a t e E l e m e n t ( " b r " , n u l l ) , " T H E   H A P P Y T I M E   M U R D E R S " ) ) ) } } ] ) , b } ( R e a c t . C o m p o n e n t ) ; I m g u r . R e a c t i o n G i f P i c k e r H e a d e r = R e a c t i o n G i f P i c k e r H e a d e r ; v a r   R e a c t i o n G i f P i c k e r C o l l e c t i o n I t e m = f u n c t i o n ( a ) { f u n c t i o n   b ( ) { v a r   a , c , d , e ; _ c l a s s C a l l C h e c k ( t h i s , b ) ; f o r ( v a r   f = a r g u m e n t s . l e n g t h , g = A r r a y ( f ) , h = 0 ; h < f ; h + + ) g [ h ] = a r g u m e n t s [ h ] ; r e t u r n   c = d = _ p o s s i b l e C o n s t r u c t o r R e t u r n ( t h i s , ( a = b . _ _ p r o t o _ _ | | O b j e c t . g e t P r o t o t y p e O f ( b ) ) . c a l l . a p p l y ( a , [ t h i s ] . c o n c a t ( g ) ) ) , d . s h o w C o l l e c t i o n = f u n c t i o n ( ) { v a r   a = d . p r o p s , b = a . s h o r t n a m e , c = a . n a m e , e = ! ! d . p r o p s . p r o m o t e d ; I m g u r & & I m g u r . U t i l & & I m g u r . U t i l . j a f o L o g & & I m g u r . U t i l . j a f o L o g ( { e v e n t : " s e a r c h T e r m " , m e t a : { q u e r y : b , s e a r c h L o c a t i o n : " c o m m e n t C r e a t i o n " , p r o m o t e d : e } } ) , d . p r o p s . f e t c h C o l l e c t i o n ( { s h o r t n a m e : b , n a m e : c , p r o m o t e d : e } ) } , e = c , _ p o s s i b l e C o n s t r u c t o r R e t u r n ( d , e ) } r e t u r n   _ i n h e r i t s ( b , a ) , _ c r e a t e C l a s s ( b , [ { k e y : " r e n d e r " , v a l u e : f u n c t i o n ( ) { v a r   a = t h i s , b = { b a c k g r o u n d I m a g e : " l i n e a r - g r a d i e n t ( " + g e t C o l o r B y P o s t I n d e x ( t h i s . p r o p s . i n d e x ) + " ,   # 2 e 3 0 3 5 ) " } , c = " h t t p s : " + I m g u r . E n v i r o n m e n t . c d n U r l + " / " + t h i s . p r o p s . p r e v i e w , d = c + " _ l q . m p 4 " ; r e t u r n   R e a c t . c r e a t e E l e m e n t ( " d i v " , { r e f : f u n c t i o n ( b ) { r e t u r n   a . c o l l e c t i o n = b } , c l a s s N a m e : " g i f p i c k e r - c o l l e c t i o n " , o n C l i c k : t h i s . s h o w C o l l e c t i o n } , R e a c t . c r e a t e E l e m e n t ( " v i d e o " , { s t y l e : b , c l a s s N a m e : " g i f p i c k e r - c o l l e c t i o n B a c k g r o u n d " , a u t o P l a y : ! 0 , p r e l o a d : " n o n e " , l o o p : ! 0 , p l a y s I n l i n e : ! 0 } , R e a c t . c r e a t e E l e m e n t ( " s o u r c e " , { t y p e : " v i d e o / m p 4 " , s r c : d } ) ) , R e a c t . c r e a t e E l e m e n t ( " h 2 " , { c l a s s N a m e : " g i f p i c k e r - c o l l e c t i o n N a m e " } , t h i s . p r o p s . n a m e , t h i s . p r o p s . p r o m o t e d & & R e a c t . c r e a t e E l e m e n t ( " s p a n " , { c l a s s N a m e : " g i f p i c k e r - c o l l e c t i o n B y L i n e " } , t h i s . p r o p s . b y l i n e ) ) ) } } ] ) , b } ( R e a c t . C o m p o n e n t ) ; I m g u r . R e a c t i o n G i f P i c k e r C o l l e c t i o n I t e m = R e a c t i o n G i f P i c k e r C o l l e c t i o n I t e m ; v a r   R e a c t i o n G i f P i c k e r C o l l e c t i o n s = f u n c t i o n ( a ) { f u n c t i o n   b ( ) { r e t u r n   _ c l a s s C a l l C h e c k ( t h i s , b ) , _ p o s s i b l e C o n s t r u c t o r R e t u r n ( t h i s , ( b . _ _ p r o t o _ _ | | O b j e c t . g e t P r o t o t y p e O f ( b ) ) . a p p l y ( t h i s , a r g u m e n t s ) ) } r e t u r n   _ i n h e r i t s ( b , a ) , _ c r e a t e C l a s s ( b , [ { k e y : " r e n d e r " , v a l u e : f u n c t i o n ( ) { v a r   a = t h i s . p r o p s . f e t c h C o l l e c t i o n ; r e t u r n   R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " g i f p i c k e r - b o d y " } , t h i s . p r o p s . c o l l e c t i o n s . m a p ( f u n c t i o n ( b , c ) { r e t u r n   R e a c t . c r e a t e E l e m e n t ( R e a c t i o n G i f P i c k e r C o l l e c t i o n I t e m , _ e x t e n d s ( { k e y : b . s h o r t n a m e } , { f e t c h C o l l e c t i o n : a , i n d e x : c } , b ) ) } ) ) } } ] ) , b } ( R e a c t . C o m p o n e n t ) ; I m g u r . R e a c t i o n G i f P i c k e r C o l l e c t i o n s = R e a c t i o n G i f P i c k e r C o l l e c t i o n s ; v a r   R e a c t i o n G i f P i c k e r C o l l e c t i o n s L o a d e r = f u n c t i o n ( a ) { f u n c t i o n   b ( ) { r e t u r n   _ c l a s s C a l l C h e c k ( t h i s , b ) , _ p o s s i b l e C o n s t r u c t o r R e t u r n ( t h i s , ( b . _ _ p r o t o _ _ | | O b j e c t . g e t P r o t o t y p e O f ( b ) ) . a p p l y ( t h i s , a r g u m e n t s ) ) } r e t u r n   _ i n h e r i t s ( b , a ) , _ c r e a t e C l a s s ( b , [ { k e y : " r e n d e r " , v a l u e : f u n c t i o n ( ) { f o r ( v a r   a = [ ] , b = 0 ; b < 1 0 ; b + + ) a . p u s h ( R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " g i f p i c k e r - c o l l e c t i o n " , k e y : " C o l l e c t i o n s L o a d e r I t e m - " + b , s t y l e : { b a c k g r o u n d I m a g e : " l i n e a r - g r a d i e n t ( " + g e t C o l o r B y P o s t I n d e x ( b ) + " ,   # 2 e 3 0 3 5 ) " } } ) ) ; r e t u r n   R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " g i f p i c k e r - b o d y " } , a ) } } ] ) , b } ( R e a c t . C o m p o n e n t ) ; I m g u r . R e a c t i o n G i f P i c k e r C o l l e c t i o n s L o a d e r = R e a c t i o n G i f P i c k e r C o l l e c t i o n s L o a d e r ; v a r   R e a c t i o n G i f I m a g e = f u n c t i o n ( a ) { f u n c t i o n   b ( ) { v a r   a , c , d , e ; _ c l a s s C a l l C h e c k ( t h i s , b ) ; f o r ( v a r   f = a r g u m e n t s . l e n g t h , g = A r r a y ( f ) , h = 0 ; h < f ; h + + ) g [ h ] = a r g u m e n t s [ h ] ; r e t u r n   c = d = _ p o s s i b l e C o n s t r u c t o r R e t u r n ( t h i s , ( a = b . _ _ p r o t o _ _ | | O b j e c t . g e t P r o t o t y p e O f ( b ) ) . c a l l . a p p l y ( a , [ t h i s ] . c o n c a t ( g ) ) ) , d . s e l e c t I m a g e = f u n c t i o n ( a ) { I m g u r & & I m g u r . U t i l & & I m g u r . U t i l . j a f o L o g & & I m g u r . U t i l . j a f o L o g ( { e v e n t : " s e a r c h R e s u l t S e l e c t e d " , m e t a : { i m a g e H a s h : d . p r o p s . i d , h a s h : d . p r o p s . p o s t H a s h , q u e r y : d . p r o p s . a c t i v e C o l l e c t i o n S h o r t n a m e , s e a r c h L o c a t i o n : " c o m m e n t C r e a t i o n " , p r o m o t e d : d . p r o p s . p r o m o t e d } } ) , d . p r o p s . h a n d l e I m a g e S e l e c t i o n ( a ) } , e = c , _ p o s s i b l e C o n s t r u c t o r R e t u r n ( d , e ) } r e t u r n   _ i n h e r i t s ( b , a ) , _ c r e a t e C l a s s ( b , [ { k e y : " r e n d e r " , v a l u e : f u n c t i o n ( ) { v a r   a = t h i s , b = " h t t p s : " + I m g u r . E n v i r o n m e n t . c d n U r l + " / " + t h i s . p r o p s . i d , c = b + " . g i f " , d = b + " _ l q . m p 4 " , e = { h e i g h t : t h i s . p r o p s . g i f H e i g h t } ; r e t u r n   R e a c t . c r e a t e E l e m e n t ( " d i v " , { r e f : f u n c t i o n ( b ) { r e t u r n   a . i m a g e = b } , s t y l e : e , c l a s s N a m e : " g i f p i c k e r - i m a g e " , o n C l i c k : f u n c t i o n ( ) { r e t u r n   a . s e l e c t I m a g e ( c ) } } , R e a c t . c r e a t e E l e m e n t ( " v i d e o " , { a u t o P l a y : ! 0 , p r e l o a d : " n o n e " , l o o p : ! 0 , p l a y s I n l i n e : ! 0 , h e i g h t : t h i s . p r o p s . g i f H e i g h t , w i d t h : " 1 4 2 " } , R e a c t . c r e a t e E l e m e n t ( " s o u r c e " , { t y p e : " v i d e o / m p 4 " , s r c : d } ) ) ) } } ] ) , b } ( R e a c t . C o m p o n e n t ) ; I m g u r . R e a c t i o n G i f I m a g e = R e a c t i o n G i f I m a g e ; v a r   R e a c t i o n G i f P i c k e r C o l l e c t i o n L i s t = f u n c t i o n ( a ) { f u n c t i o n   b ( ) { r e t u r n   _ c l a s s C a l l C h e c k ( t h i s , b ) , _ p o s s i b l e C o n s t r u c t o r R e t u r n ( t h i s , ( b . _ _ p r o t o _ _ | | O b j e c t . g e t P r o t o t y p e O f ( b ) ) . a p p l y ( t h i s , a r g u m e n t s ) ) } r e t u r n   _ i n h e r i t s ( b , a ) , _ c r e a t e C l a s s ( b , [ { k e y : " r e n d e r " , v a l u e : f u n c t i o n ( ) { v a r   a = t h i s . p r o p s . i m a g e s . s l i c e ( 0 , t h i s . p r o p s . g i f s T o L o a d ) . r e d u c e ( b . r e d u c e T o G r i d , _ . e x t e n d ( { } , { c o l T o t a l H e i g h t s : [ 0 , 0 ] , c o l s : [ ] } , t h i s . p r o p s ) ) , c = a . c o l s ; r e t u r n   R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " g i f p i c k e r - b o d y   g i f p i c k e r - c o l l e c t i o n B o d y " } , c . m a p ( f u n c t i o n ( a ) { r e t u r n   R e a c t . c r e a t e E l e m e n t ( " d i v " , n u l l , a ) } ) , t h i s . p r o p s . c h i l d r e n ) } } ] , [ { k e y : " r e d u c e T o G r i d " , v a l u e : f u n c t i o n ( a , b , c ) { f o r ( v a r   d = a . c o l T o t a l H e i g h t s , e = a . p o s t H a s h , f = a . h a n d l e I m a g e S e l e c t i o n , g = a . p r o m o t e d , h = a . a c t i v e C o l l e c t i o n S h o r t n a m e , i = d . l e n g t h , j = 0 , k = N u m b e r . P O S I T I V E _ I N F I N I T Y , l = 1 4 2 , m = l / b . w i d t h , n = b . h e i g h t * m , o = 0 ; o < i ; o + + ) d [ o ] < k & & ( j = o , k = d [ o ] ) ; r e t u r n   a . c o l s [ j ] | | ( a . c o l s [ j ] = [ ] ) , a . c o l s [ j ] . p u s h ( R e a c t . c r e a t e E l e m e n t ( R e a c t i o n G i f I m a g e , _ e x t e n d s ( { a c t i v e C o l l e c t i o n S h o r t n a m e : h , p o s t H a s h : e , k e y : b . i d , g i f H e i g h t : n , p r o m o t e d : g } , { h a n d l e I m a g e S e l e c t i o n : f , i n d e x : c } , b ) ) ) , a . c o l T o t a l H e i g h t s [ j ] = k + n , a } } ] ) , b } ( R e a c t . C o m p o n e n t ) ; I m g u r . R e a c t i o n G i f P i c k e r C o l l e c t i o n L i s t = R e a c t i o n G i f P i c k e r C o l l e c t i o n L i s t ; v a r   R e a c t i o n G i f P i c k e r C o l l e c t i o n H e a d e r = f u n c t i o n ( a ) { f u n c t i o n   b ( ) { v a r   a , c , d , e ; _ c l a s s C a l l C h e c k ( t h i s , b ) ; f o r ( v a r   f = a r g u m e n t s . l e n g t h , g = A r r a y ( f ) , h = 0 ; h < f ; h + + ) g [ h ] = a r g u m e n t s [ h ] ; r e t u r n   c = d = _ p o s s i b l e C o n s t r u c t o r R e t u r n ( t h i s , ( a = b . _ _ p r o t o _ _ | | O b j e c t . g e t P r o t o t y p e O f ( b ) ) . c a l l . a p p l y ( a , [ t h i s ] . c o n c a t ( g ) ) ) , d . i s P r o m o C o l l e c t i o n A c t i v e = f u n c t i o n ( a ) { r e t u r n   d . p r o p s . p r o m o E n a b l e d & & P R O M O _ C O L L E C T I O N _ N A M E = = = a } , e = c , _ p o s s i b l e C o n s t r u c t o r R e t u r n ( d , e ) } r e t u r n   _ i n h e r i t s ( b , a ) , _ c r e a t e C l a s s ( b , [ { k e y : " r e n d e r " , v a l u e : f u n c t i o n ( ) { v a r   a = t h i s , b = c l a s s N a m e s ( { " g i f p i c k e r - c o l l e c t i o n H e a d e r T e x t " : ! 0 , " g i f p i c k e r - c o l l e c t i o n H e a d e r T e x t - - P r o m o " : t h i s . i s P r o m o C o l l e c t i o n A c t i v e ( t h i s . p r o p s . a c t i v e C o l l e c t i o n N a m e ) } ) ; r e t u r n   R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " g i f p i c k e r - c o l l e c t i o n H e a d e r " } , R e a c t . c r e a t e E l e m e n t ( " d i v " , { r e f : f u n c t i o n ( b ) { r e t u r n   a . b a c k B u t t o n = b } , c l a s s N a m e : " g i f p i c k e r - b a c k B u t t o n " , o n C l i c k : t h i s . p r o p s . b a c k T o C o l l e c t i o n s } , R e a c t . c r e a t e E l e m e n t ( A r r o w I c o n , { c o l o r : t h i s . i s P r o m o C o l l e c t i o n A c t i v e ( t h i s . p r o p s . a c t i v e C o l l e c t i o n N a m e ) ? " # f f 3 b 5 c " : " # f f f " } ) ) , R e a c t . c r e a t e E l e m e n t ( " h 1 " , { c l a s s N a m e : b } , t h i s . p r o p s . a c t i v e C o l l e c t i o n N a m e ) ) } } ] ) , b } ( R e a c t . C o m p o n e n t ) ; I m g u r . R e a c t i o n G i f P i c k e r C o l l e c t i o n H e a d e r = R e a c t i o n G i f P i c k e r C o l l e c t i o n H e a d e r ; v a r   D E F A U L T _ N U M _ G I F S _ I N _ P I C K E R = 1 0 , N U M _ G I F S _ T O _ A D D _ T O _ P I C K E R = 5 , R e a c t i o n G i f P i c k e r = f u n c t i o n ( a ) { f u n c t i o n   b ( a ) { _ c l a s s C a l l C h e c k ( t h i s , b ) ; v a r   c = _ p o s s i b l e C o n s t r u c t o r R e t u r n ( t h i s , ( b . _ _ p r o t o _ _ | | O b j e c t . g e t P r o t o t y p e O f ( b ) ) . c a l l ( t h i s , a ) ) ; r e t u r n   c . s t a t e = { g i f s T o L o a d : D E F A U L T _ N U M _ G I F S _ I N _ P I C K E R } , c . h a n d l e O n S c r o l l C o l l e c t i o n = _ . t h r o t t l e ( c . h a n d l e O n S c r o l l C o l l e c t i o n . b i n d ( c ) , 5 0 , { l e a d i n g : ! 0 , t r a i l i n g : ! 0 } ) , c } r e t u r n   _ i n h e r i t s ( b , a ) , _ c r e a t e C l a s s ( b , [ { k e y : " c o m p o n e n t D i d U p d a t e " , v a l u e : f u n c t i o n ( a , b ) { a . m o d e ! = = t h i s . p r o p s . m o d e & & t h i s . s e t S t a t e ( { g i f s T o L o a d : D E F A U L T _ N U M _ G I F S _ I N _ P I C K E R } ) } } , { k e y : " c o m p o n e n t D i d M o u n t " , v a l u e : f u n c t i o n ( ) { t h i s . p r o p s . f e t c h R e a c t i o n C o l l e c t i o n s ( ) } } , { k e y : " h a n d l e O n S c r o l l C o l l e c t i o n " , v a l u e : f u n c t i o n ( ) { i f ( t h i s . p r o p s . m o d e ! = = R E A C T I O N _ S T A T E _ C O L L E C T I O N S & & t h i s . t r i g g e r S c r o l l & & t h i s . g i f p i c k e r ) { v a r   a = t h i s . t r i g g e r S c r o l l . g e t B o u n d i n g C l i e n t R e c t ( ) . t o p , b = t h i s . g i f p i c k e r . g e t B o u n d i n g C l i e n t R e c t ( ) . b o t t o m , c = t h i s . p r o p s . a c t i v e C o l l e c t i o n I t e m s F e t c h e d < = t h i s . s t a t e . g i f s T o L o a d ; i f ( c & & a - 2 0 0 < b ) t h i s . p r o p s . f e t c h C o l l e c t i o n ( ) ; e l s e   i f ( ! c & & a - 3 0 0 < b ) { v a r   d = t h i s . s t a t e . g i f s T o L o a d + N U M _ G I F S _ T O _ A D D _ T O _ P I C K E R ; t h i s . s e t S t a t e ( { g i f s T o L o a d : M a t h . m i n ( d , t h i s . p r o p s . a c t i v e C o l l e c t i o n I t e m s F e t c h e d ) } ) } } } } , { k e y : " r e n d e r " , v a l u e : f u n c t i o n ( ) { v a r   a = t h i s , b = " 4 0 0 p x " , c = c l a s s N a m e s ( { g i f p i c k e r : ! 0 , " p r o m o - g i f p i c k e r " : t h i s . p r o p s . p r o m o E n a b l e d } ) ; r e t u r n   R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : c , o n S c r o l l : t h i s . h a n d l e O n S c r o l l C o l l e c t i o n , r e f : f u n c t i o n ( b ) { r e t u r n   a . g i f p i c k e r = b } } , R e a c t . c r e a t e E l e m e n t ( R e a c t i o n G i f P i c k e r H e a d e r , t h i s . p r o p s ) , t h i s . p r o p s . e r r o r & & R e a c t . c r e a t e E l e m e n t ( " p " , { c l a s s N a m e : " g i f p i c k e r - e r r o r   c e n t e r " } , t h i s . p r o p s . e r r o r ) , R e a c t . c r e a t e E l e m e n t ( I m g u r . N a n o s c r o l l , { k e y : " r e a c t i o n - n a n o s c r o l l e r " , o p t i o n s : { p r e v e n t P a g e S c r o l l i n g : ! 0 } , c o n t e n t C l a s s N a m e s : " s c r o l l - c o n t e n t " , c o n t e n t S t y l e : { h e i g h t : b } , n a n o S t y l e : { h e i g h t : b } } , R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " g i f p i c k e r - b o d y - c o n t a i n e r " } , t h i s . p r o p s . m o d e = = = R E A C T I O N _ S T A T E _ C O L L E C T I O N S & & R e a c t . c r e a t e E l e m e n t ( " d i v " , n u l l , t h i s . p r o p s . l o a d i n g & & R e a c t . c r e a t e E l e m e n t ( R e a c t i o n G i f P i c k e r C o l l e c t i o n s L o a d e r , n u l l ) , ! t h i s . p r o p s . l o a d i n g & & R e a c t . c r e a t e E l e m e n t ( R e a c t i o n G i f P i c k e r C o l l e c t i o n s , { c o l l e c t i o n s : t h i s . p r o p s . c o l l e c t i o n s , f e t c h C o l l e c t i o n : t h i s . p r o p s . f e t c h C o l l e c t i o n } ) ) , t h i s . p r o p s . m o d e = = = R E A C T I O N _ S T A T E _ C O L L E C T I O N & & R e a c t . c r e a t e E l e m e n t ( " d i v " , n u l l , R e a c t . c r e a t e E l e m e n t ( R e a c t i o n G i f P i c k e r C o l l e c t i o n H e a d e r , t h i s . p r o p s ) , R e a c t . c r e a t e E l e m e n t ( R e a c t i o n G i f P i c k e r C o l l e c t i o n L i s t , { g i f s T o L o a d : t h i s . s t a t e . g i f s T o L o a d , p o s t H a s h : t h i s . p r o p s . p o s t H a s h , p r o m o t e d : t h i s . p r o p s . p r o m o t e d , i m a g e s : t h i s . p r o p s . a c t i v e C o l l e c t i o n , a c t i v e C o l l e c t i o n S h o r t n a m e : t h i s . p r o p s . a c t i v e C o l l e c t i o n S h o r t n a m e , h a n d l e I m a g e S e l e c t i o n : t h i s . p r o p s . h a n d l e I m a g e S e l e c t i o n } , ! t h i s . p r o p s . l o a d i n g & & t h i s . p r o p s . a c t i v e C o l l e c t i o n P a g i n g E n a b l e d & & R e a c t . c r e a t e E l e m e n t ( " d i v " , { k e y : " l o a d e r " , s t y l e : { h e i g h t : 5 0 } , r e f : f u n c t i o n ( b ) { r e t u r n   a . t r i g g e r S c r o l l = b } } ) ) ) ) ) ) } } ] ) , b } ( R e a c t . C o m p o n e n t ) ; I m g u r . R e a c t i o n G i f P i c k e r = R e a c t i o n G i f P i c k e r ; v a r   R e a c t i o n G i f P i c k e r C o n t a i n e r = f u n c t i o n ( a ) { f u n c t i o n   b ( ) { v a r   a , c , d , e ; _ c l a s s C a l l C h e c k ( t h i s , b ) ; f o r ( v a r   f = a r g u m e n t s . l e n g t h , g = A r r a y ( f ) , h = 0 ; h < f ; h + + ) g [ h ] = a r g u m e n t s [ h ] ; r e t u r n   c = d = _ p o s s i b l e C o n s t r u c t o r R e t u r n ( t h i s , ( a = b . _ _ p r o t o _ _ | | O b j e c t . g e t P r o t o t y p e O f ( b ) ) . c a l l . a p p l y ( a , [ t h i s ] . c o n c a t ( g ) ) ) , d . s t a t e = { m o d e : R E A C T I O N _ S T A T E _ C O L L E C T I O N S , c o l l e c t i o n s : d . p r o p s . p r o m o E n a b l e d ? d e f a u l t C o l l e c t i o n S t a t e : [ ] , p r o m o t e d : ! 1 , l o a d i n g : ! 0 , e r r o r : " " , a c t i v e C o l l e c t i o n : [ ] , a c t i v e C o l l e c t i o n N a m e : " " , a c t i v e C o l l e c t i o n S h o r t n a m e : " " , a c t i v e C o l l e c t i o n P a g i n g E n a b l e d : ! 0 , a c t i v e C o l l e c t i o n I t e m s F e t c h e d : 0 , a c t i v e C o l l e c t i o n P a r a m s : { q : " " , p a g e : 0 } } , d . f e t c h R e a c t i o n C o l l e c t i o n s = f u n c t i o n ( ) { v a r   a = d . g e t C o l l e c t i o n s A p i E n d p o i n t ( ) + d . g e t E n d p o i n t P a r a m e t e r s ( ) ; f e t c h ( a ) . t h e n ( f u n c t i o n ( a ) { i f ( 2 0 0 = = = a . s t a t u s ) r e t u r n   a . j s o n ( ) ; t h r o w   n e w   E r r o r ( a . s t a t u s T e x t ) } ) . t h e n ( f u n c t i o n ( a ) { d . s e t S t a t e ( { l o a d i n g : ! 1 , c o l l e c t i o n s : d . s t a t e . c o l l e c t i o n s . c o n c a t ( a . d a t a ) , m o d e : R E A C T I O N _ S T A T E _ C O L L E C T I O N S , e r r o r : " " } , d . h a n d l e O n S c r o l l C o l l e c t i o n ) } ) [ " c a t c h " ] ( f u n c t i o n ( a ) { d . s e t S t a t e ( { l o a d i n g : ! 1 , e r r o r : " T h e r e   w a s   a n   e r r o r   g e t t i n g   r e a c t i o n s " , m o d e : R E A C T I O N _ S T A T E _ C O L L E C T I O N S } ) } ) } , d . f e t c h R e a c t i o n C o l l e c t i o n = f u n c t i o n ( a ) { v a r   b = d . s t a t e . a c t i v e C o l l e c t i o n P a r a m s , c = { m o d e : R E A C T I O N _ S T A T E _ C O L L E C T I O N , l o a d i n g : ! 0 } ; a & & ( b = O b j e c t . a s s i g n ( b , { q : a . s h o r t n a m e } ) , c . a c t i v e C o l l e c t i o n N a m e = a . n a m e , c . a c t i v e C o l l e c t i o n S h o r t n a m e = a . s h o r t n a m e , c . p r o m o t e d = a . p r o m o t e d ) ; v a r   e = d . g e t S e a r c h F u l l A p i E n d p o i n t ( ) + d . g e t E n d p o i n t P a r a m e t e r s ( b ) ; d . s e t S t a t e ( c ) , f e t c h ( e ) . t h e n ( f u n c t i o n ( a ) { i f ( 2 0 0 = = = a . s t a t u s ) r e t u r n   a . j s o n ( ) ; t h r o w   n e w   E r r o r ( a . s t a t u s T e x t ) } ) . t h e n ( f u n c t i o n ( c ) { a & & a . s h o r t n a m e ! = = c . d a t a . q u e r y | | d . s e t S t a t e ( { l o a d i n g : ! 1 , a c t i v e C o l l e c t i o n : d . s t a t e . a c t i v e C o l l e c t i o n . c o n c a t ( c . d a t a . i m a g e s ) , e r r o r : " " , a c t i v e C o l l e c t i o n I t e m s F e t c h e d : d . s t a t e . a c t i v e C o l l e c t i o n I t e m s F e t c h e d + c . d a t a . i m a g e s . l e n g t h , a c t i v e C o l l e c t i o n P a g i n g E n a b l e d : c . d a t a . i m a g e s . l e n g t h > 0 , a c t i v e C o l l e c t i o n P a r a m s : O b j e c t . a s s i g n ( { p a g e : d . s t a t e . a c t i v e C o l l e c t i o n P a r a m s . p a g e + + } , b ) } ) } ) [ " c a t c h " ] ( f u n c t i o n ( a ) { d . s e t S t a t e ( { l o a d i n g : ! 1 , a c t i v e C o l l e c t i o n P a r a m s : b , e r r o r : " T h e r e   w a s   a n   e r r o r   f i n d i n g   i m a g e s " } ) } ) } , d . r e s e t C o l l e c t i o n M o d e = f u n c t i o n ( ) { d . s e t S t a t e ( { m o d e : R E A C T I O N _ S T A T E _ C O L L E C T I O N S , a c t i v e C o l l e c t i o n : [ ] , a c t i v e C o l l e c t i o n N a m e : " " , a c t i v e C o l l e c t i o n S h o r t n a m e : " " , a c t i v e C o l l e c t i o n I t e m s F e t c h e d : 0 , e r r o r : " " , a c t i v e C o l l e c t i o n P a g i n g E n a b l e d : ! 0 , a c t i v e C o l l e c t i o n P a r a m s : { q : " " , p a g e : 0 } , i m a g e S e l e c t e d : ! 1 } ) } , d . h a n d l e I m a g e S e l e c t i o n = f u n c t i o n ( a ) { d . s e t S t a t e ( { i m a g e S e l e c t e d : ! 0 } , f u n c t i o n ( ) { d . p r o p s . h a n d l e I m a g e S e l e c t i o n ( a ) } ) } , e = c , _ p o s s i b l e C o n s t r u c t o r R e t u r n ( d , e ) } r e t u r n   _ i n h e r i t s ( b , a ) , _ c r e a t e C l a s s ( b , [ { k e y : " c o m p o n e n t W i l l U n m o u n t " , v a l u e : f u n c t i o n ( ) { t h i s . s t a t e . i m a g e S e l e c t e d | | I m g u r . U t i l . j a f o L o g ( { e v e n t : " s e a r c h R e s u l t C a n c e l l e d " , m e t a : { s e a r c h L o c a t i o n : " c o m m e n t C r e a t i o n " , q u e r y : t h i s . s t a t e . a c t i v e C o l l e c t i o n S h o r t n a m e } } ) } } , { k e y : " g e t R e a c t i o n A p i B a s e U r l " , v a l u e : f u n c t i o n ( ) { r e t u r n   I m g u r . E n v i r o n m e n t . a p i U r l + " / 3 / r e a c t i o n " } } , { k e y : " g e t C o l l e c t i o n s A p i E n d p o i n t " , v a l u e : f u n c t i o n ( ) { r e t u r n   t h i s . g e t R e a c t i o n A p i B a s e U r l ( ) + " / c o l l e c t i o n s " } } , { k e y : " g e t S e a r c h F u l l A p i E n d p o i n t " , v a l u e : f u n c t i o n ( ) { r e t u r n   t h i s . g e t R e a c t i o n A p i B a s e U r l ( ) + " / s e a r c h _ f u l l " } } , { k e y : " g e t E n d p o i n t P a r a m e t e r s " , v a l u e : f u n c t i o n ( ) { v a r   a = a r g u m e n t s . l e n g t h > 0 & & v o i d   0 ! = = a r g u m e n t s [ 0 ] ? a r g u m e n t s [ 0 ] : { } ; r e t u r n " ? c l i e n t _ i d = " + I m g u r . E n v i r o n m e n t . a p i C l i e n t I d + " & " + $ . p a r a m ( a ) } } , { k e y : " r e n d e r " , v a l u e : f u n c t i o n ( ) { v a r   a = { f e t c h R e a c t i o n C o l l e c t i o n s : t h i s . f e t c h R e a c t i o n C o l l e c t i o n s , f e t c h C o l l e c t i o n : _ . d e b o u n c e ( t h i s . f e t c h R e a c t i o n C o l l e c t i o n . b i n d ( t h i s ) , 1 0 0 , { l e a d i n g : ! 0 , t r a i l i n g : ! 0 } ) , b a c k T o C o l l e c t i o n s : t h i s . r e s e t C o l l e c t i o n M o d e , l o a d i n g : t h i s . s t a t e . l o a d i n g , e r r o r : t h i s . s t a t e . e r r o r , c o l l e c t i o n s : t h i s . s t a t e . c o l l e c t i o n s , a c t i v e C o l l e c t i o n : t h i s . s t a t e . a c t i v e C o l l e c t i o n , a c t i v e C o l l e c t i o n N a m e : t h i s . s t a t e . a c t i v e C o l l e c t i o n N a m e , a c t i v e C o l l e c t i o n S h o r t n a m e : t h i s . s t a t e . a c t i v e C o l l e c t i o n S h o r t n a m e , a c t i v e C o l l e c t i o n I t e m s F e t c h e d : t h i s . s t a t e . a c t i v e C o l l e c t i o n I t e m s F e t c h e d , m o d e : t h i s . s t a t e . m o d e , p r o m o t e d : t h i s . s t a t e . p r o m o t e d , h a n d l e I m a g e S e l e c t i o n : t h i s . h a n d l e I m a g e S e l e c t i o n , a c t i v e C o l l e c t i o n P a g i n g E n a b l e d : t h i s . s t a t e . a c t i v e C o l l e c t i o n P a g i n g E n a b l e d , p o s t H a s h : t h i s . p r o p s . p o s t H a s h , p r o m o E n a b l e d : t h i s . p r o p s . p r o m o E n a b l e d } ; r e t u r n   R e a c t . c r e a t e E l e m e n t ( R e a c t i o n G i f P i c k e r , a ) } } ] ) , b } ( R e a c t . C o m p o n e n t ) ; I m g u r . R e a c t i o n G i f P i c k e r C o n t a i n e r = R e a c t i o n G i f P i c k e r C o n t a i n e r , N a m e s p a c e ( " I m g u r . C a p t i o n . R e p l y " ) , I m g u r . C a p t i o n . R e p l y = R e a c t . c r e a t e C l a s s ( { d i s p l a y N a m e : " R e p l y " , p r o p T y p e s : { i m a g e : R e a c t . P r o p T y p e s . o b j e c t . i s R e q u i r e d , p a r e n t I d : R e a c t . P r o p T y p e s . n u m b e r , p a r e n t A u t h o r I d : R e a c t . P r o p T y p e s . n u m b e r , a u t o f o c u s : R e a c t . P r o p T y p e s . b o o l , o n S u c c e s s : R e a c t . P r o p T y p e s . f u n c , c l o s e R e p l y : R e a c t . P r o p T y p e s . f u n c , i m a g e P r e v i e w E n a b l e d : R e a c t . P r o p T y p e s . b o o l } , c o n t e x t T y p e s : { m s i d : R e a c t . P r o p T y p e s . s t r i n g . i s R e q u i r e d , o n S u b m i t : R e a c t . P r o p T y p e s . f u n c . i s R e q u i r e d } , g e t D e f a u l t P r o p s : f u n c t i o n ( ) { r e t u r n { m a x L e n g t h : 1 4 0 , a u t o f o c u s : ! 1 , i m a g e P r e v i e w E n a b l e d : ! 0 } } , g e t I n i t i a l S t a t e : f u n c t i o n ( ) { r e t u r n { t e x t : " " , i m a g e L i n k s : [ ] , e r r o r : " " , s h o w i n g L o a d e r : ! 1 , s h o w R e a c t i o n G i f P i c k e r : ! 1 } } , c o m p o n e n t D i d M o u n t : f u n c t i o n ( ) { $ ( t h i s . r e f s . t e x t a r e a ) . a u t o R e s i z e ( { a n i m a t e : ! 1 , e x t r a S p a c e : 0 } ) , $ ( t h i s . r e f s . g i f B u t t o n ) . t i p s y ( { o p a c i t y : . 9 5 , g r a v i t y : $ . f n . t i p s y . a u t o N S , f a d e : ! 0 } ) , t h i s . p r o p s . a u t o f o c u s & & t h i s . r e f s . t e x t a r e a . f o c u s ( ) } , g e t V a l u e : f u n c t i o n ( ) { r e t u r n   $ . t r i m ( t h i s . s t a t e . t e x t ) } , h a n d l e S u b m i t : f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) , a . s t o p P r o p a g a t i o n ( ) , t h i s . _ s u b m i t ( ) } , h a n d l e E m a i l N o t V e r i f i e d E r r o r : f u n c t i o n ( ) { $ . c o l o r b o x ( { h r e f : " / l i g h t b o x e s / v e r i f y e m a i l " , o p e n : ! 0 , i f r a m e : ! 0 , t o p : " 1 5 % " , t r a n s i t i o n : " n o n e " , s c r o l l i n g : ! 1 , i n n e r W i d t h : " 5 2 0 p x " , i n n e r H e i g h t : " 2 5 6 p x " , o n C o m p l e t e : _ . b i n d ( f u n c t i o n ( ) { $ . g e t ( " / a j a x / s e n d _ e m a i l _ v e r i f i c a t i o n " ) , c h e c k E m a i l V e r i f i c a t i o n ( " " , t h i s . h a n d l e S h a r e ) } , t h i s ) } ) } , h a n d l e E r r o r : f u n c t i o n ( a ) { v a r   b = _ . i s O b j e c t ( a . r e s p o n s e J S O N ) ? a . r e s p o n s e J S O N : a ; i f ( b & & " d a t a " i n   b & & " e r r o r " i n   b . d a t a & & " m e s s a g e " i n   b . d a t a . e r r o r ) { v a r   c = b . d a t a . e r r o r . m e s s a g e ; " N o t V e r i f i e d " = = = c ? t h i s . h a n d l e E m a i l N o t V e r i f i e d E r r o r ( ) : t h i s . s e t S t a t e ( { e r r o r : c } ) } e l s e   t h i s . s e t S t a t e ( { e r r o r : " A n   u n k n o w n   e r r o r   o c c u r r e d . " } ) } , g e t L e n g t h : f u n c t i o n ( a ) { v a r   b = / ( ( ? : [ \ 0 - \ u 0 2 F F \ u 0 3 7 0 - \ u 0 4 8 2 \ u 0 4 8 A - \ u 0 5 9 0 \ u 0 5 B E \ u 0 5 C 0 \ u 0 5 C 3 \ u 0 5 C 6 \ u 0 5 C 8 - \ u 0 6 0 F \ u 0 6 1 B - \ u 0 6 4 A \ u 0 6 6 0 - \ u 0 6 6 F \ u 0 6 7 1 - \ u 0 6 D 5 \ u 0 6 D D \ u 0 6 D E \ u 0 6 E 5 \ u 0 6 E 6 \ u 0 6 E 9 \ u 0 6 E E - \ u 0 7 1 0 \ u 0 7 1 2 - \ u 0 7 2 F \ u 0 7 4 B - \ u 0 7 A 5 \ u 0 7 B 1 - \ u 0 7 E A \ u 0 7 F 4 - \ u 0 7 F C \ u 0 7 F E - \ u 0 8 1 5 \ u 0 8 1 A \ u 0 8 2 4 \ u 0 8 2 8 \ u 0 8 2 E - \ u 0 8 5 8 \ u 0 8 5 C - \ u 0 8 D 2 \ u 0 8 E 2 \ u 0 9 0 4 - \ u 0 9 3 9 \ u 0 9 3 D \ u 0 9 5 0 \ u 0 9 5 8 - \ u 0 9 6 1 \ u 0 9 6 4 - \ u 0 9 8 0 \ u 0 9 8 4 - \ u 0 9 B B \ u 0 9 B D \ u 0 9 C 5 \ u 0 9 C 6 \ u 0 9 C 9 \ u 0 9 C A \ u 0 9 C E - \ u 0 9 D 6 \ u 0 9 D 8 - \ u 0 9 E 1 \ u 0 9 E 4 - \ u 0 9 F D \ u 0 9 F F \ u 0 A 0 0 \ u 0 A 0 4 - \ u 0 A 3 B \ u 0 A 3 D \ u 0 A 4 3 - \ u 0 A 4 6 \ u 0 A 4 9 \ u 0 A 4 A \ u 0 A 4 E - \ u 0 A 5 0 \ u 0 A 5 2 - \ u 0 A 6 F \ u 0 A 7 2 - \ u 0 A 7 4 \ u 0 A 7 6 - \ u 0 A 8 0 \ u 0 A 8 4 - \ u 0 A B B \ u 0 A B D \ u 0 A C 6 \ u 0 A C A \ u 0 A C E - \ u 0 A E 1 \ u 0 A E 4 - \ u 0 A F 9 \ u 0 B 0 0 \ u 0 B 0 4 - \ u 0 B 3 B \ u 0 B 3 D \ u 0 B 4 5 \ u 0 B 4 6 \ u 0 B 4 9 \ u 0 B 4 A \ u 0 B 4 E - \ u 0 B 5 5 \ u 0 B 5 8 - \ u 0 B 6 1 \ u 0 B 6 4 - \ u 0 B 8 1 \ u 0 B 8 3 - \ u 0 B B D \ u 0 B C 3 - \ u 0 B C 5 \ u 0 B C 9 \ u 0 B C E - \ u 0 B D 6 \ u 0 B D 8 - \ u 0 B F F \ u 0 C 0 5 - \ u 0 C 3 D \ u 0 C 4 5 \ u 0 C 4 9 \ u 0 C 4 E - \ u 0 C 5 4 \ u 0 C 5 7 - \ u 0 C 6 1 \ u 0 C 6 4 - \ u 0 C 8 0 \ u 0 C 8 4 - \ u 0 C B B \ u 0 C B D \ u 0 C C 5 \ u 0 C C 9 \ u 0 C C E - \ u 0 C D 4 \ u 0 C D 7 - \ u 0 C E 1 \ u 0 C E 4 - \ u 0 C F F \ u 0 D 0 4 - \ u 0 D 3 A \ u 0 D 3 D \ u 0 D 4 5 \ u 0 D 4 9 \ u 0 D 4 E - \ u 0 D 5 6 \ u 0 D 5 8 - \ u 0 D 6 1 \ u 0 D 6 4 - \ u 0 D 8 1 \ u 0 D 8 4 - \ u 0 D C 9 \ u 0 D C B - \ u 0 D C E \ u 0 D D 5 \ u 0 D D 7 \ u 0 D E 0 - \ u 0 D F 1 \ u 0 D F 4 - \ u 0 E 3 0 \ u 0 E 3 2 \ u 0 E 3 3 \ u 0 E 3 B - \ u 0 E 4 6 \ u 0 E 4 F - \ u 0 E B 0 \ u 0 E B 2 \ u 0 E B 3 \ u 0 E B A \ u 0 E B D - \ u 0 E C 7 \ u 0 E C E - \ u 0 F 1 7 \ u 0 F 1 A - \ u 0 F 3 4 \ u 0 F 3 6 \ u 0 F 3 8 \ u 0 F 3 A - \ u 0 F 3 D \ u 0 F 4 0 - \ u 0 F 7 0 \ u 0 F 8 5 \ u 0 F 8 8 - \ u 0 F 8 C \ u 0 F 9 8 \ u 0 F B D - \ u 0 F C 5 \ u 0 F C 7 - \ u 1 0 2 A \ u 1 0 3 F - \ u 1 0 5 5 \ u 1 0 5 A - \ u 1 0 5 D \ u 1 0 6 1 \ u 1 0 6 5 \ u 1 0 6 6 \ u 1 0 6 E - \ u 1 0 7 0 \ u 1 0 7 5 - \ u 1 0 8 1 \ u 1 0 8 E \ u 1 0 9 0 - \ u 1 0 9 9 \ u 1 0 9 E - \ u 1 3 5 C \ u 1 3 6 0 - \ u 1 7 1 1 \ u 1 7 1 5 - \ u 1 7 3 1 \ u 1 7 3 5 - \ u 1 7 5 1 \ u 1 7 5 4 - \ u 1 7 7 1 \ u 1 7 7 4 - \ u 1 7 B 3 \ u 1 7 D 4 - \ u 1 7 D C \ u 1 7 D E - \ u 1 8 0 A \ u 1 8 0 E - \ u 1 8 8 4 \ u 1 8 8 7 - \ u 1 8 A 8 \ u 1 8 A A - \ u 1 9 1 F \ u 1 9 2 C - \ u 1 9 2 F \ u 1 9 3 C - \ u 1 A 1 6 \ u 1 A 1 C - \ u 1 A 5 4 \ u 1 A 5 F \ u 1 A 7 D \ u 1 A 7 E \ u 1 A 8 0 - \ u 1 A A F \ u 1 A B F - \ u 1 A F F \ u 1 B 0 5 - \ u 1 B 3 3 \ u 1 B 4 5 - \ u 1 B 6 A \ u 1 B 7 4 - \ u 1 B 7 F \ u 1 B 8 3 - \ u 1 B A 0 \ u 1 B A E - \ u 1 B E 5 \ u 1 B F 4 - \ u 1 C 2 3 \ u 1 C 3 8 - \ u 1 C C F \ u 1 C D 3 \ u 1 C E 9 - \ u 1 C E C \ u 1 C E E - \ u 1 C F 1 \ u 1 C F 5 \ u 1 C F 6 \ u 1 C F A - \ u 1 D B F \ u 1 D F A \ u 1 E 0 0 - \ u 2 0 C F \ u 2 0 F 1 - \ u 2 C E E \ u 2 C F 2 - \ u 2 D 7 E \ u 2 D 8 0 - \ u 2 D D F \ u 2 E 0 0 - \ u 3 0 2 9 \ u 3 0 3 0 - \ u 3 0 9 8 \ u 3 0 9 B - \ u A 6 6 E \ u A 6 7 3 \ u A 6 7 E - \ u A 6 9 D \ u A 6 A 0 - \ u A 6 E F \ u A 6 F 2 - \ u A 8 0 1 \ u A 8 0 3 - \ u A 8 0 5 \ u A 8 0 7 - \ u A 8 0 A \ u A 8 0 C - \ u A 8 2 2 \ u A 8 2 8 - \ u A 8 7 F \ u A 8 8 2 - \ u A 8 B 3 \ u A 8 C 6 - \ u A 8 D F \ u A 8 F 2 - \ u A 8 F E \ u A 9 0 0 - \ u A 9 2 5 \ u A 9 2 E - \ u A 9 4 6 \ u A 9 5 4 - \ u A 9 7 F \ u A 9 8 4 - \ u A 9 B 2 \ u A 9 C 1 - \ u A 9 E 4 \ u A 9 E 6 - \ u A A 2 8 \ u A A 3 7 - \ u A A 4 2 \ u A A 4 4 - \ u A A 4 B \ u A A 4 E - \ u A A 7 A \ u A A 7 E - \ u A A A F \ u A A B 1 \ u A A B 5 \ u A A B 6 \ u A A B 9 - \ u A A B D \ u A A C 0 \ u A A C 2 - \ u A A E A \ u A A F 0 - \ u A A F 4 \ u A A F 7 - \ u A B E 2 \ u A B E B \ u A B E E - \ u D 7 F F \ u E 0 0 0 - \ u F B 1 D \ u F B 1 F - \ u F D F F \ u F E 1 0 - \ u F E 1 F \ u F E 3 0 - \ u F F F F ] | \ u D 8 0 0 [ \ u D C 0 0 - \ u D D F C \ u D D F E - \ u D E D F \ u D E E 1 - \ u D F 7 5 \ u D F 7 B - \ u D F F F ] | [ \ u D 8 0 1 \ u D 8 0 8 - \ u D 8 1 9 \ u D 8 1 C - \ u D 8 2 E \ u D 8 3 0 - \ u D 8 3 3 \ u D 8 3 5 \ u D 8 3 7 \ u D 8 3 9 \ u D 8 3 B - \ u D B 3 F \ u D B 4 1 - \ u D B F F ] [ \ u D C 0 0 - \ u D F F F ] | \ u D 8 0 2 [ \ u D C 0 0 - \ u D E 0 0 \ u D E 0 4 \ u D E 0 7 - \ u D E 0 B \ u D E 1 0 - \ u D E 3 7 \ u D E 3 B - \ u D E 3 E \ u D E 4 0 - \ u D E E 4 \ u D E E 7 - \ u D F F F ] | \ u D 8 0 3 [ \ u D C 0 0 - \ u D D 2 3 \ u D D 2 8 - \ u D F 4 5 \ u D F 5 1 - \ u D F F F ] | \ u D 8 0 4 [ \ u D C 0 3 - \ u D C 3 7 \ u D C 4 7 - \ u D C 7 E \ u D C 8 3 - \ u D C A F \ u D C B B - \ u D C F F \ u D D 0 3 - \ u D D 2 6 \ u D D 3 5 - \ u D D 4 4 \ u D D 4 7 - \ u D D 7 2 \ u D D 7 4 - \ u D D 7 F \ u D D 8 3 - \ u D D B 2 \ u D D C 1 - \ u D D C 8 \ u D D C D - \ u D E 2 B \ u D E 3 8 - \ u D E 3 D \ u D E 3 F - \ u D E D E \ u D E E B - \ u D E F F \ u D F 0 4 - \ u D F 3 A \ u D F 3 D \ u D F 4 5 \ u D F 4 6 \ u D F 4 9 \ u D F 4 A \ u D F 4 E - \ u D F 5 6 \ u D F 5 8 - \ u D F 6 1 \ u D F 6 4 \ u D F 6 5 \ u D F 6 D - \ u D F 6 F \ u D F 7 5 - \ u D F F F ] | \ u D 8 0 5 [ \ u D C 0 0 - \ u D C 3 4 \ u D C 4 7 - \ u D C 5 D \ u D C 5 F - \ u D C A F \ u D C C 4 - \ u D D A E \ u D D B 6 \ u D D B 7 \ u D D C 1 - \ u D D D B \ u D D D E - \ u D E 2 F \ u D E 4 1 - \ u D E A A \ u D E B 8 - \ u D F 1 C \ u D F 2 C - \ u D F F F ] | \ u D 8 0 6 [ \ u D C 0 0 - \ u D C 2 B \ u D C 3 B - \ u D E 0 0 \ u D E 0 B - \ u D E 3 2 \ u D E 3 A \ u D E 3 F - \ u D E 4 6 \ u D E 4 8 - \ u D E 5 0 \ u D E 5 C - \ u D E 8 9 \ u D E 9 A - \ u D F F F ] | \ u D 8 0 7 [ \ u D C 0 0 - \ u D C 2 E \ u D C 3 7 \ u D C 4 0 - \ u D C 9 1 \ u D C A 8 \ u D C B 7 - \ u D D 3 0 \ u D D 3 7 - \ u D D 3 9 \ u D D 3 B \ u D D 3 E \ u D D 4 6 \ u D D 4 8 - \ u D D 8 9 \ u D D 8 F \ u D D 9 2 \ u D D 9 8 - \ u D E F 2 \ u D E F 7 - \ u D F F F ] | \ u D 8 1 A [ \ u D C 0 0 - \ u D E E F \ u D E F 5 - \ u D F 2 F \ u D F 3 7 - \ u D F F F ] | \ u D 8 1 B [ \ u D C 0 0 - \ u D F 5 0 \ u D F 7 F - \ u D F 8 E \ u D F 9 3 - \ u D F F F ] | \ u D 8 2 F [ \ u D C 0 0 - \ u D C 9 C \ u D C 9 F - \ u D F F F ] | \ u D 8 3 4 [ \ u D C 0 0 - \ u D D 6 4 \ u D D 6 A - \ u D D 6 C \ u D D 7 3 - \ u D D 7 A \ u D D 8 3 \ u D D 8 4 \ u D D 8 C - \ u D D A 9 \ u D D A E - \ u D E 4 1 \ u D E 4 5 - \ u D F F F ] | \ u D 8 3 6 [ \ u D C 0 0 - \ u D D F F \ u D E 3 7 - \ u D E 3 A \ u D E 6 D - \ u D E 7 4 \ u D E 7 6 - \ u D E 8 3 \ u D E 8 5 - \ u D E 9 A \ u D E A 0 \ u D E B 0 - \ u D F F F ] | \ u D 8 3 8 [ \ u D C 0 7 \ u D C 1 9 \ u D C 1 A \ u D C 2 2 \ u D C 2 5 \ u D C 2 B - \ u D F F F ] | \ u D 8 3 A [ \ u D C 0 0 - \ u D C C F \ u D C D 7 - \ u D D 4 3 \ u D D 4 B - \ u D F F F ] | \ u D B 4 0 [ \ u D C 0 0 - \ u D C F F \ u D D F 0 - \ u D F F F ] | [ \ u D 8 0 0 - \ u D B F F ] ( ? ! [ \ u D C 0 0 - \ u D F F F ] ) | ( ? : [ ^ \ u D 8 0 0 - \ u D B F F ] | ^ ) [ \ u D C 0 0 - \ u D F F F ] ) ) ( ( ? : [ \ u 0 3 0 0 - \ u 0 3 6 F \ u 0 4 8 3 - \ u 0 4 8 9 \ u 0 5 9 1 - \ u 0 5 B D \ u 0 5 B F \ u 0 5 C 1 \ u 0 5 C 2 \ u 0 5 C 4 \ u 0 5 C 5 \ u 0 5 C 7 \ u 0 6 1 0 - \ u 0 6 1 A \ u 0 6 4 B - \ u 0 6 5 F \ u 0 6 7 0 \ u 0 6 D 6 - \ u 0 6 D C \ u 0 6 D F - \ u 0 6 E 4 \ u 0 6 E 7 \ u 0 6 E 8 \ u 0 6 E A - \ u 0 6 E D \ u 0 7 1 1 \ u 0 7 3 0 - \ u 0 7 4 A \ u 0 7 A 6 - \ u 0 7 B 0 \ u 0 7 E B - \ u 0 7 F 3 \ u 0 7 F D \ u 0 8 1 6 - \ u 0 8 1 9 \ u 0 8 1 B - \ u 0 8 2 3 \ u 0 8 2 5 - \ u 0 8 2 7 \ u 0 8 2 9 - \ u 0 8 2 D \ u 0 8 5 9 - \ u 0 8 5 B \ u 0 8 D 3 - \ u 0 8 E 1 \ u 0 8 E 3 - \ u 0 9 0 3 \ u 0 9 3 A - \ u 0 9 3 C \ u 0 9 3 E - \ u 0 9 4 F \ u 0 9 5 1 - \ u 0 9 5 7 \ u 0 9 6 2 \ u 0 9 6 3 \ u 0 9 8 1 - \ u 0 9 8 3 \ u 0 9 B C \ u 0 9 B E - \ u 0 9 C 4 \ u 0 9 C 7 \ u 0 9 C 8 \ u 0 9 C B - \ u 0 9 C D \ u 0 9 D 7 \ u 0 9 E 2 \ u 0 9 E 3 \ u 0 9 F E \ u 0 A 0 1 - \ u 0 A 0 3 \ u 0 A 3 C \ u 0 A 3 E - \ u 0 A 4 2 \ u 0 A 4 7 \ u 0 A 4 8 \ u 0 A 4 B - \ u 0 A 4 D \ u 0 A 5 1 \ u 0 A 7 0 \ u 0 A 7 1 \ u 0 A 7 5 \ u 0 A 8 1 - \ u 0 A 8 3 \ u 0 A B C \ u 0 A B E - \ u 0 A C 5 \ u 0 A C 7 - \ u 0 A C 9 \ u 0 A C B - \ u 0 A C D \ u 0 A E 2 \ u 0 A E 3 \ u 0 A F A - \ u 0 A F F \ u 0 B 0 1 - \ u 0 B 0 3 \ u 0 B 3 C \ u 0 B 3 E - \ u 0 B 4 4 \ u 0 B 4 7 \ u 0 B 4 8 \ u 0 B 4 B - \ u 0 B 4 D \ u 0 B 5 6 \ u 0 B 5 7 \ u 0 B 6 2 \ u 0 B 6 3 \ u 0 B 8 2 \ u 0 B B E - \ u 0 B C 2 \ u 0 B C 6 - \ u 0 B C 8 \ u 0 B C A - \ u 0 B C D \ u 0 B D 7 \ u 0 C 0 0 - \ u 0 C 0 4 \ u 0 C 3 E - \ u 0 C 4 4 \ u 0 C 4 6 - \ u 0 C 4 8 \ u 0 C 4 A - \ u 0 C 4 D \ u 0 C 5 5 \ u 0 C 5 6 \ u 0 C 6 2 \ u 0 C 6 3 \ u 0 C 8 1 - \ u 0 C 8 3 \ u 0 C B C \ u 0 C B E - \ u 0 C C 4 \ u 0 C C 6 - \ u 0 C C 8 \ u 0 C C A - \ u 0 C C D \ u 0 C D 5 \ u 0 C D 6 \ u 0 C E 2 \ u 0 C E 3 \ u 0 D 0 0 - \ u 0 D 0 3 \ u 0 D 3 B \ u 0 D 3 C \ u 0 D 3 E - \ u 0 D 4 4 \ u 0 D 4 6 - \ u 0 D 4 8 \ u 0 D 4 A - \ u 0 D 4 D \ u 0 D 5 7 \ u 0 D 6 2 \ u 0 D 6 3 \ u 0 D 8 2 \ u 0 D 8 3 \ u 0 D C A \ u 0 D C F - \ u 0 D D 4 \ u 0 D D 6 \ u 0 D D 8 - \ u 0 D D F \ u 0 D F 2 \ u 0 D F 3 \ u 0 E 3 1 \ u 0 E 3 4 - \ u 0 E 3 A \ u 0 E 4 7 - \ u 0 E 4 E \ u 0 E B 1 \ u 0 E B 4 - \ u 0 E B 9 \ u 0 E B B \ u 0 E B C \ u 0 E C 8 - \ u 0 E C D \ u 0 F 1 8 \ u 0 F 1 9 \ u 0 F 3 5 \ u 0 F 3 7 \ u 0 F 3 9 \ u 0 F 3 E \ u 0 F 3 F \ u 0 F 7 1 - \ u 0 F 8 4 \ u 0 F 8 6 \ u 0 F 8 7 \ u 0 F 8 D - \ u 0 F 9 7 \ u 0 F 9 9 - \ u 0 F B C \ u 0 F C 6 \ u 1 0 2 B - \ u 1 0 3 E \ u 1 0 5 6 - \ u 1 0 5 9 \ u 1 0 5 E - \ u 1 0 6 0 \ u 1 0 6 2 - \ u 1 0 6 4 \ u 1 0 6 7 - \ u 1 0 6 D \ u 1 0 7 1 - \ u 1 0 7 4 \ u 1 0 8 2 - \ u 1 0 8 D \ u 1 0 8 F \ u 1 0 9 A - \ u 1 0 9 D \ u 1 3 5 D - \ u 1 3 5 F \ u 1 7 1 2 - \ u 1 7 1 4 \ u 1 7 3 2 - \ u 1 7 3 4 \ u 1 7 5 2 \ u 1 7 5 3 \ u 1 7 7 2 \ u 1 7 7 3 \ u 1 7 B 4 - \ u 1 7 D 3 \ u 1 7 D D \ u 1 8 0 B - \ u 1 8 0 D \ u 1 8 8 5 \ u 1 8 8 6 \ u 1 8 A 9 \ u 1 9 2 0 - \ u 1 9 2 B \ u 1 9 3 0 - \ u 1 9 3 B \ u 1 A 1 7 - \ u 1 A 1 B \ u 1 A 5 5 - \ u 1 A 5 E \ u 1 A 6 0 - \ u 1 A 7 C \ u 1 A 7 F \ u 1 A B 0 - \ u 1 A B E \ u 1 B 0 0 - \ u 1 B 0 4 \ u 1 B 3 4 - \ u 1 B 4 4 \ u 1 B 6 B - \ u 1 B 7 3 \ u 1 B 8 0 - \ u 1 B 8 2 \ u 1 B A 1 - \ u 1 B A D \ u 1 B E 6 - \ u 1 B F 3 \ u 1 C 2 4 - \ u 1 C 3 7 \ u 1 C D 0 - \ u 1 C D 2 \ u 1 C D 4 - \ u 1 C E 8 \ u 1 C E D \ u 1 C F 2 - \ u 1 C F 4 \ u 1 C F 7 - \ u 1 C F 9 \ u 1 D C 0 - \ u 1 D F 9 \ u 1 D F B - \ u 1 D F F \ u 2 0 D 0 - \ u 2 0 F 0 \ u 2 C E F - \ u 2 C F 1 \ u 2 D 7 F \ u 2 D E 0 - \ u 2 D F F \ u 3 0 2 A - \ u 3 0 2 F \ u 3 0 9 9 \ u 3 0 9 A \ u A 6 6 F - \ u A 6 7 2 \ u A 6 7 4 - \ u A 6 7 D \ u A 6 9 E \ u A 6 9 F \ u A 6 F 0 \ u A 6 F 1 \ u A 8 0 2 \ u A 8 0 6 \ u A 8 0 B \ u A 8 2 3 - \ u A 8 2 7 \ u A 8 8 0 \ u A 8 8 1 \ u A 8 B 4 - \ u A 8 C 5 \ u A 8 E 0 - \ u A 8 F 1 \ u A 8 F F \ u A 9 2 6 - \ u A 9 2 D \ u A 9 4 7 - \ u A 9 5 3 \ u A 9 8 0 - \ u A 9 8 3 \ u A 9 B 3 - \ u A 9 C 0 \ u A 9 E 5 \ u A A 2 9 - \ u A A 3 6 \ u A A 4 3 \ u A A 4 C \ u A A 4 D \ u A A 7 B - \ u A A 7 D \ u A A B 0 \ u A A B 2 - \ u A A B 4 \ u A A B 7 \ u A A B 8 \ u A A B E \ u A A B F \ u A A C 1 \ u A A E B - \ u A A E F \ u A A F 5 \ u A A F 6 \ u A B E 3 - \ u A B E A \ u A B E C \ u A B E D \ u F B 1 E \ u F E 0 0 - \ u F E 0 F \ u F E 2 0 - \ u F E 2 F ] | \ u D 8 0 0 [ \ u D D F D \ u D E E 0 \ u D F 7 6 - \ u D F 7 A ] | \ u D 8 0 2 [ \ u D E 0 1 - \ u D E 0 3 \ u D E 0 5 \ u D E 0 6 \ u D E 0 C - \ u D E 0 F \ u D E 3 8 - \ u D E 3 A \ u D E 3 F \ u D E E 5 \ u D E E 6 ] | \ u D 8 0 3 [ \ u D D 2 4 - \ u D D 2 7 \ u D F 4 6 - \ u D F 5 0 ] | \ u D 8 0 4 [ \ u D C 0 0 - \ u D C 0 2 \ u D C 3 8 - \ u D C 4 6 \ u D C 7 F - \ u D C 8 2 \ u D C B 0 - \ u D C B A \ u D D 0 0 - \ u D D 0 2 \ u D D 2 7 - \ u D D 3 4 \ u D D 4 5 \ u D D 4 6 \ u D D 7 3 \ u D D 8 0 - \ u D D 8 2 \ u D D B 3 - \ u D D C 0 \ u D D C 9 - \ u D D C C \ u D E 2 C - \ u D E 3 7 \ u D E 3 E \ u D E D F - \ u D E E A \ u D F 0 0 - \ u D F 0 3 \ u D F 3 B \ u D F 3 C \ u D F 3 E - \ u D F 4 4 \ u D F 4 7 \ u D F 4 8 \ u D F 4 B - \ u D F 4 D \ u D F 5 7 \ u D F 6 2 \ u D F 6 3 \ u D F 6 6 - \ u D F 6 C \ u D F 7 0 - \ u D F 7 4 ] | \ u D 8 0 5 [ \ u D C 3 5 - \ u D C 4 6 \ u D C 5 E \ u D C B 0 - \ u D C C 3 \ u D D A F - \ u D D B 5 \ u D D B 8 - \ u D D C 0 \ u D D D C \ u D D D D \ u D E 3 0 - \ u D E 4 0 \ u D E A B - \ u D E B 7 \ u D F 1 D - \ u D F 2 B ] | \ u D 8 0 6 [ \ u D C 2 C - \ u D C 3 A \ u D E 0 1 - \ u D E 0 A \ u D E 3 3 - \ u D E 3 9 \ u D E 3 B - \ u D E 3 E \ u D E 4 7 \ u D E 5 1 - \ u D E 5 B \ u D E 8 A - \ u D E 9 9 ] | \ u D 8 0 7 [ \ u D C 2 F - \ u D C 3 6 \ u D C 3 8 - \ u D C 3 F \ u D C 9 2 - \ u D C A 7 \ u D C A 9 - \ u D C B 6 \ u D D 3 1 - \ u D D 3 6 \ u D D 3 A \ u D D 3 C \ u D D 3 D \ u D D 3 F - \ u D D 4 5 \ u D D 4 7 \ u D D 8 A - \ u D D 8 E \ u D D 9 0 \ u D D 9 1 \ u D D 9 3 - \ u D D 9 7 \ u D E F 3 - \ u D E F 6 ] | \ u D 8 1 A [ \ u D E F 0 - \ u D E F 4 \ u D F 3 0 - \ u D F 3 6 ] | \ u D 8 1 B [ \ u D F 5 1 - \ u D F 7 E \ u D F 8 F - \ u D F 9 2 ] | \ u D 8 2 F [ \ u D C 9 D \ u D C 9 E ] | \ u D 8 3 4 [ \ u D D 6 5 - \ u D D 6 9 \ u D D 6 D - \ u D D 7 2 \ u D D 7 B - \ u D D 8 2 \ u D D 8 5 - \ u D D 8 B \ u D D A A - \ u D D A D \ u D E 4 2 - \ u D E 4 4 ] | \ u D 8 3 6 [ \ u D E 0 0 - \ u D E 3 6 \ u D E 3 B - \ u D E 6 C \ u D E 7 5 \ u D E 8 4 \ u D E 9 B - \ u D E 9 F \ u D E A 1 - \ u D E A F ] | \ u D 8 3 8 [ \ u D C 0 0 - \ u D C 0 6 \ u D C 0 8 - \ u D C 1 8 \ u D C 1 B - \ u D C 2 1 \ u D C 2 3 \ u D C 2 4 \ u D C 2 6 - \ u D C 2 A ] | \ u D 8 3 A [ \ u D C D 0 - \ u D C D 6 \ u D D 4 4 - \ u D D 4 A ] | \ u D B 4 0 [ \ u D D 0 0 - \ u D D E F ] ) + ) / g , c = a . r e p l a c e ( b , f u n c t i o n ( a , b , c ) { r e t u r n   b } ) ; r e t u r n   p u n y c o d e . u c s 2 . d e c o d e ( c ) . l e n g t h } , _ s u b m i t : f u n c t i o n ( ) { v a r   a = t h i s . g e t L e n g t h ( t h i s . s t a t e . t e x t ) ; i f ( ! ( 0 = = = a | | a > t h i s . p r o p s . m a x L e n g t h ) ) { v a r   b = { p a r e n t _ i d : t h i s . p r o p s . p a r e n t I d , p a r e n t _ a u t h o r : t h i s . p r o p s . p a r e n t A u t h o r I d , c a p t i o n : t h i s . s t a t e . t e x t , s i d : t h i s . c o n t e x t . m s i d , g a l l e r y : I m g u r . G a l l e r y . g e t I n s t a n c e ( ) . g e t G a l l e r y M e t a d a t a ( ) } ; I m g u r . E n v i r o n m e n t . s i g n e d | | ( I m g u r . g e t I n s t a n c e ( ) . s i g n i n ( " c o m m e n t A t t e m p t " ) , b . r e d i r e c t = ! 0 ) , t h i s . s e t S t a t e ( { s h o w i n g L o a d e r : ! 0 } ) ; v a r   c = $ . a j a x ( { u r l : " / g a l l e r y / a c t i o n / c a p t i o n / " + t h i s . p r o p s . i m a g e . h a s h , t y p e : " P O S T " , d a t a : b } ) ; c . a l w a y s ( _ . b i n d ( f u n c t i o n ( ) { t h i s . s e t S t a t e ( { s h o w i n g L o a d e r : ! 1 } ) } , t h i s ) ) , I m g u r . U t i l . j a f o L o g ( { e v e n t : " c o m m e n t S u b m i s s i o n B u t t o n " , m e t a : { p a r e n t I d : t h i s . p r o p s . p a r e n t I d | | n u l l , h a s h : t h i s . p r o p s . i m a g e . h a s h } } ) , I m g u r . E n v i r o n m e n t . s i g n e d & & ( c . d o n e ( _ . b i n d ( f u n c t i o n ( a ) { i f ( a . s u c c e s s ) { v a r   b = _ . m a p ( d o c u m e n t . q u e r y S e l e c t o r A l l ( " . p o s t - t a g - l i n k " ) , f u n c t i o n ( a ) { r e t u r n   a . i n n e r T e x t } ) , c = I m g u r . U s e r S t a t i s t i c s . g e t I n s t a n c e ( ) ; c . e m i t A c t i o n U s e r A d d e d C o m m e n t ( b ) , a . d a t a . c a p t i o n . j u s t _ i n s e r t e d = ! 0 , t h i s . p r o p s . o n S u c c e s s ( ) , I m g u r . C a p t i o n . g e t I n s t a n c e ( ) . m e r g e C a p t i o n s ( a . d a t a . c a p t i o n . h a s h , [ a . d a t a . c a p t i o n ] ) ; v a r   d = { c a p t i o n _ i d : a . d a t a . c a p t i o n . i d , v o t e : " u p " } ; I m g u r . C a p t i o n . g e t I n s t a n c e ( ) . m e r g e V o t e s ( a . d a t a . c a p t i o n . h a s h , [ d ] ) , t h i s . c o n t e x t . o n S u b m i t ( a . d a t a . c a p t i o n ) } e l s e   t h i s . h a n d l e E r r o r ( a ) } , t h i s ) ) , c . f a i l ( _ . b i n d ( t h i s . h a n d l e E r r o r , t h i s ) ) ) } } , h a n d l e T e x t C h a n g e d : f u n c t i o n ( a ) { v a r   b = { t e x t : a . t a r g e t . v a l u e } ; t h i s . p r o p s . i m a g e P r e v i e w E n a b l e d & & ( b . i m a g e L i n k s = t h i s . h a n d l e I m a g e P r e v i e w U p d a t e ( a . t a r g e t . v a l u e ) ) , t h i s . s e t S t a t e ( b ) } , h a n d l e I m a g e P r e v i e w U p d a t e : f u n c t i o n ( a ) { c o n s t   b = n e w   I m g u r . L i n k i f y . C o m m e n t I m a g e G r a b b e r ( I m g u r . E n v i r o n m e n t . h o s t , I m g u r . E n v i r o n m e n t . c d n U r l ) ; v a r   c = b . s c a n ( a ) ; r e t u r n   0 = = = c . l e n g t h ? [ ] : c . m a p ( f u n c t i o n ( b ) { r e t u r n   a . s l i c e ( b . b e g i n , b . e n d + 1 ) } ) } , h a n d l e C l i c k : f u n c t i o n ( a ) { a . s t o p P r o p a g a t i o n ( ) , t h i s . r e f s . t e x t a r e a . f o c u s ( ) } , h a n d l e K e y D o w n : f u n c t i o n ( a ) { 1 3 = = = a . k e y C o d e ? ( a . p r e v e n t D e f a u l t ( ) , t h i s . _ s u b m i t ( ) ) : 2 7 = = = a . k e y C o d e & & t h i s . r e f s . t e x t a r e a . b l u r ( ) } , h a n d l e R e a c t i o n G i f S e l e c t i o n : f u n c t i o n ( a ) { v a r   b = t h i s . r e f s . t e x t a r e a . v a l u e , c = " " ; b . l e n g t h & & "   " ! = = b [ b . l e n g t h ] & & ( c = "   " ) ; v a r   d = { t a r g e t : { v a l u e : b + c + a } } ; t h i s . h a n d l e T e x t C h a n g e d ( d ) , t h i s . t o g g l e S h o w R e a c t i o n G i f P i c k e r ( ) } , g e t I m a g e P r e v i e w : f u n c t i o n ( ) { i f ( 0 = = = t h i s . s t a t e . i m a g e L i n k s . l e n g t h ) r e t u r n " " ; v a r   a , b = t h i s . s t a t e . i m a g e L i n k s [ 0 ] , c = b . m a t c h ( / \ . ( g i f v | m p 4 | w e b m ) $ / ) ; r e t u r n   c ? ( " . g i f v " = = = c [ 0 ] & & ( b = b . r e p l a c e ( " . g i f v " , " . m p 4 " ) ) , a = R e a c t . D O M . v i d e o ( { s r c : b , a u t o P l a y : ! 0 , m u t e d : ! 0 , l o o p : ! 0 , c l a s s N a m e : " c o m m e n t I m a g e P r e v i e w - i m a g e " } ) ) : a = R e a c t . D O M . i m g ( { s r c : b , c l a s s N a m e : " c o m m e n t I m a g e P r e v i e w - i m a g e " } ) , R e a c t . D O M . d i v ( { c l a s s N a m e : " c o m m e n t I m a g e P r e v i e w   r e l a t i v e   d i s p l a y - i n l i n e - b l o c k " } , a , R e a c t . D O M . d i v ( { c l a s s N a m e : " c o m m e n t I m a g e P r e v i e w - c l o s e " , o n C l i c k : t h i s . r e m o v e P r e v i e w } , R e a c t . D O M . i m g ( { s r c : I m g u r . E n v i r o n m e n t . s t a t i c U r l + " / i m a g e s / i c o n s / c l o s e - o u t l i n e . s v g " , c l a s s N a m e : " l e f t " } ) ) ) } , r e m o v e P r e v i e w : f u n c t i o n ( ) { v a r   a = t h i s . s t a t e . i m a g e L i n k s [ 0 ] ; t h i s . s e t S t a t e ( { t e x t : t h i s . s t a t e . t e x t . r e p l a c e ( a , " " ) . r e p l a c e ( "     " , "   " ) , i m a g e L i n k s : t h i s . s t a t e . i m a g e L i n k s . s l i c e ( 1 ) } ) } , t o g g l e S h o w R e a c t i o n G i f P i c k e r : f u n c t i o n ( ) { t h i s . s e t S t a t e ( { s h o w R e a c t i o n G i f P i c k e r : ! t h i s . s t a t e . s h o w R e a c t i o n G i f P i c k e r } , _ . b i n d ( f u n c t i o n ( ) { t h i s . s t a t e . s h o w R e a c t i o n G i f P i c k e r ? $ ( " b o d y " ) . o n ( " c l i c k " , t h i s . h a n d l e B o d y C l i c k ) : $ ( " b o d y " ) . o f f ( " c l i c k " , t h i s . h a n d l e B o d y C l i c k ) } , t h i s ) ) } , h a n d l e R e a c t i o n G i f B u t t o n C l i c k : f u n c t i o n ( a ) { a . s t o p P r o p a g a t i o n ( ) , I m g u r . U t i l . j a f o L o g ( { e v e n t : " c o m m e n t R e a c t I n i t i a t e " , m e t a : { h a s h : t h i s . p r o p s . i m a g e . h a s h } } ) , t h i s . t o g g l e S h o w R e a c t i o n G i f P i c k e r ( ) } , h a n d l e B o d y C l i c k : f u n c t i o n ( a ) { $ . c o n t a i n s ( $ ( " . g i f p i c k e r " ) . g e t ( 0 ) , a . t a r g e t ) | | ( a . s t o p P r o p a g a t i o n ( ) , t h i s . s e t S t a t e ( { s h o w R e a c t i o n G i f P i c k e r : ! 1 } , _ . b i n d ( f u n c t i o n ( ) { $ ( " b o d y " ) . o f f ( " c l i c k " , t h i s . h a n d l e B o d y C l i c k ) } , t h i s ) ) ) } , h a n d l e R e a c t i o n G i f C l i c k : f u n c t i o n ( a ) { a . s t o p P r o p a g a t i o n ( ) } , c o m p o n e n t W i l l U n m o u n t : f u n c t i o n ( ) { $ ( t h i s . r e f s . g i f B u t t o n ) . u n b i n d ( " m o u s e e n t e r   m o u s e l e a v e " ) } , r e n d e r : f u n c t i o n ( ) { v a r   a = t h i s . p r o p s . m a x L e n g t h - t h i s . g e t L e n g t h ( t h i s . s t a t e . t e x t ) , b = c l a s s N a m e s , c = b ( { " c a p t i o n - c r e a t e " : ! 0 , l o a d i n g : t h i s . s t a t e . s h o w i n g L o a d e r , " c o u n t e r - e x c e e d e d " : a < 0 } ) ; r e t u r n   R e a c t . D O M . f o r m ( { c l a s s N a m e : c , o n C l i c k : t h i s . h a n d l e C l i c k , o n S u b m i t : t h i s . h a n d l e S u b m i t } , R e a c t . D O M . s p a n ( { c l a s s N a m e : " i c o n - x   r i g h t   p o i n t e r " , o n C l i c k : t h i s . p r o p s . o n C l o s e } ) , R e a c t . D O M . t e x t a r e a ( { r e f : " t e x t a r e a " , c l a s s N a m e : " c o m m e n t F o r m " , o n K e y D o w n : t h i s . h a n d l e K e y D o w n , o n K e y U p : t h i s . h a n d l e K e y U p , o n C h a n g e : t h i s . h a n d l e T e x t C h a n g e d , o n F o c u s : t h i s . h a n d l e F o c u s , p l a c e h o l d e r : " W r i t e   a   c o m m e n t " , v a l u e : t h i s . s t a t e . t e x t } ) , t h i s . g e t I m a g e P r e v i e w ( ) , t h i s . s t a t e . e r r o r . l e n g t h > 0 ? R e a c t . D O M . d i v ( { c l a s s N a m e : " e r r o r " } , t h i s . s t a t e . e r r o r ) : " " , R e a c t . D O M . d i v ( { c l a s s N a m e : " s u m m a r y " } , R e a c t . D O M . i n p u t ( { r e f : " s u b m i t C o m m e n t B t n " , v a l u e : " P o s t " , t y p e : " s u b m i t " , i d : " s u b m i t - c o m m e n t " , c l a s s N a m e : " r i g h t   b t n   b t n - m a i n " , d i s a b l e d : a = = t h i s . p r o p s . m a x L e n g t h | | a < 0 ? " d i s a b l e d " : " " } ) , R e a c t . D O M . d i v ( { c l a s s N a m e : " r i g h t   c o m m e n t - g i f - c o n t a i n e r " , o n C l i c k : t h i s . h a n d l e R e a c t i o n G i f C l i c k } , R e a c t . D O M . b u t t o n ( { t y p e : " b u t t o n " , i d : " c o m m e n t - g i f " , r e f : " g i f B u t t o n " , c l a s s N a m e : " t i t l e   b t n   b t n - m a i n   r i g h t " , o n C l i c k : t h i s . h a n d l e R e a c t i o n G i f B u t t o n C l i c k , t i t l e : " A d d   r e a c t i o n   G I F " } , " G I F " ) , t h i s . s t a t e . s h o w R e a c t i o n G i f P i c k e r & & R e a c t . c r e a t e E l e m e n t ( I m g u r . R e a c t i o n G i f P i c k e r C o n t a i n e r , { h a n d l e I m a g e S e l e c t i o n : t h i s . h a n d l e R e a c t i o n G i f S e l e c t i o n , p o s t H a s h : t h i s . p r o p s . i m a g e . h a s h , p r o m o E n a b l e d : I m g u r . E n v i r o n m e n t . g i f P r o m o E n a b l e d } , n u l l ) ) , R e a c t . D O M . a ( { c l a s s N a m e : " r u l e s   l e f t " , h r e f : " / r u l e s " , t a r g e t : " _ b l a n k " } , " r e m e m b e r   t h e   c o m m u n i t y   r u l e s " ) , R e a c t . D O M . d i v ( { c l a s s N a m e : " c o u n t e r   r i g h t " } , a ) ) ) } } ) , N a m e s p a c e ( " I m g u r . G a l l e r y " ) , I m g u r . G a l l e r y = I m g u r . e x t e n d ( { i n i t : f u n c t i o n ( a , b , c ) { r e t u r n   $ . e x t e n d ( t h i s . s e t t i n g s , b ) , t h i s . _ = _ . m e r g e ( { s i d : b . s i d , a u t h : b . a u t h | | { } , s i g n e d : ! 1 , c d n U R L : b . c d n U r l , b a s e U R L : b . b a s e U R L , s o r t : " h o t " , s e c t i o n : n u l l , w i n d o w : " d a y " , p a g e : 0 , m a x P a g e : 0 , j a f o P a g e : 0 , h a s h : n u l l , n e x t H a s h : n u l l , p r e v H a s h : n u l l , s h o w P a s t : ! 0 , c o m m e n t N a m e : " c o m m e n t " , c o m m e n t _ s o r t : " b e s t " , i n d e x N a m e : " g a l l e r y " , s e a r c h Q u e r y : n u l l , a c c o u n t _ u r l : n u l l , e m i t t e r : a , m o b i l e : ! 1 , i s R a n d o m : ! 1 , g a l l e r y _ t y p e : n u l l , t a g s C o o k i e : " t a g s " , i s I P a d : n a v i g a t o r . u s e r A g e n t . m a t c h ( / i P a d / i ) , h i s t o r y : c , e l : { a r r o w s : $ ( " . a r r o w - u p ,   . a r r o w - d o w n " ) , r a n d o m B u t t o n : $ ( " . r a n d o m - b u t t o n " ) , o u t s i d e : { p a g e D i v i d e r : " # i m a g e l i s t   . p a g e - d i v i d e r " , n o M o r e P a g e s I D : " # n o m o r e " , t a g L o a d e r C l a s s : " . o u t s i d e - l o a d e r " , l o a d e r I D : " . i m a g e l i s t - l o a d e r " , e x t e n d e d I m a g e l i s t : " # e x t e n d e d - i m a g e l i s t " , l o a d M o r e I D : " # l o a d - m o r e " , $ s o r t O p t i o n s : $ ( " . s e n t e n c e - s o r t i n g   . o p t i o n s   a " ) , c o n t e n t : $ ( " # i m a g e l i s t " ) , m e s s a g e b o x : $ ( " # m e s s a g e b o x " ) , c o m b o b o x e s : $ ( " . c o m b o b o x " ) , $ t o g g l e V i r a l : $ ( " # s h o w v i r a l " ) , $ t o g g l e U s e r S u b : $ ( " # s h o w u s e r s u b " ) , g a l l e r y N e w I n f o : { i d : " # g a l l e r y - n e w - i n f o " , $ o k a y : $ ( " # g a l l e r y - n e w - i n f o - o k a y " ) , $ n o : $ ( " # g a l l e r y - n e w - i n f o - d e c l i n e " ) } } , i n s i d e : { r e p o r t I m a g e L i n k : $ ( " # r e p o r t - i m a g e " ) , $ s h a r e T a b B u t t o n : $ ( " . b u t t o n - c o n t a i n e r   . s h a r e " ) , $ o p t i o n s B u t t o n : $ ( " . b u t t o n - c o n t a i n e r   . o p t i o n s - b t n " ) , $ s h a r e L i n k : $ ( " . b u t t o n - c o n t a i n e r   . s h a r e - l i n k " ) , c o u n t e r : n u l l , i m a g e : $ ( " . i m a g e " ) , z o o m : $ ( " . z o o m " ) , s u b m i t C a p t i o n B u t t o n : $ ( " . s u b m i t - c a p t i o n - b u t t o n " ) , c o m m e n t E x p a n d : $ ( " # e x p a n d - c o m m e n t s " ) , c o m b o b o x e s : $ ( " . c o m b o b o x " ) , c o m m e n t S o r t : $ ( " # c o m m e n t - s o r t " ) , $ c o m m e n t s : $ ( " # c a p t i o n s " ) , r e C a p t i o n L i n k : $ ( " # m e m e - i m a g e " ) , d o w n l o a d A l b u m F o r m : { i d : " # d o w n l o a d - a l b u m - f o r m " , e m a i l I n p u t : $ ( " # d o w n l o a d - a l b u m - f o r m   # e m a i l " ) , f o r m : $ ( " # d o w n l o a d - a l b u m - f o r m   # d o w n l o a d - f o r m " ) , m e s s a g e : $ ( " # m e s s a g e " ) , s a v e : $ ( " # d o w n l o a d - a l b u m - f o r m   # s a v e " ) , l o a d e r : $ ( " # d o w n l o a d - l o a d e r " ) } } , u s e r : { n o t o r i e t y L i n k : $ ( " # n o t o r i e t y - l i n k " ) , n o t o r i e t y L i s t : $ ( " # n o t o r i e t y - l i s t " ) , b u t t o n C o m m e n t s : $ ( " . b u t t o n . c o m m e n t s " ) , b u t t o n F a v o r i t e s : $ ( " . b u t t o n . l i k e s " ) , b u t t o n S u b m i t t e d : $ ( " . b u t t o n . s u b m i t t e d " ) , b u t t o n R e p l i e s : $ ( " . b u t t o n . r e p l i e s " ) , c a p t i o n s : $ ( " # c a p t i o n s " ) , f a v o r i t e s : $ ( " # l i k e s " ) , l o a d e r : $ ( " # l o a d e r " ) , p m B u t t o n : $ ( " # p m - b u t t o n " ) , p m W r a p p e r : $ ( " # p m - w r a p p e r " ) , p m B o d y : $ ( " # p m - w r a p p e r   t e x t a r e a " ) , p m S e n d B u t t o n : $ ( " # p m - s e n d - b u t t o n " ) , p m F o r m : $ ( " # p m - w r a p p e r   f o r m " ) , p m S e n t : $ ( " # p m - s e n t " ) , u p d a t e L e v e l T a b l e : $ ( " # u p d a t e - l e v e l - t a b l e " ) , $ c a r o u s e l : $ ( " # t h u m b s - t o p " ) } , p a s t : { w r a p p e r : $ ( " # p a s t - w r a p p e r " ) , p r e v i e w C o n t e n t : $ ( " # p a s t - p r e v i e w " ) , l o a d e r : $ ( " # p a s t - l o a d e r " ) , l i n k : $ ( " # p a s t - l i n k " ) , s l i d e r : $ ( " # s l i d e r " ) , d a y s : $ ( " # d a y s " ) , t i c k e r : $ ( " # s l i d e r - w r a p p e r   . t i c k e r " ) , 
 p o s i t i v e T i c k C l a s s : " p o s i t i v e " , n e g a t i v e T i c k C l a s s : " n e g a t i v e " , s u b m i t B u t t o n : $ ( " # p a s t - s u b m i t " ) , c a l e n d a r : $ ( " # p a s t - c a l e n d a r " ) } , c o l o r b o x C o n f i r m F o r m : { i d : " # c o l o r b o x - c o n f i r m " , t i t l e : $ ( " # c o l o r b o x - c o n f i r m   h 3 " ) , m e s s a g e : $ ( " # c o l o r b o x - c o n f i r m - m e s s a g e " ) , y e s : $ ( " # c o l o r b o x - c o n f i r m - y e s " ) , n o : $ ( " # c o l o r b o x - c o n f i r m - n o " ) , l o a d e r : $ ( " # c o l o r b o x - c o n f i r m   . s m a l l - l o a d e r " ) } , e m b e d A l b u m F o r m : I m g u r . U t i l i t i e s . E m b e d . e l E m b e d A l b u m F o r m ( ) , c o l o r b o x E m b e d : I m g u r . U t i l i t i e s . E m b e d . e l C o l o r b o x E m b e d ( ) , s e a r c h : { $ h e a d e r S e a r c h : $ ( " . s e a r c h - c o n t a i n e r " ) , $ h e a d e r S e a r c h I n p u t : $ ( ' . s e a r c h - c o n t a i n e r   i n p u t [ n a m e = " q " ] ' ) , $ a d v a n c e d : $ ( " # s e a r c h _ a d v a n c e d " ) , $ a d v a n c e d F o r m : $ ( " # s e a r c h _ a d v a n c e d   f o r m " ) , $ a d v a n c e d A l l I n p u t : $ ( ' # s e a r c h _ a d v a n c e d   f o r m   i n p u t [ n a m e = " q _ a l l " ] ' ) , i m a g e C a r d : " . p o s t s - s e a r c h   . p o s t - l i s t ,   . p o s t s - s e a r c h   . p o s t " , $ c o n t a i n e r : $ ( " # i m a g e l i s t " ) , s i z e : " # q _ s i z e " , $ s i z e P x : $ ( ' i n p u t [ n a m e = " q _ s i z e _ p x " ] ' ) , $ s i z e M p x : $ ( ' i n p u t [ n a m e = " q _ s i z e _ m p x " ] ' ) , $ s i z e F m t : $ ( ' i n p u t [ n a m e = " q _ s i z e _ f m t " ] ' ) , $ s i z e T o g g l e : $ ( " # q _ s i z e _ i s _ m p x " ) , $ p x C o m b o : $ ( " # s i z e _ i n _ p x " ) , $ m p x C o m b o : $ ( " # s i z e _ i n _ m p x " ) } , s i d e : { l i n k s : $ ( " # f i x e d - s i d e - f o o t e r - l i n k s " ) , i m a g e P a n e l s : $ ( " . i m a g e l i s t - p a n e l s " ) } , a d m : { $ a d d T a g : $ ( " # a d m - a d d - g a l l e r y - t a g " ) } } , v a r s : { p a s t P a g e : 0 , s c r o l l e d P a g e : 0 , s c r o l l e d I m a g e S e t : 0 , p a s t T i c k e r T i m e r : n u l l , c u r r e n t T h e m e : " d a r k " } , m e s s a g e s : n u l l , u n d o D e l a y : 4 e 3 } , b ) , t h i s . _ s u p e r ( t h i s . _ ) , t h i s . _ } , g e t E m i t t e r : f u n c t i o n ( ) { r e t u r n   t h i s . _ . e m i t t e r } , g e t C a c h e V a l u e : f u n c t i o n ( ) { v a r   a = " " ; r e t u r n   $ ( " s c r i p t [ t y p e * = j a v a s c r i p t ] " ) . e a c h ( f u n c t i o n ( ) { i f ( t h i s . s r c ) { v a r   b = t h i s . s r c . s p l i t ( " ? " ) , c = $ . t r i m ( b [ 0 ] . s p l i t ( " / " ) . p o p ( ) ) ; i f ( " g a l l e r y . j s " = = c ) r e t u r n   v o i d ( a = b [ 1 ] ) } } ) , a } , i s N u m b e r K e y : f u n c t i o n ( a ) { v a r   b = a . w h i c h ? a . w h i c h : a . k e y C o d e ; r e t u r n ! ( b > 3 1 & & ( b < 4 8 | | b > 5 7 ) ) } , u n g a l l e r y : f u n c t i o n ( a ) { h u m a n M s g . d i s p l a y M s g ( " W o r k i n g . . . " ) ; v a r   b = { h a s h : a , t y p e : " g a l l e r y " , k i l l : " t r u e " , s i d : t h i s . _ . s i d } ; $ . p o s t ( " / a d m / r e m o v a l s / d e l e t e " , b , f u n c t i o n ( ) { h u m a n M s g . d i s p l a y M s g ( " I m a g e   w a s   r e m o v e d   f r o m   t h e   g a l l e r y " ) } ) } , " d e l e t e " : f u n c t i o n ( a ) { h u m a n M s g . d i s p l a y M s g ( " W o r k i n g . . . " ) ; v a r   b = { h a s h : a , t y p e : " g a l l e r y " , k i l l : " t r u e " , s i d : t h i s . _ . s i d } ; $ . p o s t ( " / a d m / r e m o v a l s / d e l e t e " , b , f u n c t i o n ( ) { h u m a n M s g . d i s p l a y M s g ( " P o s t   w a s   d e l e t e d " ) } ) } , s p a m P o s t : f u n c t i o n ( a ) { h u m a n M s g . d i s p l a y M s g ( " W o r k i n g . . . " ) ; v a r   b = t h i s . _ . b a s e U R L + " / a c t i o n / r e m o v e _ i m a g e / " + a , c = { r e m o v e : ! 0 , s i d : t h i s . _ . s i d } ; $ . p o s t ( b , c , f u n c t i o n ( ) { h u m a n M s g . d i s p l a y M s g ( " I m a g e   w a s   m a r k e d   a s   s p a m " ) } ) } , m a t u r e : f u n c t i o n ( a ) { h u m a n M s g . d i s p l a y M s g ( " W o r k i n g . . . " ) ; v a r   b = t h i s . _ . b a s e U R L + " / a c t i o n / m a t u r e _ i m a g e / " + a , c = { s i d : t h i s . _ . s i d } ; $ . p o s t ( b , c , _ . b i n d ( f u n c t i o n ( ) { h u m a n M s g . d i s p l a y M s g ( " I m a g e   w a s   m a r k e d   m a t u r e " ) } , t h i s ) ) } , b a n : f u n c t i o n ( a , b ) { v a r   c ; " " ! = t h i s . _ . a c c o u n t _ u r l & & ( c = { a c c o u n t _ u r l : a , t y p e : " m a i n " , s i d : t h i s . _ . s i d , o f f e n d i n g _ u r l : b } , $ . p o s t ( " / a d m / r e m o v a l s / b a n " , c , _ . b i n d ( f u n c t i o n ( b ) { v a r   d = " T h e   b a n   h a m m e r   h i t   " + a + "   s u c c e s s f u l l y   f o r   " + c . o f f e n d i n g _ u r l ; h u m a n M s g . d i s p l a y M s g ( d ) } , t h i s ) ) ) } , o b f u s c a t e : f u n c t i o n ( a ) { $ . p o s t ( " / a d m / o b f u s c a t e " , { h a s h : a , s i d : t h i s . _ . s i d } , _ . b i n d ( f u n c t i o n ( a ) { h u m a n M s g . d i s p l a y M s g ( " P o s t   h a s   b e e n   o b f u s c a t e d " ) } , t h i s ) ) } , s p a m : f u n c t i o n ( a , b ) { " " ! = a & & ( p o s t P a r a m s = { a c c o u n t _ u r l : a , t y p e : " g a l l e r y " , h a s h : b , s i d : t h i s . _ . s i d } , $ . p o s t ( " / a d m / r e m o v a l s / m a r k s p a m m e r " , p o s t P a r a m s , _ . b i n d ( f u n c t i o n ( ) { h u m a n M s g . d i s p l a y M s g ( t h i s . _ . a c c o u n t _ u r l + "   h a s   b e e n   s p a m m e d " ) } , t h i s ) ) ) } , w a r n : f u n c t i o n ( a ) { v a r   b = w i n d o w . l o c a t i o n . h r e f ; " " ! = t h i s . _ . a c c o u n t _ u r l & & $ . p o s t ( " / a d m / r e m o v a l s / w a r n " , { a c c o u n t _ u r l : a , d a t a : b , s i d : t h i s . _ . s i d } , _ . b i n d ( f u n c t i o n ( ) { h u m a n M s g . d i s p l a y M s g ( a + "   h a s   b e e n   w a r n e d " ) } , t h i s ) ) } , n c m e c : f u n c t i o n ( a ) { " " ! = t h i s . _ . a c c o u n t _ u r l & & ( p o s t P a r m s = { h a s h : a , i s _ a l b u m : t h i s . _ . i m a g e . i s _ a l b u m , s i d : t h i s . _ . s i d } , $ . p o s t ( " / a d m / n c m e c / r e p o r t " , p o s t P a r m s , _ . b i n d ( f u n c t i o n ( a ) { h u m a n M s g . d i s p l a y M s g ( " P o s t   h a s   b e e n   q u e u e d   f o r   N C M E C   r e p o r t i n g   a n d   r e m o v a l " ) } , t h i s ) ) ) } , t r o p h y : f u n c t i o n ( a ) { v a r   b , c , d = $ ( a . t a r g e t ) , e = d . a t t r ( " d a t a - t y p e " ) , f = d . t e x t ( ) , g = d . v a l ( ) , h = t h i s . i m g u r I n s i d e N a v . g e t C u r r e n t I m a g e ( ) ; i f ( " c o m m e n t " = = = e ) { i f ( b = d o c u m e n t . l o c a t i o n . p a t h n a m e . m a t c h ( / ^ \ / g a l l e r y \ / [ ^ \ / ] + \ / c o m m e n t \ / ( [ 0 - 9 ] + ) \ / ? / ) , ! b ) r e t u r n   v o i d   h u m a n M s g . d i s p l a y M s g ( " P l e a s e   v i s i t   a   c o m m e n t   p e r m a l i n k   t o   a w a r d   t h a t . " , " e r r o r - m s g " ) ; c = { c o m m e n t _ i d : b [ 1 ] } } i f ( " i m a g e " = = = e & & h . a c c o u n t _ u r l ) { i f ( ! / ^ \ / ( g a l l e r y \ / [ ^ \ / ] + | t o p i c \ / [ a - z A - Z 0 - 9 _ - ] + \ / [ ^ \ / ] + ) \ / ? / . t e s t ( d o c u m e n t . l o c a t i o n . p a t h n a m e ) ) r e t u r n   v o i d   h u m a n M s g . d i s p l a y M s g ( " P l e a s e   v i s i t   t h e   g a l l e r y   o r   t o p i c   p a g e   f o r   t h i s   p o s t   t o   a w a r d   t h a t . " , " e r r o r - m s g " ) ; c = { h a s h : h . h a s h } } " o b j e c t " = = t y p e o f   c & & $ . p o s t ( " / a d m / t r o p h i e s / " + g , c , _ . b i n d ( f u n c t i o n ( a ) { h u m a n M s g . d i s p l a y M s g ( " A w a r d e d   " + f + "   t r o p h y ! " ) } , t h i s ) ) , a . p r e v e n t D e f a u l t ( ) } , r e p o r t I m a g e : f u n c t i o n ( ) { v a r   a = t h i s , b = a . i m g u r I n s i d e N a v . g e t H a s h ( ) , c = { t y p e : " g a l l e r y P o s t " , h a s h : b , i s A l b u m : a . i m g u r I n s i d e N a v . _ . i m a g e . i s _ a l b u m , n s f w : a . i m g u r I n s i d e N a v . _ . i m a g e . n s f w } ; I m g u r . U t i l . j a f o L o g ( { e v e n t : " r e p o r t I n v o k e d " , m e t a : c } ) } , b i n d D e l e t e I m a g e : f u n c t i o n ( ) { v a r   a = t h i s ; t h i s . _ . e l . c o l o r b o x C o n f i r m F o r m . n o . u n b i n d ( " c l i c k " ) , t h i s . _ . e l . c o l o r b o x C o n f i r m F o r m . y e s . u n b i n d ( " c l i c k " ) , t h i s . _ . e l . c o l o r b o x C o n f i r m F o r m . t i t l e . h t m l ( " R e m o v e   S u b m i s s i o n   f r o m   G a l l e r y " ) , t h i s . _ . e l . c o l o r b o x C o n f i r m F o r m . m e s s a g e . h t m l ( t h i s . _ . m e s s a g e s . d e l e t e I m a g e ) , $ . c o l o r b o x . r e s i z e ( ) , t h i s . _ . e l . c o l o r b o x C o n f i r m F o r m . n o . c l i c k ( f u n c t i o n ( ) { $ . c o l o r b o x . c l o s e ( ) } ) , t h i s . _ . e l . c o l o r b o x C o n f i r m F o r m . y e s . c l i c k ( f u n c t i o n ( ) { a . _ . e l . c o l o r b o x C o n f i r m F o r m . y e s . d i s a b l e ( ) , a . _ . e l . c o l o r b o x C o n f i r m F o r m . l o a d e r . s h o w ( ) , $ . p o s t ( a . _ . b a s e U R L + " / a c t i o n / d e l e t e _ i m a g e / " + a . _ . h a s h , { s i d : a . _ . s i d } , f u n c t i o n ( b ) { a . _ . e l . c o l o r b o x C o n f i r m F o r m . l o a d e r . h i d e ( ) , a . _ . e l . c o l o r b o x C o n f i r m F o r m . y e s . e n a b l e ( ) , I m g u r . U t i l . j a f o L o g ( { e v e n t : " r e m o v e F r o m G a l l e r y " , m e t a : { h a s h : a . _ . h a s h , i s A l b u m : a . _ . i m a g e . i s _ a l b u m } } ) , a . _ . s i g n e d & & ( $ . c o l o r b o x . c l o s e ( ) , h u m a n M s g . d i s p l a y M s g ( " S u b m i s s i o n   h a s   b e e n   r e m o v e d " ) , s e t T i m e o u t ( f u n c t i o n ( ) { w i n d o w . l o c a t i o n = " / / " + a . _ . h o s t } , 5 0 0 ) ) } ) . e r r o r ( f u n c t i o n ( ) { a . _ . e l . c o l o r b o x C o n f i r m F o r m . y e s . e n a b l e ( ) , a . _ . e l . c o l o r b o x C o n f i r m F o r m . l o a d e r . h i d e ( ) } ) } ) } , d e l e t e I m a g e : f u n c t i o n ( ) { v a r   a = t h i s ; $ . c o l o r b o x ( { h r e f : a . _ . e l . c o l o r b o x C o n f i r m F o r m . i d , o p e n : ! 0 , i n l i n e : ! 0 , t o p : " 1 5 % " , t r a n s i t i o n : " n o n e " , s c r o l l i n g : ! 1 , o n C o m p l e t e : f u n c t i o n ( ) { a . b i n d D e l e t e I m a g e ( ) } } ) } , r e C a p t i o n : f u n c t i o n ( ) { v a r   a = I m g u r . I n s i d e N a v . g e t I n s t a n c e ( ) . g e t H a s h ( ) ; w i n d o w . l o c a t i o n = " / m e m e g e n / c r e a t e / " + a } , i n s e r t A d : f u n c t i o n ( a ) { v a r   b = M a t h . f l o o r ( 1 e 3 * M a t h . r a n d o m ( ) ) , c = $ ( ' < d i v   i d = " b o t t o m - a d "   c l a s s = " a d v e r t i s e m e n t " > < / d i v > ' ) , d = $ ( ' < d i v   c l a s s = " p a n e l - a d   a d v e r t i s e m e n t " > < / d i v > ' ) , e = $ ( ' < i f r a m e   s r c = " / / i m g u r . c o m / i n c l u d e / r c - i f r a m e . h t m l ? c b = ' + b + ' "   f r a m e s p a c i n g = " 0 "   f r a m e b o r d e r = " n o "   s c r o l l i n g = " n o "   w i d t h = " 3 0 0 "   h e i g h t = " 2 5 0 "   a l l o w t r a n s p a r e n c y = " t r u e " > < / i f r a m e > ' ) ; $ ( d ) . a p p e n d ( e ) , $ ( c ) . a p p e n d ( d ) , $ ( c ) . c s s ( " t o p " , a + " p x " ) , $ ( " # c o n t e n t " ) . a p p e n d ( c ) } , f a d e I n L o a d e r : f u n c t i o n ( a ) { v a r   b = t h i s . _ . e l . o u t s i d e . c o n t e n t . f i n d ( t h i s . _ . e l . o u t s i d e . t a g L o a d e r C l a s s ) ; b . l e n g t h & & b . e q ( b . l e n g t h - 1 ) . f a d e I n ( 7 5 , a ) } , f a d e O u t L o a d e r : f u n c t i o n ( a ) { v a r   b = t h i s . _ . e l . o u t s i d e . c o n t e n t . f i n d ( t h i s . _ . e l . o u t s i d e . t a g L o a d e r C l a s s ) ; b . l e n g t h & & b . e q ( b . l e n g t h - 1 ) . f a d e O u t ( 7 5 , a ) } , i n i t i a l P o p S t a t e : f u n c t i o n ( a ) { w i n d o w . l o c a t i o n = w i n d o w . l o c a t i o n } , i n i t T i p s y : f u n c t i o n ( ) { i f ( ! t h i s . _ . i s I P a d ) { v a r   a = $ ( " # i m a g e l i s t   i m g ,   . t h u m b n a i l s   i m g ,   . t h u m b s   i m g ,   . i m a g e   i m g ,   . t h u m b - t i t l e " ) ; a . e a c h ( f u n c t i o n ( ) { $ ( t h i s ) . a t t r ( " t i t l e " , $ ( t h i s ) . a t t r ( " d a t a - t i t l e " ) ) } ) , a . t i p s y ( { g r a v i t y : " n " , o p a c i t y : . 9 5 , o f f s e t : - 1 5 , h t m l : ! 0 , l i v e : ! 0 } ) } } , i n i t A d m A d d G a l l e r y T a g : f u n c t i o n ( ) { v a r   a = n e w   I m g u r . T a g . T a g V a l i d a t o r ( I m g u r . C o n s t a n t s . M I N _ T A G _ L E N G T H , I m g u r . C o n s t a n t s . M A X _ T A G _ L E N G T H ) , b = t h i s . g e t E m i t t e r ( ) , c = n e w   I m g u r . G a l l e r y . S t o r e . T a g ( n u l l , a , b ) ; R e a c t D O M . r e n d e r ( R e a c t . c r e a t e E l e m e n t ( I m g u r . A d m . G a l l e r y A d d T a g , { b a s e U r l : t h i s . _ . b a s e U R L , i n s i d e N a v : t h i s . i m g u r I n s i d e N a v , t a g S t o r e : c , e m i t t e r : b } ) , t h i s . _ . e l . a d m . $ a d d T a g . g e t ( 0 ) ) } , i n i t Z o o m : f u n c t i o n ( ) { t h i s . _ . e l . i n s i d e . z o o m . i m a g e Z o o m ( ) } , s h o w P a s t P r e v i e w : f u n c t i o n ( ) { t h i s . _ . v a r s . p a s t P a g e > t h i s . _ . v a r s . m a x D a y s & & ( t h i s . _ . v a r s . p a s t P a g e = t h i s . _ . v a r s . m a x D a y s , t h i s . _ . e l . p a s t . d a y s . v a l ( t h i s . _ . v a r s . p a s t P a g e ) ) , $ ( " . t i p s y " ) . r e m o v e ( ) , t h i s . _ . e l . p a s t . p r e v i e w C o n t e n t . e m p t y ( ) , t h i s . _ . e l . p a s t . l o a d e r . s h o w ( ) ; v a r   a = t h i s , b = I m g u r . g e t I n s t a n c e ( ) . _ . s i g n e d ? " m i s s " : " h i t " ; $ . c o o k i e ( " g a l l e r y p a g e " , t h i s . _ . v a r s . p a s t P a g e + 1 , { d o m a i n : I m g u r . E n v i r o n m e n t . h o s t , p a t h : " / " } ) ; v a r   c = t h i s . _ . v a r s . p a s t P a g e ; I m g u r . U t i l . j a f o L o g ( { e v e n t : " p a s t I m a g e s " , m e t a : { d a y s : c } } ) , $ . g e t ( t h i s . _ . b a s e U R L + " / p a s t / p a g e / " + ( t h i s . _ . s h o w P a s t ? t h i s . _ . v a r s . p a s t P a g e + 1 : t h i s . _ . v a r s . p a s t P a g e - 1 ) + " / " + b + " ? s c r o l l e d " , f u n c t i o n ( b ) { a . _ . e l . p a s t . l o a d e r . h i d e ( ) , a . _ . e l . p a s t . p r e v i e w C o n t e n t . h t m l ( b ) , a . _ . e l . p a s t . p r e v i e w C o n t e n t . f i n d ( " i m g " ) . t i p s y ( { g r a v i t y : " n " , o p a c i t y : . 9 5 , o f f s e t : - 8 , h t m l : ! 0 } ) . o n ( " c l i c k " , f u n c t i o n ( a ) { I m g u r . U t i l . j a f o L o g ( { e v e n t : " p a s t I m a g e s C l i c k " , m e t a : { d a y s : c } } ) } ) } ) } , p a s t O n L o a d : f u n c t i o n ( ) { t h i s . h i d e A d s ( ) , 0 = = t h i s . _ . e l . p a s t . p r e v i e w C o n t e n t . f i n d ( " h 3 " ) . s i z e ( ) & & t h i s . s h o w P a s t P r e v i e w ( ) , t h i s . _ . e l . p a s t . d a y s . v a l ( t h i s . _ . v a r s . p a s t P a g e ) ; v a r   a = t h i s ; t h i s . _ . e l . p a s t . c a l e n d a r . D a t e P i c k e r ( { f o r m a t : " m / d / Y " , d a t e : " " , c u r r e n t : " " , s t a r t s : 1 , p o s i t i o n : " b o t t o m " , o n B e f o r e S h o w : f u n c t i o n ( ) { v a r   b = n e w   D a t e ; b . s e t U T C H o u r s ( 0 ) , b . s e t U T C M i n u t e s ( 0 ) , b . s e t U T C S e c o n d s ( 0 ) , b . s e t U T C M i l l i s e c o n d s ( 0 ) ; v a r   c = 8 6 4 e 5 * a . _ . e l . p a s t . d a y s . v a l ( ) , d = n e w   D a t e ( b . g e t T i m e ( ) - c ) , e = d . g e t U T C M o n t h ( ) + 1 + " / " + d . g e t U T C D a t e ( ) + " / " + d . g e t U T C F u l l Y e a r ( ) ; $ ( t h i s ) . D a t e P i c k e r S e t D a t e ( e , ! 0 ) , $ ( " . d a t e p i c k e r " ) . c s s ( " z - i n d e x " , 1 e 4 ) , I m g u r . U t i l . j a f o L o g ( { e v e n t : " p a s t I m a g e s C a l e n d a r O p e n " } ) } , o n H i d e : f u n c t i o n ( ) { $ ( " . d a t e p i c k e r " ) . c s s ( " z - i n d e x " , " " ) , I m g u r . U t i l . j a f o L o g ( { e v e n t : " p a s t I m a g e s C a l e n d a r C l o s e " } ) } , o n C h a n g e : f u n c t i o n ( b , c ) { v a r   d = n e w   D a t e , e = n e w   D a t e ( c ) ; d . s e t U T C H o u r s ( 0 ) , d . s e t U T C M i n u t e s ( 0 ) , d . s e t U T C S e c o n d s ( 0 ) , d . s e t U T C M i l l i s e c o n d s ( 0 ) , e . s e t U T C H o u r s ( 0 ) , e . s e t U T C M i n u t e s ( 0 ) , e . s e t U T C S e c o n d s ( 0 ) , e . s e t U T C M i l l i s e c o n d s ( 0 ) ; v a r   f = M a t h . m a x ( M a t h . f l o o r ( ( d . g e t T i m e ( ) - e . g e t T i m e ( ) ) / 8 6 4 e 5 ) , 0 ) ; f = M a t h . m i n ( f , a . _ . m a x P a g e ) , a . _ . e l . p a s t . d a y s . v a l ( f ) , a . _ . v a r s . p a s t P a g e = f , a . _ . e l . p a s t . c a l e n d a r . D a t e P i c k e r H i d e ( ) , a . _ . e l . p a s t . s l i d e r . v a l ( a . _ . v a r s . p a s t P a g e ) , a . s h o w P a s t P r e v i e w ( ) , I m g u r . U t i l . j a f o L o g ( { e v e n t : " p a s t I m a g e s C a l e n d a r C h a n g e " } ) } } ) , t h i s . _ . e l . p a s t . s l i d e r . v a l ( t h i s . _ . v a r s . p a s t P a g e ) . a t t r ( " m i n " , t h i s . _ . v a r s . s h o w P a s t ? 0 : 1 ) . a t t r ( " m a x " , t h i s . _ . m a x P a g e ) . o n ( " i n p u t " , f u n c t i o n ( ) { a . _ . v a r s . p a s t P a g e = $ ( t h i s ) . v a l ( ) , a . _ . e l . p a s t . d a y s . v a l ( a . _ . v a r s . p a s t P a g e ) } ) . o n ( " c h a n g e " , f u n c t i o n ( ) { a . s h o w P a s t P r e v i e w ( ) } ) } , p a s t C l i c k H a n d l e r : f u n c t i o n ( ) { v a r   a = t h i s ; I m g u r . U t i l . j a f o L o g ( { e v e n t : " p a s t I m a g e s C l o c k " } ) , $ . c o l o r b o x ( { h r e f : " # " + t h i s . _ . e l . p a s t . w r a p p e r . a t t r ( " i d " ) , i n l i n e : ! 0 , i n n e r W i d t h : t h i s . _ . e l . p a s t . w r a p p e r . w i d t h ( ) + 2 0 , i n n e r H e i g h t : t h i s . _ . e l . p a s t . w r a p p e r . h e i g h t ( ) + 2 0 , c l a s s N a m e : " b l u r b o x " , t r a n s i t i o n : " n o n e " , t i t l e : " S h o w   i m a g e s   f r o m   t h e   p a s t " , o p e n : ! 0 , o n L o a d : f u n c t i o n ( ) { a . p a s t O n L o a d ( ) } , o n C l o s e d : f u n c t i o n ( ) { $ . c o o k i e ( " g a l l e r y p a g e " , n u l l , { e x p i r e s : - 1 , d o m a i n : I m g u r . E n v i r o n m e n t . h o s t , p a t h : " / " } ) , a . s h o w A d s ( ) } } ) } , p a s t D a y s C h a n g e H a n d l e r : f u n c t i o n ( a ) { i s F i n i t e ( a . c u r r e n t T a r g e t . v a l u e ) ? ( t h i s . _ . v a r s . p a s t P a g e = p a r s e I n t ( a . c u r r e n t T a r g e t . v a l u e , 1 0 ) , t h i s . _ . e l . p a s t . s l i d e r . v a l ( t h i s . _ . v a r s . p a s t P a g e ) ) : h u m a n M s g . d i s p l a y M s g ( " P l e a s e   e n t e r   a   n u m b e r " , " e r r o r - m s g " ) } , p a s t D a y s K e y p r e s s H a n d l e r : f u n c t i o n ( a ) { r e t u r n   t h i s . i s N u m b e r K e y ( a ) } , p a s t T i c k e r C l i c k H a n d l e r : f u n c t i o n ( a ) { c l e a r T i m e o u t ( t h i s . _ . v a r s . p a s t T i c k e r T i m e r ) , $ ( a . t a r g e t ) . h a s C l a s s ( t h i s . _ . e l . p a s t . p o s i t i v e T i c k C l a s s ) ? t h i s . _ . v a r s . p a s t P a g e = t h i s . _ . v a r s . p a s t P a g e + 1 < t h i s . _ . m a x P a g e ? t h i s . _ . v a r s . p a s t P a g e + 1 : t h i s . _ . m a x P a g e : t h i s . _ . v a r s . p a s t P a g e = t h i s . _ . v a r s . p a s t P a g e - 1 > 0 ? t h i s . _ . v a r s . p a s t P a g e - 1 : 0 , t h i s . _ . e l . p a s t . d a y s . v a l ( t h i s . _ . v a r s . p a s t P a g e ) , t h i s . _ . e l . p a s t . s l i d e r . v a l ( t h i s . _ . v a r s . p a s t P a g e ) ; v a r   b = t h i s , c = f u n c t i o n ( ) { b . s h o w P a s t P r e v i e w ( ) } ; t h i s . _ . v a r s . p a s t T i c k e r T i m e r = s e t T i m e o u t ( c , 4 0 0 ) } , p a s t S u b m i t C l i c k H a n d l e r : f u n c t i o n ( ) { v a r   a = t h i s . _ . s h o w P a s t ? t h i s . _ . v a r s . p a s t P a g e : t h i s . _ . v a r s . p a s t P a g e - 1 ; I m g u r . U t i l . j a f o L o g ( { e v e n t : " p a s t I m a g e s G o " , m e t a : { p a g e : a } } ) , $ . c o l o r b o x . c l o s e ( ) , w i n d o w . l o c a t i o n = t h i s . _ . b a s e U R L + " / h o t / v i r a l / p a g e / " + a } , g a l l e r y T a g O b j e c t : f u n c t i o n ( a , b ) { r e t u r n   a & & A r r a y . i s A r r a y ( b ) ? b . f i n d ( f u n c t i o n ( b ) { r e t u r n   b . t a g = = = a } ) : n u l l } , i s P r o m o t e d T a g G a l l e r y : f u n c t i o n ( a , b ) { v a r   c = t h i s . g a l l e r y T a g O b j e c t ( a , b ) ; r e t u r n ! ( ! c | | ! p a r s e I n t ( c . i s _ p r o m o t e d ) ) } , g e t G a l l e r y M e t a d a t a : f u n c t i o n ( a ) { v a r   b = { } ; s w i t c h ( b . g a l l e r y S o r t = t h i s . _ . s o r t , b . g a l l e r y W i n d o w = t h i s . _ . w i n d o w , b . g a l l e r y T y p e = t h i s . _ . s e c t i o n , t h i s . _ . s u b r e d d i t & & ( b . g a l l e r y T y p e = " s u b r e d d i t " ) , b . g a l l e r y T y p e ) { c a s e " s u b r e d d i t " : b . s u b r e d d i t = t h i s . _ . s u b r e d d i t ; b r e a k ; c a s e " t o p i c " : b . t o p i c = t h i s . _ . t o p i c ; b r e a k ; c a s e " t a g " : b . t a g N a m e = t h i s . _ . t a g } r e t u r n   b . t o p i c T a g = b . t a g | | b . t o p i c , a & & " i t e m " = = = a & & ( b . p r o m o t e d = ! ! t h i s . _ . i m a g e . i s _ a d , b . p r o m o t e d T a g G a l l e r y = t h i s . i s P r o m o t e d T a g G a l l e r y ( b . t a g N a m e , I m g u r . E n v i r o n m e n t . i m a g e . g a l l e r y T a g s ) , b . t a g s = [ ] , A r r a y . i s A r r a y ( t h i s . _ . i m a g e . g a l l e r y T a g s ) & & ( b . t a g s = t h i s . _ . i m a g e . g a l l e r y T a g s . m a p ( f u n c t i o n ( a ) { r e t u r n   a . t a g } ) ) ) , b } , g e t V o t e S o u r c e F r o m E n v i r o n m e n t : f u n c t i o n ( ) { r e t u r n " u n d e f i n e d " ! = t y p e o f   I m g u r . E n v i r o n m e n t . s e a r c h Q u e r y & & n u l l ! = = I m g u r . E n v i r o n m e n t . s e a r c h Q u e r y & & " " ! = = I m g u r . E n v i r o n m e n t . s e a r c h Q u e r y ? " s e a r c h : " + I m g u r . E n v i r o n m e n t . s o r t : " t a g " = = = I m g u r . E n v i r o n m e n t . s e c t i o n ? " t a g : " + I m g u r . E n v i r o n m e n t . t a g + " : " + I m g u r . E n v i r o n m e n t . s o r t : " f a v o r i t e s " = = = I m g u r . E n v i r o n m e n t . s e c t i o n ? " f a v o r i t e s : " + I m g u r . E n v i r o n m e n t . s o r t : " h o t " = = = I m g u r . E n v i r o n m e n t . s e c t i o n ? " m o s t v i r a l : " + I m g u r . E n v i r o n m e n t . s o r t : " n e w " = = = I m g u r . E n v i r o n m e n t . s e c t i o n ? " u s e r s u b : " + I m g u r . E n v i r o n m e n t . s o r t : " f e e d " = = = I m g u r . E n v i r o n m e n t . s e c t i o n ? " f e e d " : n u l l } , g e t B a s e U r l : f u n c t i o n ( ) { r e t u r n   t h i s . _ . o v e r R i d e U r l ? t h i s . _ . o v e r R i d e U r l : t h i s . _ . b a s e U R L } , g e t S e c t i o n U r l : f u n c t i o n ( ) { v a r   a = t h i s . _ . s e c t i o n & & ! t h i s . _ . s u b r e d d i t & & " t a g " ! = t h i s . _ . s e c t i o n & & " g r o u p " ! = t h i s . _ . s e c t i o n & & " t o p i c " ! = t h i s . _ . s e c t i o n & & " f a v o r i t e s " ! = t h i s . _ . s e c t i o n ? " / " + t h i s . _ . s e c t i o n : " " , b = t h i s . _ . b a s e U R L + a + " / " ; r e t u r n   b } , g e t U r l : f u n c t i o n ( a , b ) { v a r   c = " t o p " = = t h i s . _ . s e c t i o n ? " " : t h i s . _ . s o r t + " / " , d = " t o p " = = t h i s . _ . s o r t | | " t o p " = = t h i s . _ . s e c t i o n ? t h i s . _ . w i n d o w + " / " : " " , e = t h i s . g e t S e c t i o n U r l ( ) + c + d + " p a g e / " + a + " / " + ( I m g u r . E n v i r o n m e n t . s i g n e d ? " m i s s " : " h i t " ) + " ? s c r o l l e d " ; i f ( t h i s . _ . o v e r R i d e U r l ) r e t u r n   t h i s . _ . o v e r R i d e U r l + " / " + c + " / p a g e / " + a + " / " + ( I m g u r . E n v i r o n m e n t . s i g n e d ? " m i s s " : " h i t " ) + " ? s c r o l l e d " ; i f ( t h i s . _ . i n S e a r c h ) { v a r   f = I m g u r . g e t I n s t a n c e ( ) . g e t S e a r c h U r l ( t h i s . _ , a ) ; e = f . u r l + " ? s c r o l l e d & " + f . q u e r y } e l s e " h o t " = = t h i s . _ . s e c t i o n & & ( e + = " & s e t = " + b ) ; r e t u r n   e } , h a n d l e R e s p o n s e : f u n c t i o n ( a , b , c ) { v a r   d = $ ( a ) . f i n d ( " i m g " ) . l e n g t h ; i f ( d > 0 & & ( t h i s . _ . v a r s . s c r o l l e d I m a g e S e t > = 1 | | " n e w " = = t h i s . _ . s e c t i o n ) & & ! $ ( t h i s . _ . e l . o u t s i d e . e x t e n d e d I m a g e l i s t ) . l e n g t h & & $ . c o o k i e ( " s h o w C o m m e n t s " ) ) { v a r   e ; e = 0 = = t h i s . _ . v a r s . s c r o l l e d I m a g e S e t ? $ ( ' < d i v   i d = " e x t e n d e d - i m a g e l i s t " > < / d i v > ' ) : $ ( ' < d i v   i d = " e x t e n d e d - i m a g e l i s t " > < d i v   c l a s s = " p o s t s   b r 5 " > < / d i v > < d i v   c l a s s = " p a g e - d i v i d e r " > < a   h r e f = " j a v a s c r i p t : ; "   c l a s s = " s c r o l l - t o p - t e x t " > b a c k   t o   t o p < / a > < / d i v > < / d i v > ' ) , $ ( t h i s . _ . e l . o u t s i d e . p a g e D i v i d e r ) . r e m o v e ( ) , t h i s . _ . e l . o u t s i d e . c o n t e n t . a f t e r ( e ) , t h i s . _ . e l . o u t s i d e . c o n t e n t = e } i f ( d > 0 & & c & & ( w i n d o w . d a t a L a y e r = w i n d o w . d a t a L a y e r | | [ ] , w i n d o w . d a t a L a y e r . p u s h ( { e v e n t : " l o a d - m o r e " } ) ) , 0 = = t h i s . _ . v a r s . s c r o l l e d P a g e & & t h i s . _ . v a r s . s c r o l l e d I m a g e S e t < = 0 ) { v a r   f = t h i s . _ . e l . o u t s i d e . c o n t e n t . f i n d ( t h i s . _ . e l . o u t s i d e . t a g L o a d e r C l a s s ) ; i f ( f . l e n g t h & & f . e q ( f . l e n g t h - 1 ) . i s ( " : v i s i b l e " ) ) r e t u r n   v o i d   t h i s . f a d e O u t L o a d e r ( _ . b i n d ( t h i s . h a n d l e R e s p o n s e , t h i s , a , b ) ) ; $ ( t h i s . _ . e l . o u t s i d e . e x t e n d e d I m a g e l i s t ) . l e n g t h & & ( t h i s . _ . e l . o u t s i d e . c o n t e n t = t h i s . _ . e l . o u t s i d e . c o n t e n t . p r e v ( ) , $ ( t h i s . _ . e l . o u t s i d e . e x t e n d e d I m a g e l i s t ) . r e m o v e ( ) ) , t h i s . _ . e l . o u t s i d e . c o n t e n t . f i n d ( " . p o s t s " ) . r e m o v e ( ) , t h i s . _ . e l . o u t s i d e . c o n t e n t . f i n d ( " . i m a g e l i s t - h e a d e r : g t ( 0 ) " ) . r e m o v e ( ) , t h i s . _ . e l . o u t s i d e . c o n t e n t . a p p e n d ( a ) } e l s e   t h i s . _ . v a r s . s c r o l l e d I m a g e S e t > = 1 ? ( t h i s . _ . e l . o u t s i d e . c o n t e n t . f i n d ( " . p o s t s : l a s t   . c l e a r " ) . r e m o v e ( ) , t h i s . _ . e l . o u t s i d e . c o n t e n t . f i n d ( " . p o s t s : l a s t " ) . a p p e n d ( a ) , t h i s . _ . e l . o u t s i d e . c o n t e n t . f i n d ( " . p o s t s : l a s t " ) . a p p e n d ( ' < d i v   c l a s s = " c l e a r " > < / d i v > ' ) ) : t h i s . _ . e l . o u t s i d e . c o n t e n t . a p p e n d ( a ) ; t h i s . _ . e l . o u t s i d e . c o n t e n t . f i n d ( " . p o s t s : l a s t " ) . f i n d ( " i m g " ) . e a c h ( f u n c t i o n ( ) { $ ( t h i s ) . a t t r ( " t i t l e " , $ ( t h i s ) . a t t r ( " d a t a - t i t l e " ) ) , $ ( t h i s ) . t i p s y ( { g r a v i t y : " n " , o p a c i t y : . 9 5 , o f f s e t : - 1 5 , h t m l : ! 0 } ) } ) ; v a r   g = $ ( " . a r r o w - u p ,   . a r r o w - d o w n " ) ; g . u n b i n d ( " c l i c k " ) , g . c l i c k ( _ . b i n d ( f u n c t i o n ( a ) { t h i s . v o t e ( a ) } , t h i s ) ) , t h i s . i n i t O u t s i d e C o m b o b o x e s ( ) , t h i s . s e a r c h H i g h l i g h t ( ) , 0 = = $ ( t h i s . _ . e l . o u t s i d e . n o M o r e P a g e s I D ) . l e n g t h ? ( d < 6 0 & & ( t h i s . _ . v a r s . s c r o l l e d P a g e + + , t h i s . _ . v a r s . s c r o l l e d I m a g e S e t = - 1 ) , $ ( t h i s . _ . e l . o u t s i d e . l o a d e r I D + " : l t ( - 1 ) " ) . r e m o v e ( ) , I m g u r . I n f i n i t e S c r o l l . g e t I n s t a n c e ( ) . i n f i n i t e S c r o l l ( _ . b i n d ( f u n c t i o n ( ) { t h i s . l o a d M o r e ( ) } , t h i s ) ) ) : t h i s . _ . v a r s . s c r o l l e d I m a g e S e t > 0 ? ( $ ( t h i s . _ . e l . o u t s i d e . n o M o r e P a g e s I D ) . r e m o v e ( ) , t h i s . _ . v a r s . s c r o l l e d P a g e + + , t h i s . _ . v a r s . s c r o l l e d I m a g e S e t = - 1 , t h i s . l o a d M o r e ( ) ) : $ ( t h i s . _ . e l . o u t s i d e . l o a d e r I D ) . e q ( 0 ) . r e m o v e ( ) , t h i s . _ . e m i t t e r . t r i g g e r ( " n e w   g a l l e r y   p a g e " ) , " f u n c t i o n " = = t y p e o f   b & & b ( ) , t h i s . _ . e m i t t e r . t r i g g e r ( " g a l l e r y   p a g e   r e f e t c h e d " ) , t h i s . _ . j a f o P a g e + + , I m g u r . U t i l . j a f o L o g ( { e v e n t : " g a l l e r y P a g e S h o w n " , m e t a : _ . m e r g e ( I m g u r . G a l l e r y . g e t I n s t a n c e ( ) . g e t G a l l e r y M e t a d a t a ( ) , { p a g e N u m : t h i s . _ . j a f o P a g e , i t e m C o u n t : d } ) } ) } , f e t c h I m a g e s : f u n c t i o n ( a , b , c ) { v a r   d = t h i s . g e t U r l ( a , b ) ; t h i s . _ . v a r s . l o a d i n g = ! 0 , $ . a j a x ( { u r l : d , s u c c e s s : _ . b i n d ( f u n c t i o n ( a ) { t h i s . _ . v a r s . l o a d i n g = ! 1 , t h i s . h a n d l e R e s p o n s e ( a , c , d ) } , t h i s ) } ) , $ ( _ . b i n d ( f u n c t i o n ( ) { I m g u r . U t i l . j a f o L o g ( { e v e n t : " g a l l e r y P a g e R e q u e s t " , m e t a : _ . m e r g e ( I m g u r . G a l l e r y . g e t I n s t a n c e ( ) . g e t G a l l e r y M e t a d a t a ( ) , { p a g e N u m : a } ) } ) } , t h i s ) ) } , s h o w L o a d M o r e : f u n c t i o n ( a ) { $ ( t h i s . _ . e l . o u t s i d e . l o a d e r I D ) . e q ( 0 ) . h t m l ( t h i s . _ . m e s s a g e s . l o a d M o r e ) , $ ( t h i s . _ . e l . o u t s i d e . l o a d M o r e I D ) . c l i c k ( _ . b i n d ( f u n c t i o n ( a ) { $ ( a . t a r g e t ) . u n b i n d ( " c l i c k " ) , $ ( a . t a r g e t ) . p a r e n t ( ) . h t m l ( ' < i m g   s r c = " / / s . i m g u r . c o m / i m a g e s / l o a d e r s / d d d d d 1 _ 1 8 1 8 1 7 / 4 8 . g i f "   / > ' ) , t h i s . l o a d M o r e ( ! 0 ) } , t h i s ) ) } , l o a d M o r e : f u n c t i o n ( a ) { i f ( ! t h i s . _ . v a r s . l o a d i n g ) r e t u r n ! a & & t h i s . _ . v a r s . s c r o l l e d P a g e > 0 & & t h i s . _ . v a r s . s c r o l l e d P a g e % 5 = = 0 & & t h i s . _ . v a r s . s c r o l l e d I m a g e S e t = = - 1 ? v o i d   t h i s . s h o w L o a d M o r e ( ) : v o i d ( $ ( t h i s . _ . e l . o u t s i d e . l o a d e r I D ) . l e n g t h > 0 & & ( " h o t " ! = t h i s . _ . s e c t i o n | | t h i s . _ . i n S e a r c h | | t h i s . _ . o v e r R i d e U r l ? t h i s . _ . v a r s . s c r o l l e d P a g e + + : t h i s . _ . v a r s . s c r o l l e d I m a g e S e t + + , t h i s . f e t c h I m a g e s ( t h i s . _ . v a r s . s c r o l l e d P a g e , t h i s . _ . v a r s . s c r o l l e d I m a g e S e t ) ) ) } , n o t o r i e t y L i n k C l i c k H a n d l e r : f u n c t i o n ( ) { t h i s . _ . e l . u s e r . n o t o r i e t y L i s t . i s ( " : h i d d e n " ) ? ( t h i s . _ . e l . u s e r . n o t o r i e t y L i s t . s l i d e D o w n ( ) , t h i s . _ . e l . u s e r . n o t o r i e t y L i n k . f i n d ( " a " ) . h t m l ( " h i d e   l i s t " ) ) : ( t h i s . _ . e l . u s e r . n o t o r i e t y L i s t . s l i d e U p ( ) , t h i s . _ . e l . u s e r . n o t o r i e t y L i n k . f i n d ( " a " ) . h t m l ( " s h o w   l i s t " ) ) } , u s e r B u t t o n C o m m e n t s C l i c k H a n d l e r : f u n c t i o n ( ) { w i n d o w . l o c a t i o n = " / u s e r / " + t h i s . _ . a c c o u n t _ u r l } , u s e r B u t t o n F a v o r i t e s C l i c k H a n d l e r : f u n c t i o n ( ) { w i n d o w . l o c a t i o n = " / u s e r / " + t h i s . _ . a c c o u n t _ u r l + " / f a v o r i t e s " } , u s e r B u t t o n S u b m i t t e d C l i c k H a n d l e r : f u n c t i o n ( ) { w i n d o w . l o c a t i o n = " / u s e r / " + t h i s . _ . a c c o u n t _ u r l + " / s u b m i t t e d " } , u s e r B u t t o n R e p l i e s C l i c k H a n d l e r : f u n c t i o n ( ) { w i n d o w . l o c a t i o n = " / u s e r / " + t h i s . _ . a c c o u n t _ u r l + " / r e p l i e s " } , s e t u p U s e r C a p t i o n s : f u n c t i o n ( ) { v a r   a = n e w   I m g u r . L i n k i f i e r ; a . a d d G r a b b e r ( n e w   I m g u r . L i n k i f y . I m g u r G r a b b e r ( I m g u r . E n v i r o n m e n t . h o s t , I m g u r . E n v i r o n m e n t . c d n U r l ) ) , a . a d d G r a b b e r ( n e w   I m g u r . L i n k i f y . P l a i n G r a b b e r ) , a . a d d G r a b b e r ( n e w   I m g u r . L i n k i f y . U s e r n a m e G r a b b e r ) , a . a d d G r a b b e r ( n e w   I m g u r . L i n k i f y . H a s h t a g G r a b b e r ) , a . a d d V i e w e r ( " y o u t u b e " , n e w   I m g u r . L i n k i f y . Y o u t u b e V i e w e r ) , a . a d d V i e w e r ( " h t m l 5 v i d e o " , n e w   I m g u r . L i n k i f y . H t m l 5 V i d e o V i e w e r ) , a . a d d V i e w e r ( " g i f v " , n e w   I m g u r . L i n k i f y . I m g u r G i f v V i e w e r ( n e w   I m g u r . L i n k i f y . H t m l 5 V i d e o V i e w e r ) ) , a . a d d V i e w e r ( " i m g u r " , n e w   I m g u r . L i n k i f y . I m g u r V i e w e r ) , a . a d d V i e w e r ( " i m a g e " , n e w   I m g u r . L i n k i f y . I m a g e V i e w e r ) ; v a r   b = R e a c t . c r e a t e C l a s s ( { c h i l d C o n t e x t T y p e s : { l i n k i f i e r : R e a c t . P r o p T y p e s . o b j e c t } , g e t C h i l d C o n t e x t : f u n c t i o n ( ) { r e t u r n { l i n k i f i e r : a } } , r e n d e r : f u n c t i o n ( ) { r e t u r n   R e a c t . c r e a t e E l e m e n t ( I m g u r . U s e r C o m m e n t s A r e a , t h i s . p r o p s ) } } ) ; R e a c t D O M . r e n d e r ( R e a c t . c r e a t e E l e m e n t ( b , { u s e r : t h i s . _ . a c c o u n t _ u r l , s o r t : t h i s . _ . s o r t } ) , $ ( " . l e f t   . p a n e l   . c a p t i o n s - c o n t a i n e r " ) . g e t ( 0 ) ) } , s e t u p U s e r F a v o r i t e s : f u n c t i o n ( ) { v a r   a = t h i s , b = f u n c t i o n ( ) { a . _ . e l . u s e r . l o a d e r . s h o w ( ) , $ . g e t ( " / u s e r / " + a . _ . a c c o u n t _ u r l + " / f a v o r i t e s / p a g e / " +   + + a . _ . p a g e + " ? s c r o l l i n g " , f u n c t i o n ( c ) { c ? ( a . _ . e l . u s e r . l o a d e r . h i d e ( ) , a . _ . e l . u s e r . f a v o r i t e s . a p p e n d ( c ) , I m g u r . I n f i n i t e S c r o l l . g e t I n s t a n c e ( ) . i n f i n i t e S c r o l l ( b ) ) : a . _ . e l . u s e r . l o a d e r . r e m o v e ( ) } ) } ; t h i s . _ . e l . u s e r . l o a d e r . l e n g t h > 0 & & I m g u r . I n f i n i t e S c r o l l . g e t I n s t a n c e ( ) . i n f i n i t e S c r o l l ( b ) } , s e t u p U s e r R e p l i e s : f u n c t i o n ( ) { v a r   a = n e w   I m g u r . L i n k i f i e r ; a . a d d G r a b b e r ( n e w   I m g u r . L i n k i f y . I m g u r G r a b b e r ( I m g u r . E n v i r o n m e n t . h o s t , I m g u r . E n v i r o n m e n t . c d n U r l ) ) , a . a d d G r a b b e r ( n e w   I m g u r . L i n k i f y . P l a i n G r a b b e r ) , a . a d d G r a b b e r ( n e w   I m g u r . L i n k i f y . U s e r n a m e G r a b b e r ) , a . a d d G r a b b e r ( n e w   I m g u r . L i n k i f y . H a s h t a g G r a b b e r ) , a . a d d V i e w e r ( " y o u t u b e " , n e w   I m g u r . L i n k i f y . Y o u t u b e V i e w e r ) , a . a d d V i e w e r ( " h t m l 5 v i d e o " , n e w   I m g u r . L i n k i f y . H t m l 5 V i d e o V i e w e r ) , a . a d d V i e w e r ( " g i f v " , n e w   I m g u r . L i n k i f y . I m g u r G i f v V i e w e r ( n e w   I m g u r . L i n k i f y . H t m l 5 V i d e o V i e w e r ) ) , a . a d d V i e w e r ( " i m g u r " , n e w   I m g u r . L i n k i f y . I m g u r V i e w e r ) , a . a d d V i e w e r ( " i m a g e " , n e w   I m g u r . L i n k i f y . I m a g e V i e w e r ) ; v a r   b = R e a c t . c r e a t e C l a s s ( { c h i l d C o n t e x t T y p e s : { l i n k i f i e r : R e a c t . P r o p T y p e s . o b j e c t } , g e t C h i l d C o n t e x t : f u n c t i o n ( ) { r e t u r n { l i n k i f i e r : a } } , r e n d e r : f u n c t i o n ( ) { r e t u r n   R e a c t . c r e a t e E l e m e n t ( I m g u r . U s e r R e p l i e s A r e a , t h i s . p r o p s ) } } ) ; R e a c t D O M . r e n d e r ( R e a c t . c r e a t e E l e m e n t ( b , { a u t h : t h i s . _ . a u t h } ) , $ ( " . l e f t   . p a n e l   . r e p l i e s - d i v   . c a p t i o n s - c o n t a i n e r " ) . g e t ( 0 ) ) } , s e t u p U s e r S u b m i t t e d : f u n c t i o n ( ) { v a r   a = t h i s , b = f u n c t i o n ( ) { a . _ . e l . u s e r . l o a d e r . s h o w ( ) , $ . g e t ( " / u s e r / " + a . _ . a c c o u n t _ u r l + " / s u b m i t t e d / p a g e / " +   + + a . _ . p a g e + " ? s c r o l l i n g " , f u n c t i o n ( c ) { c ? ( a . _ . e l . u s e r . l o a d e r . h i d e ( ) , a . _ . e l . u s e r . f a v o r i t e s . a p p e n d ( c ) , I m g u r . I n f i n i t e S c r o l l . g e t I n s t a n c e ( ) . i n f i n i t e S c r o l l ( b ) ) : a . _ . e l . u s e r . l o a d e r . r e m o v e ( ) } ) } ; t h i s . _ . e l . u s e r . l o a d e r . l e n g t h > 0 & & I m g u r . I n f i n i t e S c r o l l . g e t I n s t a n c e ( ) . i n f i n i t e S c r o l l ( b ) } , u s e r P m B u t t o n C l i c k H a n d l e r : f u n c t i o n ( ) { r e t u r n   t h i s . _ . s i g n e d ? v o i d ( w i n d o w . l o c a t i o n = " / a c c o u n t / m e s s a g e s # " + t h i s . _ . a c c o u n t _ u r l ) : I m g u r . g e t I n s t a n c e ( ) . s i g n i n ( " m e s s a g e U s e r A t t e m p t " ) } , u s e r P m S e n d B u t t o n : f u n c t i o n ( ) { v a r   a = t h i s ; i f ( " " ! = a . _ . e l . u s e r . p m B o d y . v a l ( ) & & a . _ . e l . u s e r . p m B o d y . v a l ( ) ! = a . _ . e l . u s e r . p m B o d y . a t t r ( " t i t l e " ) ) { f o r ( v a r   b = a . _ . e l . u s e r . p m F o r m . f i n d ( " i n p u t ,   t e x t a r e a " ) , c = 0 ; c < b . l e n g t h ; + + c ) { v a r   d = $ ( b [ c ] ) ; d . v a l ( ) = = d . a t t r ( " t i t l e " ) & & d . v a l ( " " ) } $ . p o s t ( " / a c c o u n t / m e s s a g e s / c r e a t e " , a . _ . e l . u s e r . p m F o r m . s e r i a l i z e ( ) , f u n c t i o n ( b ) { a . _ . e l . u s e r . p m S e n t . f a d e I n ( 2 5 0 ) , s e t T i m e o u t ( f u n c t i o n ( ) { $ . c o l o r b o x . c l o s e ( ) , a . _ . e l . u s e r . p m S e n t . h i d e ( ) , a . _ . e l . u s e r . p m B o d y . v a l ( " " ) , a . _ . e l . u s e r . p m B o d y . s h o w P l a c e h o l d e r ( ) } , 6 0 0 ) } ) } } , c a r o u s e l I t e m F i r s t I n : f u n c t i o n ( a , b , c ) { 0 = = a . i n d e x ( ) ? c . a d d C l a s s ( " d i s a b l e d " ) : c . r e m o v e C l a s s ( " d i s a b l e d " ) } , c a r o u s e l I t e m L a s t I n : f u n c t i o n ( a , b , c ) { v a r   d = b . j c a r o u s e l ( " i t e m s " ) . l e n g t h ; a . i n d e x ( ) = = d - 1 ? c . a d d C l a s s ( " d i s a b l e d " ) : c . r e m o v e C l a s s ( " d i s a b l e d " ) } , u s e r I n i t : f u n c t i o n ( ) { v a r   a = t h i s ; t h i s . g e n e r a l I n i t ( ) , t h i s . _ . e l . u s e r . n o t o r i e t y L i n k . c l i c k ( f u n c t i o n ( ) { a . n o t o r i e t y L i n k C l i c k H a n d l e r ( ) } ) , t h i s . _ . e l . u s e r . b u t t o n C o m m e n t s . c l i c k ( f u n c t i o n ( ) { a . u s e r B u t t o n C o m m e n t s C l i c k H a n d l e r ( ) } ) , t h i s . _ . e l . u s e r . b u t t o n F a v o r i t e s . c l i c k ( f u n c t i o n ( ) { a . u s e r B u t t o n F a v o r i t e s C l i c k H a n d l e r ( ) } ) , t h i s . _ . e l . u s e r . b u t t o n S u b m i t t e d . c l i c k ( f u n c t i o n ( ) { a . u s e r B u t t o n S u b m i t t e d C l i c k H a n d l e r ( ) } ) , t h i s . _ . e l . u s e r . b u t t o n R e p l i e s . c l i c k ( f u n c t i o n ( ) { a . u s e r B u t t o n R e p l i e s C l i c k H a n d l e r ( ) } ) , t h i s . _ . e l . u s e r . p m B u t t o n . c l i c k ( f u n c t i o n ( ) { a . u s e r P m B u t t o n C l i c k H a n d l e r ( ) } ) , t h i s . _ . e l . u s e r . p m S e n d B u t t o n . c l i c k ( f u n c t i o n ( ) { a . u s e r P m S e n d B u t t o n ( ) } ) , " i n d e x " = = = t h i s . _ . w i n d o w ? t h i s . s e t u p U s e r C a p t i o n s ( ) : " s u b m i t t e d " = = = t h i s . _ . w i n d o w ? t h i s . s e t u p U s e r S u b m i t t e d ( ) : " r e p l i e s " = = = t h i s . _ . w i n d o w ? t h i s . s e t u p U s e r R e p l i e s ( ) : t h i s . s e t u p U s e r F a v o r i t e s ( ) , t h i s . _ . e l . u s e r . $ c a r o u s e l . j c a r o u s e l ( { a n i m a t i o n : 3 0 0 } ) , $ ( " . n e x t " ) . c l i c k ( f u n c t i o n ( ) { a . _ . e l . u s e r . $ c a r o u s e l . j c a r o u s e l ( " s c r o l l " , " + = 3 " , ! 0 ) } ) , $ ( " . p r e v " ) . c l i c k ( f u n c t i o n ( ) { a . _ . e l . u s e r . $ c a r o u s e l . j c a r o u s e l ( " s c r o l l " , " - = 3 " , ! 0 ) } ) , a . _ . e l . u s e r . $ c a r o u s e l . f i n d ( " l i " ) . b i n d ( " j c a r o u s e l i t e m f i r s t i n " , f u n c t i o n ( b ) { a . c a r o u s e l I t e m F i r s t I n ( $ ( t h i s ) , a . _ . e l . u s e r . $ c a r o u s e l , $ ( " . p r e v " ) ) } ) . b i n d ( " j c a r o u s e l i t e m l a s t i n " , f u n c t i o n ( b ) { a . c a r o u s e l I t e m L a s t I n ( $ ( t h i s ) , a . _ . e l . u s e r . $ c a r o u s e l , $ ( " . n e x t " ) ) } ) } , t o g g l e S h o w V i r a l : f u n c t i o n ( ) { $ . c o o k i e ( " h i d i n g v i r a l " ) ? $ . r e m o v e C o o k i e ( " h i d i n g v i r a l " , { p a t h : " / " } ) : $ . c o o k i e ( " h i d i n g v i r a l " , ! 0 , { e x p i r e s : 3 0 , p a t h : " / " } ) , w i n d o w . l o c a t i o n = w i n d o w . l o c a t i o n } , i n i t O u t s i d e I n f S c r o l l : f u n c t i o n ( ) { I m g u r . I n f i n i t e S c r o l l . g e t I n s t a n c e ( ) . i n f i n i t e S c r o l l ( _ . b i n d ( f u n c t i o n ( ) { t h i s . l o a d M o r e ( ) } , t h i s ) ) } , b i n d O u t s i d e S o r t O p t i o n s : f u n c t i o n ( ) { t h i s . _ . e l . o u t s i d e . $ s o r t O p t i o n s . b i n d ( " c l i c k " , f u n c t i o n ( a ) { v a r   b , c = $ ( t h i s ) . a t t r ( " h r e f " ) . s p l i t ( " ? " ) [ 0 ] , d = c . s p l i t ( " / " ) ; b = d . i n d e x O f ( " n e w " ) ! = = - 1 ? " U s e r   S u b m i t t e d " : d . i n d e x O f ( " h o t " ) ! = = - 1 ? " M o s t   V i r a l " : d . p o p ( ) , I m g u r . U t i l . j a f o L o g ( { e v e n t : " g a l l e r y D r o p d o w n S e l e c t i o n " , m e t a : { g a l l e r y N a m e : b , p r o m o t e d : ! 1 } } ) } ) } , s e a r c h A d v a n c e d H a n d l e S u b m i t : f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) ; v a r   b , c , d , e , f = d o c u m e n t . l o c a t i o n , g = t h i s . _ . e l . s e a r c h . $ a d v a n c e d F o r m . f i n d ( " i n p u t " ) , h = [ ] , i = ! 0 , j = t h i s . _ . e l . s e a r c h . $ a d v a n c e d A l l I n p u t . v a l ( ) , k = g . l e n g t h , l = f . p r o t o c o l + " / / " + f . h o s t ; i f ( s k i p = { q s : 1 , q _ a l l : 1 } , f . p o r t . l e n g t h & & ( l + = " : " + f . p o r t ) , l + = " / s e a r c h / " + t h i s . _ . s o r t + " / " + t h i s . _ . w i n d o w , k ) { f o r ( e = 0 ; e < k ; e + + ) i f ( b = $ ( g [ e ] ) , c = $ ( g [ e ] ) . a t t r ( " n a m e " ) , d = S t r i n g ( $ ( g [ e ] ) . v a l ( ) ) , ! ( c   i n   s k i p ) ) s w i t c h ( b . a t t r ( " t y p e " ) ) { c a s e " h i d d e n " : d ! = $ ( g [ e ] ) . a t t r ( " d a t a - d e f a u l t " ) & & ( h . p u s h ( c + " = " + e n c o d e U R I C o m p o n e n t ( d ) ) , i = ! 1 ) ; b r e a k ; c a s e " t e x t " : d . l e n g t h & & ( h . p u s h ( c + " = " + e n c o d e U R I C o m p o n e n t ( d ) ) , i = ! 1 ) ; b r e a k ; c a s e " c h e c k b o x " : b . i s ( " : c h e c k e d " ) & & h . p u s h ( c + " = o n " ) } i ? h = [ " q = " + e n c o d e U R I C o m p o n e n t ( j ) ] : h . p u s h ( " q _ a l l = " + e n c o d e U R I C o m p o n e n t ( j ) ) , h . l e n g t h & & ( l + = " ? " + h . j o i n ( " & " ) ) , d o c u m e n t . l o c a t i o n = l } } , s e a r c h A d v a n c e d T o g g l e H a n d l e r : f u n c t i o n ( a ) { v a r   b = t h i s , c = $ ( a . t a r g e t ) ; t h i s . _ . e l . s e a r c h . $ a d v a n c e d . i s ( " : v i s i b l e " ) ? ( t h i s . _ . e l . s e a r c h . $ a d v a n c e d . f a d e O u t ( 1 5 0 , f u n c t i o n ( ) { b . s y n c S e a r c h S i m p l e A n d A d v a n c e d ( ) } ) , $ ( a . t a r g e t ) . a t t r ( " t i t l e " , " s h o w   a d v a n c e d   s e a r c h " ) ) : ( t h i s . _ . e l . s e a r c h . $ a d v a n c e d . f a d e I n ( 1 5 0 , f u n c t i o n ( ) { b . s y n c S e a r c h S i m p l e A n d A d v a n c e d ( ) } ) , $ ( a . t a r g e t ) . a t t r ( " t i t l e " , " h i d e   a d v a n c e d   s e a r c h " ) ) , c . p a r e n t ( ) . t o g g l e C l a s s ( " a c t i v e " ) , c . t i p s y ( " h i d e " ) } , s e a r c h A d v a n c e d T o g g l e S i z e T y p e : f u n c t i o n ( a ) { t h i s . _ . e l . s e a r c h . $ s i z e T o g g l e . i s ( " : c h e c k e d " ) ? ( t h i s . _ . e l . s e a r c h . $ p x C o m b o . h i d e ( 0 ) , t h i s . _ . e l . s e a r c h . $ m p x C o m b o . s h o w ( 0 ) ) : ( t h i s . _ . e l . s e a r c h . $ m p x C o m b o . h i d e ( 0 ) , t h i s . _ . e l . s e a r c h . $ p x C o m b o . s h o w ( 0 ) ) } , s e a r c h H i g h l i g h t : f u n c t i o n ( ) { v a r   a , b , c = " " , d = ! 1 , e = ! 1 , f = { c l a s s N a m e : " m a t c h e d - s e a r c h - t e r m " } , g = $ ( t h i s . _ . e l . s e a r c h . i m a g e C a r d ) ; i f ( t h i s . _ . i n S e a r c h ) { i f ( " o b j e c t " ! = t y p e o f   t h i s . _ . a d v S e a r c h | | " s t r i n g " = = t y p e o f   t h i s . _ . s e a r c h Q u e r y & & " " ! = = t h i s . _ . s e a r c h Q u e r y ) t h i s . _ . s e a r c h Q u e r y & & g . s t r E l e ( t h i s . _ . s e a r c h Q u e r y , f ) ; e l s e { i f ( " s t r i n g " = = t y p e o f   t h i s . _ . a d v S e a r c h . q _ a l l & & ( c + = "   " + t h i s . _ . a d v S e a r c h . q _ a l l ) , " s t r i n g " = = t y p e o f   t h i s . _ . a d v S e a r c h . q _ e x a c t l y & & ( d = t h i s . _ . a d v S e a r c h . q _ e x a c t l y ) , " s t r i n g " = = t y p e o f   t h i s . _ . a d v S e a r c h . q _ a n y & & ( c + = "   " + t h i s . _ . a d v S e a r c h . q _ a n y ) , c . l e n g t h & & ( e = c . m a t c h ( / ( " [ ^ " ] + " | [ ^ \ s ] + ) / g ) , b = e . l e n g t h , b > 0 ) ) f o r ( a = 0 ; a < b ; a + + ) g . s t r E l e ( e [ a ] , f ) ; d & & g . s t r E l e ( d , f ) } g . f i n d ( " . b o t t o m - b o x   s p a n " ) . r e m o v e C l a s s ( f . c l a s s N a m e ) } } , s y n c S e a r c h S i m p l e A n d A d v a n c e d : f u n c t i o n ( ) { t h i s . _ . e l . s e a r c h . $ a d v a n c e d . l e n g t h < 1 | | ( t h i s . _ . e l . s e a r c h . $ a d v a n c e d . i s ( " : v i s i b l e " ) ? ( t h i s . _ s y n c S e a r c h S i m p l e A n d A d v a n c e d E l e m e n t s ( t h i s . _ . e l . s e a r c h . $ h e a d e r S e a r c h I n p u t , t h i s . _ . e l . s e a r c h . $ a d v a n c e d A l l I n p u t ) , t h i s . _ . e l . s e a r c h . $ h e a d e r S e a r c h . r e m o v e C l a s s ( " s e a r c h - f o c u s e d " ) . a d d C l a s s ( " s e a r c h - f o r c e d - c l o s e d " ) , t h i s . _ . e l . s e a r c h . $ a d v a n c e d A l l I n p u t . f o c u s ( ) . s e l e c t ( ) ) : ( t h i s . _ s y n c S e a r c h S i m p l e A n d A d v a n c e d E l e m e n t s ( t h i s . _ . e l . s e a r c h . $ a d v a n c e d A l l I n p u t , t h i s . _ . e l . s e a r c h . $ h e a d e r S e a r c h I n p u t ) , t h i s . _ . e l . s e a r c h . $ h e a d e r S e a r c h . r e m o v e C l a s s ( " s e a r c h - f o r c e d - c l o s e d " ) . a d d C l a s s ( " s e a r c h - f o c u s e d " ) , t h i s . _ . e l . s e a r c h . $ h e a d e r S e a r c h I n p u t . f o c u s ( ) . s e l e c t ( ) ) ) } , _ s y n c S e a r c h S i m p l e A n d A d v a n c e d E l e m e n t s : f u n c t i o n ( a , b ) { v a r   c = S t r i n g ( b . v a l ( ) ) , d = a . v a l ( ) , e = a . a t t r ( " p l a c e h o l d e r " ) ; c . l e n g t h < 1 & & d ! = e & & b . v a l ( d ) . t r i g g e r ( " c h a n g e " ) , a . v a l ( " " ) } , o u t s i d e I n i t : f u n c t i o n ( ) { v a r   a = t h i s ; t h i s . _ . v a r s . s c r o l l e d P a g e = t h i s . _ . v a r s . p a s t P a g e = t h i s . _ . p a g e , t h i s . _ . s h o w P a s t | | ( t h i s . _ . v a r s . p a s t P a g e + = 1 ) , t h i s . g e n e r a l I n i t ( ) , t h i s . i n i t O u t s i d e I n f S c r o l l ( ) , t h i s . b i n d O u t s i d e S o r t O p t i o n s ( ) , $ ( " . t o o l t i p " ) . t o o l t i p s t e r ( { i n t e r a c t i v e : ! 0 , p o s i t i o n : " l e f t " , s p e e d : 1 0 0 , o f f s e t X : 7 } ) , t h i s . _ . e l . a r r o w s . c l i c k ( f u n c t i o n ( b ) { a . v o t e ( b ) } ) , t h i s . _ . e l . p a s t . l i n k . c l i c k ( f u n c t i o n ( ) { a . p a s t C l i c k H a n d l e r ( ) } ) , t h i s . _ . e l . p a s t . d a y s . c h a n g e ( f u n c t i o n ( b ) { a . p a s t D a y s C h a n g e H a n d l e r ( b ) } ) , t h i s . _ . e l . p a s t . d a y s . k e y p r e s s ( f u n c t i o n ( b ) { a . p a s t D a y s K e y p r e s s H a n d l e r ( b ) } ) , t h i s . _ . e l . p a s t . t i c k e r . c l i c k ( f u n c t i o n ( b ) { a . p a s t T i c k e r C l i c k H a n d l e r ( b ) } ) , t h i s . _ . e l . p a s t . s u b m i t B u t t o n . c l i c k ( f u n c t i o n ( ) { a . p a s t S u b m i t C l i c k H a n d l e r ( ) } ) , t h i s . _ . e l . s e a r c h . $ s i z e T o g g l e . o n ( " c h a n g e " , f u n c t i o n ( b ) { a . s e a r c h A d v a n c e d T o g g l e S i z e T y p e ( b ) } ) , t h i s . _ . e l . s e a r c h . $ a d v a n c e d F o r m . o n ( " s u b m i t " , f u n c t i o n ( b ) { a . s e a r c h A d v a n c e d H a n d l e S u b m i t ( b ) } ) , " n e w " = = t h i s . _ . s e c t i o n & & t h i s . _ . e l . o u t s i d e . $ t o g g l e V i r a l . c l i c k ( f u n c t i o n ( ) { a . t o g g l e S h o w V i r a l ( ) } ) , t h i s . i n i t O u t s i d e C o m b o b o x e s ( ) , t h i s . s e a r c h H i g h l i g h t ( ) , t h i s . _ . e l . o u t s i d e . c o n t e n t . o n ( " m o u s e e n t e r " , " . p o s t   a " , f u n c t i o n ( a ) { v a r   b = $ ( t h i s ) . d a t a ( " p a g e " ) ; $ . c o o k i e ( " g a l l e r y p a g e " , b , { d o m a i n : I m g u r . E n v i r o n m e n t . h o s t , p a t h : " / " } ) } ) , t h i s . _ . e l . o u t s i d e . c o n t e n t . o n ( " m o u s e l e a v e " , " . p o s t   a " , f u n c t i o n ( a ) { $ . c o o k i e ( " g a l l e r y p a g e " , n u l l , { e x p i r e s : - 1 , d o m a i n : I m g u r . E n v i r o n m e n t . h o s t , p a t h : " / " } ) } ) , $ ( d o c u m e n t ) . r e a d y ( f u n c t i o n ( ) { a . _ . s h o w G a l l e r y N e w I n f o & & $ . c o l o r b o x ( { h r e f : a . _ . e l . o u t s i d e . g a l l e r y N e w I n f o . i d , o p e n : ! 0 , i n l i n e : ! 0 , t o p : " 1 5 % " , t r a n s i t i o n : " n o n e " , s c r o l l i n g : ! 1 , o n C o m p l e t e : f u n c t i o n ( ) { a . _ . e l . o u t s i d e . g a l l e r y N e w I n f o . $ o k a y . c l i c k ( f u n c t i o n ( ) { $ . c o o k i e ( " I G T " , 1 , { e x p i r e s : 7 , p a t h : " / " } ) , $ . c o l o r b o x . c l o s e ( ) } ) , a . _ . e l . o u t s i d e . g a l l e r y N e w I n f o . $ n o . c l i c k ( f u n c t i o n ( ) { w i n d o w . l o c a t i o n = " / / " + a . _ . h o s t + " / h o t " } ) } } ) } ) } , i n i t O u t s i d e C o m b o b o x e s : f u n c t i o n ( ) { $ ( " . c o m b o b o x : n o t ( # s e c t i o n ) : n o t ( # s o r t ) " ) . c o m b o b o x ( { o n C h a n g e : _ . b i n d ( f u n c t i o n ( a , b , c ) { s w i t c h ( a ) { c a s e " q _ s i z e _ p x " : $ ( t h i s . _ . e l . s e a r c h . s i z e ) . v a l ( b ) , t h i s . _ . e l . s e a r c h . $ s i z e M p x . v a l ( b ) ; v a r   d = t h i s . _ . e l . s e a r c h . $ m p x C o m b o . f i n d ( " . o p t i o n s   . i t e m " ) . r e m o v e C l a s s ( " s e l e c t e d " ) . f i l t e r ( ' [ v a l u e = " ' + b + ' " ] ' ) . a d d C l a s s ( " s e l e c t e d " ) . t e x t ( ) ; t h i s . _ . e l . s e a r c h . $ m p x C o m b o . f i n d ( " d i v . s e l e c t i o n " ) . f i r s t ( ) . t e x t ( d ) ; b r e a k ; c a s e " q _ s i z e _ m p x " : $ ( t h i s . _ . e l . s e a r c h . s i z e ) . v a l ( b ) , t h i s . _ . e l . s e a r c h . $ s i z e P x . v a l ( b ) ; v a r   d = t h i s . _ . e l . s e a r c h . $ p x C o m b o . f i n d ( " . o p t i o n s   . i t e m " ) . r e m o v e C l a s s ( " s e l e c t e d " ) . f i l t e r ( ' [ v a l u e = " ' + b + ' " ] ' ) . a d d C l a s s ( " s e l e c t e d " ) . t e x t ( ) ; t h i s . _ . e l . s e a r c h . $ p x C o m b o . f i n d ( " d i v . s e l e c t i o n " ) . f i r s t ( ) . t e x t ( d ) } } , t h i s ) } ) } , i n s i d e I n i t : f u n c t i o n ( ) { v a r   a = _ . b i n d ( f u n c t i o n ( a , b , c ) { v a r   d = t h i s . i m g u r I n s i d e N a v . g e t H a s h ( ) , e = t h i s . i m g u r I n s i d e N a v . _ . s i d e G a l l e r y . g e t I m a g e ( d ) ; s w i t c h ( e | | ( e = t h i s . _ . i m a g e ) , b ) { c a s e " d o w n l o a d " : I m g u r . U t i l . j a f o L o g ( { e v e n t : " d o w n l o a d I m a g e " , m e t a : { c o n t r o l : " p o s t O p t i o n s " , n s f w : e . n s f w , h a s h : e . h a s h , i s A l b u m : e . i s _ a l b u m , i s A n i m a t e d : e . a n i m a t e d } } ) , e . i s _ a l b u m ? t h i s . i m g u r I n s i d e N a v . s t a r t D o w n l o a d ( e . h a s h ) : w i n d o w . l o c a t i o n = " / d o w n l o a d / " + d + " / " + e n c o d e U R I C o m p o n e n t ( e . t i t l e ) ; b r e a k ; c a s e " m e m e " : I m g u r . U t i l . j a f o L o g ( { e v e n t : " m a k e A M e m e " , m e t a : { c o n t r o l : " p o s t O p t i o n s " , n s f w : e . n s f w , h a s h : e . h a s h , i s A l b u m : e . i s _ a l b u m , i s A n i m a t e d : e . a n i m a t e d } } ) , w i n d o w . l o c a t i o n = " / m e m e g e n / c r e a t e / " + d ; b r e a k ; c a s e " r e p o r t " : 1 ! = $ . c o o k i e ( " r " + d ) & & t h i s . r e p o r t I m a g e ( ) ; b r e a k ; c a s e " d e l e t e " : t h i s . d e l e t e I m a g e ( ) ; b r e a k ; c a s e " e m b e d " : I m g u r . U t i l i t i e s . E m b e d . e m b e d M o d a l . c a l l ( t h i s ) } r e t u r n ! 1 } , t h i s ) ; i f ( t h i s . g e n e r a l I n i t ( ) , I m g u r . g e t I n s t a n c e ( ) . s e t H a s h ( t h i s . _ . h a s h ) , t h i s . _ . e l . e m b e d A l b u m F o r m . e m b e d C o d e I n p u t . c l i c k ( $ ( t h i s ) . s e l e c t A l l ) , t h i s . _ . c o m m e n t _ i d | | t h i s . _ . m o b i l e | | t h i s . _ . e l . i n s i d e . $ c o m m e n t s . h t m l ( ' < i m g   c l a s s = " s m a l l - m a r g i n - t o p "   s r c = " / / s . i m g u r . c o m / i m a g e s / l o a d e r s / d d d d d 1 _ 2 b 2 b 2 b / 2 4 . g i f " / > ' ) , I m g u r . U t i l . t r i g g e r V i e w ( t h i s . _ . h a s h , { a l b u m : t h i s . _ . i m a g e . i s _ a l b u m , d i s c a r d : ! 1 } ) , t h i s . _ . i m a g e . i s _ a l b u m ) f o r ( v a r   b = 0 ; b < t h i s . _ . i m a g e . a l b u m _ i m a g e s . i m a g e s . l e n g t h & & b < 1 0 ; b + + ) { v a r   c = t h i s . _ . i m a g e . a l b u m _ i m a g e s . i m a g e s [ b ] ; I m g u r . U t i l . t r i g g e r V i e w ( c . h a s h , { i m a g e : ! 0 , d i s c a r d : ! 1 } ) } t h i s . _ . e l . a d m . $ a d d T a g . l e n g t h & & t h i s . i n i t A d m A d d G a l l e r y T a g ( ) , t h i s . i n i t Z o o m ( ) , t h i s . _ . e l . c o l o r b o x E m b e d . e m b e d C o d e I n p u t . c l i c k ( $ ( t h i s ) . s e l e c t A l l ) , t h i s . i m g u r I n s i d e N a v . g e n e r a l I n i t ( _ . b i n d ( f u n c t i o n ( ) { t h i s . i m g u r I n s i d e N a v . s e t C a p t i o n S o r t ( t h i s . _ . c o m m e n t _ s o r t ) , t h i s . _ . i m a g e . c o m m e n t s _ d i s a b l e d | | t h i s . _ . m o b i l e | | n u l l = = = t h i s . _ . s e c t i o n | | ! t h i s . _ . c a p t i o n s E n a b l e d | | t h i s . i m g u r I n s i d e N a v . f e t c h C a p t i o n s ( t h i s . _ . h a s h , _ . b i n d ( f u n c t i o n ( ) { I m g u r . C a p t i o n . g e t I n s t a n c e ( ) . h a v e C a p t i o n s ( t h i s . _ . h a s h ) & & t h i s . i m g u r I n s i d e N a v . p r o c e s s C a p t i o n s ( t h i s . _ . h a s h ) } , t h i s ) ) , $ ( " . p o s t - l o a d a l l " ) . c l i c k ( _ . b i n d ( f u n c t i o n ( ) { r e t u r n   t h i s . i m g u r I n s i d e N a v . i n s e r t P o s t ( t h i s . _ . i m a g e , ! 0 ) , ! 1 } , t h i s ) ) } , t h i s ) ) , t h i s . _ . e l . i n s i d e . r e C a p t i o n L i n k . c l i c k ( t h i s . r e C a p t i o n ) , t h i s . _ . e l . i n s i d e . $ s h a r e T a b B u t t o n . c l i c k ( t h i s . t o g g l e T a b ) , 1 = = $ . c o o k i e ( " r " + t h i s . i m g u r I n s i d e N a v . g e t H a s h ( ) ) ? t h i s . _ . e l . i n s i d e . r e p o r t I m a g e L i n k . a d d C l a s s ( " r e d " ) . t e x t ( "   p o s t   r e p o r t e d " ) : t h i s . _ . e l . i n s i d e . r e p o r t I m a g e L i n k . r e m o v e C l a s s ( " r e d " ) . t e x t ( "   r e p o r t   p o s t " ) , t h i s . i n i t M o d e r a t i o n P a n e l ( ) , t h i s . _ . e l . i n s i d e . $ s h a r e L i n k . f o c u s ( t h i s . s e l e c t ) , t h i s . _ . e l . i n s i d e . $ o p t i o n s B u t t o n . c o m b o b o x ( { m a y b e : a } ) , $ ( d o c u m e n t ) . r e a d y ( _ . b i n d ( f u n c t i o n ( ) { t h i s . u p d a t e S h a r e ( ) } , t h i s ) ) } , t o g g l e T a b : f u n c t i o n ( a ) { i f ( ! a ) r e t u r n   v o i d   $ ( " . b u t t o n - c o n t a i n e r   . b t n " ) . r e m o v e C l a s s ( " o p e n e d " ) ; a . s t o p P r o p a g a t i o n ( ) ; v a r   b = $ ( a . c u r r e n t T a r g e t ) , c = b . h a s C l a s s ( " o p e n e d " ) ; $ ( " . o p e n e d " ) . r e m o v e C l a s s ( " o p e n e d " ) , c | | b . a d d C l a s s ( " o p e n e d " ) } , g e n e r a l I n i t : f u n c t i o n ( ) { t h i s . _ . s i d = $ ( " # s i d " ) . v a l ( ) , t h i s . _ . m e s s a g e s = { d e l e t e I m a g e : " A r e   y o u   s u r e   y o u   w a n t   t o   r e m o v e   t h i s   s u b m i s s i o n   f r o m   t h e   g a l l e r y ? " , l o a d M o r e : ' < d i v   i d = " l o a d - m o r e " > l o a d   m o r e   i m a g e s < / d i v > ' , r e p o r t I m a g e : " A r e   y o u   s u r e   y o u   w a n t   t o   r e p o r t   t h i s   s u b m i s s i o n   f o r   s p a m   o r   a b u s e ? " } , t h i s . i n i t T i p s y ( ) } , u p d a t e S h a r e : f u n c t i o n ( ) { v a r   a = t h i s . _ . i m a g e ; i f ( a ) { v a r   b = I m g u r . S h a r e B u t t o n s . g e t I n s t a n c e ( ) ; b . b i n d B u t t o n s ( ) ; v a r   c = " h t t p s : / / " + t h i s . _ . h o s t + t h i s . _ . b a s e U R L + " / " + t h i s . _ . h a s h ; c = a . i s _ a l b u m ? c . r e p l a c e ( " / a c c o u n t / f a v o r i t e s / " , " / a / " ) : c . r e p l a c e ( " / a c c o u n t / f a v o r i t e s / " , " / " ) , b . s e t S h a r e D a t a ( { t i t l e : a . t i t l e , j a f o M e t a : _ . m e r g e ( t h i s . g e t G a l l e r y M e t a d a t a ( ) , { t y p e : " g a l l e r y P o s t " , h a s h : t h i s . _ . h a s h , i s A l b u m : a . i s _ a l b u m , i n G a l l e r y : ! 0 , n s f w : a . n s f w } ) , u r l : c } , { g l o b a l : ! 0 } ) } } , g e t I n s i d e N a v : f u n c t i o n ( ) { r e t u r n   t h i s . i m g u r I n s i d e N a v } , r e s e t R e p o r t C l o s e A n a l y t i c s : f u n c t i o n ( ) { t h i s . _ . p r e v e n t R e p o r t C l o s e A n a l y t i c s = ! 1 } , p r e v e n t R e p o r t C l o s e A n a l y t i c s : f u n c t i o n ( ) { t h i s . _ . p r e v e n t R e p o r t C l o s e A n a l y t i c s = ! 0 } , i n i t M o d e r a t i o n P a n e l : f u n c t i o n ( ) { f u n c t i o n   a ( ) { i f ( t h i s . _ . p e n d i n g A c t i o n s . v a l > 0 ) r e t u r n " S o m e   m o d e r a t i o n   a c t i o n s   h a v e   n o t   y e t   s a v e d .   L e a v i n g   w i l l   d i s c a r d   s o m e   a c t i o n s   y o u   h a v e   t a k e n ! " } f u n c t i o n   b ( a ) { r e t u r n   p a r a m s = { t y p e : " i m a g e " , 
 h a s h : a . i m g u r I n s i d e N a v . g e t I m a g e ( ) . a l b u m _ c o v e r | | a . i m g u r I n s i d e N a v . g e t I m a g e ( ) . h a s h , e x t : a . i m g u r I n s i d e N a v . g e t I m a g e ( ) . e x t } , a . i m g u r I n s i d e N a v . g e t U R L ( p a r a m s ) } u n d o D e l a y = t h i s . _ . u n d o D e l a y ; v a r   c = t h i s ; t h i s . _ . p e n d i n g A c t i o n s = { v a l : 0 , i n c r e m e n t : f u n c t i o n ( ) { t h i s . v a l + + } , d e c r e m e n t : f u n c t i o n ( ) { t h i s . v a l - - } } , p e n d i n g A c t i o n s = t h i s . _ . p e n d i n g A c t i o n s , w i n d o w . o n b e f o r e u n l o a d = a . b i n d ( c ) , $ ( " # d b o i - p o s t " ) . c l i c k ( f u n c t i o n ( ) { v a r   a = b ( t h i s ) , d = t h i s . _ . a c c o u n t _ u r l , e = t h i s . i m g u r I n s i d e N a v . g e t H a s h ( ) ; p e n d i n g A c t i o n s = c r e a t e U n d o T o a s t ( n u l l , " W a r n i n g   a n d   r e m o v i n g " , f u n c t i o n ( ) { t h i s . w a r n ( d ) , t h i s . u n g a l l e r y ( e ) } . b i n d ( c ) , ! 0 , u n d o D e l a y , p e n d i n g A c t i o n s , a ) } . b i n d ( c ) ) , $ ( " # u n g a l l e r y - p o s t " ) . c l i c k ( f u n c t i o n ( ) { v a r   a = b ( t h i s ) , d = t h i s . i m g u r I n s i d e N a v . g e t H a s h ( ) ; p e n d i n g A c t i o n s = c r e a t e U n d o T o a s t ( n u l l , " R e m o v i n g   f r o m   g a l l e r y " , f u n c t i o n ( ) { t h i s . u n g a l l e r y ( d ) } . b i n d ( c ) , ! 0 , u n d o D e l a y , p e n d i n g A c t i o n s , a ) } . b i n d ( c ) ) , $ ( " # d e l e t e - p o s t " ) . c l i c k ( f u n c t i o n ( ) { v a r   a = b ( t h i s ) , d = t h i s . i m g u r I n s i d e N a v . g e t H a s h ( ) ; p e n d i n g A c t i o n s = c r e a t e U n d o T o a s t ( n u l l , " D e l e t i n g   p o s t " , f u n c t i o n ( ) { t h i s [ " d e l e t e " ] ( d ) } . b i n d ( c ) , ! 0 , u n d o D e l a y , p e n d i n g A c t i o n s , a ) } . b i n d ( c ) ) , $ ( " # s p a m - p o s t " ) . c l i c k ( f u n c t i o n ( ) { v a r   a = b ( t h i s ) , d = t h i s . i m g u r I n s i d e N a v . g e t H a s h ( ) ; p e n d i n g A c t i o n s = c r e a t e U n d o T o a s t ( n u l l , " M a r k i n g   p o s t   a s   s p a m " , f u n c t i o n ( ) { t h i s . s p a m P o s t ( d ) } . b i n d ( c ) , ! 0 , u n d o D e l a y , p e n d i n g A c t i o n s , a ) } . b i n d ( c ) ) , $ ( " # m a t u r e - p o s t " ) . c l i c k ( f u n c t i o n ( ) { v a r   a = b ( t h i s ) , d = t h i s . i m g u r I n s i d e N a v . g e t H a s h ( ) , e = t h i s . i m g u r I n s i d e N a v . g e t I m a g e ( ) ; p e n d i n g A c t i o n s = c r e a t e U n d o T o a s t ( n u l l , " M a r k i n g   p o s t   a s   m a t u r e " , f u n c t i o n ( ) { t h i s . m a t u r e ( d ) , e . n s f w = ! 0 } . b i n d ( c ) , ! 0 , u n d o D e l a y , p e n d i n g A c t i o n s , a ) } . b i n d ( c ) ) , $ ( " # w a r n - u s e r " ) . c l i c k ( f u n c t i o n ( ) { v a r   a = b ( t h i s ) , d = t h i s . _ . a c c o u n t _ u r l ; p e n d i n g A c t i o n s = c r e a t e U n d o T o a s t ( n u l l , " W a r n i n g   u s e r " , f u n c t i o n ( ) { t h i s . w a r n ( d ) } . b i n d ( c ) , ! 0 , u n d o D e l a y , p e n d i n g A c t i o n s , a ) } . b i n d ( c ) ) , $ ( " # b a n - u s e r " ) . c l i c k ( f u n c t i o n ( ) { v a r   a = b ( c ) , d = c . _ . a c c o u n t _ u r l , e = w i n d o w . l o c a t i o n . h r e f ; p e n d i n g A c t i o n s = c r e a t e U n d o T o a s t ( n u l l , " B a n n i n g   u s e r " , f u n c t i o n ( ) { t h i s . b a n ( d , e ) } . b i n d ( c ) , ! 0 , u n d o D e l a y , p e n d i n g A c t i o n s , a ) } . b i n d ( c ) ) , $ ( " # o b f u s c a t e - p o s t " ) . c l i c k ( f u n c t i o n ( ) { v a r   a = b ( t h i s ) , d = t h i s . i m g u r I n s i d e N a v . g e t H a s h ( ) ; p e n d i n g A c t i o n s = c r e a t e U n d o T o a s t ( n u l l , " O b f u s c a t i n g   p o s t " , f u n c t i o n ( ) { t h i s . o b f u s c a t e ( d ) } . b i n d ( c ) , ! 0 , u n d o D e l a y , p e n d i n g A c t i o n s , a ) } . b i n d ( c ) ) , $ ( " # s p a m - u s e r " ) . c l i c k ( f u n c t i o n ( ) { v a r   a = b ( c ) , d = c . _ . a c c o u n t _ u r l , e = t h i s . i m g u r I n s i d e N a v . g e t H a s h ( ) ; p e n d i n g A c t i o n s = c r e a t e U n d o T o a s t ( n u l l , " S p a m m i n g   u s e r   &   r e m o v i n g " , f u n c t i o n ( ) { t h i s . s p a m ( d , e ) } . b i n d ( c ) , ! 0 , u n d o D e l a y , p e n d i n g A c t i o n s , a ) } . b i n d ( c ) ) , $ ( " # n c m e c - p o s t " ) . c l i c k ( f u n c t i o n ( ) { v a r   a = b ( c ) , d = c . i m g u r I n s i d e N a v . g e t H a s h ( ) ; p e n d i n g A c t i o n s = c r e a t e U n d o T o a s t ( n u l l , " R e p o r t i n g   p o s t   t o   N C M E C " , f u n c t i o n ( ) { t h i s . n c m e c ( d ) } . b i n d ( c ) , ! 0 , u n d o D e l a y , p e n d i n g A c t i o n s , a ) } . b i n d ( c ) ) , $ ( " # t r o p h y - m o d " ) . o n ( " c l i c k " , " b u t t o n " , _ . b i n d ( t h i s . t r o p h y , t h i s ) ) } } ) , C l a s s . a d d S i n g l e t o n ( I m g u r . G a l l e r y ) , N a m e s p a c e ( " I m g u r . G a l l e r y " ) , I m g u r . G a l l e r y . I n s i d e = I m g u r . G a l l e r y . e x t e n d ( { i n i t : f u n c t i o n ( a , b , c ) { t h i s . i m g u r I n s i d e N a v = a , t h i s . _ s u p e r ( b , c ) } } ) , N a m e s p a c e ( " I m g u r . G a l l e r y " ) , I m g u r . G a l l e r y . O u t s i d e = I m g u r . G a l l e r y . e x t e n d ( { } ) , N a m e s p a c e ( " I m g u r . G a l l e r y " ) , I m g u r . G a l l e r y . M a i n O u t s i d e = I m g u r . G a l l e r y . O u t s i d e . e x t e n d ( { i n i t : f u n c t i o n ( a , b , c , d ) { t h i s . _ s u p e r ( b , c , d ) , t h i s . _ . o u t s i d e A c t i v e T a g S t o r e = a } , h a n d l e T a g C h a n g e d : f u n c t i o n ( a ) { v a r   b = t h i s . _ . o u t s i d e A c t i v e T a g S t o r e . g e t I s A c t i v e ( ) ; b ? t h i s . _ h a n d l e T a g S e l e c t ( a ) : t h i s . _ h a n d l e T a g D e s e l e c t ( a ) } , _ h a n d l e T a g D e s e l e c t : f u n c t i o n ( ) { t h i s . _ . o v e r R i d e U r l = n u l l , t h i s . _ . h i s t o r y . a d d W i n d o w S t a t e ( " i n i t i a l " , " t a g D e s e l e c t " , t h i s . g e t S e c t i o n U r l ( ) ) , t h i s . r e f e t c h P a g e ( ) } , _ h a n d l e T a g S e l e c t : f u n c t i o n ( a ) { v a r   b = t h i s . _ . o u t s i d e A c t i v e T a g S t o r e . g e t A c t i v e T a g ( ) , c = e n c o d e U R I C o m p o n e n t ( t h i s . _ . o u t s i d e A c t i v e T a g S t o r e . g e t A c t i v e T a g E n c o d e d ( ) ) ; t h i s . _ . o v e r R i d e U r l = " / t / " + c , " r i s i n g " = = t h i s . _ . s o r t & & ( t h i s . _ . s o r t = " v i r a l " ) , a | | ( w i n d o w . h i s t o r y . r e p l a c e S t a t e & & ! w i n d o w . h i s t o r y . s t a t e & & w i n d o w . h i s t o r y . r e p l a c e S t a t e ( " i n i t i a l " , " i n i t i a l " , w i n d o w . l o c a t i o n . h r e f ) , t h i s . _ . h i s t o r y . a d d W i n d o w S t a t e ( " t a g " , " I m g u r   -   " + b , t h i s . _ . o v e r R i d e U r l ) ) , t h i s . _ u p d a t e P a g e O n T a g C h a n g e ( t h i s . _ . o v e r R i d e U r l ) } , _ u p d a t e P a g e O n T a g C h a n g e : f u n c t i o n ( a ) { v a r   b = $ ( " # s o r t " ) , c = $ ( " # s e c t i o n " ) , d = b . f i n d ( ' . i t e m [ v a l u e = " r i s i n g " ] ' ) ; b . f i n d ( ' . i t e m [ v a l u e = " t o p " ] ' ) ; i f ( c . f i n d ( " . s e l e c t e d " ) . r e m o v e C l a s s ( " s e l e c t e d " ) , d . h a s C l a s s ( " s e l e c t e d " ) ) { v a r   e = b . f i n d ( ' . i t e m [ v a l u e = " ' + t h i s . _ . s o r t + ' " ] ' ) . a d d C l a s s ( " s e l e c t e d " ) ; b . f i n d ( " . s e l e c t i o n " ) . h t m l ( e . t e x t ( ) ) } d . h i d e ( ) , $ ( " . s o r t - o p t i o n s " ) . h i d e ( ) , t h i s . r e f e t c h P a g e ( ) } , r e f e t c h P a g e : f u n c t i o n ( ) { t h i s . _ . v a r s . l o a d i n g | | ( t h i s . _ . v a r s . s c r o l l e d P a g e > 0 & & ( t h i s . _ . v a r s . s c r o l l e d I m a g e S e t = - 1 ) , t h i s . _ . v a r s . s c r o l l e d P a g e = 0 , I m g u r . I n f i n i t e S c r o l l . g e t I n s t a n c e ( ) . s t o p I n f i n i t e S c r o l l ( ) , $ ( t h i s . _ . e l . o u t s i d e . p a g e D i v i d e r ) . r e m o v e ( ) , t h i s . f a d e I n L o a d e r ( ) , t h i s . f e t c h I m a g e s ( 0 , 0 , _ . b i n d ( f u n c t i o n ( ) { t h i s . _ . v a r s . l o a d i n g | | ( I m g u r . I n f i n i t e S c r o l l . g e t I n s t a n c e ( ) . c o n t i n u e I n f i n i t e S c r o l l ( ) , t h i s . i n i t O u t s i d e I n f S c r o l l ( ) ) } , t h i s ) ) ) } } ) , N a m e s p a c e ( " I m g u r . G a l l e r y " ) , I m g u r . G a l l e r y . H e a d e r = R e a c t . c r e a t e C l a s s ( { d i s p l a y N a m e : " G a l l e r y - H e a d e r " , M A X _ A L B U M _ T I T L E : 2 5 5 , M A X _ I M A G E _ T I T L E : 1 2 8 , p r o p T y p e s : { n o N a v : R e a c t . P r o p T y p e s . b o o l } , g e t I n i t i a l S t a t e : f u n c t i o n ( ) { r e t u r n { f i r s t : ! 0 , l a s t : ! 1 , i m a g e : t h i s . p r o p s . i n i t i a l I m a g e , i n i t i a l : ! 0 , s h o w i n g G r i d : ! 1 } } , c o m p o n e n t D i d M o u n t : f u n c t i o n ( ) { t h i s . p r o p s . e m i t t e r . o n ( " i n i t G r i d " , t h i s , f u n c t i o n ( ) { t h i s . s e t S t a t e ( { s h o w i n g G r i d : ! 0 } ) } ) } , c o m p o n e n t W i l l U n m o u n t : f u n c t i o n ( ) { t h i s . p r o p s . e m i t t e r . o f f ( " i n i t G r i d " ) } , _ n e x t : f u n c t i o n ( ) { t h i s . p r o p s . e m i t t e r . t r i g g e r ( " b u t t o n N a v " , " n e x t " ) } , _ p r e v : f u n c t i o n ( ) { t h i s . p r o p s . e m i t t e r . t r i g g e r ( " b u t t o n N a v " , " p r e v " ) } , c l o s e R e a r r a n g e : f u n c t i o n ( ) { t h i s . p r o p s . e m i t t e r . t r i g g e r ( " c l o s e G r i d " ) , t h i s . s e t S t a t e ( { s h o w i n g G r i d : ! 1 } ) } , c o m p o n e n t D i d U p d a t e : f u n c t i o n ( ) { i f ( ! t h i s . s t a t e . i n i t i a l ) { v a r   a = $ ( " . p o s t - h e a d e r " ) ; i f ( a . h a s C l a s s ( " f i x e d " ) & & " c l i c k " = = t h i s . s t a t e . n a v T r i g g e r ) { a . r e m o v e C l a s s ( " a n i m a t e   f i x e d   a n i m a t i o n - f i n i s h e d " ) ; v a r   b = a . o u t e r H e i g h t ( ) ; a . a d d C l a s s ( " f i x e d " ) , $ ( " . p o s t - c o n t a i n e r " ) . c s s ( " p a d d i n g - t o p " , b ) , $ ( d o c u m e n t ) . s c r o l l T o p ( $ ( " . p o s t - c o n t a i n e r " ) . o f f s e t ( ) . t o p + 1 ) } e l s e   $ ( d o c u m e n t ) . s c r o l l T o p ( 0 ) } } , r e n d e r : f u n c t i o n ( ) { v a r   a , b = " " ; r e t u r n ( t h i s . p r o p s . n o N a v | | I m g u r . E n v i r o n m e n t . h a s A c c e s s & & ! I m g u r . E n v i r o n m e n t . c a p t i o n s E n a b l e d & & ! t h i s . s t a t e . i m a g e . i s _ a l b u m ) & & ( b = "   n o d i s p l a y " ) , a = t h i s . s t a t e . s h o w i n g G r i d ? R e a c t . c r e a t e E l e m e n t ( " d i v " , { o n C l i c k : t h i s . c l o s e R e a r r a n g e , c l a s s N a m e : " r i g h t   b t n   b t n - a c t i o n   b t n - r e a r r a n g e - d o n e ' " } , " D o n e " ) : R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " n e x t - p r e v " + b } , R e a c t . c r e a t e E l e m e n t ( " d i v " , { o n C l i c k : t h i s . s t a t e . f i r s t ? _ . n o o p : t h i s . _ p r e v , c l a s s N a m e : " b t n   n a v P r e v   i c o n   i c o n - a r r o w - l e f t " + ( t h i s . s t a t e . f i r s t ? "   d i s a b l e d " : " " ) } ) , R e a c t . c r e a t e E l e m e n t ( " d i v " , { o n C l i c k : t h i s . s t a t e . l a s t ? _ . n o o p : t h i s . _ n e x t , c l a s s N a m e : " b t n   b t n - a c t i o n   n a v N e x t " + ( t h i s . s t a t e . l a s t ? "   d i s a b l e d " : " " ) } , R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " t e x t " } , " N e x t   P o s t " ) , R e a c t . c r e a t e E l e m e n t ( " s p a n " , { c l a s s N a m e : " i c o n   i c o n - a r r o w - r i g h t " } ) ) ) , R e a c t . c r e a t e E l e m e n t ( " d i v " , n u l l , a , R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " p o s t - t i t l e - c o n t a i n e r " } , R e a c t . c r e a t e E l e m e n t ( I m g u r . G a l l e r y . T i t l e D e s c , { p o s t S a v i n g S t o r e : t h i s . p r o p s . p o s t S a v i n g S t o r e , e l e m e n t : " h 1 " , t y p e : " t i t l e " , c l a s s e s : " p o s t - t i t l e " + ( t h i s . s t a t e . i m a g e . n s f w ? "   m a t u r e - i n d i c a t o r " : " " ) , p l a c e h o l d e r : " G i v e   y o u r   p o s t   a   t i t l e . . . " , t e x t : t h i s . s t a t e . i m a g e . t i t l e , i s _ a l b u m : t h i s . s t a t e . i m a g e . i s _ a l b u m , d e l e t e h a s h : t h i s . s t a t e . i m a g e . d e l e t e h a s h , m a x _ l e n g t h : t h i s . s t a t e . i m a g e . i s _ a l b u m ? t h i s . M A X _ A L B U M _ T I T L E : t h i s . M A X _ I M A G E _ T I T L E , n o _ e n t e r : ! 0 , p u b l i s h e d : t h i s . p r o p s . p u b l i s h e d , s h o w E d i t T o o l s : t h i s . p r o p s . s h o w E d i t T o o l s , t a b i n d e x : t h i s . p r o p s . s h o w E d i t T o o l s ? 1 : " " } ) ) , R e a c t . c r e a t e E l e m e n t ( I m g u r . G a l l e r y . S o u r c e B a r , { i m a g e : t h i s . s t a t e . i m a g e , s l i m : t h i s . p r o p s . s h o w E d i t T o o l s } ) ) } } ) , N a m e s p a c e ( " I m g u r . G a l l e r y " ) , I m g u r . G a l l e r y . E m b e d = R e a c t . c r e a t e C l a s s ( { d i s p l a y N a m e : " G a l l e r y - E m b e d " , g e t I n i t i a l S t a t e : f u n c t i o n ( ) { r e t u r n { s h o w C o n t e x t : ! 0 } } , c o m p o n e n t D i d M o u n t : f u n c t i o n ( ) { I m g u r . U t i l . j a f o L o g ( { e v e n t : " o p e n E m b e d M o d a l " , m e t a : { i n G a l l e r y : t h i s . p r o p s . i n _ g a l l e r y , h a s h : t h i s . p r o p s . h a s h , i s A l b u m : t h i s . p r o p s . i s _ a l b u m , n s f w : t h i s . p r o p s . n s f w , c o n t r o l : " p o s t O p t i o n s " } } ) , $ . a j a x ( { u r l : t h i s . g e t E m b e d S c r i p t ( ) , d a t a T y p e : " s c r i p t " , c a c h e : ! 0 } ) , w i n d o w . a d d E v e n t L i s t e n e r ( " m e s s a g e " , _ . b i n d ( f u n c t i o n ( a ) { v a r   b = J S O N . p a r s e ( a . d a t a ) ; " r e s i z e _ i m g u r " = = = b . m e s s a g e & & ( t h i s . r e f s . p r e v i e w . s t y l e . h e i g h t = b . h e i g h t + " p x " , $ . c o l o r b o x . r e s i z e ( ) ) } , t h i s ) , ! 1 ) } , g e t E m b e d S c r i p t : f u n c t i o n ( ) { r e t u r n " / / " + ( I m g u r . E n v i r o n m e n t . i s D e v ? I m g u r . E n v i r o n m e n t . h o s t + " / i n c l u d e / m i n i f i e d " : " s . i m g u r . c o m / m i n " ) + " / e m b e d . j s " } , g e t E m b e d C o d e : f u n c t i o n ( a , b ) { v a r   c = a = = = ! 1 ? '   d a t a - c o n t e x t = " ' + a + ' " ' : " " , d = b ? " " : '   d a t a - a n a l y t i c s = " f a l s e " ' ; r e t u r n ' < b l o c k q u o t e   c l a s s = " i m g u r - e m b e d - p u b "   l a n g = " e n "   d a t a - i d = " ' + ( t h i s . p r o p s . i s _ a l b u m ? " a / " : " " ) + t h i s . p r o p s . h a s h + ' " ' + c + d + ' > < a   h r e f = " / / ' + I m g u r . E n v i r o n m e n t . h o s t + " / " + t h i s . p r o p s . h a s h + ' " > ' + _ . e s c a p e ( t h i s . p r o p s . t i t l e ) + ' < / a > < / b l o c k q u o t e > < s c r i p t   a s y n c   s r c = " ' + t h i s . g e t E m b e d S c r i p t ( ) + ' "   c h a r s e t = " u t f - 8 " > < / s c r i p t > ' } , h a n d l e r H i d e T i t l e : f u n c t i o n ( a , b ) { a . s e t S t a t e ( { s h o w C o n t e x t : ! b } , f u n c t i o n ( ) { w i n d o w . i m g u r E m b e d . c r e a t e I f r a m e ( ) } ) } , r e n d e r : f u n c t i o n ( ) { v a r   a = t h i s . s t a t e . s h o w C o n t e x t ; r e t u r n   R e a c t . c r e a t e E l e m e n t ( " d i v " , n u l l , R e a c t . c r e a t e E l e m e n t ( " p " , { c l a s s N a m e : " e m b e d - a c t i o n " } , " C o p y   +   P a s t e   t h i s   C o d e " ) , R e a c t . c r e a t e E l e m e n t ( I m g u r . E l e m e n t s . C o p y , { v a l u e : t h i s . g e t E m b e d C o d e ( a , ! 0 ) , i n p u t C l a s s : " c o p y - i n p u t   e m b e d - c o p y " , c o p y C l a s s : " c o p y " } ) , R e a c t . c r e a t e E l e m e n t ( " d i v " , { r e f : " p r e v i e w " , d a n g e r o u s l y S e t I n n e r H T M L : { _ _ h t m l : t h i s . g e t E m b e d C o d e ( a , ! 1 ) } } ) , R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " e m b e d - m e t a " } , R e a c t . c r e a t e E l e m e n t ( " s p a n " , n u l l , " I n c l u d e   t h i s   p o s t   i n   y o u r   b l o g ,   n e w s   s i t e ,   o r   a n y w h e r e   e l s e   o n   t h e   w e b ! " ) , R e a c t . c r e a t e E l e m e n t ( I m g u r . E l e m e n t s . C h e c k B o x , { c l a s s N a m e : " r i g h t " , l a b e l : " H i d e   T i t l e " , i d : " h i d e T i t l e " , o n C h a n g e : t h i s . h a n d l e r H i d e T i t l e . b i n d ( n u l l , t h i s ) } ) ) ) } } ) ; v a r   _ s l i c e d T o A r r a y = f u n c t i o n ( ) { f u n c t i o n   a ( a , b ) { v a r   c = [ ] , d = ! 0 , e = ! 1 , f = v o i d   0 ; t r y { f o r ( v a r   g , h = a [ S y m b o l . i t e r a t o r ] ( ) ; ! ( d = ( g = h . n e x t ( ) ) . d o n e ) & & ( c . p u s h ( g . v a l u e ) , ! b | | c . l e n g t h ! = = b ) ; d = ! 0 ) ; } c a t c h ( i ) { e = ! 0 , f = i } f i n a l l y { t r y { ! d & & h [ " r e t u r n " ] & & h [ " r e t u r n " ] ( ) } f i n a l l y { i f ( e ) t h r o w   f } } r e t u r n   c } r e t u r n   f u n c t i o n ( b , c ) { i f ( A r r a y . i s A r r a y ( b ) ) r e t u r n   b ; i f ( S y m b o l . i t e r a t o r   i n   O b j e c t ( b ) ) r e t u r n   a ( b , c ) ; t h r o w   n e w   T y p e E r r o r ( " I n v a l i d   a t t e m p t   t o   d e s t r u c t u r e   n o n - i t e r a b l e   i n s t a n c e " ) } } ( ) ; N a m e s p a c e ( " I m g u r . G a l l e r y " ) ; v a r   s c a l e S p r i n g = { s t i f f n e s s : 1 8 0 , d a m p i n g : 1 0 } , p o s i t i o n S p r i n g = { s t i f f n e s s : 1 2 0 , d a m p i n g : 1 7 } , w i d t h = 1 8 9 , h e i g h t = 1 8 9 ; I m g u r . G a l l e r y . G r i d = R e a c t . c r e a t e C l a s s ( { d i s p l a y N a m e : " G a l l e r y - G r i d " , C O L U M N _ C O U N T : 4 , _ : { o n S c r o l l : n u l l , $ w i n d o w : $ ( w i n d o w ) } , g e t D e f a u l t P r o p s : f u n c t i o n ( ) { r e t u r n { g r i d I m a g e C l a s s e s : " " } } , g e t I n i t i a l S t a t e : f u n c t i o n ( ) { f o r ( v a r   a = t h i s . p r o p s . a l b u m _ i m a g e _ s t o r e . g e t I m a g e s ( t h i s . p r o p s . h a s h ) . i m a g e s , b = a . l e n g t h , c = [ ] , d = n u l l , e = 0 ; e < b ; e + + ) { v a r   f = M a t h . f l o o r ( e / t h i s . C O L U M N _ C O U N T ) , g = e % t h i s . C O L U M N _ C O U N T ; c . p u s h ( [ w i d t h * g , h e i g h t * f ] ) } r e t u r n { i m a g e s : a , c o u n t : b , r o w _ c o u n t : M a t h . f l o o r ( b / t h i s . C O L U M N _ C O U N T ) , m o u s e : [ 0 , 0 ] , d e l t a : [ 0 , 0 ] , l a s t P r e s s K e y : d , l a s t P r e s s I n d e x : n u l l , i s P r e s s e d : ! 1 , l a y o u t : c , c o n t a i n e r _ h e i g h t : M a t h . c e i l ( b / 4 ) * h e i g h t , o f f s e t : t h i s . p r o p s . o f f s e t , s c r o l l t o p : 0 , w i n d o w _ h e i g h t : 6 0 0 } } , c o m p o n e n t W i l l M o u n t : f u n c t i o n ( ) { t h i s . _ . o n S c r o l l = _ . t h r o t t l e ( _ . b i n d ( t h i s . h a n d l e S c r o l l , t h i s ) , 2 5 0 ) , t h i s . _ . $ w i n d o w . o n ( " s c r o l l " , t h i s . _ . o n S c r o l l ) , t h i s . h a n d l e S c r o l l ( ) } , f i n d I n d e x B y H a s h : f u n c t i o n ( a ) { f o r ( v a r   b = 0 ; b < t h i s . s t a t e . c o u n t ; b + + ) i f ( t h i s . s t a t e . i m a g e s [ b ] . h a s h = = a ) r e t u r n   b ; r e t u r n - 1 } , h a n d l e S c r o l l : f u n c t i o n ( ) { t h i s . s e t S t a t e ( { s c r o l l t o p : t h i s . _ . $ w i n d o w . s c r o l l T o p ( ) , w i n d o w _ h e i g h t : t h i s . _ . $ w i n d o w . h e i g h t ( ) } ) } , h a n d l e M o u s e M o v e : f u n c t i o n ( a ) { v a r   b = a . p a g e X , c = a . p a g e Y , d = t h i s . s t a t e , e = d . i m a g e s , f = d . l a s t P r e s s K e y , g = d . i s P r e s s e d , h = _ s l i c e d T o A r r a y ( d . d e l t a , 2 ) , i = h [ 0 ] , j = h [ 1 ] ; i f ( g ) { v a r   k = [ b - i , c - j ] , l = c l a m p ( M a t h . f l o o r ( k [ 0 ] / w i d t h ) , 0 , t h i s . C O L U M N _ C O U N T - 1 ) , m = c l a m p ( M a t h . f l o o r ( k [ 1 ] / h e i g h t ) , 0 , t h i s . s t a t e . r o w _ c o u n t ) , n = m * t h i s . C O L U M N _ C O U N T + l , o = t h i s . f i n d I n d e x B y H a s h ( f ) , p = r e i n s e r t ( e , o , n ) ; t h i s . s e t S t a t e ( { m o u s e : k , i m a g e s : p } ) } } , h a n d l e M o u s e D o w n : f u n c t i o n ( a , b , c ) { v a r   d = _ s l i c e d T o A r r a y ( b , 2 ) , e = d [ 0 ] , f = d [ 1 ] , g = c . p a g e X , h = c . p a g e Y ; t h i s . s e t S t a t e ( { l a s t P r e s s K e y : a , l a s t P r e s s I n d e x : t h i s . f i n d I n d e x B y H a s h ( a ) , i s P r e s s e d : ! 0 , d e l t a : [ g - e , h - f ] , m o u s e : [ e , f ] } ) } , h a n d l e M o u s e U p : f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) , t h i s . p r o p s . m o u s e U p ( t h i s . s t a t e . i m a g e s , a ) , t h i s . s e t S t a t e ( { i s P r e s s e d : ! 1 , d e l t a : [ 0 , 0 ] } ) } , c r e a t e R e a r r a n g e C o m p o n e n t : f u n c t i o n ( a ) { v a r   b , c , d , e = t h i s , f = a . h a s h , g = I m g u r . E n v i r o n m e n t . c d n U r l + " / " + ( a . h a s h + a . e x t ) ; i f ( f = = = t h i s . s t a t e . l a s t P r e s s K e y & & t h i s . s t a t e . i s P r e s s e d ) { v a r   h = _ s l i c e d T o A r r a y ( t h i s . s t a t e . m o u s e , 2 ) ; c = h [ 0 ] , d = h [ 1 ] , b = { t r a n s l a t e X : c , t r a n s l a t e Y : d , s c a l e : R e a c t M o t i o n . s p r i n g ( 1 . 2 , s c a l e S p r i n g ) } } e l s e { v a r   i = _ s l i c e d T o A r r a y ( t h i s . s t a t e . l a y o u t [ t h i s . f i n d I n d e x B y H a s h ( f ) ] , 2 ) ; c = i [ 0 ] , d = i [ 1 ] , b = { t r a n s l a t e X : R e a c t M o t i o n . s p r i n g ( c , p o s i t i o n S p r i n g ) , t r a n s l a t e Y : R e a c t M o t i o n . s p r i n g ( d , p o s i t i o n S p r i n g ) , s c a l e : R e a c t M o t i o n . s p r i n g ( 1 , s c a l e S p r i n g ) } } r e t u r n " . g i f " = = = a . e x t & & ( g = I m g u r . E n v i r o n m e n t . c d n U r l + " / " + a . h a s h + " . m p 4 " ) , R e a c t . c r e a t e E l e m e n t ( R e a c t M o t i o n . M o t i o n , { k e y : f , s t y l e : b } , f u n c t i o n ( b ) { v a r   h = b . t r a n s l a t e X , i = b . t r a n s l a t e Y , j = b . s c a l e ; r e t u r n   R e a c t . c r e a t e E l e m e n t ( " s p a n " , { o n M o u s e D o w n : _ . p a r t i a l ( e . h a n d l e M o u s e D o w n , f , [ c , d ] ) , o n M o u s e U p : e . h a n d l e M o u s e U p , c l a s s N a m e : " p o s t - g r i d - i m a g e   " + e . p r o p s . g r i d I m a g e C l a s s e s , " d a t a - h r e f " : g , " d a t a - t i t l e " : a . t i t l e , s t y l e : { b a c k g r o u n d I m a g e : " u r l ( " + ( I m g u r . E n v i r o n m e n t . c d n U r l + " / " + a . h a s h + " b . j p g " ) + " ) " , W e b k i t T r a n s f o r m : " t r a n s l a t e ( " + h + " p x ,   " + i + " p x )   s c a l e ( " + j + " ) " , t r a n s f o r m : " t r a n s l a t e ( " + h + " p x ,   " + i + " p x )   s c a l e ( " + j + " ) " , z I n d e x : f = = = e . s t a t e . l a s t P r e s s K e y ? 9 9 9 7 : 0 } } ) } ) } , r e n d e r : f u n c t i o n ( ) { v a r   a = [ ] , b = t h i s . s t a t e , c = b . w i n d o w _ h e i g h t , d = b . s c r o l l t o p , e = b . o f f s e t , f = b . c o n t a i n e r _ h e i g h t , g = b . c o u n t , h = b . i m a g e s , i = 5 , j = M a t h . f l o o r ( ( d - e ) / h e i g h t ) - i ; j < 0 ? ( j = 0 , i * = 3 ) : i * = 2 ; f o r ( v a r   k = j + M a t h . f l o o r ( c / h e i g h t ) + i , l = j * t h i s . C O L U M N _ C O U N T , m = k * t h i s . C O L U M N _ C O U N T , n = l ; n < m & & n < g ; n + + ) a . p u s h ( t h i s . c r e a t e R e a r r a n g e C o m p o n e n t ( h [ n ] ) ) ; r e t u r n   t h i s . s t a t e . i s P r e s s e d & & ( t h i s . s t a t e . l a s t P r e s s I n d e x < l | | t h i s . s t a t e . l a s t P r e s s I n d e x > = m ) & & a . p u s h ( t h i s . c r e a t e R e a r r a n g e C o m p o n e n t ( h [ t h i s . s t a t e . l a s t P r e s s I n d e x ] ) ) , R e a c t . c r e a t e E l e m e n t ( " d i v " , { r e f : " c o n t a i n e r " , c l a s s N a m e : " p o s t - g r i d - i m a g e s " , s t y l e : { h e i g h t : f + " p x " } , o n M o u s e M o v e : ! ! t h i s . p r o p s . a l l o w R e a r r a n g e & & t h i s . h a n d l e M o u s e M o v e } , a ) } } ) , N a m e s p a c e ( " I m g u r . G a l l e r y " ) , I m g u r . G a l l e r y . P o s t A c t i o n B a r = R e a c t . c r e a t e C l a s s ( { P R O M O T E D _ P O S T _ T A G _ N A M E : " p r o m o t e d p o s t " , d i s p l a y N a m e : " G a l l e r y - P o s t A c t i o n B a r " , a c t i o n T y p e : { U P V O T E : " u p v o t e " , D O W N V O T E : " d o w n v o t e " , F A V O R I T E : " f a v o r i t e " } , v o t e T y p e : { U P : " u p " , D O W N : " d o w n " } , g e t I n i t i a l S t a t e : f u n c t i o n ( ) { r e t u r n { u p s : t h i s . p r o p s . u p s , d o w n s : t h i s . p r o p s . d o w n s , v i e w s : t h i s . p r o p s . v i e w s , u p v o t e d : " u p " = = t h i s . p r o p s . v o t e , d o w n v o t e d : " d o w n " = = t h i s . p r o p s . v o t e , f a v o r i t e d : t h i s . p r o p s . f a v o r i t e d , p o i n t s : t h i s . p r o p s . p o i n t s , r e p o r t e d : 1 = = $ . c o o k i e ( " r " + t h i s . p r o p s . h a s h ) , p o s t O p t i o n s O p e n e d : ! 1 , s i g n u p T o o l t i p O p t i o n s : n u l l , g a l l e r y T a g s : t h i s . p r o p s . g a l l e r y T a g s | | [ ] } } , c o m p o n e n t D i d M o u n t : f u n c t i o n ( ) { t h i s . p r o p s . i n _ g a l l e r y & & ( t h i s . p r o p s . e m i t t e r . o n ( " p o i n t U p d a t e " , t h i s , t h i s . h a n d l e P o i n t U p d a t e ) , t h i s . p r o p s . e m i t t e r . o n ( " a d d e d T o F o l d e r " , t h i s , t h i s . h a n d l e A d d e d T o F o l d e r ) , t h i s . p r o p s . e m i t t e r . o n ( " a d m T a g A d d e d " , t h i s , t h i s . h a n d l e A d m T a g A d d e d ) ) } , c o m p o n e n t W i l l U p d a t e : f u n c t i o n ( a , b ) { t h i s . p r o p s . h a s h ! = a . h a s h | | t h i s . p r o p s . i s A d | | ( t h i s . r e f s . p o i n t s & & t h i s . s t a t e . p o i n t s ! = b . p o i n t s & & t h i s . r e f s . p o i n t s . c l a s s L i s t . a d d ( " p o s t - a c t i o n - s t a t s - p o i n t s - - f a d e " ) , t h i s . r e f s . v i e w s & & t h i s . s t a t e . v i e w s ! = b . v i e w s & & t h i s . r e f s . v i e w s . c l a s s L i s t . a d d ( " p o s t - a c t i o n - s t a t s - p o i n t s - - f a d e " ) ) } , c o m p o n e n t D i d U p d a t e : f u n c t i o n ( ) { t h i s . p r o p s . i s A d | | s e t T i m e o u t ( _ . b i n d ( f u n c t i o n ( ) { t h i s . r e f s . p o i n t s & & t h i s . r e f s . p o i n t s . c l a s s L i s t . r e m o v e ( " p o s t - a c t i o n - s t a t s - p o i n t s - - f a d e " ) , t h i s . r e f s . v i e w s & & t h i s . r e f s . v i e w s . c l a s s L i s t . r e m o v e ( " p o s t - a c t i o n - s t a t s - p o i n t s - - f a d e " ) } , t h i s ) , 1 5 0 ) } , c o m p o n e n t W i l l U n m o u n t : f u n c t i o n ( ) { t h i s . p r o p s . e m i t t e r . o f f ( " p o i n t U p d a t e " , t h i s , t h i s . h a n d l e P o i n t U p d a t e ) , t h i s . p r o p s . e m i t t e r . o f f ( " c l o s e d   d r o p d o w n   m e n u " ) , t h i s . p r o p s . e m i t t e r . o f f ( " a d m T a g A d d e d " , t h i s , t h i s . h a n d l e A d m T a g A d d e d ) } , h a n d l e P o i n t U p d a t e : f u n c t i o n ( a ) { i f ( " h a s h " i n   a ) s w i t c h ( a . t y p e ) { c a s e " i m a g e " : i f ( t h i s . s t a t e . p o i n t s = = a . p o i n t s ) r e t u r n ; t h i s . p r o p s . s i d e G a l l e r y . u p d a t e P o i n t s ( a . h a s h , a . u p s , a . d o w n s ) , t h i s . s e t S t a t e ( { u p s : a . u p s , d o w n s : a . d o w n s , p o i n t s : a . p o i n t s } ) ; b r e a k ; c a s e " v i e w s " : i f ( t h i s . s t a t e . v i e w s = = a . v i e w s ) r e t u r n ; t h i s . p r o p s . s i d e G a l l e r y . u p d a t e V i e w s ( a . h a s h , a . v i e w s ) , t h i s . s e t S t a t e ( { v i e w s : a . v i e w s } ) } } , l o g C r e a t e S i g n u p T o o l t i p : f u n c t i o n ( a ) { v a r   b = { t y p e : " g a l l e r y " } ; s w i t c h ( a ) { c a s e   t h i s . a c t i o n T y p e . F A V O R I T E : b . i n v o k e d T o o l T i p B y = " f a v o r i t e A t t e m p t " ; b r e a k ; c a s e   t h i s . a c t i o n T y p e . U P V O T E : b . v o t e T y p e = t h i s . v o t e T y p e . U P , b . i n v o k e d T o o l T i p B y = " v o t e A t t e m p t " ; b r e a k ; c a s e   t h i s . a c t i o n T y p e . D O W N V O T E : b . v o t e T y p e = t h i s . v o t e T y p e . D O W N , b . i n v o k e d T o o l T i p B y = " v o t e A t t e m p t " } I m g u r . U t i l . j a f o L o g ( { e v e n t : " t o o l T i p A p p e a r " , m e t a : b } ) } , c r e a t e S i g n u p T o o l t i p : f u n c t i o n ( a ) { v a r   b = t h i s , c = a . t y p e , d = a . t i t l e , e = a . b o d y , f = I m g u r . E n v i r o n m e n t . s t a t i c U r l + " / i m a g e s / i c o n s / l a r g e _ " + c + " . p n g " , g = t h i s . p r o p s . i n _ g a l l e r y ? " " : " - n o n g a l l e r y " , h = " A c t i o n C a r d - p o s t   A c t i o n C a r d - a n i m a t e   A c t i o n C a r d - " + c + g , i = c + " - s i g n u p - c a r d " , j = { i n v o k e d R e g i s t e r S i g n i n B y : " v o t e A t t e m p t " , t y p e : " i m a g e " } , k = [ I m g u r . E l e m e n t s . A c t i o n C a r d . c r e a t e A c t i o n ( " s i g n i n " , " S i g n   i n " , f u n c t i o n ( ) { r e t u r n   I m g u r . g e t I n s t a n c e ( ) . s i g n i n ( j , ! 0 ) } , " b t n   b t n - l e f t - e d g e " ) , I m g u r . E l e m e n t s . A c t i o n C a r d . c r e a t e A c t i o n ( " s i g n u p " , " S i g n   u p " , f u n c t i o n ( ) { r e t u r n   I m g u r . g e t I n s t a n c e ( ) . s i g n i n ( j ) } , " b t n   b t n - a c t i o n   b t n - a c t i o n - c a r d " ) ] ; r e t u r n   t h i s . l o g C r e a t e S i g n u p T o o l t i p ( c ) , R e a c t . c r e a t e E l e m e n t ( " d i v " , { i d : " s i g n u p - t o o l t i p " } , R e a c t . c r e a t e E l e m e n t ( I m g u r . E l e m e n t s . A c t i o n C a r d , { k e y : c , c l a s s N a m e s : h , n a m e : i , t i t l e : d , b o d y : e , a c t i o n s : k , i m a g e U r l : f , c l o s e : f u n c t i o n ( ) { b . s e t S t a t e ( { s i g n u p T o o l t i p O p t i o n s : n u l l } ) } } ) ) } , s h o w S i g n u p T o o l t i p : f u n c t i o n ( a ) { v a r   b = t h i s ; r e t u r n   t h i s . s t a t e . s i g n u p T o o l t i p O p t i o n s & & a . t y p e = = = t h i s . s t a t e . s i g n u p T o o l t i p O p t i o n s . t y p e ? v o i d   t h i s . s e t S t a t e ( { s i g n u p T o o l t i p O p t i o n s : n u l l } ) : v o i d   s e t T i m e o u t ( f u n c t i o n ( ) { b . s e t S t a t e ( { s i g n u p T o o l t i p O p t i o n s : a } ) } , 1 ) } , h a n d l e V o t e : f u n c t i o n ( a , b ) { i f ( ( t h i s . s t a t e . u p v o t e d & & " u p " = = a | | t h i s . s t a t e . d o w n v o t e d & & " d o w n " = = a ) & & ! b & & ( a = " v e t o " ) , ! I m g u r . E n v i r o n m e n t . a u t h . i d & & ! b ) { v a r   c = v o i d   0 ; r e t u r n   c = " u p " = = = a ? { t y p e : t h i s . a c t i o n T y p e . U P V O T E , t i t l e : " U p   a n d   A w a y ! " , b o d y : " S i g n   u p   t o   u p v o t e   t h e   p o s t s   y o u   l i k e   a n d   m a k e   t h e m   m o r e   p o p u l a r . " } : { t y p e : t h i s . a c t i o n T y p e . D O W N V O T E , t i t l e : " B e g   t o   d i f f e r ? " , b o d y : " S i g n   u p   t o   d o w n v o t e   t h e   p o s t s   t h a t   r u b   y o u   t h e   w r o n g   w a y . " } , v o i d   t h i s . s h o w S i g n u p T o o l t i p ( c ) } i f ( " u p " = = = a ) { v a r   d = I m g u r . U s e r S t a t i s t i c s . g e t I n s t a n c e ( ) ; d . e m i t A c t i o n U s e r U p v o t e ( t h i s . g e t T a g s N a m e s ( ) ) } t h i s . s e t S t a t e ( { u p v o t e d : " u p " = = a , d o w n v o t e d : " d o w n " = = a } ) , $ . a j a x ( { u r l : " / g a l l e r y / a c t i o n / v o t e / " + t h i s . p r o p s . h a s h , t y p e : " P O S T " , d a t a : { v o t e : a , s i d : I m g u r . E n v i r o n m e n t . m s i d , t y p e : " i m a g e " , l o c a t i o n : " i n s i d e " , g a l l e r y : I m g u r . G a l l e r y . g e t I n s t a n c e ( ) . g e t G a l l e r y M e t a d a t a ( ) , s o u r c e : I m g u r . G a l l e r y . g e t I n s t a n c e ( ) . g e t V o t e S o u r c e F r o m E n v i r o n m e n t ( ) } , d i s p l a y G e n e r i c E r r o r : ! 1 , s u c c e s s : _ . b i n d ( f u n c t i o n ( b ) { b . g a l l e r y & & b . g a l l e r y . m e s s a g e & & h u m a n M s g . d i s p l a y M s g ( b . g a l l e r y . m e s s a g e ) , I m g u r . E n v i r o n m e n t . a u t h . i d & & I m g u r . U t i l . j a f o L o g ( { e v e n t : " v o t e " + ( t h i s . p r o p s . r e a d o n l y ? " R e a d O n l y " : " " ) , m e t a : _ . m e r g e ( I m g u r . G a l l e r y . g e t I n s t a n c e ( ) . g e t G a l l e r y M e t a d a t a ( ) , { h a s h : t h i s . p r o p s . h a s h , t y p e : " i m a g e " , v o t e : a , l o c a t i o n : " i n s i d e " } ) } ) } , t h i s ) } ) , t h i s . p r o p s . s i d e G a l l e r y . u p d a t e V o t e ( t h i s . p r o p s . h a s h , a , _ . b i n d ( f u n c t i o n ( a ) { t h i s . s e t S t a t e ( { p o i n t s : a } ) } , t h i s ) ) } , h a n d l e A d d e d T o F o l d e r : f u n c t i o n ( ) { t h i s . s e t S t a t e ( { f a v o r i t e d : ! 0 } ) } , h a n d l e A d m T a g A d d e d : f u n c t i o n ( a ) { t h i s . s e t S t a t e ( f u n c t i o n ( b ) { r e t u r n { g a l l e r y T a g s : [ ] . c o n c a t ( _ t o C o n s u m a b l e A r r a y ( b . g a l l e r y T a g s ) , [ { t a g : a , d i s p l a y : a } ] ) } } ) } , h a n d l e F a v o r i t e : f u n c t i o n ( ) { v a r   a = t h i s . s t a t e . f a v o r i t e d ; i f ( ! I m g u r . E n v i r o n m e n t . a u t h . i d ) r e t u r n   v o i d   t h i s . s h o w S i g n u p T o o l t i p ( { t y p e : t h i s . a c t i o n T y p e . F A V O R I T E , t i t l e : " F a v e   a n d   N e v e r   F o r g e t " , b o d y : " S i g n   u p   t o   s a v e   y o u r   f a v o r i t e   p o s t s   t o   y o u r   p r o f i l e . " } ) ; i f ( ! t h i s . s t a t e . f a v o r i t e d ) { v a r   b = I m g u r . U s e r S t a t i s t i c s . g e t I n s t a n c e ( ) ; b . e m i t A c t i o n U s e r A d d I n F a v o r i t e ( t h i s . g e t T a g s N a m e s ( ) ) } t h i s . s e t S t a t e ( { f a v o r i t e d : ! t h i s . s t a t e . f a v o r i t e d } ) ; v a r   c = " / " + t h i s . p r o p s . h a s h + " / f a v . j s o n " ; t h i s . p r o p s . i s _ a l b u m & & ( c = " / a " + c ) , $ . a j a x ( { u r l : c , t y p e : " P O S T " , d a t a : { a j a x : ! 0 , m s i d : I m g u r . E n v i r o n m e n t . m s i d , l o c a t i o n : " i n s i d e " } , e r r o r : _ . b i n d ( f u n c t i o n ( ) { I m g u r . E n v i r o n m e n t . a u t h . i d & & t h i s . s e t S t a t e ( { f a v o r i t e d : ! t h i s . s t a t e . f a v o r i t e d } ) } , t h i s ) } ) , I m g u r . U t i l . j a f o L o g ( { e v e n t : " f a v o r i t e " , m e t a : { i s A l b u m : t h i s . p r o p s . i s _ a l b u m , h a s h : t h i s . p r o p s . h a s h , l o c a t i o n : " i n s i d e " , s t a t e : a ? " u n f a v o r i t e " : " f a v o r i t e " } } ) } , s h o w A n a l y t i c s : f u n c t i o n ( ) { v a r   a = t h i s . p r o p s . s i z e ; i f ( ! t h i s . p r o p s . i s A d ) { i f ( t h i s . p r o p s . i s _ a l b u m & & t h i s . p r o p s . a l b u m _ i m a g e s ) { a = 0 ; f o r ( v a r   b = 0 ; b < t h i s . p r o p s . a l b u m _ i m a g e s . l e n g t h ; b + + ) a + = t h i s . p r o p s . a l b u m _ i m a g e s [ b ] . s i z e } $ . c o l o r b o x ( { h t m l : ' < d i v   i d = " a n a l y t i c s - c o n t a i n e r " > < / d i v > ' , o p e n : ! 0 , t o p : " 1 0 % " , t r a n s i t i o n : " n o n e " , s c r o l l i n g : ! 1 , f i x e d : ! 0 , w i d t h : 6 3 6 , h e i g h t : 4 6 5 , c l a s s N a m e : " b l u r b o x " , c l o s e : " " , t i t l e : " A n a l y t i c s " , o n C o m p l e t e : _ . b i n d ( f u n c t i o n ( ) { R e a c t D O M . r e n d e r ( R e a c t . c r e a t e E l e m e n t ( I m g u r . E l e m e n t s . A n a l y t i c s , { u p s : t h i s . s t a t e . u p s , d o w n s : t h i s . s t a t e . d o w n s , t h u m b h a s h : t h i s . p r o p s . i s _ a l b u m ? t h i s . p r o p s . a l b u m _ c o v e r : t h i s . p r o p s . h a s h , v i e w s : t h i s . s t a t e . v i e w s , s i z e : a , c o m m e n t s : t h i s . p r o p s . c o m m e n t _ c o u n t , t i m e s t a m p : t h i s . p r o p s . t i m e s t a m p , t i t l e : t h i s . p r o p s . t i t l e , i n G a l l e r y : t h i s . p r o p s . i n _ g a l l e r y , g a l l e r y H a s h : t h i s . p r o p s . i n _ g a l l e r y ? t h i s . p r o p s . h a s h : " " , i s A l b u m : t h i s . p r o p s . i s _ a l b u m , f a v o r i t e C o u n t : t h i s . p r o p s . f a v o r i t e _ c o u n t } ) , d o c u m e n t . g e t E l e m e n t B y I d ( " a n a l y t i c s - c o n t a i n e r " ) , $ . c o l o r b o x . r e s i z e ) } , t h i s ) } ) } } , h a n d l e R e p o r t : f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) ; v a r   b = { t y p e : " g a l l e r y P o s t " , h a s h : t h i s . p r o p s . h a s h , i s A l b u m : t h i s . p r o p s . i s _ a l b u m , n s f w : t h i s . p r o p s . n s f w } ; I m g u r . U t i l . j a f o L o g ( { e v e n t : " r e p o r t I n v o k e d " , m e t a : b } ) , I m g u r . E n v i r o n m e n t . a u t h . i d ? $ . c o l o r b o x ( { h t m l : ' < d i v   i d = " r e p o r t - c o n t a i n e r " > < / d i v > ' , o p e n : ! 0 , t o p : " 1 0 % " , t r a n s i t i o n : " n o n e " , s c r o l l i n g : ! 1 , f i x e d : ! 0 , w i d t h : I m g u r . E l e m e n t s . R e p o r t . d i m e n s i o n s . w i d t h , h e i g h t : I m g u r . E l e m e n t s . R e p o r t . d i m e n s i o n s . h e i g h t , c l a s s N a m e : " n o B o r d e r " , c l o s e : " " , o n C o m p l e t e : _ . b i n d ( f u n c t i o n ( ) { R e a c t D O M . r e n d e r ( R e a c t . c r e a t e E l e m e n t ( I m g u r . E l e m e n t s . R e p o r t , { t y p e : " p o s t " , u r l : " / g a l l e r y / a c t i o n / r e p o r t _ i m a g e / " + t h i s . p r o p s . h a s h , m e t a d a t a : b , c b : _ . b i n d ( f u n c t i o n ( ) { t h i s . s e t S t a t e ( { r e p o r t e d : ! 0 } ) } , t h i s ) } ) , $ ( " # r e p o r t - c o n t a i n e r " ) . g e t ( 0 ) ) } , t h i s ) , o n C l o s e d : _ . b i n d ( f u n c t i o n ( ) { I m g u r . G a l l e r y . g e t I n s t a n c e ( ) . _ . p r e v e n t R e p o r t C l o s e A n a l y t i c s | | I m g u r . U t i l . j a f o L o g ( { e v e n t : " r e p o r t C a n c e l " , m e t a : _ . e x t e n d ( { m e t h o d : " m o d a l " } , b ) } ) , I m g u r . G a l l e r y . g e t I n s t a n c e ( ) . r e s e t R e p o r t C l o s e A n a l y t i c s ( ) } , t h i s ) } ) : I m g u r . g e t I n s t a n c e ( ) . s i g n i n ( " r e p o r t A t t e m p t " ) } , h a n d l e D o w n l o a d : f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) , I m g u r . U t i l . j a f o L o g ( { e v e n t : " d o w n l o a d I m a g e " , m e t a : { c o n t r o l : " p o s t O p t i o n s " , n s f w : t h i s . p r o p s . n s f w , h a s h : t h i s . p r o p s . h a s h , i s A l b u m : t h i s . p r o p s . i s _ a l b u m , i s A n i m a t e d : t h i s . p r o p s . a n i m a t e d } } ) , t h i s . p r o p s . i s _ a l b u m ? w i n d o w . l o c a t i o n = " / a / " + t h i s . p r o p s . h a s h + " / z i p " : w i n d o w . l o c a t i o n = " / d o w n l o a d / " + t h i s . p r o p s . h a s h + " / " + e n c o d e U R I C o m p o n e n t ( t h i s . p r o p s . t i t l e ) } , h a n d l e E m b e d : f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) , $ . c o l o r b o x ( { h r e f : ' < d i v   i d = " e m b e d - m o d a l " > < / d i v > ' , o p e n : ! 0 , i n l i n e : ! 0 , t o p : 4 0 , t r a n s i t i o n : " n o n e " , s c r o l l i n g : ! 1 , w i d t h : 5 0 0 , h e i g h t : 5 8 1 , c l a s s N a m e : " e m b e d - w r a p p e r " , t i t l e : " E m b e d   t h i s   p o s t " , o n C o m p l e t e : _ . b i n d ( f u n c t i o n ( ) { R e a c t D O M . r e n d e r ( R e a c t . c r e a t e E l e m e n t ( I m g u r . G a l l e r y . E m b e d , { h a s h : t h i s . p r o p s . h a s h , t i t l e : t h i s . p r o p s . t i t l e , i n _ g a l l e r y : ! ! t h i s . p r o p s . i n _ g a l l e r y , i s _ a l b u m : ! ! t h i s . p r o p s . i s _ a l b u m , n s f w : ! ! t h i s . p r o p s . n s f w } ) , d o c u m e n t . g e t E l e m e n t B y I d ( " e m b e d - m o d a l " ) ) } , t h i s ) } ) } , h a n d l e M a r k M a t u r e : f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) ; v a r   b = " A r e   y o u   s u r e   y o u   w a n t   t o   m a r k   t h i s   s u b m i s s i o n   a s   m a t u r e ? " ; I m g u r . E n v i r o n m e n t . a u t h . s h o w _ m a t u r e | | ( b = " < p > " + b + ' < / p > < p > I f   y o u \ ' d   l i k e   t o   e n a b l e   m a t u r e   c o n t e n t   f o r   y o u r   a c c o u n t ,   p l e a s e   v i s i t   y o u r   < a   h r e f = " / a c c o u n t / s e t t i n g s " > a c c o u n t   s e t t i n g s < / a >   a n d   c h o o s e   & q u o t ; S h o w   m a t u r e   p o s t s   a n d   c o m m e n t s . & q u o t ;   I f   y o u   m a r k   a   p o s t   a s   m a t u r e ,   b u t   c h o o s e   n o t   t o   e n a b l e   m a t u r e   c o n t e n t ,   y o u   m a y   n o t   s e e   y o u r   p o s t   w h e n   b r o w s i n g   I m g u r . < / p > ' ) , $ . c o l o r b o x ( { h r e f : ' < d i v   i d = " m a r k - m a t u r e " > < / d i v > ' , o p e n : ! 0 , i n l i n e : ! 0 , t o p : " 1 5 % " , t r a n s i t i o n : " n o n e " , s c r o l l i n g : ! 1 , w i d t h : 4 2 0 , h e i g h t : 1 6 0 , c l a s s N a m e : " b l u r b o x " , t i t l e : " M a r k   t h i s   s u b m i s s i o n   a s   m a t u r e ? " , o n C o m p l e t e : _ . b i n d ( f u n c t i o n ( ) { R e a c t D O M . r e n d e r ( R e a c t . c r e a t e E l e m e n t ( I m g u r . E l e m e n t s . C o n f i r m , { m e s s a g e : b , h a n d l e N o : $ . c o l o r b o x . c l o s e , h a n d l e Y e s : _ . b i n d ( f u n c t i o n ( ) { $ . p o s t ( " / g a l l e r y / a c t i o n / m a t u r e _ i m a g e / " + t h i s . p r o p s . h a s h , { s i d : I m g u r . E n v i r o n m e n t . m s i d } , _ . b i n d ( f u n c t i o n ( a ) { I m g u r . U t i l . j a f o L o g ( { e v e n t : " m a r k G a l l e r y A s M a t u r e " , m e t a : { h a s h : t h i s . p r o p s . h a s h , i s A l b u m : t h i s . p r o p s . i s _ a l b u m } } ) , $ . c o l o r b o x . c l o s e ( ) , h u m a n M s g . d i s p l a y M s g ( " S u b m i s s i o n   m a r k e d   a s   m a t u r e " ) } , t h i s ) ) } , t h i s ) } ) , d o c u m e n t . g e t E l e m e n t B y I d ( " m a r k - m a t u r e " ) , $ . c o l o r b o x . r e s i z e ) } , t h i s ) } ) } , t o g g l e P o s t O p t i o n s : f u n c t i o n ( ) { t h i s . s e t S t a t e ( { p o s t O p t i o n s O p e n e d : ! t h i s . s t a t e . p o s t O p t i o n s O p e n e d } , _ . b i n d ( f u n c t i o n ( ) { t h i s . s t a t e . p o s t O p t i o n s O p e n e d ? d o c u m e n t . a d d E v e n t L i s t e n e r ( " c l i c k " , t h i s . t o g g l e P o s t O p t i o n s ) : d o c u m e n t . r e m o v e E v e n t L i s t e n e r ( " c l i c k " , t h i s . t o g g l e P o s t O p t i o n s ) } , t h i s ) ) } , h a n d l e H i d e A l b u m F r o m A c c o u n t : f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) , $ . c o l o r b o x ( { h r e f : ' < d i v   i d = " h i d e - a l b u m " > < / d i v > ' , o p e n : ! 0 , i n l i n e : ! 0 , t o p : " 1 5 % " , t r a n s i t i o n : " n o n e " , s c r o l l i n g : ! 1 , w i d t h : 4 2 0 , h e i g h t : 1 6 0 , c l a s s N a m e : " b l u r b o x " , t i t l e : " H i d e   A l b u m   F r o m   A c c o u n t " , o n C o m p l e t e : _ . b i n d ( f u n c t i o n ( ) { R e a c t D O M . r e n d e r ( R e a c t . c r e a t e E l e m e n t ( I m g u r . E l e m e n t s . C o n f i r m , { m e s s a g e : " A r e   y o u   s u r e   y o u   w a n t   t o   h i d e   t h i s   a l b u m ?   I t   w i l l   s t i l l   b e   a c c e s s i b l e   t h r o u g h   t h e   l i n k ,   b u t   i t   w o n ' t   s h o w   u p   i n   y o u r   a c c o u n t .   Y o u   w i l l   a l s o   n o   l o n g e r   b e   a b l e   t o   e d i t   i t . " , h a n d l e N o : $ . c o l o r b o x . c l o s e , h a n d l e Y e s : _ . b i n d ( f u n c t i o n ( ) { $ . p o s t ( " / a j a x a l b u m s / h i d e / " + t h i s . p r o p s . h a s h , { m s i d : I m g u r . E n v i r o n m e n t . m s i d } , f u n c t i o n ( a ) { $ . c o l o r b o x . c l o s e ( ) , h u m a n M s g . d i s p l a y M s g ( " A l b u m   h a s   b e e n   h i d d e n " ) } ) } , t h i s ) } ) , d o c u m e n t . g e t E l e m e n t B y I d ( " h i d e - a l b u m " ) , $ . c o l o r b o x . r e s i z e ) } , t h i s ) } ) } , l o g T o p i c C l i c k : f u n c t i o n ( ) { I m g u r . U t i l . j a f o L o g ( { e v e n t : " o p e n T o p i c T a g " , m e t a : { h a s h : t h i s . p r o p s . h a s h , i s A l b u m : t h i s . p r o p s . i s _ a l b u m , n s f w : t h i s . p r o p s . n s f w , i s H o t : t h i s . p r o p s . i s _ h o t , c o n t r o l : " t o p i c " , l o c a t i o n : " i n s i d e " , g a l l e r y T y p e : " t o p i c " , t o p i c T a g : t h i s . p r o p s . t o p i c } } ) } , h a n d l e D e l e t e : f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) , $ . c o l o r b o x ( { h r e f : ' < d i v   i d = " d e l e t e - a l b u m - f o r m " > < / d i v > ' , o p e n : ! 0 , i n l i n e : ! 0 , t o p : " 1 5 % " , t r a n s i t i o n : " n o n e " , s c r o l l i n g : ! 1 , w i d t h : 4 2 0 , h e i g h t : 1 6 0 , c l a s s N a m e : " b l u r b o x " , t i t l e : " R e m o v e   S u b m i s s i o n   f r o m   G a l l e r y " , o n C o m p l e t e : _ . b i n d ( f u n c t i o n ( ) { R e a c t D O M . r e n d e r ( R e a c t . c r e a t e E l e m e n t ( I m g u r . E l e m e n t s . C o n f i r m , { m e s s a g e : " A r e   y o u   s u r e   y o u   w a n t   t o   r e m o v e   t h i s   s u b m i s s i o n   f r o m   t h e   g a l l e r y ? " , h a n d l e N o : $ . c o l o r b o x . c l o s e , h a n d l e Y e s : _ . b i n d ( f u n c t i o n ( ) { $ . p o s t ( " / g a l l e r y / a c t i o n / d e l e t e _ i m a g e / " + t h i s . p r o p s . h a s h , { s i d : I m g u r . E n v i r o n m e n t . m s i d } , _ . b i n d ( f u n c t i o n ( a ) { I m g u r . U t i l . j a f o L o g ( { e v e n t : " r e m o v e F r o m G a l l e r y " , m e t a : { h a s h : t h i s . p r o p s . h a s h , i s A l b u m : t h i s . p r o p s . i s _ a l b u m } } ) , I m g u r . E n v i r o n m e n t . a u t h . i d & & ( $ . c o l o r b o x . c l o s e ( ) , h u m a n M s g . d i s p l a y M s g ( " S u b m i s s i o n   h a s   b e e n   r e m o v e d " ) , s e t T i m e o u t ( _ . b i n d ( f u n c t i o n ( ) { t h i s . p r o p s . i s _ a l b u m ? w i n d o w . l o c a t i o n = " / a / " + t h i s . p r o p s . h a s h : w i n d o w . l o c a t i o n = " / " + t h i s . p r o p s . h a s h } , t h i s ) , 5 0 0 ) ) } , t h i s ) ) } , t h i s ) } ) , d o c u m e n t . g e t E l e m e n t B y I d ( " d e l e t e - a l b u m - f o r m " ) , $ . c o l o r b o x . r e s i z e ) } , t h i s ) } ) } , h a n d l e R e m o v e T a g : f u n c t i o n ( a ) { v a r   b = t h i s ; $ . p o s t ( " / g a l l e r y / a c t i o n / r e m o v e _ t a g / " + t h i s . p r o p s . h a s h , { s i d : I m g u r . E n v i r o n m e n t . m s i d , t a g : a . t a g } , f u n c t i o n ( ) { b . s e t S t a t e ( { g a l l e r y T a g s : b . s t a t e . g a l l e r y T a g s . f i l t e r ( f u n c t i o n ( b ) { r e t u r n   b . t a g ! = = a . t a g } ) } ) , b . p r o p s . e m i t t e r . t r i g g e r ( " a d m T a g R e m o v e d " , a . t a g ) , h u m a n M s g . d i s p l a y M s g ( a . d i s p l a y + "   r e m o v e d   f r o m   p o s t " ) } ) . f a i l ( f u n c t i o n ( ) { h u m a n M s g . d i s p l a y M s g ( " U n a b l e   t o   r e m o v e   t a g   " + a . d i s p l a y + "   f r o m   p o s t " , " e r r o r - m s g " ) } ) } , g e t T a g s N a m e s : f u n c t i o n ( ) { v a r   a = _ . v a l u e s ( t h i s . s t a t e . g a l l e r y T a g s ) ; r e t u r n   _ . m a p ( a , f u n c t i o n ( a ) { r e t u r n   a . d i s p l a y | | a . t a g } ) } , r e n d e r T a g s : f u n c t i o n ( ) { v a r   a = t h i s ; r e t u r n   t h i s . p r o p s . i n _ g a l l e r y ? t h i s . p r o p s . h i d e _ t a g s ? n u l l : t h i s . s t a t e . g a l l e r y T a g s ? O b j e c t . v a l u e s ( t h i s . s t a t e . g a l l e r y T a g s ) . m a p ( f u n c t i o n ( b ) { r e t u r n   R e a c t . c r e a t e E l e m e n t ( I m g u r . E l e m e n t s . T a g . V i e w , { k e y : b . t a g , t a g N a m e : b . d i s p l a y | | b . t a g , r e d i r e c t T o : " / t / " + b . t a g , r e d i r e c t A n a l y t i c s : a . h a n d l e T a g C l i c k ( b . t a g ) , c l a s s N a m e s : " p o s t - a c t i o n - t a g s - t a g " , a l l o w R e m o v a l : I m g u r . E n v i r o n m e n t . i s G a l l e r y A d m i n | | I m g u r . E n v i r o n m e n t . i s G a l l e r y S u p e r m o d e r a t o r , r e m o v e T a g : a . h a n d l e R e m o v e T a g . b i n d ( a , b ) , t a g : b } ) } ) : n u l l : n u l l } , h a n d l e T a g C l i c k : f u n c t i o n ( a ) { r e t u r n   f u n c t i o n ( ) { v a r   b = _ . e x t e n d ( I m g u r . G a l l e r y . g e t I n s t a n c e ( ) . g e t G a l l e r y M e t a d a t a ( ) , { l o c a t i o n : " t a g M o d u l e " , p r o m o t e d T a g G a l l e r y : ! 1 , t a g N a m e : a } ) ; I m g u r . U t i l . j a f o L o g ( { e v e n t : " t a g C l i c k " , m e t a : b } ) } } , p o s t O p t i o n : f u n c t i o n ( a , b , c ) { v a r   d = a r g u m e n t s . l e n g t h > 3 & & v o i d   0 ! = = a r g u m e n t s [ 3 ] ? a r g u m e n t s [ 3 ] : " # " ; r e t u r n   R e a c t . c r e a t e E l e m e n t ( " l i " , { k e y : b } , R e a c t . c r e a t e E l e m e n t ( " a " , { c l a s s N a m e : " p o s t - a c t i o n - o p t i o n " , h r e f : d , o n C l i c k : c } , R e a c t . c r e a t e E l e m e n t ( " s p a n " , { c l a s s N a m e : " i c o n - " + a + "   p o s t - a c t i o n - o p t i o n s - i t e m s - i c o n " } ) , R e a c t . c r e a t e E l e m e n t ( " s p a n " , { c l a s s N a m e : " p o s t - a c t i o n - l i n k - t e x t " } , b ) ) ) } , o p e n S a v e T o F o l d e r : f u n c t i o n ( a ) { i f ( a . p r e v e n t D e f a u l t ( ) , ! I m g u r . E n v i r o n m e n t . a u t h . i d ) r e t u r n   v o i d   I m g u r . g e t I n s t a n c e ( ) . s i g n i n ( " f a v F o l d e r A t t e m p t " ) ; v a r   b = . 9 * w i n d o w . i n n e r H e i g h t ; w i n d o w . d o c u m e n t . b o d y . c l a s s L i s t . a d d ( " m o d a l - o p e n " ) , $ . c o l o r b o x ( { h t m l : ' < d i v   i d = " f a v o r i t e - f o l d e r - c o n t a i n e r " > < / d i v > ' , o p e n : ! 0 , t o p : . 0 5 * w i n d o w . i n n e r H e i g h t , t r a n s i t i o n : " n o n e " , s c r o l l i n g : ! 1 , f i x e d : ! 0 , w i d t h : 6 4 0 , h e i g h t : b , c l a s s N a m e : " n o B o r d e r " , c l o s e : " " , o n C o m p l e t e : _ . b i n d ( f u n c t i o n ( ) { R e a c t D O M . r e n d e r ( R e a c t . c r e a t e E l e m e n t ( I m g u r . E l e m e n t s . F a v o r i t e F o l d e r C h o o s e r , { i d : t h i s . p r o p s . h a s h , h e i g h t : b , e m i t t e r : t h i s . p r o p s . e m i t t e r } ) , $ ( " # f a v o r i t e - f o l d e r - c o n t a i n e r " ) . g e t ( 0 ) ) } , t h i s ) , o n C l o s e d : _ . b i n d ( f u n c t i o n ( ) { w i n d o w . d o c u m e n t . b o d y . c l a s s L i s t . r e m o v e ( " m o d a l - o p e n " ) } , t h i s ) } ) } , r e n d e r : f u n c t i o n ( ) { v a r   a = ! t h i s . p r o p s . i n _ g a l l e r y | | t h i s . p r o p s . h i d e _ p o i n t s , b = c l a s s N a m e s ( { " p o s t - a c t i o n - i c o n " : ! 0 , " p o s t - a c t i o n - u p v o t e " : ! 0 , " i c o n - u p v o t e - o u t l i n e " : ! t h i s . s t a t e . u p v o t e d , " i c o n - u p v o t e - f i l l " : t h i s . s t a t e . u p v o t e d , g r e e n : t h i s . s t a t e . u p v o t e d } ) , c = c l a s s N a m e s ( { " p o s t - a c t i o n - i c o n " : ! 0 , " p o s t - a c t i o n - d o w n v o t e " : ! 0 , " i c o n - d o w n v o t e - o u t l i n e " : ! t h i s . s t a t e . d o w n v o t e d , " i c o n - d o w n v o t e - f i l l " : t h i s . s t a t e . d o w n v o t e d , r e d : t h i s . s t a t e . d o w n v o t e d } ) , d = c l a s s N a m e s ( { " p o s t - a c t i o n - i c o n " : ! 0 , " p o s t - a c t i o n - f a v o r i t e " : ! 0 , " i c o n - f a v o r i t e - o u t l i n e " : ! t h i s . s t a t e . f a v o r i t e d , " i c o n - f a v o r i t e - f i l l " : t h i s . s t a t e . f a v o r i t e d , a q u a : t h i s . s t a t e . f a v o r i t e d } ) , e = { c l a s s N a m e : " p o s t - a c t i o n - s t a t s " } ; t h i s . p r o p s . i n _ g a l l e r y & & ( e . c l a s s N a m e + = "   p o i n t e r " , e . o n C l i c k = t h i s . s h o w A n a l y t i c s ) ; v a r   f = c l a s s N a m e s ( { " p o s t - a c t i o n - s t a t s - p o i n t s " : ! 0 , n o d i s p l a y : a } ) , g = c l a s s N a m e s ( { n o d i s p l a y : 0 = = t h i s . s t a t e . v i e w s | | t h i s . p r o p s . h i d e _ v i e w s } ) , h = c l a s s N a m e s ( { " p o s t - a c t i o n - o p t i o n s " : ! 0 , p o i n t e r : ! 0 , r i g h t : ! 0 , " p o s t - a c t i o n - o p t i o n s - - o p e n e d " : t h i s . s t a t e . p o s t O p t i o n s O p e n e d } ) , i = [ ] , j = I m g u r . E n v i r o n m e n t . a u t h . u r l & & I m g u r . E n v i r o n m e n t . a u t h . u r l = = t h i s . p r o p s . a c c o u n t _ u r l ; t h i s . p r o p s . i n _ g a l l e r y & & ( t h i s . p r o p s . h i d e _ r e p o r t | | ( t h i s . s t a t e . r e p o r t e d ? i . p u s h ( t h i s . p o s t O p t i o n ( " f l a g " , " P o s t   R e p o r t e d " ) ) : i . p u s h ( t h i s . p o s t O p t i o n ( " r e p o r t - o u t l i n e " , " R e p o r t   P o s t " , t h i s . h a n d l e R e p o r t ) ) ) , ! t h i s . p r o p s . n s f w & & j & & i . p u s h ( t h i s . p o s t O p t i o n ( " a l e r t " , " M a r k   A s   M a t u r e " , t h i s . h a n d l e M a r k M a t u r e ) ) , j & & i . p u s h ( t h i s . p o s t O p t i o n ( " t r a s h " , " D e l e t e   P o s t " , t h i s . h a n d l e D e l e t e ) ) ) , i . p u s h ( t h i s . p o s t O p t i o n ( " d o w n l o a d " , " D o w n l o a d   P o s t " , t h i s . h a n d l e D o w n l o a d ) ) , i . p u s h ( t h i s . p o s t O p t i o n ( " e m b e d " , " E m b e d   P o s t " , t h i s . h a n d l e E m b e d ) ) , t h i s . p r o p s . i s _ a l b u m | | t h i s . p r o p s . a n i m a t e d | | i . p u s h ( t h i s . p o s t O p t i o n ( " m e m e " , " M a k e   M e m e " , v o i d   0 , " / m e m e g e n / c r e a t e / " + t h i s . p r o p s . h a s h ) ) ; v a r   k = n u l l ; t h i s . s t a t e . s i g n u p T o o l t i p O p t i o n s & & ( k = t h i s . c r e a t e S i g n u p T o o l t i p ( t h i s . s t a t e . s i g n u p T o o l t i p O p t i o n s ) ) ; v a r   l = R e a c t . c r e a t e E l e m e n t ( " a " , { c l a s s N a m e : " O p e n - S a v e - T o - F o l d e r - B u t t o n " , o n C l i c k : t h i s . o p e n S a v e T o F o l d e r } , " + " ) ; r e t u r n   a ? R e a c t . c r e a t e E l e m e n t ( " d i v " , n u l l , R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " p o s t - a c t i o n - a c t i o n s   p o s t - a c t i o n - s i n g l e " + ( t h i s . p r o p s . a d d _ b o r d e r ? "   p o s t - a c t i o n - b o r d e r " : " " ) } , k , t h i s . p r o p s . i n _ g a l l e r y ? R e a c t . c r e a t e E l e m e n t ( " s p a n " , n u l l , R e a c t . c r e a t e E l e m e n t ( I m g u r . E l e m e n t s . P r e s s B u t t o n , { o n P r e s s : _ . p a r t i a l ( t h i s . h a n d l e V o t e , " u p " ) , c l a s s N a m e : b } ) , R e a c t . c r e a t e E l e m e n t ( I m g u r . E l e m e n t s . P r e s s B u t t o n , { o n P r e s s : _ . p a r t i a l ( t h i s . h a n d l e V o t e , " d o w n " ) , c l a s s N a m e : c } ) ) : " " , R e a c t . c r e a t e E l e m e n t ( I m g u r . E l e m e n t s . P r e s s B u t t o n , { o n P r e s s : _ . p a r t i a l ( t h i s . h a n d l e F a v o r i t e ) , c l a s s N a m e : d } ) , l , R e a c t . c r e a t e E l e m e n t ( " s p a n " , e , R e a c t . c r e a t e E l e m e n t ( " s p a n " , { c l a s s N a m e : g } , I m g u r . U t i l . n u m b e r F o r m a t ( t h i s . s t a t e . v i e w s ) , "   v i e w " , 1 ! = t h i s . s t a t e . v i e w s & & t h i s . s t a t e . v i e w s ! = - 1 ? " s " : " " ) ) , R e a c t . c r e a t e E l e m e n t ( " d i v " , { o n C l i c k : t h i s . t o g g l e P o s t O p t i o n s , c l a s s N a m e : h } , R e a c t . c r e a t e E l e m e n t ( " s p a n " , { c l a s s N a m e : " i c o n - e l l i p s e s " } ) , R e a c t . c r e a t e E l e m e n t ( " u l " , { c l a s s N a m e : " p o s t - a c t i o n - o p t i o n s - i t e m s " } , i ) ) , ! t h i s . p r o p s . i n _ g a l l e r y | | t h i s . p r o p s . h i d e _ r e p o r t | | t h i s . s t a t e . r e p o r t e d | | " n e w " ! = t h i s . p r o p s . s i d e G a l l e r y . g e t S e c t i o n ( ) ? " " : R e a c t . c r e a t e E l e m e n t ( " a " , { h r e f : " " , o n C l i c k : t h i s . h a n d l e R e p o r t , c l a s s N a m e : " i c o n - f l a g   p o s t - a c t i o n - r e p o r t   r i g h t " } ) , R e a c t . c r e a t e E l e m e n t ( I m g u r . E l e m e n t s . S o c i a l i c o n s , { c l a s s e s : " r i g h t " , t a g s N a m e s : t h i s . g e t T a g s N a m e s ( ) } ) ) , R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " p o s t - a c t i o n - t a g s " } , t h i s . r e n d e r T a g s ( ) ) ) : R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : t h i s . p r o p s . a d d _ b o r d e r ? " p o s t - a c t i o n - b o r d e r " : " " } , R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " p o s t - a c t i o n - a c t i o n s " } , k , R e a c t . c r e a t e E l e m e n t ( I m g u r . E l e m e n t s . P r e s s B u t t o n , { o n P r e s s : _ . p a r t i a l ( t h i s . h a n d l e V o t e , " u p " ) , c l a s s N a m e : b } ) , R e a c t . c r e a t e E l e m e n t ( I m g u r . E l e m e n t s . P r e s s B u t t o n , { o n P r e s s : _ . p a r t i a l ( t h i s . h a n d l e V o t e , " d o w n " ) , c l a s s N a m e : c } ) , R e a c t . c r e a t e E l e m e n t ( I m g u r . E l e m e n t s . P r e s s B u t t o n , { o n P r e s s : _ . p a r t i a l ( t h i s . h a n d l e F a v o r i t e ) , c l a s s N a m e : d } ) , l , R e a c t . c r e a t e E l e m e n t ( " d i v " , { o n C l i c k : t h i s . t o g g l e P o s t O p t i o n s , c l a s s N a m e : h } , R e a c t . c r e a t e E l e m e n t ( " s p a n " , { c l a s s N a m e : " i c o n - e l l i p s e s " } ) , R e a c t . c r e a t e E l e m e n t ( " u l " , { c l a s s N a m e : " p o s t - a c t i o n - o p t i o n s - i t e m s " } , i ) ) , R e a c t . c r e a t e E l e m e n t ( I m g u r . E l e m e n t s . S o c i a l i c o n s , { c l a s s e s : " r i g h t " , t a g s N a m e s : t h i s . g e t T a g s N a m e s ( ) } ) ) , R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " p o s t - a c t i o n - m e t a " } , R e a c t . c r e a t e E l e m e n t ( " s p a n " , e , R e a c t . c r e a t e E l e m e n t ( " s p a n " , { r e f : " p o i n t s " , c l a s s N a m e : f } , I m g u r . U t i l . n u m b e r F o r m a t ( t h i s . s t a t e . p o i n t s ) , "   P o i n t " , 1 ! = t h i s . s t a t e . p o i n t s & & t h i s . s t a t e . p o i n t s ! = - 1 ? " s " : " " ) , R e a c t . c r e a t e E l e m e n t ( " s p a n " , { r e f : " v i e w s " , c l a s s N a m e : g } , I m g u r . U t i l . n u m b e r F o r m a t ( t h i s . s t a t e . v i e w s ) , "   V i e w " , 1 ! = t h i s . s t a t e . v i e w s & & t h i s . s t a t e . v i e w s ! = - 1 ? " s " : " " ) ) ) , R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " p o s t - a c t i o n - t a g s " } , t h i s . r e n d e r T a g s ( ) ) ) } } ) , N a m e s p a c e ( " I m g u r . G a l l e r y " ) , I m g u r . G a l l e r y . P r i v a c y = R e a c t . c r e a t e C l a s s ( { d i s p l a y N a m e : " G a l l e r y - P r i v a c y " , P U B L I C : 0 , 
 H I D D E N : 1 , g e t I n i t i a l S t a t e : f u n c t i o n ( ) { r e t u r n { p u b l i c P r i v a c y : t h i s . p r o p s . p r i v a c y = = t h i s . P U B L I C } } , h a n d l e C h a n g e : f u n c t i o n ( a ) { t h i s . s e t S t a t e ( { p u b l i c P r i v a c y : t h i s . r e f s . p r i v a c y F o r m . e l e m e n t s . p r i v a c y . v a l u e = = t h i s . P U B L I C } ) } , h a n d l e S a v e : f u n c t i o n ( ) { v a r   a = t h i s . s t a t e . p u b l i c P r i v a c y ? t h i s . P U B L I C : t h i s . H I D D E N ; $ . a j a x ( { m e t h o d : " P O S T " , u r l : " / a j a x a l b u m s / s e t t i n g s / " + t h i s . p r o p s . h a s h , d a t a : { p r i v a c y : a } , s u c c e s s : f u n c t i o n ( ) { t h i s . p r o p s . h a n d l e S u c c e s s ( a ) } . b i n d ( t h i s ) } ) } , r e n d e r : f u n c t i o n ( ) { v a r   a = " Y o u r   p o s t s   a r e   h i d d e n   t o   a n y o n e   c o m i n g   t o   y o u r   p r o f i l e ,   b u t   c a n   s t i l l   b e   a c c e s s e d   v i a   t h e   d i r e c t   U R L . " , b = " p r i v a c y - h i d d e n - m e s s a g e " ; r e t u r n   t h i s . s t a t e . p u b l i c P r i v a c y & & ( a = " W h e n   a   p o s t   i s   m a r k e d   ' p u b l i c ' ,   i t   c a n   b e   s e e n   i n   y o u r   p r o f i l e   a n d   s h a r e d   a r o u n d   t h e   w e b . " , b = " p r i v a c y - p u b l i c - m e s s a g e " ) , R e a c t . c r e a t e E l e m e n t ( " d i v " , n u l l , R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " p r i v a c y - s e l e c t i o n " } , R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " p r i v a c y - t i t l e " } , " S e l e c t   a   s e t t i n g " ) , R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " s p a c e f o r m " } , R e a c t . c r e a t e E l e m e n t ( " f o r m " , { r e f : " p r i v a c y F o r m " } , R e a c t . c r e a t e E l e m e n t ( " l a b e l " , { c l a s s N a m e : " p r i v a c y - p u b l i c " + ( t h i s . s t a t e . p u b l i c P r i v a c y ? "   p r i v a c y - s e l e c t e d " : " " ) } , R e a c t . c r e a t e E l e m e n t ( " i n p u t " , { t y p e : " r a d i o " , n a m e : " p r i v a c y " , v a l u e : t h i s . P U B L I C , c h e c k e d : t h i s . s t a t e . p u b l i c P r i v a c y , o n C h a n g e : t h i s . h a n d l e C h a n g e } ) , R e a c t . c r e a t e E l e m e n t ( " i " , { c l a s s N a m e : " s p a c e f o r m - r a d i o " } ) , "   " , R e a c t . c r e a t e E l e m e n t ( " s p a n " , { c l a s s N a m e : " p r i v a c y - s e t t i n g " } , " P u b l i c " ) , "   " , R e a c t . c r e a t e E l e m e n t ( " i " , { c l a s s N a m e : " i c o n - g l o b e " } ) ) , R e a c t . c r e a t e E l e m e n t ( " l a b e l " , { c l a s s N a m e : t h i s . s t a t e . p u b l i c P r i v a c y ? " " : " p r i v a c y - s e l e c t e d " } , R e a c t . c r e a t e E l e m e n t ( " i n p u t " , { t y p e : " r a d i o " , n a m e : " p r i v a c y " , v a l u e : t h i s . H I D D E N , c h e c k e d : ! t h i s . s t a t e . p u b l i c P r i v a c y , o n C h a n g e : t h i s . h a n d l e C h a n g e } ) , R e a c t . c r e a t e E l e m e n t ( " i " , { c l a s s N a m e : " s p a c e f o r m - r a d i o " } ) , "   " , R e a c t . c r e a t e E l e m e n t ( " s p a n " , { c l a s s N a m e : " p r i v a c y - s e t t i n g " } , " H i d d e n " ) , "   " , R e a c t . c r e a t e E l e m e n t ( " i " , { c l a s s N a m e : " i c o n - l o c k " } ) ) ) ) ) , R e a c t . c r e a t e E l e m e n t ( " p " , { c l a s s N a m e : b } , a ) , R e a c t . c r e a t e E l e m e n t ( " b u t t o n " , { c l a s s N a m e : " b t n   b t n - a c t i o n   r i g h t   p r i v a c y - s a v e " , o n C l i c k : t h i s . h a n d l e S a v e } , " S a v e " ) ) } } ) , N a m e s p a c e ( " I m g u r . G a l l e r y " ) , I m g u r . G a l l e r y . S h a r e I m a g e = R e a c t . c r e a t e C l a s s ( { d i s p l a y N a m e : " G a l l e r y - S h a r e I m a g e " , r e n d e r : f u n c t i o n ( ) { r e t u r n   R e a c t . c r e a t e E l e m e n t ( " d i v " , n u l l , R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " l e f t " } , R e a c t . c r e a t e E l e m e n t ( " h 3 " , { c l a s s N a m e : " f o n t - o p e n s a n s - r e g " } , " S h a r e   L i n k " ) , R e a c t . c r e a t e E l e m e n t ( I m g u r . E l e m e n t s . C o p y , { v a l u e : t h i s . p r o p s . e m b e d c o d e r . i m a g e L i n k ( ) , i n p u t C l a s s : " c o p y - i n p u t " , c o p y C l a s s : " c o p y " } ) , R e a c t . c r e a t e E l e m e n t ( " h 3 " , { c l a s s N a m e : " f o n t - o p e n s a n s - r e g " } , " B B C o d e   ( F o r u m s ) " ) , R e a c t . c r e a t e E l e m e n t ( I m g u r . E l e m e n t s . C o p y , { v a l u e : t h i s . p r o p s . e m b e d c o d e r . b b c o d e ( ) , i n p u t C l a s s : " c o p y - i n p u t " , c o p y C l a s s : " c o p y " } ) ) , R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " r i g h t " } , R e a c t . c r e a t e E l e m e n t ( " h 3 " , { c l a s s N a m e : " f o n t - o p e n s a n s - r e g " } , " E m b e d   i n   H T M L " ) , R e a c t . c r e a t e E l e m e n t ( I m g u r . E l e m e n t s . C o p y , { v a l u e : t h i s . p r o p s . e m b e d c o d e r . e m b e d ( ) , i n p u t C l a s s : " c o p y - i n p u t " , c o p y C l a s s : " c o p y " } ) , R e a c t . c r e a t e E l e m e n t ( " h 3 " , { c l a s s N a m e : " f o n t - o p e n s a n s - r e g " } , " M a r k d o w n   ( R e d d i t ) " ) , R e a c t . c r e a t e E l e m e n t ( I m g u r . E l e m e n t s . C o p y , { v a l u e : t h i s . p r o p s . e m b e d c o d e r . m a r k d o w n ( ) , i n p u t C l a s s : " c o p y - i n p u t " , c o p y C l a s s : " c o p y " } ) ) ) } } ) , N a m e s p a c e ( " I m g u r . G a l l e r y " ) , I m g u r . G a l l e r y . S h a r e P o s t = R e a c t . c r e a t e C l a s s ( { d i s p l a y N a m e : " G a l l e r y - S h a r e I m a g e " , g e t I n i t i a l S t a t e : f u n c t i o n ( ) { r e t u r n { t o p i c s : [ ] , v a l i d T i t l e : ! 1 , t o p i c S e l e c t e d : - 1 } } , c o m p o n e n t W i l l M o u n t : f u n c t i o n ( ) { t h i s . t o p i c s _ r e q u e s t = $ . g e t ( " h t t p s : / / a p i . i m g u r . c o m / 3 / t o p i c s / d e f a u l t s " , _ . b i n d ( f u n c t i o n ( a ) { t h i s . s e t S t a t e ( { t o p i c s : a . d a t a } , $ . c o l o r b o x . r e s i z e ) } , t h i s ) ) } , c o m p o n e n t W i l l U n m o u n t : f u n c t i o n ( ) { t h i s . t o p i c s _ r e q u e s t . a b o r t ( ) } , h a n d l e T o p i c S e l e c t : f u n c t i o n ( a ) { t h i s . s e t S t a t e ( { t o p i c S e l e c t e d : a } ) } , h a n d l e T i t l e V a l i d a t i o n : f u n c t i o n ( a ) { t h i s . s e t S t a t e ( { v a l i d T i t l e : a } ) } , h a n d l e S h a r e : f u n c t i o n ( ) { } , h a n d l e F a i l : f u n c t i o n ( a ) { v a r   b = t h i s ; t r y { i f ( ! a ) t h r o w " b a d   r e s p o n s e " ; a . r e s p o n s e T e x t & & ( a = $ . p a r s e J S O N ( a . r e s p o n s e T e x t ) ) } c a t c h ( c ) { r e t u r n   h u m a n M s g . d i s p l a y M s g ( " A n   u n k n o w n   e r r o r   o c c u r r e d .   P l e a s e   t r y   a g a i n . " , " e r r o r - m s g " ) , v o i d   I m g u r . U t i l . j a f o L o g ( { e v e n t : " s h a r e O n I m g u r E r r o r " , m e t a : { h a s h : t h i s . p r o p s . h a s h , e r r o r : " u n p a r s a b l e " , b u t t o n : " s h a r e " } } ) } i f ( n u l l = = a . d a t a | | n u l l = = a . d a t a . e r r o r | | n u l l = = a . d a t a . e r r o r . m e s s a g e ) r e t u r n   h u m a n M s g . d i s p l a y M s g ( " A n   u n k n o w n   e r r o r   o c c u r r e d .   P l e a s e   t r y   a g a i n . " , " e r r o r - m s g " ) , v o i d   I m g u r . U t i l . j a f o L o g ( { e v e n t : " s h a r e O n I m g u r E r r o r " , m e t a : { h a s h : t h i s . p r o p s . h a s h , e r r o r : " u n k n o w n " , b u t t o n : " s h a r e " } } ) ; v a r   d = p a r s e I n t ( a . d a t a . e r r o r . m e s s a g e ) , e = " u n k n o w n " ; i f ( ! i s N a N ( d ) & & d > 0 ) { e = " r a t e L i m i t " ; v a r   f = d > 6 0 ? M a t h . r o u n d ( d / 6 0 ) + I m g u r . U t i l . p l u r a l i z e ( M a t h . r o u n d ( d / 6 0 ) , "   m i n u t e " ) : d + I m g u r . U t i l . p l u r a l i z e ( d , "   s e c o n d " ) ; h u m a n M s g . d i s p l a y M s g ( " Y o u ' r e   s h a r i n g   t o o   q u i c k l y .   P l e a s e   w a i t   " + f + " . " , " e r r o r - m s g " ) } e l s e " B a n n e d " = = a . d a t a . e r r o r . m e s s a g e ? ( e = " b a n n e d " , h u m a n M s g . d i s p l a y M s g ( " Y o u r   a c c o u n t   h a s   b e e n   b l o c k e d .   P l e a s e   c o n t a c t   s u p p o r t @ i m g u r . c o m . " , " e r r o r - m s g " ) ) : " T e r m s " = = a . d a t a . e r r o r . m e s s a g e ? ( e = " t e r m s " , t h i s . s h o w T e r m s ( s a v e P r e v i e w ) ) : " N o t V e r i f i e d " = = a . d a t a . e r r o r . m e s s a g e ? ( e = " n o t V e r i f i e d " , t h i s . s h o w E m a i l V e r i f i c a t i o n ( f u n c t i o n ( ) { s a v e P r e v i e w ? b . h a n d l e S a v e ( ) : b . h a n d l e S u b m i t ( ) } ) ) : " O P " = = a . d a t a . e r r o r . m e s s a g e ? h u m a n M s g . d i s p l a y M s g ( " O P   m u s t   e x i s t . " , " e r r o r - m s g " ) : " S u s p e n d e d " = = a . d a t a . e r r o r . m e s s a g e ? ( e = " s u s p e n d e d " , h u m a n M s g . d i s p l a y M s g ( " Y o u r   a c c o u n t   i s   c u r r e n t l y   s u s p e n d e d " , " e r r o r - m s g " ) ) : h u m a n M s g . d i s p l a y M s g ( " A n   u n k n o w n   e r r o r   o c c u r r e d .   P l e a s e   t r y   a g a i n . " , " e r r o r - m s g " ) ; I m g u r . U t i l . j a f o L o g ( { e v e n t : " s h a r e O n I m g u r E r r o r " , m e t a : { h a s h : t h i s . p r o p s . h a s h , e r r o r : e , b u t t o n : " s h a r e " } } ) } , r e n d e r : f u n c t i o n ( ) { v a r   a = [ ] , b = t h i s . s t a t e . t o p i c S e l e c t e d > = 0 , c = c l a s s N a m e s ( { r i g h t : ! 0 , b t n : ! 0 , " b t n - g r e y " : ! t h i s . s t a t e . v a l i d T i t l e | | ! b , " b t n - a c t i o n " : t h i s . s t a t e . v a l i d T i t l e & & b } ) , d = " S h a r e " ; t h i s . s t a t e . v a l i d T i t l e | | b ? t h i s . s t a t e . v a l i d T i t l e ? b | | ( d = " T o p i c   R e q u i r e d " ) : d = " T i t l e   R e q u i r e d " : d = " T i t l e   &   T o p i c   R e q u i r e d " ; f o r ( v a r   e = 0 ; e < t h i s . s t a t e . t o p i c s . l e n g t h ; e + + ) { v a r   f = " " ; t h i s . s t a t e . t o p i c S e l e c t e d = = e & & ( f = "   g r e e n " ) , a . p u s h ( R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " p o s t - s h a r e - t o p i c   p o i n t e r " + f , o n C l i c k : _ . p a r t i a l ( t h i s . h a n d l e T o p i c S e l e c t , e ) , k e y : " t o p i c " + e } , R e a c t . c r e a t e E l e m e n t ( " i " , { c l a s s N a m e : " i c o n - c h e c k m a r k c i r c l e " } ) , "   " , R e a c t . c r e a t e E l e m e n t ( " s p a n " , { c l a s s N a m e : " p o s t - s h a r e - t o p i c - n a m e " } , t h i s . s t a t e . t o p i c s [ e ] . n a m e ) , R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " p o s t - s h a r e - t o p i c - d e s c " + f } , t h i s . s t a t e . t o p i c s [ e ] . d e s c r i p t i o n ) ) ) } r e t u r n   R e a c t . c r e a t e E l e m e n t ( " d i v " , n u l l , R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " t o o l t i p " } , " C o n t a i n s   M a t u r e   C o n t e n t   " , R e a c t . c r e a t e E l e m e n t ( " i n p u t " , { t y p e : " c h e c k b o x " } ) , R e a c t . c r e a t e E l e m e n t ( " s p a n " , { c l a s s N a m e : " t o o l t i p - t e x t   t o o l t i p - t e x t - b o t t o m " } , " W h a t ' s   t h i s ?   M a t u r e   c o n t e n t   i s   i n t e n d e d   f o r   a d u l t   a u d i e n c e s   o n l y .   S e l e c t i n g   t h i s   o p t i o n   a l s o   e n a b l e s   m a t u r e   c o n t e n t   i n   y o u r   s t r e a m . " ) ) , R e a c t . c r e a t e E l e m e n t ( I m g u r . E l e m e n t s . N a n o S c r o l l e r , { c l a s s e s : " p o s t - s h a r e - o p t i o n s " } , R e a c t . c r e a t e E l e m e n t ( I m g u r . S h a r e . T i t l e , { h a n d l e C h a n g e : t h i s . h a n d l e T i t l e V a l i d a t i o n , t i t l e : t h i s . p r o p s . t i t l e , m a x L e n g t h : 2 5 5 , i n p u t C l a s s e s : " p o s t - s h a r e - i n p u t " , l i m i t C l a s s e s : " r i g h t   p o s t - s h a r e - c o u n t e r " } ) , R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " c f " } ) , R e a c t . c r e a t e E l e m e n t ( " s p a n " , { c l a s s N a m e : " p o s t - s h a r e - t o p i c s - h e a d e r " } , " T o p i c " ) , R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " p o s t - s h a r e - t o p i c s " } , a ) ) , R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " p o s t - s h a r e - s a v e " } , R e a c t . c r e a t e E l e m e n t ( " b u t t o n " , { c l a s s N a m e : c } , d ) ) ) } } ) , N a m e s p a c e ( " I m g u r . G a l l e r y " ) , I m g u r . G a l l e r y . S o u r c e B a r = R e a c t . c r e a t e C l a s s ( { d i s p l a y N a m e : " G a l l e r y - S o u r c e B a r " , v i a A p p I c o n C l i c k : f u n c t i o n ( ) { I m g u r . U t i l . j a f o L o g ( { e v e n t : " v i a A p p I c o n " , m e t a : { t y p e : " u p l o a d " , h a s h : t h i s . p r o p s . i m a g e . h a s h , i s A l b u m : t h i s . p r o p s . i m a g e . i s _ a l b u m , n s f w : t h i s . p r o p s . i m a g e . n s f w , i n G a l l e r y : ! 0 , p l a t f o r m : " i o s " = = = t h i s . p r o p s . i m a g e . p l a t f o r m ? " i p h o n e " : t h i s . p r o p s . i m a g e . p l a t f o r m } } ) } , _ r e d d i t S o u r c e : f u n c t i o n ( a , b ) { r e t u r n   R e a c t . D O M . a ( { h r e f : " h t t p s : / / w w w . r e d d i t . c o m " + a , t a r g e t : " _ b l a n k " , k e y : " r e d d i t " } , b ) } , h a n d l e U s e r P r o f i l e C l i c k : f u n c t i o n ( ) { I m g u r . U t i l . j a f o L o g ( { e v e n t : " u s e r P r o f i l e N a v " , m e t a : { a c c o u n t I d : t h i s . p r o p s . i m a g e . a c c o u n t _ i d , m e t h o d : " u s e r n a m e P o s t " } } ) } , c o m p o n e n t D i d M o u n t : f u n c t i o n ( ) { t h i s . s e n d T o U s e r S t a t i s t i c s I f P o s t I s P r o m o t e d ( ) } , c o m p o n e n t D i d U p d a t e : f u n c t i o n ( a ) { a . i m a g e . h a s h ! = = t h i s . p r o p s . i m a g e . h a s h & & t h i s . s e n d T o U s e r S t a t i s t i c s I f P o s t I s P r o m o t e d ( ) } , s e n d T o U s e r S t a t i s t i c s I f P o s t I s P r o m o t e d : f u n c t i o n ( ) { i f ( t h i s . p r o p s . i m a g e . i s A d | | t h i s . p r o p s . i m a g e . i s _ a d ) { v a r   a = I m g u r . U s e r S t a t i s t i c s . g e t I n s t a n c e ( ) ; a . e m i t A c t i o n U s e r I n t e r a c t s W i t h P r o m o t e d P o s t ( t h i s . p r o p s . i m a g e . a c c o u n t _ u r l ) } } , r e n d e r : f u n c t i o n ( ) { v a r   a = [ ] , b = ! 1 ; i f ( ( t h i s . p r o p s . i m a g e . i s A d | | t h i s . p r o p s . i m a g e . i s _ a d ) & & a . p u s h ( R e a c t . D O M . a ( { h r e f : " h t t p s : / / i m g u r . c o m / b l o g / 2 0 1 5 / 0 5 / 3 1 / a b o u t - p r o m o t e d - p o s t s / " , c l a s s N a m e : " t i t l e   p r o m o t e d - t a g " , t i t l e : " l e a r n   m o r e   a b o u t   p r o m o t e d   p o s t s " , k e y : " p r o m o t e d " } , " P r o m o t e d " ) ) , t h i s . p r o p s . i m a g e . a c c o u n t _ u r l ) a . p u s h ( R e a c t . D O M . s p a n ( { k e y : " b y " } , "   b y   " ) , R e a c t . D O M . a ( { h r e f : " / u s e r / " + t h i s . p r o p s . i m a g e . a c c o u n t _ u r l , o n C l i c k : t h i s . h a n d l e U s e r P r o f i l e C l i c k , t i t l e : " v i e w   a c c o u n t   o f   " + t h i s . p r o p s . i m a g e . a c c o u n t _ u r l , c l a s s N a m e : " p o s t - a c c o u n t " , k e y : " a c c o u n t " } , t h i s . p r o p s . i m a g e . a c c o u n t _ u r l ) ) ; e l s e   i f ( t h i s . p r o p s . i m a g e . r e d d i t ) { v a r   c = t h i s . p r o p s . i m a g e . v i d e o _ s o u r c e & & ! t h i s . p r o p s . i m a g e . i s _ a l b u m ? "   ( s o u r c e )   " : " ( s o u r c e )   " ; a . p u s h ( t h i s . _ r e d d i t S o u r c e ( t h i s . p r o p s . i m a g e . r e d d i t , c ) ) } e l s e   t h i s . p r o p s . i m a g e . s u b r e d d i t ? a . p u s h ( t h i s . _ r e d d i t S o u r c e ( t h i s . p r o p s . i m a g e . p e r m a l i n k , " ( s o u r c e )   " ) ) : ( b = ! 0 , a . p u s h ( R e a c t . D O M . s p a n ( { k e y : " a n o n " } , " U p l o a d e d   " ) ) ) ; v a r   d = { c l a s s N a m e : " p o s t - t i t l e - m e t a   f o n t - o p e n s a n s - s e m i b o l d " } ; r e t u r n   t h i s . p r o p s . i m a g e . t i t l e | | I m g u r . E n v i r o n m e n t . h a s A c c e s s | | t h i s . p r o p s . s l i m | | ( d . c l a s s N a m e + = "   p o s t - t i t l e - m e t a - - n o t i t l e " ) , t h i s . p r o p s . i m a g e . i s A d | | t h i s . p r o p s . i m a g e . i s _ a d ? R e a c t . D O M . d i v ( d , a ) : ( [ " i o s " , " a n d r o i d " ] . i n d e x O f ( t h i s . p r o p s . i m a g e . p l a t f o r m ) > = 0 & & a . p u s h ( R e a c t . D O M . s p a n ( { k e y : " p l a t f o r m " } , "   v i a   " , R e a c t . D O M . a ( { h r e f : " / / " + I m g u r . E n v i r o n m e n t . h o s t + " / a p p s " , o n C l i c k : t h i s . v i a A p p I c o n C l i c k } , " i o s " = = t h i s . p r o p s . i m a g e . p l a t f o r m ? " i P h o n e " : " A n d r o i d " , R e a c t . D O M . s p a n ( { c l a s s N a m e : " i c o n - m o b i l e " } , n u l l ) ) ) ) , ( t h i s . p r o p s . i m a g e . t i m e s t a m p | | t h i s . p r o p s . i m a g e . d a t e t i m e ) & & a . p u s h ( R e a c t . c r e a t e E l e m e n t ( I m g u r . E l e m e n t s . T i m e s t a m p , { k e y : " h u m a n t i m e " + ( t h i s . p r o p s . i m a g e . t i m e s t a m p | | t h i s . p r o p s . i m a g e . d a t e t i m e ) , s h o u l d U p d a t e : ! 1 , t i m e s t a m p : t h i s . p r o p s . i m a g e . t i m e s t a m p | | t h i s . p r o p s . i m a g e . d a t e t i m e } ) ) , t h i s . p r o p s . i m a g e . v i d e o _ s o u r c e & & ! t h i s . p r o p s . i m a g e . i s _ a l b u m & & a . p u s h ( R e a c t . D O M . s p a n ( { c l a s s N a m e : " v i d g i f - i n f o " , k e y : " v i d g i f " } , " M a d e   w i t h   " , R e a c t . D O M . a ( { h r e f : " / / i m g u r . c o m / v i d g i f " , t a r g e t : " _ b l a n k " } , " V i d e o   t o   G I F " ) ) ) , R e a c t . D O M . d i v ( d , a ) ) } } ) , N a m e s p a c e ( " I m g u r . G a l l e r y . P o s t " ) , I m g u r . G a l l e r y . P o s t = R e a c t . c r e a t e C l a s s ( { I N I T I A L _ L O A D : 1 0 , M A X _ W I D T H : 7 2 8 , M A X _ N O N _ G A L L E R Y _ T I T L E : 1 2 8 , M A X _ T E X T A R E A : 3 2 7 6 7 , A D D _ I M A G E _ R O W _ H E I G H T : 3 0 , R E N D E R _ S T A T E : { P R E : 1 , P O S T : 2 } , u p d a t i n g S t a t e : ! 1 , _ : { o n S c r o l l : n u l l , $ w i n d o w : $ ( w i n d o w ) , a u d i o S t a t e : I m g u r . V i d e o C o n t r o l s . A u d i o S t a t e . P R E S E N T _ M U T E D , a u d i o S t a t e S e s s i o n S t o r a g e : n e w   I m g u r . S t o r a g e . S e s s i o n ( " a u d i o S t a t e " ) } , d i s p l a y N a m e : " G a l l e r y P o s t " , g e t I n i t i a l S t a t e : f u n c t i o n ( ) { v a r   a = " " ; r e t u r n   t h i s . p r o p s . d a t a . f o r c e _ g r i d & & ( a = " b r o w s e " ) , { a l l _ l o a d e d : ! 1 , g r i d T y p e : a , r e n d e r _ s t a t e : t h i s . R E N D E R _ S T A T E . P R E , s c r o l l t o p : 0 , w i n d o w _ h e i g h t : 6 0 0 , t h u m b _ s i z e : " 0 " = = l o c a l S t o r a g e . g e t I t e m ( " r e t i n a " ) ? " g " : " r " , i s L o a d i n g T a g s : ! 1 } } , c o m p o n e n t D i d M o u n t : f u n c t i o n ( ) { i f ( t h i s . p r o p s . d a t a . i s _ a l b u m & & ( t h i s . _ c a l c u l a t e C o n t a i n e r H e i g h t s ( ) , t h i s . s e t S t a t e ( { r e n d e r _ s t a t e : t h i s . R E N D E R _ S T A T E . P O S T } ) , t h i s . p r o p s . i n _ g a l l e r y | | ( t h i s . p r o p s . e m i t t e r . o n ( " i n i t G r i d " , t h i s , f u n c t i o n ( a ) { t h i s . _ . $ w i n d o w . o f f ( " s c r o l l " , t h i s . _ . o n S c r o l l ) , t h i s . s e t S t a t e ( { g r i d T y p e : a } ) } ) , t h i s . p r o p s . e m i t t e r . o n ( " c l o s e G r i d " , t h i s , f u n c t i o n ( ) { t h i s . _ . $ w i n d o w . o n ( " s c r o l l " , t h i s . _ . o n S c r o l l ) , t h i s . _ h a n d l e S c r o l l ( ) , t h i s . s e t S t a t e ( { g r i d T y p e : " " } ) } ) ) ) , t h i s . p r o p s . d a t a . i s _ v i r a l ) { v a r   a = ' < d i v   i d = " p o s t - e d i t - m e s s a g e " > ' ; a + = ' < d i v   c l a s s = " p o s t - e d i t - m e s s a g e - h e a d e r " > < / d i v > ' , a + = ' < d i v   c l a s s = " p o s t - e d i t - m e s s a g e - b o d y " > ' , a + = " < p > < s t r o n g > Y o u r   p o s t   i s   i n   M o s t   V i r a l !   P l e a s e   e d i t   r e s p o n s i b l y . < / s t r o n g > < / p > " , a + = ' < p > I t \ ' s   g o o d   I m g u r - e t i q u e t t e   t o   u s e   t h e   p h r a s e   " E d i t "   t o   d i s t i n g u i s h   n e w   d e t a i l s   a b o u t   y o u r   p o s t . < / p > ' , a + = ' < p > B a d   e d i t s   c h a n g e   t h e   c o n t e x t   o f   t h e   p o s t ,   s o l i c i t   I m g u r i a n s   t o   s e n d   i n a p p r o p r i a t e   t h i n g s ,   a d d   s p a m m y   l i n k s ,   o r   v i o l a t e   o u r   < a   h r e f = " / r u l e s " > c o m m u n i t y   r u l e s < / a > . < / p > ' , a + = ' < d i v   c l a s s = " r i g h t   m a r g i n - t o p   m a r g i n - b o t t o m " > < b u t t o n   c l a s s = " b t n   b t n - a c t i o n "   o n c l i c k = " $ . c o l o r b o x . c l o s e ( ) " > O k a y ,   g o t   i t ! < / b u t t o n > < / d i v > ' , a + = " < / d i v > < / d i v > " , $ . c o l o r b o x ( { h t m l : a , o p e n : ! 0 , t o p : " 1 0 % " , t r a n s i t i o n : " n o n e " , s c r o l l i n g : ! 1 , f i x e d : ! 0 , w i d t h : 5 4 0 , h e i g h t : 4 4 5 , c l a s s N a m e : " n o B o r d e r   n o X " } ) } t h i s . s h o w T i t l e s = I m g u r . L o c a l S t o r a g e . g e t ( " s h o w T i t l e s " ) | | ! 1 , t h i s . p r o p s . e m i t t e r . o n ( " a u d i o S t a t e C h a n g e " , t h i s , t h i s . h a n d l e A u d i o S t a t e C h a n g e ) } , c o m p o n e n t W i l l M o u n t : f u n c t i o n ( ) { t h i s . p r o p s . a l l _ l o a d e d & & t h i s . s e t S t a t e ( { a l l _ l o a d e d : ! 0 } ) , t h i s . _ . o n S c r o l l = _ . t h r o t t l e ( _ . b i n d ( t h i s . _ h a n d l e S c r o l l , t h i s ) , 2 5 0 ) , t h i s . _ . $ w i n d o w . o n ( " s c r o l l " , t h i s . _ . o n S c r o l l ) , t h i s . _ h a n d l e S c r o l l ( ) } , c o m p o n e n t W i l l U n m o u n t : f u n c t i o n ( ) { t h i s . p r o p s . d a t a . i s _ a l b u m & & t h i s . _ . $ w i n d o w . o f f ( " s c r o l l " , t h i s . _ . o n S c r o l l ) } , c o m p o n e n t D i d U p d a t e : f u n c t i o n ( a , b ) { t h i s . p r o p s . d a t a . i s _ a l b u m & & ( t h i s . s t a t e . r e n d e r _ s t a t e = = t h i s . R E N D E R _ S T A T E . P R E | | t h i s . p r o p s . h a s _ a c c e s s & & t h i s . u p d a t i n g S t a t e = = = ! 0 ) & & ( t h i s . _ c a l c u l a t e C o n t a i n e r H e i g h t s ( ) , t h i s . u p d a t i n g S t a t e = ! 1 , t h i s . s e t S t a t e ( { r e n d e r _ s t a t e : t h i s . R E N D E R _ S T A T E . P O S T } ) ) } , c o m p o n e n t W i l l R e c e i v e P r o p s : f u n c t i o n ( a ) { t h i s . s e t S t a t e ( { a l l _ l o a d e d : a . a l l _ l o a d e d , r e n d e r _ s t a t e : t h i s . R E N D E R _ S T A T E . P R E , g r i d T y p e : a . g r i d T y p e } ) } , g e t S e s s i o n A u d i o S t a t e : f u n c t i o n ( ) { r e t u r n   t h i s . _ . a u d i o S t a t e S e s s i o n S t o r a g e . g e t ( ) } , _ h a n d l e S c r o l l : f u n c t i o n ( ) { t h i s . s e t S t a t e ( { s c r o l l t o p : t h i s . _ . $ w i n d o w . s c r o l l T o p ( ) , w i n d o w _ h e i g h t : t h i s . _ . $ w i n d o w . h e i g h t ( ) } ) } , _ s c a l e W i d t h : f u n c t i o n ( a , b , c ) { i f ( b & & a ) { v a r   d = b / a ; i f ( a > = c ) r e t u r n   M a t h . r o u n d ( c * d ) } r e t u r n   b } , u p d a t e T a g s F r o m T e x t : f u n c t i o n ( a , b , c ) { v a r   d = t h i s ; i f ( " d e s c r i p t i o n " = = = b ) { v a r   e = a + b , f = n e w   R e g E x p ( " # ( [ a - z A - Z 0 - 9 _ ] { " + I m g u r . C o n s t a n t s . M I N _ T A G _ L E N G T H + " , " + I m g u r . C o n s t a n t s . M A X _ T A G _ L E N G T H + " } ) " , " g " ) , g = [ ] , h = v o i d   0 ; d o   h = f . e x e c ( c ) , h & & g . p u s h ( h [ 1 ] ) ; w h i l e ( h ) ; t h i s . p r o p s . t a g S t o r e . g e t T a g s ( ) . f o r E a c h ( f u n c t i o n ( a ) { a . a d d e d V i a = = = e & & g . i n d e x O f ( a . t a g N a m e ) = = = - 1 & & d . p r o p s . t a g S t o r e . r e m o v e T a g ( a . t a g N a m e ) } ) , g . f o r E a c h ( f u n c t i o n ( a ) { d . p r o p s . t a g S t o r e . a d d T a g ( a , e , f u n c t i o n ( ) { } ) } ) } } , _ s e t C o n t a i n e r H e i g h t B y I n d e x : f u n c t i o n ( a , b , c ) { v a r   d = t h i s . p r o p s . a l b u m _ i m a g e _ s t o r e . g e t I m a g e s ( t h i s . p r o p s . d a t a . h a s h ) , e = d . i m a g e s [ a ] , f = e . c o n t a i n e r H e i g h t ; e [ b ] = c ; v a r   g = e . r e a c t K e y ? e . r e a c t K e y : e . h a s h , h = t h i s . _ c a l c u l a t e E l e m e n t H e i g h t ( R e a c t D O M . f i n d D O M N o d e ( t h i s . r e f s [ g ] ) ) ; e . c o n t a i n e r H e i g h t = h ! = = ! 1 ? h : e . c o n t a i n e r H e i g h t , f ! = e . c o n t a i n e r H e i g h t & & t h i s . _ h a n d l e S c r o l l ( ) , t h i s . u p d a t e T a g s F r o m T e x t ( a , b , c ) } , _ c a l c u l a t e C o n t a i n e r H e i g h t s : f u n c t i o n ( ) { v a r   a = t h i s . p r o p s . a l b u m _ i m a g e _ s t o r e . g e t I m a g e s ( t h i s . p r o p s . d a t a . h a s h ) , b = a . c o u n t ; a = a . i m a g e s , t h i s . s t a t e . a l l _ l o a d e d | | ( b = M a t h . m i n ( b , t h i s . I N I T I A L _ L O A D ) ) ; f o r ( v a r   c = 0 ; c < b ; c + + ) i f ( " n u m b e r " ! = t y p e o f   a [ c ] . c o n t a i n e r H e i g h t | | a [ c ] . r e c a l c R e a d y ) { v a r   d = a [ c ] . r e a c t K e y ? a [ c ] . r e a c t K e y : a [ c ] . h a s h , e = t h i s . _ c a l c u l a t e E l e m e n t H e i g h t ( R e a c t D O M . f i n d D O M N o d e ( t h i s . r e f s [ d ] ) ) ; a [ c ] . c o n t a i n e r H e i g h t = e ! = = ! 1 ? e : a [ c ] . c o n t a i n e r H e i g h t , a [ c ] . n e e d s R e c a l c = ! 1 , a [ c ] . r e c a l c R e a d y = ! 1 } } , _ c a l c u l a t e E l e m e n t H e i g h t : f u n c t i o n ( a ) { i f ( ! a ) r e t u r n   0 ; v a r   b = d o c u m e n t . d e f a u l t V i e w . g e t C o m p u t e d S t y l e ( a , n u l l ) , c = b . g e t P r o p e r t y V a l u e ( " h e i g h t " ) ; i f ( " a u t o " = = c ) r e t u r n ! 1 ; v a r   d = p a r s e F l o a t ( b . g e t P r o p e r t y V a l u e ( " h e i g h t " ) , 1 0 ) , e = p a r s e F l o a t ( b . g e t P r o p e r t y V a l u e ( " m a r g i n - t o p " ) , 1 0 ) + p a r s e F l o a t ( b . g e t P r o p e r t y V a l u e ( " m a r g i n - b o t t o m " ) , 1 0 ) ; r e t u r n   d + e } , l o a d A l l : f u n c t i o n ( ) { v a r   a = t h i s . p r o p s . a l b u m _ i m a g e _ s t o r e . g e t I m a g e s ( t h i s . p r o p s . h a s h ) ; n u l l ! = a ? t h i s . s e t S t a t e ( { a l l _ l o a d e d : ! 0 , r e n d e r _ s t a t e : t h i s . R E N D E R _ S T A T E . P R E } ) : t h i s . p r o p s . a l b u m _ i m a g e _ s t o r e . f e t c h I m a g e s ( t h i s . p r o p s . h a s h , _ . b i n d ( f u n c t i o n ( a ) { t h i s . s e t S t a t e ( { a l l _ l o a d e d : ! 0 , r e n d e r _ s t a t e : t h i s . R E N D E R _ S T A T E . P R E } ) } , t h i s ) ) } , _ c r e a t e R e n d e r e d I m a g e : f u n c t i o n ( a , b ) { v a r   c = a r g u m e n t s . l e n g t h > 2 & & v o i d   0 ! = = a r g u m e n t s [ 2 ] ? a r g u m e n t s [ 2 ] : { } , d = { t h u m b s i z e : a . t h u m b s i z e , w i d t h : t h i s . M A X _ W I D T H , m i n H e i g h t : a . m i n H e i g h t , i t e m : a , w r a p _ w i t h _ d i r e c t _ l i n k : ! 1 , p o s t e r : ! 1 , p r o m o t e d : t h i s . p r o p s . d a t a . i s A d | | t h i s . p r o p s . d a t a . i s _ a d , s h o w S h a r e L i n k s : c . s h o w S h a r e L i n k s | | t h i s . p r o p s . h a s _ a c c e s s , d i s c a r d i n g _ r e f e r r e r : ! t h i s . p r o p s . i n i t i a l | | b > = t h i s . I N I T I A L _ L O A D & & ! a . s h o w n , f i r i n g _ p i x e l : ! t h i s . p r o p s . i n i t i a l | | b > = t h i s . I N I T I A L _ L O A D & & ! a . s h o w n , h a n d l e R e m o v e : t h i s . h a n d l e R e m o v e , a l b u m _ h a s h : t h i s . p r o p s . d a t a . h a s h , e m i t t e r : t h i s . p r o p s . e m i t t e r , p l a y A u d i o I f A v a i l a b l e : 0 = = = b & & c . s e s s i o n A u d i o S t a t e = = = I m g u r . V i d e o C o n t r o l s . A u d i o S t a t e . P R E S E N T _ O N , h a n d l e V i d e o U p d a t e : t h i s . h a n d l e V i d e o U p d a t e } ; r e t u r n   R e a c t . c r e a t e E l e m e n t ( I m g u r . I m a g e V i e w e r , d ) } , _ c r e a t e C o m p o n e n t : f u n c t i o n ( a , b , c , d ) { v a r   e = c = = d - 1 , f = c l a s s N a m e s ( { " p o s t - i m a g e - c o n t a i n e r " : ! 0 , " p o s t - i m a g e - c o n t a i n e r - - s p a c e r " : ! ( e | | t h i s . p r o p s . h a s _ a c c e s s | | a . t i t l e | | a . d e s c r i p t i o n ) } ) , g = c l a s s N a m e s ( { " p o s t - i m a g e - m e t a " : a . t i t l e | | a . d e s c r i p t i o n | | t h i s . p r o p s . s h o w E d i t T o o l s , " p o s t - i m a g e - m e t a - - l a s t " : e & & ! t h i s . p r o p s . s h o w E d i t T o o l s } ) , h = a . r e a c t K e y ? a . r e a c t K e y : a . h a s h , i = 2 * c + 2 , j = 2 * c + 3 ; r e t u r n   R e a c t . D O M . d i v ( { r e f : h , i d : a . h a s h , c l a s s N a m e : f , k e y : h } , b , R e a c t . D O M . d i v ( { c l a s s N a m e : g } , t h i s . s h o w T i t l e s | | a . t i t l e ? R e a c t . c r e a t e E l e m e n t ( I m g u r . G a l l e r y . T i t l e D e s c , { p o s t S a v i n g S t o r e : t h i s . p r o p s . p o s t S a v i n g S t o r e , e l e m e n t : " h 2 " , t y p e : " t i t l e " , c l a s s e s : " p o s t - i m a g e - t i t l e " , p l a c e h o l d e r : " I m a g e   t i t l e " , t e x t : a . t i t l e , d e l e t e h a s h : a . d e l e t e h a s h , t r i g g e r S a v e : a . t r i g g e r S a v e T i t l e D e s c , m a x _ l e n g t h : t h i s . M A X _ N O N _ G A L L E R Y _ T I T L E , n o _ e n t e r : ! 0 , d o n t _ p r o t e c t : ! 0 , u p d a t e C o n t a i n e r : _ . b i n d ( t h i s . _ s e t C o n t a i n e r H e i g h t B y I n d e x , t h i s , c ) , s h o w E d i t T o o l s : t h i s . p r o p s . s h o w E d i t T o o l s , t a b i n d e x : t h i s . p r o p s . s h o w E d i t T o o l s ? i : " " , h a n d l e K e y D o w n : _ . b i n d ( t h i s . e d i t K e y H a n d l e r , t h i s , i ) , k e y : " t a b i n d e x " + i , r e f : " t a b i n d e x " + i } ) : n u l l , R e a c t . c r e a t e E l e m e n t ( I m g u r . G a l l e r y . D e s c r i p t i o n T a g S u g g e s t C o n t a i n e r , { p o s t S a v i n g S t o r e : t h i s . p r o p s . p o s t S a v i n g S t o r e , t a g S t o r e : t h i s . p r o p s . t a g S t o r e , e l e m e n t : " d i v " , t y p e : " d e s c r i p t i o n " , c l a s s e s : " p o s t - i m a g e - d e s c r i p t i o n " + ( t h i s . p r o p s . s h o w E d i t T o o l s ? "   p o s t - i m a g e - d e s c r i p t i o n - - e d i t a b l e " : " " ) , p l a c e h o l d e r : " A d d   a   d e s c r i p t i o n   # t a g s   a n d   @ m e n t i o n " , t e x t : a . d e s c r i p t i o n , d e l e t e h a s h : a . d e l e t e h a s h , t r i g g e r S a v e : a . t r i g g e r S a v e T i t l e D e s c , m a x _ l e n g t h : t h i s . M A X _ T E X T A R E A , d o n t _ p r o t e c t : t h i s . p r o p s . d a t a . i s A d | | t h i s . p r o p s . d a t a . i s _ a d , l i n k i f y : ! 0 , l i n k i f i e r : t h i s . p r o p s . l i n k i f i e r , u p d a t e C o n t a i n e r : _ . b i n d ( t h i s . _ s e t C o n t a i n e r H e i g h t B y I n d e x , t h i s , c ) , s h o w E d i t T o o l s : t h i s . p r o p s . s h o w E d i t T o o l s , t a b i n d e x : t h i s . p r o p s . s h o w E d i t T o o l s ? j : " " , h a n d l e K e y D o w n : _ . b i n d ( t h i s . e d i t K e y H a n d l e r , t h i s , j ) , k e y : " t a b i n d e x " + j , r e f : " t a b i n d e x " + j } ) ) ) } , _ g e t T h u m b S i z e : f u n c t i o n ( a ) { r e t u r n   a . p r e f e r _ v i d e o ? " " : " r " = = t h i s . s t a t e . t h u m b _ s i z e ? a . w i d t h > 2 * t h i s . M A X _ W I D T H ? " r " : " " : a . w i d t h > t h i s . M A X _ W I D T H ? " g " : " " } , h a n d l e R e m o v e : f u n c t i o n ( a ) { t h i s . p r o p s . a l b u m _ i m a g e _ s t o r e . d e l e t e I m a g e ( t h i s . p r o p s . d a t a . h a s h , a ) , t h i s . f o r c e U p d a t e ( ) } , e d i t K e y H a n d l e r : f u n c t i o n ( a , b ) { i f ( 9 = = b . k e y C o d e ) { b . s h i f t K e y ? a - - : a + + ; v a r   c = R e a c t D O M . f i n d D O M N o d e ( t h i s . r e f s [ " t a b i n d e x " + a ] ) ; i f ( ! c ) r e t u r n ; b . p r e v e n t D e f a u l t ( ) , $ ( " h t m l ,   b o d y " ) . a n i m a t e ( { s c r o l l T o p : c . o f f s e t T o p - 2 0 0 } , 1 0 0 , f u n c t i o n ( ) { c . f o c u s ( ) } ) } } , h a n d l e G r i d C o l o r b o x : f u n c t i o n ( a , b ) { $ t a r g e t = $ ( b . t a r g e t ) , $ t a r g e t . c o l o r b o x ( { r e l : " p o s t - g r i d - i m a g e " , h r e f : $ t a r g e t . a t t r ( " d a t a - h r e f " ) , o p e n : ! 0 , s c r o l l i n g : ! 1 , m a x W i d t h : " 9 0 % " , m a x H e i g h t : " 9 0 % " , c l a s s N a m e : " b l u r b o x " , t i t l e : $ t a r g e t . a t t r ( " d a t a - t i t l e " ) , t r a n s i t i o n : " n o n e " , o n O p e n : f u n c t i o n ( ) { t h i s . p r o p s . e m i t t e r . t r i g g e r ( " b l o c k H o t K e y s " , ! 0 ) } . b i n d ( t h i s ) , o n C l o s e d : f u n c t i o n ( ) { t h i s . p r o p s . e m i t t e r . t r i g g e r ( " b l o c k H o t K e y s " , ! 1 ) } . b i n d ( t h i s ) } ) } , h a n d l e V i d e o U p d a t e : f u n c t i o n ( a , b , c , d , e , f ) { v a r   g = t h i s . p r o p s . a l b u m _ i m a g e _ s t o r e . g e t I m a g e ( a , b ) ; g & & ( g = O b j e c t . a s s i g n ( { } , g , { p l a y S t a t e : c , a u d i o S t a t e : d , v o l u m e : e , c u r r e n t T i m e : f } ) , t h i s . p r o p s . a l b u m _ i m a g e _ s t o r e . s e t I m a g e ( a , b , g ) ) } , h a n d l e A u d i o S t a t e C h a n g e : f u n c t i o n ( a ) { t h i s . _ . a u d i o S t a t e S e s s i o n S t o r a g e . s a v e ( a ) } , r e n d e r : f u n c t i o n ( ) { v a r   a , b = t h i s . p r o p s . a l b u m _ i m a g e _ s t o r e . g e t I m a g e s ( t h i s . p r o p s . d a t a . h a s h ) , c = [ ] , d = [ ] , e = 0 , f = n u l l , g = n u l l , h = ! 1 , i = t h i s . g e t S e s s i o n A u d i o S t a t e ( ) , j = t h i s . p r o p s . h a s _ a c c e s s ? n u l l : R e a c t . D O M . d i v ( { c l a s s N a m e : " p o s t - a c t i o n " } , R e a c t . c r e a t e E l e m e n t ( I m g u r . G a l l e r y . P o s t A c t i o n B a r , _ . e x t e n d ( t h i s . p r o p s . d a t a , { k e y : t h i s . p r o p s . d a t a . h a s h + " p o s t a c t i o n b a r " , i n s i d e T a g C o n t r o l l e r : t h i s . p r o p s . i n s i d e T a g C o n t r o l l e r , h a s _ a c c e s s : t h i s . p r o p s . h a s _ a c c e s s , i n _ g a l l e r y : t h i s . p r o p s . i n _ g a l l e r y , e m i t t e r : t h i s . p r o p s . e m i t t e r , a n a l y t i c s : t h i s . p r o p s . a n a l y t i c s , h i d e _ p o i n t s : t h i s . p r o p s . h i d e _ p o i n t s , h i d e _ v i e w s : t h i s . p r o p s . h i d e _ v i e w s , h i d e _ t a g s : t h i s . p r o p s . h i d e _ t a g s , h i d e _ r e p o r t : t h i s . p r o p s . h i d e _ r e p o r t , s i d e G a l l e r y : t h i s . p r o p s . s i d e G a l l e r y , a d d _ b o r d e r : h , a l b u m _ i m a g e s : t h i s . p r o p s . d a t a . i s _ a l b u m ? b . i m a g e s : [ ] } ) ) ) ; i f ( t h i s . p r o p s . d a t a . i s _ a l b u m & & b ) { e = b . c o u n t ; v a r   k = $ ( " . p o s t - i m a g e s " ) , l = 0 , m = 0 , n = 0 , o = k . l e n g t h ? k . o f f s e t ( ) . t o p : 0 ; i f ( " r e a r r a n g e " = = = t h i s . s t a t e . g r i d T y p e ) r e t u r n   R e a c t . c r e a t e E l e m e n t ( I m g u r . G a l l e r y . G r i d , { a l b u m _ i m a g e _ s t o r e : t h i s . p r o p s . a l b u m _ i m a g e _ s t o r e , p o s t S a v i n g S t o r e : t h i s . p r o p s . p o s t S a v i n g S t o r e , d e l e t e h a s h : t h i s . p r o p s . d a t a . d e l e t e h a s h , h a s h : t h i s . p r o p s . d a t a . h a s h , t h u m b n a i l : t h i s . p r o p s . d a t a . a l b u m _ c o v e r , o f f s e t : o , m o u s e U p : t h i s . p r o p s . r e a r r a n g e I m a g e s , a l l o w R e a r r a n g e : ! 0 , g r i d I m a g e C l a s s e s : " g r a b " } ) ; i f ( " b r o w s e " = = = t h i s . s t a t e . g r i d T y p e ) r e t u r n   R e a c t . D O M . d i v ( { } , R e a c t . c r e a t e E l e m e n t ( I m g u r . G a l l e r y . G r i d , { a l b u m _ i m a g e _ s t o r e : t h i s . p r o p s . a l b u m _ i m a g e _ s t o r e , p o s t S a v i n g S t o r e : t h i s . p r o p s . p o s t S a v i n g S t o r e , d e l e t e h a s h : t h i s . p r o p s . d a t a . d e l e t e h a s h , h a s h : t h i s . p r o p s . d a t a . h a s h , t h u m b n a i l : t h i s . p r o p s . d a t a . a l b u m _ c o v e r , o f f s e t : o , m o u s e U p : t h i s . h a n d l e G r i d C o l o r b o x , a l l o w R e a r r a n g e : ! 1 , g r i d I m a g e C l a s s e s : " p o i n t e r " } ) , j ) ; v a r   p = t h i s . p r o p s . d a t a . i s _ a d | | t h i s . p r o p s . d a t a . i s A d ; t h i s . s t a t e . a l l _ l o a d e d | | p | | ( e = M a t h . m i n ( e , t h i s . I N I T I A L _ L O A D ) ) ; f o r ( v a r   q = 0 ; q < e ; q + + ) { v a r   r = b . i m a g e s [ q ] ; i f ( r . m i n H e i g h t & & ! r . n e e d s R e c a l c | | ( ! r . a n i m a t e d & & r . w i d t h > t h i s . M A X _ W I D T H ? r . t h u m b s i z e = t h i s . _ g e t T h u m b S i z e ( r ) : r . t h u m b s i z e = " " , r . m i n H e i g h t = t h i s . _ s c a l e W i d t h ( r . w i d t h , r . h e i g h t , t h i s . M A X _ W I D T H ) ) , p | | t h i s . s t a t e . r e n d e r _ s t a t e = = t h i s . R E N D E R _ S T A T E . P R E ) p | | q < t h i s . I N I T I A L _ L O A D ? ( a = t h i s . _ c r e a t e R e n d e r e d I m a g e ( r , q , { s h o w S h a r e L i n k s : ! 1 , s e s s i o n A u d i o S t a t e : i } ) , r . s h o w n = ! 0 ) : a = R e a c t . D O M . d i v ( { r e f : r . h a s h , s t y l e : { m i n H e i g h t : r . m i n H e i g h t } } ) , c . p u s h ( t h i s . _ c r e a t e C o m p o n e n t ( r , a , q , e ) ) ; e l s e { i f ( " n u m b e r " ! = t y p e o f   r . c o n t a i n e r H e i g h t | | r . n e e d s R e c a l c ) { a = t h i s . _ c r e a t e R e n d e r e d I m a g e ( r , q , { s e s s i o n A u d i o S t a t e : i } ) , d . p u s h ( t h i s . _ c r e a t e C o m p o n e n t ( r , a , q , e ) ) , r . r e c a l c R e a d y = ! 0 ; c o n t i n u e } v a r   s = t h i s . s t a t e . s c r o l l t o p - t h i s . s t a t e . w i n d o w _ h e i g h t , t = t h i s . s t a t e . s c r o l l t o p + 2 * t h i s . s t a t e . w i n d o w _ h e i g h t , u = o + l + m , v = u + r . c o n t a i n e r H e i g h t , w = t h i s . p r o p s . h a s _ a c c e s s & & ! t h i s . p r o p s . i n _ g a l l e r y & & q ! = e - 1 ; u > s & & u < t | | v > s & & v < t | | u < s & & v > t ? ( m + = r . c o n t a i n e r H e i g h t , a = t h i s . _ c r e a t e R e n d e r e d I m a g e ( r , q , { s e s s i o n A u d i o S t a t e : i } ) , r . s h o w n = ! 0 , c . p u s h ( t h i s . _ c r e a t e C o m p o n e n t ( r , a , q , e ) ) , w & & t h i s . p r o p s . a d d I m a g e & & c . p u s h ( R e a c t . D O M . l a b e l ( { k e y : " a d d - b e t w e e n - " + ( q + 1 ) , h t m l F o r : " a d d - b e t w e e n " } , R e a c t . D O M . d i v ( { k e y : " a d d i m a g e " + q , c l a s s N a m e : " p o s t - a d d - i m a g e   b e t w e e n " , o n C l i c k : f u n c t i o n ( a ) { t h i s . p r o p s . a d d I m a g e ( a ) } . b i n d ( t h i s , q + 1 ) } , R e a c t . D O M . d i v ( { c l a s s N a m e : " t e a r " } ) , R e a c t . D O M . d i v ( { c l a s s N a m e : " i c o n - p l u s " } ) ) ) ) ) : 0 = = m ? l + = r . c o n t a i n e r H e i g h t + ( w ? t h i s . A D D _ I M A G E _ R O W _ H E I G H T : 0 ) : n + = r . c o n t a i n e r H e i g h t + ( w ? t h i s . A D D _ I M A G E _ R O W _ H E I G H T : 0 ) } h = ! ! ( r . d e s c r i p t i o n | | r . t i t l e | | b . c o u n t > t h i s . I N I T I A L _ L O A D & & e = = t h i s . I N I T I A L _ L O A D ) } d . l e n g t h > 0 & & ( t h i s . u p d a t i n g S t a t e = ! 0 ) , ! p & & ! t h i s . s t a t e . a l l _ l o a d e d & & b . c o u n t > t h i s . I N I T I A L _ L O A D & & ( f = R e a c t . D O M . d i v ( { c l a s s N a m e : " j s - p o s t - t r u n c a t e d " } , R e a c t . D O M . a ( { c l a s s N a m e : " p o s t - l o a d a l l   b t n   b t n - a c t i o n " , o n C l i c k : t h i s . l o a d A l l } , " L o a d   " + ( b . c o u n t - t h i s . I N I T I A L _ L O A D ) + "   m o r e   " + I m g u r . U t i l . p l u r a l i z e ( b . c o u n t - t h i s . I N I T I A L _ L O A D , " i m a g e " ) ) , R e a c t . D O M . s p a n ( { c l a s s N a m e : " p o s t - g r i d v i e w " } , R e a c t . D O M . s p a n ( { c l a s s N a m e : " i c o n - g r i d " } ) , R e a c t . D O M . a ( { c l a s s N a m e : " p o s t - g r i d v i e w - l i n k " , t a r g e t : " _ b l a n k " , h r e f : " / a / " + t h i s . p r o p s . d a t a . h a s h + " ? g r i d " } , " G r i d   v i e w " ) ) ) ) , t h i s . p r o p s . d a t a . a l b u m _ d e s c r i p t i o n & & ( g = R e a c t . c r e a t e E l e m e n t ( I m g u r . G a l l e r y . T i t l e D e s c , { p o s t S a v i n g S t o r e : t h i s . p r o p s . p o s t S a v i n g S t o r e , e l e m e n t : " d i v " , t y p e : " d e s c r i p t i o n " , c l a s s e s : " p o s t - d e s c r i p t i o n " , p l a c e h o l d e r : " A d d   a   p o s t   d e s c r i p t i o n " , t e x t : t h i s . p r o p s . d a t a . a l b u m _ d e s c r i p t i o n , i s _ a l b u m : ! 0 , d e l e t e h a s h : t h i s . p r o p s . d a t a . d e l e t e h a s h , m a x _ l e n g t h : t h i s . M A X _ T E X T A R E A , d o n t _ p r o t e c t : t h i s . p r o p s . d a t a . i s A d | | t h i s . p r o p s . d a t a . i s _ a d , l i n k i f y : ! 0 , l i n k i f i e r : t h i s . p r o p s . l i n k i f i e r , s h o w E d i t T o o l s : t h i s . p r o p s . s h o w E d i t T o o l s , t a b i n d e x : t h i s . p r o p s . s h o w E d i t T o o l s ? 2 * e + 2 : " " } ) ) ; f o r ( v a r   q = 0 ; l > = 1 e 6 ; q + + ) c . u n s h i f t ( R e a c t . D O M . d i v ( { k e y : " p a d t o p " + q , s t y l e : { h e i g h t : 1 e 6 } } ) ) , l - = 1 e 6 ; c . u n s h i f t ( R e a c t . D O M . d i v ( { k e y : " p a d t o p " , s t y l e : { h e i g h t : l } } ) ) , c . p u s h ( R e a c t . D O M . d i v ( { k e y : " p a d b o t " , s t y l e : { h e i g h t : n } } ) ) } e l s e { v a r   x = 0 , y = 2 ; i f ( t h i s . p r o p s . d a t a . w i d t h > t h i s . M A X _ W I D T H ) { v a r   z = t h i s . M A X _ W I D T H / t h i s . p r o p s . d a t a . w i d t h ; x = t h i s . p r o p s . d a t a . h e i g h t * z } e l s e   x = t h i s . p r o p s . d a t a . h e i g h t | | 0 ; v a r   A = f u n c t i o n ( ) { h u m a n M s g . d i s p l a y M s g ( " D e l e t e d " ) , s e t T i m e o u t ( f u n c t i o n ( ) { w i n d o w . l o c a t i o n = I m g u r . E n v i r o n m e n t . a u t h . u r l ? " / / " + I m g u r . E n v i r o n m e n t . a u t h . u r l + " . " + I m g u r . E n v i r o n m e n t . h o s t : " / " } , 1 e 3 ) } ; a = R e a c t . c r e a t e E l e m e n t ( I m g u r . I m a g e V i e w e r , { e m i t t e r : t h i s . p r o p s . e m i t t e r , t h u m b s i z e : t h i s . _ g e t T h u m b S i z e ( t h i s . p r o p s . d a t a ) , m i n H e i g h t : x , w i d t h : t h i s . M A X _ W I D T H , p r o m o t e d : t h i s . p r o p s . d a t a . i s A d | | t h i s . p r o p s . d a t a . i s _ a d , i t e m : t h i s . p r o p s . d a t a , w r a p _ w i t h _ d i r e c t _ l i n k : ! 1 , p o s t e r : ! 1 , s h o w S h a r e L i n k s : t h i s . p r o p s . h a s _ a c c e s s , d i s c a r d i n g _ r e f e r r e r : ! t h i s . p r o p s . i n i t i a l , f i r i n g _ p i x e l : ! t h i s . p r o p s . i n i t i a l , s i n g l e I m a g e : ! 0 , h a n d l e R e m o v e : A , p l a y A u d i o I f A v a i l a b l e : i = = = I m g u r . V i d e o C o n t r o l s . A u d i o S t a t e . P R E S E N T _ O N } ) ; v a r   B = R e a c t . D O M . d i v ( { i d : t h i s . p r o p s . d a t a . h a s h , c l a s s N a m e : " p o s t - i m a g e - c o n t a i n e r " , k e y : t h i s . p r o p s . d a t a . h a s h } , a , R e a c t . D O M . d i v ( { c l a s s N a m e : t h i s . p r o p s . d a t a . d e s c r i p t i o n | | t h i s . p r o p s . s h o w E d i t T o o l s ? " p o s t - i m a g e - m e t a " : " " } , R e a c t . c r e a t e E l e m e n t ( I m g u r . G a l l e r y . D e s c r i p t i o n T a g S u g g e s t C o n t a i n e r , { p o s t S a v i n g S t o r e : t h i s . p r o p s . p o s t S a v i n g S t o r e , t a g S t o r e : t h i s . p r o p s . t a g S t o r e , e l e m e n t : " d i v " , t y p e : " d e s c r i p t i o n " , c l a s s e s : " p o s t - i m a g e - d e s c r i p t i o n " , p l a c e h o l d e r : " I m a g e   d e s c r i p t i o n " , t e x t : t h i s . p r o p s . d a t a . d e s c r i p t i o n , d e l e t e h a s h : t h i s . p r o p s . d a t a . d e l e t e h a s h , m a x _ l e n g t h : t h i s . M A X _ T E X T A R E A , d o n t _ p r o t e c t : t h i s . p r o p s . d a t a . i s A d | | t h i s . p r o p s . d a t a . i s _ a d , l i n k i f y : ! 0 , s h o w E d i t T o o l s : t h i s . p r o p s . s h o w E d i t T o o l s , t a b i n d e x : t h i s . p r o p s . s h o w E d i t T o o l s ? y : " " , h a n d l e K e y D o w n : _ . b i n d ( t h i s . e d i t K e y H a n d l e r , t h i s , y ) , a u t o S u g g e s t T a g s : ! 0 , k e y : " t a b i n d e x " + y , r e f : " t a b i n d e x " + y , u p d a t e C o n t a i n e r : _ . b i n d ( t h i s . u p d a t e T a g s F r o m T e x t , t h i s , 0 ) } ) ) ) ; c . p u s h ( B ) } v a r   C = t h i s . p r o p s . h a s _ a c c e s s & & t h i s . p r o p s . a d d I m a g e & & ! t h i s . p r o p s . i n _ g a l l e r y ? R e a c t . D O M . d i v ( { o n C l i c k : t h i s . p r o p s . a d d I m a g e . b i n d ( n u l l , b . i m a g e s . l e n g t h ) , c l a s s N a m e : " p o s t - a d d - i m a g e   e n d " } , R e a c t . D O M . s p a n ( { c l a s s N a m e : " i c o n - p l u s " } ) , R e a c t . D O M . s p a n ( n u l l , " A d d   a n o t h e r   i m a g e " ) ) : n u l l , D = v o i d   0 , E = t h i s . p r o p s . d a t a . i s A d | | t h i s . p r o p s . d a t a . i s _ a d ; i f ( E & & t h i s . p r o p s . d a t a . c u s t o m T a g s ) { v a r   F = ' < i f r a m e   s r c d o c = " ' + _ . e s c a p e ( t h i s . p r o p s . d a t a . c u s t o m T a g s ) + ' " > < / i f r a m e > ' ; D = R e a c t . c r e a t e E l e m e n t ( " d i v " , { s t y l e : { d i s p l a y : " n o n e " } , d a n g e r o u s l y S e t I n n e r H T M L : { _ _ h t m l : F } } ) } r e t u r n   R e a c t . D O M . d i v ( { } , c , d , f , g , C , D , j ) } } ) , N a m e s p a c e ( " I m g u r . G a l l e r y . T i t l e D e s c " ) , I m g u r . G a l l e r y . T i t l e D e s c = R e a c t . c r e a t e C l a s s ( { d i s p l a y N a m e : " T i t l e D e s c " , T Y P I N G _ S P E E D : 5 0 0 , s a v e d R e q u e s t : n u l l , g e t D e f a u l t P r o p s : f u n c t i o n ( ) { r e t u r n { l i n k i f i e r : { g r a b : f u n c t i o n ( a ) { r e t u r n   a } } } } , g e t I n i t i a l S t a t e : f u n c t i o n ( ) { r e t u r n { s a v e d T e x t : t h i s . p r o p s . t e x t } } , p l a c e C a r e t A t E n d : f u n c t i o n ( a ) { i f ( a . f o c u s ( ) , " u n d e f i n e d " ! = t y p e o f   w i n d o w . g e t S e l e c t i o n & & " u n d e f i n e d " ! = t y p e o f   d o c u m e n t . c r e a t e R a n g e ) { v a r   b = d o c u m e n t . c r e a t e R a n g e ( ) ; b . s e l e c t N o d e C o n t e n t s ( a ) , b . c o l l a p s e ( ! 1 ) ; v a r   c = w i n d o w . g e t S e l e c t i o n ( ) ; c . r e m o v e A l l R a n g e s ( ) , c . a d d R a n g e ( b ) } e l s e   i f ( " u n d e f i n e d " ! = t y p e o f   d o c u m e n t . b o d y . c r e a t e T e x t R a n g e ) { v a r   d = d o c u m e n t . b o d y . c r e a t e T e x t R a n g e ( ) ; d . m o v e T o E l e m e n t T e x t ( a ) , d . c o l l a p s e ( ! 1 ) , d . s e l e c t ( ) } } , h a n d l e P a s t e : f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) ; v a r   b = " " ; a . c l i p b o a r d D a t a ? b = a . c l i p b o a r d D a t a . g e t D a t a ( " T e x t " ) : w i n d o w . c l i p b o a r d D a t a & & ( b = w i n d o w . c l i p b o a r d D a t a . g e t D a t a ( " T e x t " ) ) , b = I m g u r . U t i l . h t m l E n t i t y ( b ) , t h i s . p r o p s . l i n k i f y & & ! t h i s . p r o p s . d o n t _ p r o t e c t & & ( b = I m g u r . U t i l . l i n k i f y ( b , ! 0 , ! 0 , ! 0 ) ) , t h i s . i n s e r t T e x t ( b ) } , i n s e r t T e x t : f u n c t i o n ( a ) { v a r   b , c ; i f ( w i n d o w . g e t S e l e c t i o n & & ( b = w i n d o w . g e t S e l e c t i o n ( ) , b . g e t R a n g e A t & & b . r a n g e C o u n t ) ) { c = b . g e t R a n g e A t ( 0 ) , c . d e l e t e C o n t e n t s ( ) ; v a r   d = d o c u m e n t . c r e a t e E l e m e n t ( " d i v " ) ; d . i n n e r H T M L = a ; f o r ( v a r   e , f , g = d o c u m e n t . c r e a t e D o c u m e n t F r a g m e n t ( ) ; e = d . f i r s t C h i l d ; ) f = g . a p p e n d C h i l d ( e ) ; c . i n s e r t N o d e ( g ) , f & & ( c = c . c l o n e R a n g e ( ) , c . s e t S t a r t A f t e r ( f ) , c . c o l l a p s e ( ! 0 ) , b . r e m o v e A l l R a n g e s ( ) , b . a d d R a n g e ( c ) ) , t h i s . _ s a v e ( ! 1 , t h i s . T Y P I N G _ S P E E D ) } } , h a n d l e K e y D o w n : f u n c t i o n ( a ) { v a r   b = a . w h i c h | | a . k e y C o d e ; t h i s . p r o p s . n o _ e n t e r & & 1 3 = = b & & ( t h i s . r e f s . t e x t . b l u r ( ) , w i n d o w . g e t S e l e c t i o n ( ) . r e m o v e A l l R a n g e s ( ) ) , t h i s . p r o p s . h a n d l e K e y D o w n & & t h i s . p r o p s . h a n d l e K e y D o w n ( a ) } , _ s a v e : f u n c t i o n ( a , b , c ) { v a r   d = a r g u m e n t s . l e n g t h > 3 & & v o i d   0 ! = = a r g u m e n t s [ 3 ] ? a r g u m e n t s [ 3 ] : 0 ; i f ( t h i s . p r o p s . d e l e t e h a s h & & ( ! c | | 9 ! = c . k e y C o d e ) ) { v a r   e = t h i s . r e f s . t e x t , f = e . t e x t C o n t e n t . l e n g t h , g = { i s _ a l b u m : t h i s . p r o p s . i s _ a l b u m } ; c l e a r T i m e o u t ( t h i s . t y p i n g T i m e r ) , f > t h i s . p r o p s . m a x _ l e n g t h & & ( e . t e x t C o n t e n t = e . t e x t C o n t e n t . s u b s t r i n g ( 0 , t h i s . p r o p s . m a x _ l e n g t h ) , t h i s . p l a c e C a r e t A t E n d ( e ) ) ; v a r   h = d o c u m e n t . c r e a t e E l e m e n t ( " d i v " ) ; h . i n n e r H T M L = e . i n n e r H T M L . r e p l a c e ( / ( < d i v > | < p > ) ( . + ? ) ( < b r \ s * [ \ / ] ? > ) ? ( < \ / p > | < \ / d i v > ) / g i , " \ n $ 2 " ) . r e p l a c e ( / < b r \ s * [ \ / ] ? > / g i , " \ n " ) ; v a r   i = h . t e x t C o n t e n t . t r i m ( ) ; i f ( a & & t h i s . p r o p s . l i n k i f y & & ! t h i s . p r o p s . d o n t _ p r o t e c t & & ( e . i n n e r H T M L = I m g u r . U t i l . l i n k i f y ( I m g u r . U t i l . h t m l E n t i t y ( i ) , ! 0 , ! 0 , ! 0 , " p o s t D e s c r i p t i o n " ) ) , i = = t h i s . s t a t e . s a v e d T e x t ) r e t u r n   v o i d   t h i s . p r o p s . p o s t S a v i n g S t o r e . r e m o v e ( t h i s . p r o p s . d e l e t e h a s h , t h i s . p r o p s . t y p e ) ; t h i s . p r o p s . p o s t S a v i n g S t o r e . a d d ( t h i s . p r o p s . d e l e t e h a s h , t h i s . p r o p s . t y p e ) , " f u n c t i o n " = = t y p e o f   t h i s . p r o p s . u p d a t e C o n t a i n e r & & t h i s . p r o p s . u p d a t e C o n t a i n e r ( t h i s . p r o p s . t y p e , i ) , g [ t h i s . p r o p s . t y p e ] = i , t h i s . t y p i n g T i m e r = s e t T i m e o u t ( _ . b i n d ( f u n c t i o n ( ) { t h i s . s a v e d R e q u e s t & & t h i s . s a v e d R e q u e s t . a b o r t ( ) , t h i s . s a v e d R e q u e s t = $ . a j a x ( { u r l : " / a j a x / t i t l e d e s c / " + t h i s . p r o p s . d e l e t e h a s h , m e t h o d : " P O S T " , d a t a : g , s u c c e s s : f u n c t i o n ( ) { t h i s . p r o p s . p o s t S a v i n g S t o r e . r e m o v e ( t h i s . p r o p s . d e l e t e h a s h , t h i s . p r o p s . t y p e ) , t h i s . s a v e d R e q u e s t = n u l l , t h i s . s e t S t a t e ( { s a v e d T e x t : i } ) } . b i n d ( t h i s ) , e r r o r : f u n c t i o n ( a , c ) { r e t u r n   a . r e s p o n s e J S O N & & a . r e s p o n s e J S O N . d a t a . e r r o r ? ( t h i s . s a v e d R e q u e s t = n u l l , c l e a r T i m e o u t ( t h i s . t y p i n g T i m e r ) , h u m a n M s g . d i s p l a y M s g ( a . r e s p o n s e J S O N . d a t a . e r r o r , " e r r o r - m s g " ) ) : v o i d ( " a b o r t " ! = c & & ( 3 = = d & & h u m a n M s g . d i s p l a y M s g ( " S a v i n g   i s   t a k i n g   l o n g e r   t h a n   e x p e c t e d .   W e ' r e   s t i l l   t r y i n g ! " , " e r r o r - m s g " ) , t h i s . _ s a v e ( ! 1 , M a t h . p o w ( 2 , d ) * b , n u l l , d + 1 ) ) ) } . b i n d ( t h i s ) } ) } , t h i s ) , b ) } } , s h o u l d C o m p o n e n t U p d a t e : f u n c t i o n ( a , b ) { r e t u r n   t h i s . p r o p s . t e x t ! = a . t e x t & & ! t h i s . p r o p s . s h o w E d i t T o o l s } , c o m p o n e n t D i d U p d a t e : f u n c t i o n ( a ) { i f ( t h i s . r e f s . t e x t ) { v a r   b = t h i s . p r o p s . d e l e t e h a s h ? t h i s . r e f s . t e x t . t e x t C o n t e n t . l e n g t h : 0 ; a . t r i g g e r S a v e ! = t h i s . p r o p s . t r i g g e r S a v e & & 0 ! = = b & & t h i s . _ s a v e ( ! 1 , t h i s . T Y P I N G _ S P E E D ) } } , r e n d e r : f u n c t i o n ( ) { v a r   a = t h i s . p r o p s . t e x t ; i f ( a & & ! t h i s . p r o p s . d o n t _ p r o t e c t & & ( a = I m g u r . U t i l . h t m l E n t i t y ( a ) , t h i s . p r o p s . l i n k i f y & & ( a = I m g u r . U t i l . l i n k i f y ( a , ! 0 , ! 0 , ! 0 , " p o s t D e s c r i p t i o n " ) ) ) , t h i s . p r o p s . s h o w E d i t T o o l s & & ! t h i s . p r o p s . p u b l i s h e d ) { v a r   b = { c l a s s N a m e : t h i s . p r o p s . c l a s s e s + "   p o s t - c o n t e n t e d i t a b l e " , c o n t e n t E d i t a b l e : ! 0 , t a b I n d e x : t h i s . p r o p s . t a b i n d e x , p l a c e h o l d e r : t h i s . p r o p s . p l a c e h o l d e r , r e f : " t e x t " , o n I n p u t : _ . p a r t i a l ( t h i s . _ s a v e , ! 1 , t h i s . T Y P I N G _ S P E E D ) , o n B l u r : _ . p a r t i a l ( t h i s . _ s a v e , ! 0 , 0 ) , o n P a s t e : t h i s . h a n d l e P a s t e , d a n g e r o u s l y S e t I n n e r H T M L : { _ _ h t m l : a } , o n K e y D o w n : t h i s . h a n d l e K e y D o w n , o n K e y U p : t h i s . p r o p s . o n K e y U p } ; r e t u r n   R e a c t . c r e a t e E l e m e n t ( t h i s . p r o p s . e l e m e n t , b ) } r e t u r n ! ! a & & R e a c t . c r e a t e E l e m e n t ( t h i s . p r o p s . e l e m e n t , { c l a s s N a m e : t h i s . p r o p s . c l a s s e s , d a n g e r o u s l y S e t I n n e r H T M L : { _ _ h t m l : a } } ) } } ) , N a m e s p a c e ( " I m g u r . G a l l e r y . T a g S u g g e s t " ) , I m g u r . G a l l e r y . T a g S u g g e s t = R e a c t . c r e a t e C l a s s ( { d i s p l a y N a m e : " T a g S u g g e s t " , M A X _ H E I G H T : 2 2 3 , R O W _ H E I G H T : 4 0 , g e t D e f a u l t P r o p s : f u n c t i o n ( ) { r e t u r n { o n H i g h l i g h t e d K e y D o w n : f u n c t i o n ( ) { } , c l a s s N a m e s : " " , q u e r y : " " } } , g e t I n i t i a l S t a t e : f u n c t i o n ( ) { r e t u r n { h i g h l i g h t e d T a g : n u l l , m o u s e O v e r T a g : ! 1 } } , c o m p o n e n t D i d M o u n t : f u n c t i o n ( ) { d o c u m e n t . a d d E v e n t L i s t e n e r ( " k e y d o w n " , t h i s . h a n d l e K e y D o w n ) , t h i s . u p d a t e P o s i t i o n ( ) } , c o m p o n e n t W i l l U n m o u n t : f u n c t i o n ( ) { d o c u m e n t . r e m o v e E v e n t L i s t e n e r ( " k e y d o w n " , t h i s . h a n d l e K e y D o w n ) } , c o m p o n e n t W i l l R e c e i v e P r o p s : f u n c t i o n ( a ) { J S O N . s t r i n g i f y ( t h i s . p r o p s . s u g g e s t e d T a g s ) ! = = J S O N . s t r i n g i f y ( a . s u g g e s t e d T a g s ) & & t h i s . s e t S t a t e ( { h i g h l i g h t e d T a g : n u l l } ) } , c o m p o n e n t D i d U p d a t e : f u n c t i o n ( a ) { t h i s . p r o p s . l e f t ! = = a . l e f t & & t h i s . u p d a t e P o s i t i o n ( ) } , h i g h l i g h t e d T a g I n d e x : f u n c t i o n ( ) { r e t u r n   t h i s . p r o p s . s u g g e s t e d T a g s . m a p ( f u n c t i o n ( a ) { r e t u r n   a . t a g } ) . i n d e x O f ( t h i s . s t a t e . h i g h l i g h t e d T a g ) } , h a n d l e K e y D o w n : f u n c t i o n ( a ) { i f ( [ 3 8 , 4 0 , 1 3 ] . i n d e x O f ( a . w h i c h ) = = - 1 ) r e t u r n   v o i d ( t h i s . s t a t e . m o u s e O v e r T a g | | t h i s . s e t S t a t e ( { h i g h l i g h t e d T a g : n u l l } ) ) ; a . p r e v e n t D e f a u l t ( ) ; v a r   b = t h i s . h i g h l i g h t e d T a g I n d e x ( ) , c = v o i d   0 ; 3 8 = = a . w h i c h & & ( c = t h i s . p r o p s . s u g g e s t e d T a g s [ M a t h . m a x ( b - 1 , 0 ) ] . t a g , t h i s . s e t S t a t e ( { h i g h l i g h t e d T a g : c } ) , t h i s . p r o p s . o n H i g h l i g h t e d K e y D o w n ( c ) ) , 4 0 = = a . w h i c h & & ( c = t h i s . p r o p s . s u g g e s t e d T a g s [ M a t h . m i n ( b + 1 , t h i s . p r o p s . s u g g e s t e d T a g s . l e n g t h - 1 ) ] . t a g , t h i s . s e t S t a t e ( { h i g h l i g h t e d T a g : c } ) , t h i s . p r o p s . o n H i g h l i g h t e d K e y D o w n ( c ) ) , 1 3 = = a . w h i c h & & t h i s . s t a t e . h i g h l i g h t e d T a g & & t h i s . p r o p s . o n S e l e c t ( t h i s . s t a t e . h i g h l i g h t e d T a g ) } , u p d a t e P o s i t i o n : f u n c t i o n ( ) { t h i s . r e f s . s u g g e s t . s t y l e . t o p = t h i s . p r o p s . t o p + 3 0 + " p x " , t h i s . r e f s . s u g g e s t . s t y l e . l e f t = t h i s . p r o p s . l e f t - 1 5 + " p x " } , m o u s e E n t e r : f u n c t i o n ( a ) { t h i s . s e t S t a t e ( { h i g h l i g h t e d T a g : a , m o u s e O v e r T a g : ! 0 } ) } , m o u s e L e a v e : f u n c t i o n ( ) { t h i s . s e t S t a t e ( { h i g h l i g h t e d T a g : n u l l , m o u s e O v e r T a g : ! 0 } ) } , m o u s e D o w n : f u n c t i o n ( a , b ) { b . p r e v e n t D e f a u l t ( ) , t h i s . p r o p s . o n S e l e c t ( a ) } , r e n d e r T a g R o w : f u n c t i o n ( a ) { r e t u r n   R e a c t . c r e a t e E l e m e n t ( " t r " , { c l a s s N a m e : " t a g   p o i n t e r " + ( t h i s . s t a t e . h i g h l i g h t e d T a g = = a . t a g ? "   t a g - s u g g e s t - h i g h l i g h t e d " : " " ) , o n M o u s e D o w n : t h i s . m o u s e D o w n . b i n d ( t h i s , a . t a g ) , o n M o u s e E n t e r : t h i s . m o u s e E n t e r . b i n d ( t h i s , a . t a g ) , o n M o u s e L e a v e : t h i s . m o u s e L e a v e , k e y : a . t a g } , R e a c t . c r e a t e E l e m e n t ( " t d " , { c l a s s N a m e : " t a g - s u g g e s t - l e f t " } , a . t a g ) , R e a c t . c r e a t e E l e m e n t ( " t d " , { c l a s s N a m e : " t a g - s u g g e s t - r i g h t " } , a . i m a g e s , "  " , I m g u r . U t i l . p l u r a l i z e ( a . i m a g e s , " p o s t " ) ) ) } , r e n d e r : f u n c t i o n ( ) { v a r   a = t h i s , b = v o i d   0 ; i f ( t h i s . p r o p s . e r r o r ) b = R e a c t . c r e a t e E l e m e n t ( " p " , { c l a s s N a m e : " t a g - s u g g e s t - e r r o r " } , t h i s . p r o p s . e r r o r ) ; e l s e { v a r   c = t h i s . p r o p s . s u g g e s t e d T a g s ? t h i s . p r o p s . s u g g e s t e d T a g s . l e n g t h : 0 , d = M a t h . m i n ( c * t h i s . R O W _ H E I G H T , t h i s . M A X _ H E I G H T ) , e = v o i d   0 ; i f ( 0 = = = c & & t h i s . p r o p s . q u e r y . l e n g t h > 0 ) e = R e a c t . c r e a t e E l e m e n t ( " p " , { k e y : " n o r e s u l t s " , c l a s s N a m e : " t a g - s u g g e s t - n o r e s u l t s " 
 } , " S o r r y   n o   r e s u l t s " ) ; e l s e { i f ( ! ( c > 0 ) ) r e t u r n   R e a c t . c r e a t e E l e m e n t ( " s p a n " , { r e f : " s u g g e s t " } ) ; e = R e a c t . c r e a t e E l e m e n t ( I m g u r . N a n o s c r o l l , { k e y : " n a n o s c r o l l e r " , o p t i o n s : { p r e v e n t P a g e S c r o l l i n g : ! 0 } , c o n t e n t C l a s s N a m e s : " s c r o l l - c o n t e n t " , c o n t e n t S t y l e : { h e i g h t : d } , n a n o S t y l e : { h e i g h t : d } } , R e a c t . c r e a t e E l e m e n t ( " t a b l e " , n u l l , R e a c t . c r e a t e E l e m e n t ( " t b o d y " , n u l l , t h i s . p r o p s . s u g g e s t e d T a g s . m a p ( f u n c t i o n ( b ) { r e t u r n   a . r e n d e r T a g R o w ( b ) } ) ) ) ) } b = I m g u r . E n v i r o n m e n t . a u t h . i s L o g g e d I n & & 0 = = = t h i s . p r o p s . q u e r y . l e n g t h ? [ R e a c t . c r e a t e E l e m e n t ( " d i v " , { k e y : " h e a d e r " , c l a s s N a m e : " t a g - s u g g e s t - h e a d e r " } , " R E C E N T   T A G S " ) , e ] : [ R e a c t . c r e a t e E l e m e n t ( " d i v " , { k e y : " h e a d e r " , c l a s s N a m e : " t a g - s u g g e s t - h e a d e r " } , " P O P U L A R   O N   I M G U R " ) , e ] } r e t u r n   R e a c t . c r e a t e E l e m e n t ( " d i v " , { r e f : " s u g g e s t " , c l a s s N a m e : " t a g - s u g g e s t   " + t h i s . p r o p s . c l a s s N a m e s } , b ) } } ) ; v a r   _ e x t e n d s = O b j e c t . a s s i g n | | f u n c t i o n ( a ) { f o r ( v a r   b = 1 ; b < a r g u m e n t s . l e n g t h ; b + + ) { v a r   c = a r g u m e n t s [ b ] ; f o r ( v a r   d   i n   c ) O b j e c t . p r o t o t y p e . h a s O w n P r o p e r t y . c a l l ( c , d ) & & ( a [ d ] = c [ d ] ) } r e t u r n   a } ; N a m e s p a c e ( " I m g u r . G a l l e r y . D e s c r i p t i o n T a g S u g g e s t C o n t a i n e r " ) , I m g u r . G a l l e r y . D e s c r i p t i o n T a g S u g g e s t C o n t a i n e r = R e a c t . c r e a t e C l a s s ( { d i s p l a y N a m e : " D e s c r i p t i o n T a g S u g g e s t C o n t a i n e r " , T R A N S I T I O N _ T I M E O U T : 1 5 0 , T A G _ S U G G E S T _ C A R R E T _ D I S T A N C E _ F R O M _ L E F T : 3 0 , g e t I n i t i a l S t a t e : f u n c t i o n ( ) { r e t u r n { s h o w i n g S u g g e s t i o n s : ! 1 , s u g g e s t K e y w o r d : n u l l , s u g g e s t e d T a g s : [ ] , q u e r y : " " } } , c o m p o n e n t D i d M o u n t : f u n c t i o n ( ) { t h i s . t e x t N o d e = R e a c t D O M . f i n d D O M N o d e ( t h i s . r e f s . t e x t ) } , t a g S e l e c t e d : f u n c t i o n ( a ) { v a r   b = w i n d o w . g e t S e l e c t i o n ( ) . g e t R a n g e A t ( 0 ) , c = b . s t a r t C o n t a i n e r . t e x t C o n t e n t . s u b s t r i n g ( 0 , t h i s . g e t C a r e t P o s i t i o n ( ) ) . s p l i t ( " # " ) . p o p ( ) . l e n g t h , d = b . c l o n e R a n g e ( ) ; d . s e t S t a r t ( b . s t a r t C o n t a i n e r , b . s t a r t O f f s e t - c ) , d . s e t E n d ( b . s t a r t C o n t a i n e r , b . s t a r t O f f s e t ) , d . d e l e t e C o n t e n t s ( ) , t h i s . r e f s . t e x t . i n s e r t T e x t ( a + "   " ) , t h i s . s e t S t a t e ( { s h o w i n g S u g g e s t i o n s : ! 1 } ) } , h a n d l e K e y U p : f u n c t i o n ( a ) { i f ( t h i s . x h r & & t h i s . x h r . a b o r t ( ) , 2 7 = = a . w h i c h ) r e t u r n   v o i d   t h i s . s e t S t a t e ( { s h o w i n g S u g g e s t i o n s : ! 1 } ) ; v a r   b = t h i s . g e t C a r e t P o s i t i o n ( ) , c = w i n d o w . g e t S e l e c t i o n ( ) . g e t R a n g e A t ( 0 ) . s t a r t C o n t a i n e r . t e x t C o n t e n t . s u b s t r i n g ( 0 , b ) . r e p l a c e ( / \ n / g , "   " ) . s p l i t ( "   " ) . p o p ( ) ; i f ( " # " = = c . s u b s t r i n g ( 0 , 1 ) ) { v a r   d = c . s p l i t ( " # " ) . p o p ( ) . s u b s t r ( 1 ) ; t h i s . f e t c h S u g g e s t i o n s ( { u p d a t e C o o r d s : ! t h i s . s t a t e . s h o w i n g S u g g e s t i o n s , k e y w o r d : d } ) , t h i s . s e t S t a t e ( { q u e r y : d } ) } e l s e   t h i s . s e t S t a t e ( { s h o w i n g S u g g e s t i o n s : ! 1 , q u e r y : " " } ) } , f e t c h S u g g e s t i o n s : f u n c t i o n ( ) { v a r   a = t h i s , b = a r g u m e n t s . l e n g t h > 0 & & v o i d   0 ! = = a r g u m e n t s [ 0 ] ? a r g u m e n t s [ 0 ] : { } , c = t h i s . g e t C a r e t P o s i t i o n ( ) , d = w i n d o w . g e t S e l e c t i o n ( ) . g e t R a n g e A t ( 0 ) . s t a r t C o n t a i n e r . t e x t C o n t e n t . s u b s t r i n g ( 0 , c ) . r e p l a c e ( / \ n / g , "   " ) . s p l i t ( "   " ) . p o p ( ) . s u b s t r ( 1 ) , e = b . u p d a t e C o o r d s ? t h i s . g e t S e l e c t i o n C o o r d s ( ) : { y : t h i s . s t a t e . c u r s o r T o p , x : t h i s . s t a t e . c u r s o r L e f t } ; t h i s . p r o p s . t a g S t o r e . g e t S u g g e s t i o n s ( d , f u n c t i o n ( b ) { a . s e t S t a t e ( { s u g g e s t e d T a g s : a . f o r m a t T a g S u g g e s t i o n R e s p o n s e ( b ) , s h o w i n g S u g g e s t i o n s : ! 0 , c u r s o r T o p : e . y , c u r s o r L e f t : e . x } ) } ) } , f o r m a t T a g S u g g e s t i o n R e s p o n s e : f u n c t i o n ( a ) { r e t u r n   a ? a . m a p ( f u n c t i o n ( a ) { r e t u r n   a . t a g = a . t a g . r e p l a c e ( "   " , " _ " ) , a } ) : a } , g e t C a r e t P o s i t i o n : f u n c t i o n ( ) { v a r   a , b , c = t h i s . t e x t N o d e , d = 0 ; r e t u r n   w i n d o w . g e t S e l e c t i o n & & ( a = w i n d o w . g e t S e l e c t i o n ( ) , a . r a n g e C o u n t & & ( b = a . g e t R a n g e A t ( 0 ) , b . c o m m o n A n c e s t o r C o n t a i n e r . p a r e n t N o d e = = c & & ( d = b . e n d O f f s e t ) ) ) , d } , g e t S e l e c t i o n C o o r d s : f u n c t i o n ( a ) { a = a | | w i n d o w ; v a r   b , c , d , e = a . d o c u m e n t , f = e . s e l e c t i o n , g = 0 , h = 0 ; r e t u r n   f ? " C o n t r o l " ! = f . t y p e & & ( b = f . c r e a t e R a n g e ( ) , b . c o l l a p s e ( ! 0 ) , g = b . b o u n d i n g L e f t , h = b . b o u n d i n g T o p ) : a . g e t S e l e c t i o n & & ( f = a . g e t S e l e c t i o n ( ) , f . r a n g e C o u n t & & ( b = f . g e t R a n g e A t ( 0 ) . c l o n e R a n g e ( ) , b . g e t C l i e n t R e c t s & & ( b . c o l l a p s e ( ! 0 ) , c = b . g e t C l i e n t R e c t s ( ) , c . l e n g t h > 0 & & ( d = c [ 0 ] ) , g = d . l e f t , h = d . t o p ) ) ) , { x : g , y : h } } , h i d e S u g g e s t i o n s : f u n c t i o n ( ) { t h i s . s e t S t a t e ( { s h o w i n g S u g g e s t i o n s : ! 1 } ) } , r e n d e r : f u n c t i o n ( ) { r e t u r n   R e a c t . c r e a t e E l e m e n t ( " d i v " , n u l l , R e a c t . c r e a t e E l e m e n t ( I m g u r . G a l l e r y . T i t l e D e s c , _ e x t e n d s ( { r e f : " t e x t " , o n K e y U p : t h i s . h a n d l e K e y U p } , t h i s . p r o p s ) ) , R e a c t . c r e a t e E l e m e n t ( R e a c t . a d d o n s . C S S T r a n s i t i o n G r o u p , { t r a n s i t i o n N a m e : " s u g g e s t " , t r a n s i t i o n E n t e r T i m e o u t : t h i s . T R A N S I T I O N _ T I M E O U T , t r a n s i t i o n L e a v e T i m e o u t : t h i s . T R A N S I T I O N _ T I M E O U T } , t h i s . s t a t e . s h o w i n g S u g g e s t i o n s & & t h i s . s t a t e . s u g g e s t e d T a g s . l e n g t h > 0 ? R e a c t . c r e a t e E l e m e n t ( I m g u r . G a l l e r y . T a g S u g g e s t , { r e f : " s u g g e s t " , o n S e l e c t : t h i s . t a g S e l e c t e d , l e f t : t h i s . s t a t e . c u r s o r L e f t - t h i s . T A G _ S U G G E S T _ C A R R E T _ D I S T A N C E _ F R O M _ L E F T , t o p : t h i s . s t a t e . c u r s o r T o p + $ ( d o c u m e n t ) . s c r o l l T o p ( ) , s h o w i n g S u g g e s t i o n s : t h i s . s t a t e . s h o w i n g S u g g e s t i o n s , u n m o u n t : t h i s . h i d e S u g g e s t i o n s , s u g g e s t e d T a g s : t h i s . s t a t e . s u g g e s t e d T a g s , q u e r y : t h i s . s t a t e . q u e r y } ) : n u l l ) ) } } ) , N a m e s p a c e ( " I m g u r . G a l l e r y . S t o r e . S a v i n g " ) , I m g u r . G a l l e r y . S t o r e . S a v i n g = C l a s s . e x t e n d ( { i n i t : f u n c t i o n ( a ) { t h i s . _ = { p o s t s : { } , s a v i n g : 0 , e m i t t e r : a } } , a d d : f u n c t i o n ( a , b ) { t h i s . _ . p o s t s [ a + b ] | | ( 0 = = t h i s . _ . s a v i n g & & ( w i n d o w . o n b e f o r e u n l o a d = f u n c t i o n ( ) { r e t u r n " Y o u r   u p d a t e s   a r e   s t i l l   s a v i n g .   A r e   y o u   s u r e   y o u   w a n t   t o   l e a v e ? " } ) , t h i s . _ . p o s t s [ a + b ] = ! 0 , t h i s . _ . s a v i n g + + , t h i s . _ . e m i t t e r . t r i g g e r ( " s a v i n g " ) ) } , r e m o v e : f u n c t i o n ( a , b ) { t h i s . _ . p o s t s [ a + b ] & & ( t h i s . _ . p o s t s [ a + b ] = ! 1 , t h i s . _ . s a v i n g - - , 0 = = t h i s . _ . s a v i n g & & ( w i n d o w . o n b e f o r e u n l o a d = n u l l , t h i s . _ . e m i t t e r . t r i g g e r ( " s a v e d " ) ) ) } } ) , N a m e s p a c e ( " I m g u r . G a l l e r y . S t o r e " ) , I m g u r . G a l l e r y . S t o r e . T a g = C l a s s . e x t e n d ( { i n i t : f u n c t i o n ( a , b , c ) { t h i s . _ = { q u e r i e s : { } , p e n d i n g R e q u e s t U r l : n u l l , t a g s : [ ] , m a x T a g s : a , t a g V a l i d a t o r : b , e m i t t e r : c } } , g e t T a g V a l i d a t o r : f u n c t i o n ( ) { r e t u r n   t h i s . _ . t a g V a l i d a t o r } , g e t T a g s : f u n c t i o n ( ) { r e t u r n   t h i s . _ . t a g s } , a d d T a g : f u n c t i o n ( a , b , c ) { i f ( t h i s . _ . m a x T a g s & & t h i s . _ . t a g s . l e n g t h > = t h i s . _ . m a x T a g s ) r e t u r n   c ( ! 1 , t h i s . _ . m a x T a g s + "   l i m i t   r e a c h e d " ) ; v a r   d = a . t o L o w e r C a s e ( ) . r e p l a c e ( " _ " , "   " ) , e = t h i s . i s T a g E x i s t s ( d ) ; i f ( ! t h i s . _ . t a g V a l i d a t o r . i s V a l i d T a g ( " s u b m i t " , a , e ) ) r e t u r n   c ( ! 1 , t h i s . _ . t a g V a l i d a t o r . w h y N o t ( " s u b m i t " , a , e ) ) ; v a r   f = { t a g N a m e : a , t a g N a m e N o r m a l i z e d : d , a d d e d V i a : b } ; r e t u r n   t h i s . _ . t a g s . p u s h ( f ) , t h i s . _ . e m i t t e r . t r i g g e r ( " t a g A d d e d " , f ) , c ( ! 0 , n u l l ) } , r e m o v e T a g : f u n c t i o n ( a ) { f o r ( v a r   b = [ ] , c = v o i d   0 , d = 0 ; d < t h i s . _ . t a g s . l e n g t h ; d + + ) t h i s . _ . t a g s [ d ] . t a g N a m e ! = = a ? b . p u s h ( t h i s . _ . t a g s [ d ] ) : c = t h i s . _ . t a g s [ d ] ; c & & ( t h i s . _ . t a g s = b , t h i s . _ . e m i t t e r . t r i g g e r ( " t a g R e m o v e d " , c ) ) } , f l u s h T a g s : f u n c t i o n ( ) { f o r ( v a r   a = 0 ; a < t h i s . _ . t a g s . l e n g t h ; a + + ) t h i s . r e m o v e T a g ( t h i s . _ . t a g s [ a ] . t a g N a m e ) } , g e t S u g g e s t i o n s : f u n c t i o n ( a , b ) { v a r   c = t h i s . _ . q u e r i e s [ a ] ? t h i s . _ . q u e r i e s [ a ] : n u l l ; r e t u r n   c ? b ( c ) : t h i s . f e t c h S u g g e s t i o n s ( a , b ) } , s e t S u g g e s t i o n s : f u n c t i o n ( a , b ) { t h i s . _ . q u e r i e s [ a ] = b } , f e t c h S u g g e s t i o n s : f u n c t i o n ( a , b ) { v a r   c = " / / " + I m g u r . E n v i r o n m e n t . h o s t + " / a j a x / s u g g e s t _ t a g s " ; t h i s . x h r & & t h i s . x h r . a b o r t ( ) , t h i s . x h r = $ . a j a x ( { m e t h o d : " G E T " , u r l : c , d a t a : { q : a , s i z e : 1 0 } , s u c c e s s : f u n c t i o n ( c ) { f o r ( v a r   d = [ ] , e = a . t o L o w e r C a s e ( ) , f = ! 0 , g = 0 ; g < c . d a t a . l e n g t h ; g + + ) d . p u s h ( { t a g : c . d a t a [ g ] . t a g , i m a g e s : c . d a t a [ g ] . i m a g e s } ) , c . d a t a [ g ] . t a g = = = e & & ( f = ! 1 ) ; f & & t h i s . _ . t a g V a l i d a t o r . i s V a l i d T a g ( " s u b m i t " , a , ! 1 ) & & d . p u s h ( { t a g : a , i m a g e s : 0 } ) , t h i s . s e t S u g g e s t i o n s ( a , d ) , t h i s . g e t S u g g e s t i o n s ( a , b ) } . b i n d ( t h i s ) } ) } , i s T a g E x i s t s : f u n c t i o n ( a ) { r e t u r n   t h i s . _ . t a g s . s o m e ( f u n c t i o n ( b ) { r e t u r n   b . t a g N a m e N o r m a l i z e d = = = a } ) } } ) , N a m e s p a c e ( " I m g u r . F a c t o r y " ) , I m g u r . F a c t o r y . G a l l e r y = C l a s s . e x t e n d ( { _ g e t D e f a u l t P r e d i c a t e s : f u n c t i o n ( a ) { v a r   b = f u n c t i o n ( b ) { r e t u r n   b   i n s t a n c e o f   a } , c = f u n c t i o n ( a ) { r e t u r n   f u n c t i o n ( a ) { r e t u r n   a   i n s t a n c e o f   I m g u r . T a g . S u g g e s t e d T a g } } ; r e t u r n { b a s e : b , p r o v i d e r B y L e v D i s t a n c e : c } } , _ g e t A j a x G e t W i t h L o a d e r : f u n c t i o n ( a ) { r e t u r n   f u n c t i o n ( b , c , d , e ) { r e t u r n   a . s h o w ( ) , e = e | | _ . n o o p , d = d | | _ . n o o p , $ . g e t ( b , c , d ) . f a i l ( e ) . a l w a y s ( _ . b i n d ( a . h i d e , a ) ) } } , _ s t a n d a r d D a t a R e s p o n s e P o s t : f u n c t i o n ( a ) { r e t u r n   f u n c t i o n ( b , c , d , e ) { e = e | | _ . n o o p , d = d | | _ . n o o p ; v a r   f = f u n c t i o n ( a , b , c ) { a & & a . s u c c e s s | | ! a & & " s u c c e s s " = = = b ? d ( a , b , c ) : e ( a & & a . d a t a & & a . d a t a . e r r o r & & a . d a t a . e r r o r . m e s s a g e | | a & & a . d a t a & & a . d a t a . e r r o r | | b , c , b ) } , g = f u n c t i o n ( a , b , c ) { v a r   d = c ; t r y { v a r   f = a . r e s p o n s e J S O N | | $ . p a r s e J S O N ( a . r e s p o n s e T e x t ) ; r e t u r n   v o i d   e ( f . d a t a . e r r o r . m e s s a g e , a , b ) } c a t c h ( g ) { } e ( d , a , b ) } ; r e t u r n   a ( b , c , f , g ) } } , _ g e t S t a n d a r d P o s t A u t h o r i z e d : f u n c t i o n ( ) { r e t u r n   t h i s . _ s t a n d a r d D a t a R e s p o n s e P o s t ( t h i s . _ . p o s t P r o v i d e r ( ) ) } , _ g e t S t a n d a r d P o s t A u t h o r i z e d W i t h L o a d e r : f u n c t i o n ( a ) { v a r   b = t h i s . _ s t a n d a r d D a t a R e s p o n s e P o s t ( t h i s . _ . p o s t P r o v i d e r ( ) ) ; r e t u r n   f u n c t i o n ( c , d , e , f ) { r e t u r n   a . s h o w ( ) , b ( c , d , e ) . a l w a y s ( _ . b i n d ( a . h i d e , a ) ) } } , _ g e t P o s t A u t h o r i z e d W i t h L o a d e r : f u n c t i o n ( a ) { v a r   b = t h i s . _ . p o s t P r o v i d e r ( ) ; r e t u r n   f u n c t i o n ( c , d , e , f ) { r e t u r n   a . s h o w ( ) , b ( c , d , e ) . a l w a y s ( _ . b i n d ( a . h i d e , a ) ) } } , _ p r o d u c e E m p t y M e s s a g e P r o v i d e r F o r Q u e r y : f u n c t i o n ( a ) { r e t u r n   f u n c t i o n ( ) { r e t u r n   _ . t e m p l a t e s [ " t a g s . e m p t y - m e s s a g e - m a k e o n e " ] ( { q u e r y : a } ) } } , _ p r o d u c e U s e r G r o u p P r o v i d e r : f u n c t i o n ( a , b , c , d , e , f ) { v a r   g = n e w   I m g u r . T a g . C o m p a r a t o r , h = ( _ . b i n d ( g . c o m p a r e , g ) , _ . b i n d ( t h i s . _ p r o d u c e U s e r G r o u p C o n t r o l l e r , t h i s , a , b , c , d , e , f ) ) , i = _ . b i n d ( t h i s . _ p r o d u c e U s e r G r o u p F r o m D a t a , t h i s , g ) , j = _ . b i n d ( t h i s . _ p r o d u c e U s e r G r o u p F r o m D o m , t h i s , h , g , a ) , k = _ . c o m p o s e ( j , i ) ; r e t u r n   k } , _ p r o d u c e U s e r G r o u p C o n t r o l l e r : f u n c t i o n ( a , b , c , d , e , f , g , h ) { r e t u r n   n e w   I m g u r . T a g . C o n t r o l l e r . U s e r G r o u p ( a , b , c , g , h , d , e , f ) } , _ p r o d u c e U s e r G r o u p F r o m D a t a : f u n c t i o n ( a , b , c , d ) { r e t u r n   $ ( _ . t e m p l a t e s [ " t a g s . u s e r - g r o u p " ] ( { g r o u p : { n a m e : b , h a s h : c } } ) ) } , _ p r o d u c e U s e r G r o u p F r o m D o m : f u n c t i o n ( a , b , c , d , e ) { v a r   f = n e w   I m g u r . E l e m e n t . S o r t e d L i s t E m p t y a b l e ( $ ( ) , b , e | | [ ] ) , g = n e w   I m g u r . T a g . U s e r G r o u p ( d , f ) , h = a ( g , f ) ; r e t u r n   g . g e t $ R e m o v e B u t t o n ( ) . o n ( " c l i c k " , _ . b i n d ( h . h a n d l e R e m o v e E v e n t , h ) ) , c . o n ( " g r o u p . r e m o v e " , h , h . h a n d l e R e m o v e E v e n t O t h e r ) , { g r o u p : g , a d a p t e r : h } } } ) , N a m e s p a c e ( " I m g u r . F a c t o r y " ) , I m g u r . F a c t o r y . I n s i d e G a l l e r y = I m g u r . F a c t o r y . G a l l e r y . e x t e n d ( { i n i t : f u n c t i o n ( a , b , c , d ) { t h i s . _ = { p a r e n t _ f a c t o r y : a , e n v : b , g a l l e r y _ e n v : b , g r o u p s : c , p o s t P r o v i d e r : d , s t o r e s : { } , h e a d e r : n u l l } } , p r o d u c e I n s i d e G a l l e r y : f u n c t i o n ( a ) { v a r   b , c = I m g u r . E n v i r o n m e n t . h a s A c c e s s & & ! I m g u r . E n v i r o n m e n t . c a p t i o n s E n a b l e d , d = n e w   I m g u r . T a g . T a g V a l i d a t o r ( I m g u r . C o n s t a n t s . M I N _ T A G _ L E N G T H , I m g u r . C o n s t a n t s . M A X _ T A G _ L E N G T H ) , e = n e w   I m g u r . G a l l e r y . S t o r e . T a g ( I m g u r . C o n s t a n t s . M A X _ T A G S _ P E R _ P O S T , d , a ) , f = t h i s . _ . e n v , g = $ ( " # s i d e - g a l l e r y " ) ; i f ( c ) { i f ( g . r e m o v e ( ) , ! I m g u r . E n v i r o n m e n t . i m a g e . i s _ a l b u m ) { v a r   h = { i n i t i a l H a s h : I m g u r . E n v i r o n m e n t . i m a g e . h a s h , i n i t i a l I s P u b l i s h e d : I m g u r . E n v i r o n m e n t . i m a g e . i n _ g a l l e r y , e m i t t e r : a , d e l e t e h a s h : I m g u r . E n v i r o n m e n t . i m a g e . d e l e t e h a s h , i s A l b u m : I m g u r . E n v i r o n m e n t . i m a g e . i s _ a l b u m , i m a g e : I m g u r . E n v i r o n m e n t . i m a g e , t a g S t o r e : e } ; b = R e a c t D O M . r e n d e r ( R e a c t . c r e a t e E l e m e n t ( I m g u r . P o s t O p t i o n s , h ) , d o c u m e n t . g e t E l e m e n t B y I d ( " p o s t - o p t i o n s " ) ) } } e l s e { v a r   i = I m g u r . E x p e r i m e n t s . g e t U s e r B u c k e t ( " e x p T 4 3 7 7 b " ) , j = i & & i . v a r i a t i o n , k = { e n v : f , v a r i a t i o n : j , c a c h e : I m g u r . E n v i r o n m e n t . s i g n e d ? " / m i s s . j s o n " : " / h i t . j s o n " , v o t e d F a v e d R e c e n t l y : I m g u r . E n v i r o n m e n t . v o t e d F a v e d R e c e n t l y , s h o w M a t u r e : I m g u r . E n v i r o n m e n t . a u t h . s h o w _ m a t u r e , e m i t t e r : a } ; i f ( b = R e a c t D O M . r e n d e r ( R e a c t . c r e a t e E l e m e n t ( I m g u r . S i d e G a l l e r y , k ) , g [ 0 ] ) , " c o n t r o l " ! = j & & I m g u r . E x p e r i m e n t s . i s A c t i v e ( " e x p T 4 3 7 7 b " ) ) { v a r   l = R e a c t D O M . r e n d e r ( R e a c t . c r e a t e E l e m e n t ( I m g u r R e c o m m e n d a t i o n s , { v a r i a t i o n : j , s i d e G a l l e r y : b , h o s t : I m g u r . E n v i r o n m e n t . h o s t } ) , $ ( " # r e c o m m e n d a t i o n s " ) [ 0 ] ) ; b . r e c o m m e n d a t i o n s = l } } v a r   m = n a v i g a t o r . u s e r A g e n t . m a t c h ( / i P a d / i ) , n = t h i s . _ . p a r e n t _ f a c t o r y . p r o d u c e L i n k i f y ( a ) ; n . a d d G r a b b e r ( n e w   I m g u r . L i n k i f y . A l b u m I m a g e G r a b b e r ) ; v a r   o = n e w   I m g u r . L i n k i f y . A l b u m I m a g e V i e w e r ( f . h a s h ) ; n . p r e p e n d V i e w e r ( " a l b u m i m a g e " , o ) , a . o n ( " s e l e c t " , o , o . h a n d l e U p d a t e d I m a g e ) , a . t r i g g e r ( " b e f o r e C o m m e n t s " , t h i s . _ . g a l l e r y _ e n v . i m a g e ) ; v a r   p = n e w   I m g u r . C a p t i o n ( { s i d : t h i s . _ . e n v . s i d , s i g n e d : t h i s . _ . e n v . s i g n e d , a u t h _ i d : t h i s . _ . e n v . a u t h . i d , h a s h : f . h a s h , b a s e U R L : f . b a s e U R L , d e f a u l t T e x t : " S u b m i t   a   " , c o m m e n t N a m e : f . c o m m e n t N a m e , t a r g e t : $ ( " # s u b m i t - c a p t i o n " ) , l o a d i n g C l a s s : " # s a v e - c a p t i o n - l o a d e r " , i s R e p l y : ! 1 , i s I P a d : m , s h o w R e p l i e s C o u n t : ! 0 , e m i t t e r : a } ) ; n . p r e p e n d V i e w e r ( " n s f w " , n e w   I m g u r . L i n k i f y . N S F W V i e w e r ( p ) ) , I m g u r . C a p t i o n . _ i n s t a n c e = p ; v a r   q = n e w   I m g u r . S t o r e . A l b u m I m a g e , r = n e w   I m g u r . G a l l e r y . S t o r e . S a v i n g ( a ) , s = t h i s . p r o d u c e I n s i d e N a v ( a , b , p , f , n , q , r , e ) ; I m g u r . I n s i d e N a v . _ i n s t a n c e = s ; v a r   t = n e w   I m g u r . G a l l e r y . I n s i d e ( s , a , f ) ; I m g u r . G a l l e r y . _ i n s t a n c e = t , a . o n ( " r e p o r t   i m a g e " , t , t . r e p o r t I m a g e ) , I m g u r . E n v i r o n m e n t . a d s E n a b l e d & & t h i s . p r o d u c e P r o m o t e d ( a , s , b ) , n . a t t a c h D e l e g a t e ( " # c o m m e n t s - c o n t a i n e r " ) ; v a r   u = { s h o w E d i t T o o l s : c , i n i t i a l I m a g e : I m g u r . E n v i r o n m e n t . i m a g e , e m i t t e r : a , p o s t S a v i n g S t o r e : r } , v = ! 1 ; i f ( I m g u r . E n v i r o n m e n t . i m a g e . i s _ a l b u m ) { v a r   w = 1 0 , x = I m g u r . E n v i r o n m e n t . i m a g e . a l b u m _ i m a g e s . i m a g e s . l e n g t h , y = x - 1 ; i f ( y > - 1 ) { v a r   z = I m g u r . E n v i r o n m e n t . i m a g e . a l b u m _ i m a g e s . i m a g e s [ y ] ; v = ! ! ( z . t i t l e | | z . d e s c r i p t i o n | | I m g u r . E n v i r o n m e n t . i m a g e . a l b u m _ i m a g e s . c o u n t > w & & x = = w ) } } e l s e   v = ! ! I m g u r . E n v i r o n m e n t . i m a g e . d e s c r i p t i o n ; v a r   A = _ . e x t e n d ( { } , I m g u r . E n v i r o n m e n t . i m a g e , { i n _ g a l l e r y : I m g u r . E n v i r o n m e n t . c a p t i o n s E n a b l e d | | I m g u r . E n v i r o n m e n t . i m a g e . i s A d & & I m g u r . E n v i r o n m e n t . i m a g e . i n _ g a l l e r y , h a s _ a c c e s s : I m g u r . E n v i r o n m e n t . h a s A c c e s s , e m i t t e r : a , s i d e G a l l e r y : b , h i d e _ p o i n t s : I m g u r . E n v i r o n m e n t . i m a g e . i s A d | | I m g u r . E n v i r o n m e n t . i m a g e . a d _ t y p e > 0 , h i d e _ v i e w s : I m g u r . E n v i r o n m e n t . i m a g e . i s A d | | I m g u r . E n v i r o n m e n t . i m a g e . a d _ t y p e > 0 , h i d e _ r e p o r t : I m g u r . E n v i r o n m e n t . a u t h . u r l = = = I m g u r . E n v i r o n m e n t . i m a g e . a c c o u n t _ u r l | | I m g u r . E n v i r o n m e n t . i m a g e . i s A d , a d d _ b o r d e r : v , a l b u m _ i m a g e s : I m g u r . E n v i r o n m e n t . i m a g e . i s _ a l b u m ? I m g u r . E n v i r o n m e n t . i m a g e . a l b u m _ i m a g e s . i m a g e s : [ ] } ) ; t h i s . _ . h e a d e r = R e a c t D O M . r e n d e r ( R e a c t . c r e a t e E l e m e n t ( I m g u r . G a l l e r y . H e a d e r , u ) , $ ( " . p o s t - h e a d e r " ) . g e t ( 0 ) ) , R e a c t D O M . r e n d e r ( R e a c t . c r e a t e E l e m e n t ( I m g u r . G a l l e r y . P o s t A c t i o n B a r , A ) , $ ( " . p o s t - a c t i o n " ) . g e t ( 0 ) ) ; v a r   B = ! 0 ; r e t u r n   a . o n ( " s e l e c t " , n u l l , f u n c t i o n ( a , b , c , d ) { r e t u r n ! ! t h i s . _ . h e a d e r & & ( t h i s . _ . h e a d e r . s e t S t a t e ( { i m a g e : a , f i r s t : ! 1 , l a s t : ! 1 , i n i t i a l : B , n a v T r i g g e r : d } ) , v o i d ( B = ! 1 ) ) } . b i n d ( t h i s ) ) , t } , p r o d u c e I n s i d e N a v : f u n c t i o n ( a , b , c , d , e , f , g , h ) { v a r   i = n e w   I m g u r . I n s i d e N a v ( b , c , a , f , g , h , _ . m e r g e ( d , { i s P r o m o t e d : d . i m a g e . i s A d | | d . i m a g e . i s _ a d , e l : { i n s i d e : { r e p o r t I m a g e L i n k : $ ( " # r e p o r t - i m a g e " ) , i m a g e : $ ( " . i m a g e " ) , a r r o w s : $ ( " . i m a g e - a r r o w s " ) , z o o m : $ ( " . z o o m " ) , a c c o u n t B i o : $ ( " # a c c o u n t - b i o . a c c e s s " ) , s u b m i t C a p t i o n B u t t o n : $ ( " . s u b m i t - c a p t i o n - b u t t o n " ) , c o m m e n t E x p a n d : $ ( " # e x p a n d - c o m m e n t s " ) , c o m b o b o x e s : $ ( " . c o m b o b o x " ) , c o m m e n t S o r t : $ ( " # c o m m e n t - s o r t " ) , $ c o m m e n t s : $ ( " # c a p t i o n s " ) , f a v o r i t e I m a g e L i n k : $ ( " . f a v o r i t e - i m a g e " ) , r e C a p t i o n L i n k : $ ( " # m e m e - i m a g e " ) , d o w n l o a d A l b u m F o r m : { i d : " # d o w n l o a d - a l b u m - f o r m " , e m a i l I n p u t : $ ( " # d o w n l o a d - a l b u m - f o r m   # e m a i l " ) , f o r m : $ ( " # d o w n l o a d - a l b u m - f o r m   # d o w n l o a d - f o r m " ) , m e s s a g e : $ ( " # m e s s a g e " ) , s a v e : $ ( " # d o w n l o a d - a l b u m - f o r m   # s a v e " ) , l o a d e r : $ ( " # d o w n l o a d - l o a d e r " ) } } } , l i n k i f i e r : e } ) ) ; r e t u r n   a . o n ( " i m a g e R e n d e r e d " , n u l l , f u n c t i o n ( a , c ) { a . c l i c k ( f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) , b . s e l e c t I m a g e ( c . h a s h ) } ) } ) , a . o n ( " r e s e t " , n u l l , f u n c t i o n ( a ) { b . s e l e c t I m a g e ( a . h a s h ) } ) , a . o n ( " s e l e c t " , i , i . n a v T o I m a g e ) , a . o n ( " f i r s t I m a g e " , i , f u n c t i o n ( a ) { r e t u r n ! ! t h i s . _ . h e a d e r & & v o i d   t h i s . _ . h e a d e r . s e t S t a t e ( { f i r s t : ! 0 , l a s t : ! 1 } ) } . b i n d ( t h i s ) ) , a . o n ( " l a s t I m a g e " , i , f u n c t i o n ( a ) { r e t u r n ! ! t h i s . _ . h e a d e r & & v o i d   t h i s . _ . h e a d e r . s e t S t a t e ( { f i r s t : ! 1 , l a s t : ! 0 } ) } . b i n d ( t h i s ) ) , a . o n ( " s e c t i o n C h a n g e " , i , i . c h a n g e S e c t i o n ) , a . o n ( " s o r t C h a n g e " , i , i . c h a n g e S o r t ) , a . o n ( " w i n d o w C h a n g e " , i , i . c h a n g e W i n d o w ) , a . o n ( " s i d e g a l l e r y P a g e L o a d " , n u l l , _ . b i n d ( f u n c t i o n ( a ) { s w i t c h ( a ) { c a s e " a p p e n d " : i . e n a b l e N e x t B u t t o n ( ) ; b r e a k ; c a s e " p r e p e n d " : i . e n a b l e P r e v B u t t o n ( ) } } , t h i s ) ) , i } , p r o d u c e P r o m o t e d : f u n c t i o n ( a , b , c ) { i f ( " u n d e f i n e d " = = t y p e o f   I m g u r . g e t I n s t a n c e ( ) . _ . a u t h | | I m g u r . g e t I n s t a n c e ( ) . _ . a u t h . i s P r o ! = = ! 0 ) { v a r   d = t h i s . _ . p a r e n t _ f a c t o r y . g e t C o n f i g ( " p r o m o t e d " ) , e = n e w   I m g u r . P r o m o t e d . E v e n t s ( d , a , b ) , f = n e w   I m g u r . P r o m o t e d . S o u r c e . A d z e r k ( d , a ) , g = n e w   I m g u r . P r o m o t e d ( d , a , b , c , e , f , I m g u r . G a l l e r y . g e t I n s t a n c e ( ) . _ . s a f e _ t a g s , I m g u r . E n v i r o n m e n t , I m g u r . U t i l . j a f o L o g ) ; r e t u r n   g } } } ) , N a m e s p a c e ( " I m g u r . F a c t o r y " ) , I m g u r . F a c t o r y . O u t s i d e G a l l e r y = I m g u r . F a c t o r y . G a l l e r y . e x t e n d ( { i n i t : f u n c t i o n ( a , b , c , d ) { t h i s . _ = { e n v : { g l o b a l : a , g a l l e r y : b , g r o u p s : c } , g a l l e r y _ e n v : b , p o s t P r o v i d e r : d } } , p r o d u c e O u t s i d e G a l l e r y : f u n c t i o n ( a ) { v a r   b = n e w   I m g u r . T a g . S t o r e . O u t s i d e A c t i v e T a g ( a ) , c = n e w   I m g u r . H i s t o r y , d = t h i s . _ . e n v . g a l l e r y , e = n e w   I m g u r . G a l l e r y . M a i n O u t s i d e ( b , a , d , c ) ; r e t u r n   a . o n ( " s h o w   t a g s e t   l o a d e r " , e , e . f a d e I n L o a d e r ) , a . o n ( " h i d e   t a g s e t   l o a d e r " , e , e . f a d e O u t L o a d e r ) , a . o n ( " n e w   t a g s e t " , e , e . r e f e t c h P a g e ) , a . o n ( " n e w   o u t s i d e   a c t i v e   t a g " , e , e . h a n d l e T a g C h a n g e d ) , $ ( " # i m a g e l i s t " ) . o n ( " c l i c k " , " . r e m o v e - o u t s i d e - i m a g e " , f u n c t i o n ( a ) { v a r   b = $ ( a . t a r g e t ) . a t t r ( " d a t a - h a s h " ) ; e . r e m o v e ( b ) , $ ( " # " + b ) . f a d e O u t ( ) } ) , $ ( " # i m a g e l i s t " ) . o n ( " c l i c k " , " . s c r o l l - t o p - t e x t " , f u n c t i o n ( a ) { $ ( " h t m l ,   b o d y " ) . a n i m a t e ( { s c r o l l T o p : 0 } , " 5 0 0 " , " e a s e I n O u t C i r c " ) } ) , $ ( " # s p o n s o r e d - u p l o a d " ) . c l i c k ( _ . b i n d ( f u n c t i o n ( ) { i f ( t h i s . _ . e n v . g a l l e r y . s i g n e d ) $ ( " # t o p b a r   l i . u p l o a d - b u t t o n " ) . c l i c k ( ) ; e l s e { v a r   a = n e w   I m g u r ; a . s i g n i n ( " s p o n s o r e d U p l o a d A t t e m p t " , ! 0 ) } } , t h i s ) ) , c . a d d P o p S t a t e ( " i n i t i a l " , _ . b i n d ( e . i n i t i a l P o p S t a t e , e ) ) , I m g u r . G a l l e r y . _ i n s t a n c e = e , { g a l l e r y : e , h i s t o r y : c , o u t s i d e A c t i v e T a g S t o r e : b } } , p r o d u c e O u t s i d e U s e r : f u n c t i o n ( a ) { v a r   b = t h i s . _ . e n v . g a l l e r y , c = n e w   I m g u r . G a l l e r y . O u t s i d e ( a , b ) ; r e t u r n   I m g u r . G a l l e r y . _ i n s t a n c e = c , c } , p r o d u c e O u t s i d e M e m e s : f u n c t i o n ( a ) { v a r   b = t h i s . _ . e n v . g a l l e r y , c = n e w   I m g u r . G a l l e r y . O u t s i d e ( a , b ) ; r e t u r n   I m g u r . G a l l e r y . _ i n s t a n c e = c , c } , s e c t i o n M e n u O p e n e d : f u n c t i o n ( ) { I m g u r . U t i l . j a f o L o g ( { e v e n t : " g a l l e r y T o p i c S c r e e n D i s p l a y e d " , m e t a : { } } ) } , p r o d u c e O u t s i d e N o n M a i n S e c t i o n C h o o s e r : f u n c t i o n ( a ) { $ ( " # s e c t i o n " ) . c o m b o b o x ( { m a y b e : f u n c t i o n ( a , b , c ) { r e t u r n ! 1 } } ) , $ ( " # s e c t i o n " ) . o n ( " o p e n " , t h i s . s e c t i o n M e n u O p e n e d . b i n d ( t h i s ) ) , $ ( " # s o r t " ) . c o m b o b o x ( ) ; v a r   b = n u l l ; n e w   I m g u r . T a g . G r o u p S e l e c t o r ( a , t h i s . _ . e n v . g a l l e r y . s e c t i o n , t h i s . _ . e n v . g a l l e r y . s o r t , t h i s . _ . e n v . g a l l e r y . s e a r c h Q u e r y , $ ( " . s e n t e n c e - s o r t i n g " ) , b ) } , p r o d u c e O u t s i d e T a g g i n g W i d g e t : f u n c t i o n ( a , b ) { v a r   c = ( t h i s . _ . e n v . g a l l e r y . s i d , t h i s . _ . e n v . g a l l e r y . s i g n e d ) , d = ( t h i s . _ . e n v . g a l l e r y . g r o u p , t h i s . _ . e n v . g a l l e r y . g r o u p _ t y p e ) , e = n e w   I m g u r , f = f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) , a . s t o p P r o p a g a t i o n ( ) , e . s i g n i n ( " t a g A t t e m p t " , ! 0 ) } , g = $ ( " # o u t s i d e - t a g g i n g " ) , h = $ ( " # c o n t e n t   . p a n e l " ) , i = $ ( " # o u t s i d e - t a g g i n g - s h o w h i d e " ) ; $ ( " # s e c t i o n " ) . c o m b o b o x ( { m a y b e : f u n c t i o n ( a , b , c ) { r e t u r n ! 1 } } ) , $ ( " # s e c t i o n " ) . o n ( " o p e n " , t h i s . s e c t i o n M e n u O p e n e d . b i n d ( t h i s ) ) , $ ( " # s o r t " ) . c o m b o b o x ( { m a y b e : f u n c t i o n ( a , b , c ) { r e t u r n ! 1 } , o n C h a n g e : f u n c t i o n ( b , c , d ) { a . t r i g g e r ( " c h o s e n . s o r t " , c , d ) } } ) ; v a r   j = n e w   I m g u r . T a g . S t o r e . T a g ( a ) , k = n e w   I m g u r . T a g . S t o r e . T a g G r o u p ( a ) , l = n e w   I m g u r . T a g . S t o r e . G r o u p ( a , t h i s . _ . e n v . g r o u p s . g r o u p s ) , m = n e w   I m g u r . T a g . G r o u p M o d e l ( t h i s . _ g e t S t a n d a r d P o s t A u t h o r i z e d ( ) , k , a ) , n = n e w   I m g u r . T a g . T a g V a l i d a t o r ( I m g u r . C o n s t a n t s . M I N _ T A G _ L E N G T H , I m g u r . C o n s t a n t s . M A X _ T A G _ L E N G T H ) , o = n e w   I m g u r . T a g . S t o r e . S u g g e s t i o n ( a , n ) ; I m g u r . D e v . D e b u g V a r ( " s u g g e s t i o n s t o r e " , o ) ; v a r   p = t h i s . _ . e n v . g a l l e r y . g r o u p . i d ; _ . e a c h ( t h i s . _ . e n v . g a l l e r y . g r o u p . t a g s , f u n c t i o n ( a ) { k . a d d T a g T o G r o u p ( a , p ) } ) , I m g u r . D e v . D e b u g V a r ( " t a g G r o u p S t o r e " , k ) , I m g u r . D e v . D e b u g V a r ( " o u t s i d e A c t i v e T a g S t o r e " , b . o u t s i d e A c t i v e T a g S t o r e ) , I m g u r . D e v . D e b u g V a r ( " t a g s t o r e " , j ) , I m g u r . D e v . D e b u g V a r ( " g r o u p s t o r e " , l ) , I m g u r . D e v . D e b u g V a r ( " t a g g r o u p s t o r e " , k ) ; v a r   q = f u n c t i o n ( ) { v a r   a = $ ( " s c r i p t [ t y p e = ' t e x t / t a g - g r o u p - d a t a ' ] " ) ; a . e a c h ( f u n c t i o n ( ) { v a r   a = { } ; t r y { a = $ . p a r s e J S O N ( $ ( t h i s ) . h t m l ( ) ) } c a t c h ( b ) { } _ . e a c h ( a , f u n c t i o n ( a , b ) { _ . e a c h ( a , f u n c t i o n ( a ) { k . i s T a g I n G r o u p ( b , a ) | | k . a d d T a g T o G r o u p ( b , a ) } ) } ) , $ ( t h i s ) . r e m o v e ( ) } ) } ; q ( ) ; v a r   r = f u n c t i o n ( ) { v a r   a = $ ( " s c r i p t [ t y p e = ' t e x t / t a g - d a t a ' ] " ) ; a . e a c h ( f u n c t i o n ( ) { v a r   a = n u l l ; t r y { a = $ . p a r s e J S O N ( $ ( t h i s ) . h t m l ( ) ) } c a t c h ( b ) { } a & & j . a d d T a g ( a ) , $ ( t h i s ) . r e m o v e ( ) } ) } ; r ( ) , a . o n ( " n e w   g a l l e r y   p a g e " , n u l l , r ) ; v a r   m = t h i s . _ p r o d u c e G r o u p M o d e l ( a , k ) , s = _ . b i n d ( f u n c t i o n ( ) { 0 = = k . g e t T a g s F o r G r o u p ( p ) . l e n g t h & & " b a s e " ! = d ? t h i s . _ p r o d u c e E m p t y G a l l e r y T a g L i s t ( a , k , b . o u t s i d e A c t i v e T a g S t o r e , o , m ) : t h i s . _ p r o d u c e U s e r T a g L i s t ( a , k , b . o u t s i d e A c t i v e T a g S t o r e , o , m ) } , t h i s ) ; " g r o u p " ! = t h i s . _ . e n v . g a l l e r y . s e c t i o n & & " c u s t o m " ! = t h i s . _ . e n v . g a l l e r y . s e c t i o n | | " b a s e " = = d | | ( s ( ) , a . o n ( " g a l l e r y   p a g e   r e f e t c h e d " , n u l l , s ) ) ; v a r   t = n e w   I m g u r . T a g . O u t s i d e T a g g i n g W i d g e t ( g , h , i , a ) ; i . o n ( " c l i c k " , _ . b i n d ( t . t o g g l e , t , t h i s . _ . e n v . g a l l e r y . b e s t C a p s ) ) ; v a r   u = $ ( " . s e n t e n c e - s o r t i n g " ) , v = ( n e w   I m g u r . T a g . G r o u p V a l i d a t o r ( 2 , 2 5 ) , n e w   I m g u r . T a g . S e n t e n c e ( u . f i n d ( " . b e f o r e - t e x t " ) , u . f i n d ( " . m i d d l e - t e x t " ) , l ) ) , w = n e w   I m g u r . T a g . M a i n G r o u p S e l e c t o r ( a , t h i s . _ . e n v . g a l l e r y . s e c t i o n , t h i s . _ . e n v . g a l l e r y . s o r t , t h i s . _ . e n v . g a l l e r y . i n S e a r c h , u , v , b . o u t s i d e A c t i v e T a g S t o r e ) ; i f ( b . h i s t o r y . a d d P o p S t a t e ( " t a g " , f u n c t i o n ( a ) { v a r   c = w i n d o w . l o c a t i o n . h r e f . r e p l a c e ( / . * \ / t \ / / i , " " ) . r e p l a c e ( / _ / g , "   " ) ; b . o u t s i d e A c t i v e T a g S t o r e . s e t A c t i v e T a g ( c , ! 0 ) } ) , t h i s . _ . e n v . g a l l e r y . b e s t C a p s & & $ ( " # t o p - c o m m e n t s   . b e s t - c a p t i o n s   i m g " ) . t i p s y ( { o p a c i t y : . 9 5 , o f f s e t : - 2 , g r a v i t y : " n " , h t m l : ! 0 } ) , ! c ) r e t u r n   v o i d   $ ( " # c u s t o m - g r o u p   a " ) . o n ( " c l i c k " , f ) ; v a r   x = n e w   I m g u r . T a g . C o n t r o l l e r . G r o u p S e l e c t o r L i m i t s ( a , w , l ) ; r e t u r n   a . o n ( " g r o u p . r e m o v e " , x , x . h a n d l e G r o u p R e m o v e ) , a . o n ( " g r o u p . a d d " , x , x . h a n d l e G r o u p A d d ) , m } , p r o d u c e S h a r e P a g e : f u n c t i o n ( a , b , c , d , e , f , g , h , i ) { v a r   j = n e w   I m g u r . T a g . S t o r e . T a g ( a , e ) ; _ . e a c h ( d , f u n c t i o n ( a ) { j . a d d T a g ( { t a g : a } ) } ) ; v a r   k = n e w   I m g u r . T a g . T a g V a l i d a t o r ( 2 , 3 6 ) , l = n e w   I m g u r . T a g . S t o r e . S u g g e s t i o n ( a , k ) , m = " / / e s . " + t h i s . _ . e n v . g l o b a l . h o s t , n = n e w   I m g u r . T a g . S u g g e s t M o d e l N o P r o v i d e r ( t h i s . _ . p o s t P r o v i d e r ( ) , m ) , o = $ ( " # t a g s   i n p u t " ) , p = o . a t t r ( " p l a c e h o l d e r " ) , q = o . a t t r ( " t a b i n d e x " ) , r = f u n c t i o n ( ) { R e a c t D O M . r e n d e r ( R e a c t . c r e a t e E l e m e n t ( I m g u r . S h a r e . T i t l e , { t i t l e : g , m a x L e n g t h : 2 5 5 , i n p u t C l a s s e s : " r e q u i r e d   i n p u t - b b " , l i m i t C l a s s e s : " l i m i t " } ) , $ ( " # s u b m i s s i o n - t i t l e " ) . g e t ( 0 ) ) } ; r ( ) ; v a r   s = f u n c t i o n ( ) { R e a c t D O M . r e n d e r ( R e a c t . c r e a t e E l e m e n t ( I m g u r . T a g . S h a r e T a g C o m p o n e n t , { t a g S t o r e : j , s u g g e s t i o n S t o r e : l , p l a c e h o l d e r : p , t a b I n d e x : q , i d : " t a g b o x " , g a l l e r y _ t y p e : f , d e f a u l t T a g s : i , t a g L i m i t : e } ) , $ ( " # t a g s " ) . g e t ( 0 ) ) } ; s ( ) ; v a r   t = I m g u r . S h a r e O n I m g u r . g e t I n s t a n c e ( { t y p e : b , h a s h : c , t a g S t o r e : j , e m i t t e r : a , h a s T i t l e : ! ! g , h a s T o p i c : ! ! h } ) ; t . g e n e r a l I n i t ( ) ; v a r   u = n e w   I m g u r . T a g . C o n t r o l l e r . O u t s i d e C o m p o n e n t ( n , l ) ; a . o n ( " n e w   s u g g e s t   q u e r y " , n u l l , _ . b i n d ( u . h a n d l e C h a n g e d Q u e r y , u ) ) , a . o n ( " s e l e c t " , n u l l , s ) , a . o n ( " n e w   s u g g e s t   q u e r y " , n u l l , s ) , a . o n ( " n e w   f i n i s h e d   q u e r y " , n u l l , s ) , a . o n ( " n e w   s u g g e s t i o n s " , n u l l , s ) , a . o n ( " t a g   r e m o v e d " , n u l l , s ) , a . o n ( " t a g   l i m i t   r e a c h e d " , n u l l , f u n c t i o n ( ) { h u m a n M s g . d i s p l a y M s g ( " Y o u   h a v e   a l r e a d y   a d d e d   t h e   m a x i m u m   n u m b e r   o f   t a g s " , " e r r o r - m s g " ) } ) , $ ( d o c u m e n t ) . o n ( " c l i c k " , f u n c t i o n ( a ) { r e t u r n   $ ( a . t a r g e t ) . c l o s e s t ( " . t a g - f i l t e r ,   . t a g - l i s t - c o n t e n t " ) . l e n g t h ? v o i d   $ ( " # t a g s " ) . a d d C l a s s ( " f o c u s " ) : v o i d   $ ( " # t a g s " ) . r e m o v e C l a s s ( " f o c u s " ) } ) } , _ p r o d u c e U s e r T a g L i s t : f u n c t i o n ( a , b , c , d , e ) { v a r   f = t h i s . _ . p o s t P r o v i d e r ( ) , g = " / / e s . " + t h i s . _ . e n v . g l o b a l . h o s t , h = n e w   I m g u r . T a g . S u g g e s t M o d e l N o P r o v i d e r ( f , g ) , i = { t a g G r o u p S t o r e : b , g r o u p I d : t h i s . _ . e n v . g a l l e r y . g r o u p . i d , o u t s i d e A c t i v e T a g S t o r e : c , g r o u p M o d e l : e , s u g g e s t i o n S t o r e : d , p l a c e h o l d e r : " a d d   t a g s   t o   t h i s   g a l l e r y " } ; $ ( " # t a g s - c u r r e n t - l i s t ,   # o u t s i d e - t a g g i n g - s h o w h i d e " ) . s h o w ( ) , $ . c o o k i e ( " s h o w T a g s " ) & & $ ( " # c o n t e n t   >   . p a n e l " ) . r e m o v e C l a s s ( " h i d d e n " ) ; v a r   j = f u n c t i o n ( ) { R e a c t D O M . r e n d e r ( R e a c t . c r e a t e E l e m e n t ( I m g u r . T a g . T a g L i s t C o m p o n e n t , i ) , $ ( " # t a g s - c u r r e n t - l i s t " ) . g e t ( 0 ) ) } ; j ( ) , a . o n ( " t a g   a d d e d   t o   g r o u p " , n u l l , j ) , a . o n ( " t a g   r e m o v e d   f r o m   g r o u p " , n u l l , j ) , a . o n ( " n e w   t a g - g r o u p   e v e n t " , n u l l , j ) , a . o n ( " p e n d i n g   t a g   r e m o v e d   f r o m   g r o u p " , n u l l , j ) , a . o n ( " n e w   o u t s i d e   a c t i v e   t a g " , n u l l , j ) , a . o n ( " n e w   s u g g e s t i o n s " , n u l l , j ) , a . o n ( " n e w   s u g g e s t   q u e r y " , n u l l , j ) , a . o n ( " n e w   f i n i s h e d   q u e r y " , n u l l , j ) , a . o n ( " n e w   s u g g e s t   v a l i d a t i o n   m o d e " , n u l l , j ) ; v a r   k = n e w   I m g u r . T a g . C o n t r o l l e r . O u t s i d e C o m p o n e n t ( h , d ) ; a . o n ( " n e w   s u g g e s t   q u e r y " , n u l l , _ . b i n d ( k . h a n d l e C h a n g e d Q u e r y , k ) ) } , _ p r o d u c e G r o u p M o d e l : f u n c t i o n ( a , b ) { v a r   c = n e w   I m g u r . T a g . G r o u p M o d e l ( t h i s . _ g e t S t a n d a r d P o s t A u t h o r i z e d ( ) , b , a ) ; r e t u r n   c } , _ p r o d u c e S u g g e s t e d T a g F r o m D a t a : f u n c t i o n ( a , b , c , d , e ) { v a r   f = $ ( _ . t e m p l a t e s [ " t a g s . t a g - s u g g e s t e d " ] ( { i s _ f i r s t : ! ! e , t a g : { n a m e : c , s u b s c r i b e r s : d , u r l e n c o d e d : " " } } ) ) , g = n e w   I m g u r . T a g . S u g g e s t e d T a g ( f , b ) ; r e t u r n   g . g e t $ A d d ( ) . o n ( " c l i c k " , _ . p a r t i a l ( a , g ) ) , g } , _ p r o d u c e R e m o v a b l e T a g F r o m D a t a : f u n c t i o n ( a , b , c ) { v a r   d = $ ( _ . t e m p l a t e s [ " t a g s . t a g - r e m o v a b l e " ] ( { t a g : b } ) ) ; r e t u r n   d } , p r o d u c e R e m o v a b l e T a g F r o m D o m : f u n c t i o n ( a , b , c , d ) { v a r   e = n e w   I m g u r . T a g . R e m o v a b l e T a g ( a , d ) ; e . g e t $ R e m o v e B u t t o n ( ) . o n ( " c l i c k " , _ . b i n d ( b . h a n d l e R e m o v e d T a g E v e n t , b , e ) ) ; v a r   f = [ { s p o t : " m a r k C o n f i r m e d " , c o v e r : " r e c o m p u t e N a n o S c r o l l e r " , t y p e : " p a s s A f t e r " } ] ; r e t u r n   e = I m g u r . U t i l . d e c o r a t e W i t h D e t a i l e d ( e , c , f ) } , _ p r o d u c e C o m b o b o x I t e m F r o m S o m e t h i n g : f u n c t i o n ( a , b ) { v a r   c = $ ( _ . t e m p l a t e s [ " t a g s . c o m b o b o x - i t e m " ] ( { v a l u e : b } ) ) ; r e t u r n   c . a p p e n d ( a ) , c } , _ p r o d u c e E m p t y G a l l e r y T a g L i s t : f u n c t i o n ( a , b , c , d , e ) { v a r   f = t h i s . _ . p o s t P r o v i d e r ( ) , g = " / / e s . " + t h i s . _ . e n v . g l o b a l . h o s t , h = n e w   I m g u r . T a g . S u g g e s t M o d e l N o P r o v i d e r ( f , g ) , i = { t a g G r o u p S t o r e : b , g r o u p I d : t h i s . _ . e n v . g a l l e r y . g r o u p . i d , o u t s i d e A c t i v e T a g S t o r e : c , g r o u p M o d e l : e , s u g g e s t i o n S t o r e : d , i d : " a d d - t a g " , p l a c e h o l d e r : " S t a r t   f o l l o w i n g   t a g s   a n d   s t a y   u p   t o   d a t e   w i t h   t h e   m o s t   v i r a l   i m a g e s   o n   t h e   I n t e r n e t " } ; $ ( " # t a g s - c u r r e n t - l i s t ,   # o u t s i d e - t a g g i n g - s h o w h i d e " ) . h i d e ( ) , $ ( " # c o n t e n t   >   . p a n e l " ) . a d d C l a s s ( " h i d d e n " ) ; v a r   j = f u n c t i o n ( ) { v a r   a = $ ( " # a d d - t a g - c o n t a i n e r " ) . g e t ( 0 ) ; a & & R e a c t D O M . r e n d e r ( R e a c t . c r e a t e E l e m e n t ( I m g u r . T a g . T a g L i s t C o m p o n e n t , i ) , a ) } ; j ( ) , a . o n ( " s e l e c t " , n u l l , j ) , a . o n ( " n e w   s u g g e s t   q u e r y " , n u l l , j ) , a . o n ( " n e w   f i n i s h e d   q u e r y " , n u l l , j ) , a . o n ( " n e w   s u g g e s t   v a l i d a t i o n   m o d e " , n u l l , j ) , a . o n ( " n e w   s u g g e s t i o n s " , n u l l , j ) ; v a r   k = n e w   I m g u r . T a g . C o n t r o l l e r . O u t s i d e C o m p o n e n t ( h , d ) ; a . o n ( " n e w   s u g g e s t   q u e r y " , n u l l , _ . b i n d ( k . h a n d l e C h a n g e d Q u e r y , k ) ) , $ ( " . p o p u l a r - t a g   . a d d - t a g " ) . o n ( " c l i c k " , f u n c t i o n ( ) { v a r   a = $ ( t h i s ) . p a r e n t ( ) . f i n d ( " . t a g - n a m e " ) . t e x t ( ) ; e . s u b s c r i b e ( i . g r o u p I d , a ) } ) } } ) , N a m e s p a c e ( " I m g u r . F a v o r i t e " ) , I m g u r . F a v o r i t e = I m g u r . e x t e n d ( { i n i t : f u n c t i o n ( a ) { t h i s . _ = $ . e x t e n d ( { m e t h o d : n u l l , h a s h : n u l l , $ f a v B u t t o n : $ ( " . f a v o r i t e - i m a g e " ) , c o n f i r m : { t a r g e t : " # c o l o r b o x - c o n f i r m " , $ m e s s a g e : $ ( " # c o l o r b o x - c o n f i r m - m e s s a g e " ) , $ t i t l e : $ ( " # c o l o r b o x - c o n f i r m - t i t l e " ) } , m e s s a g e s : { f a v o r i t e d : ' < d i v   c l a s s = " f a v o r i t e d " > < / d i v > ' , u n f a v o r i t e d : ' < d i v   c l a s s = " f a v o r i t e d   u n f a v o r i t e d " > < / d i v > ' , c o n f i r m M s g : f u n c t i o n ( a ) { r e t u r n " A r e   y o u   s u r e   y o u   w a n t   t o   " + ( a ? " u n f a v o r i t e " : " f a v o r i t e " ) + "   t h i s   i m a g e ? " } , c o n f i r m T i t l e : f u n c t i o n ( a ) { r e t u r n ( a ? " U n f a v o r i t e " : " F a v o r i t e " ) + "   t h i s   i m a g e ? " } } } , a ) , t h i s . _ . m e t h o d = $ . t r i m ( t h i s . _ . m e t h o d ) , t h i s . _ s u p e r ( t h i s . _ ) , t h i s . _ . h a s h | | ( t h i s . _ . h a s h = I m g u r . I n s i d e N a v . g e t I n s t a n c e ( ) . g e t H a s h ( ) ) } , _ i n i t : f u n c t i o n ( ) { t h i s . s h o w M e s s a g e ( ) , t h i s . _ i n i t _ c l i c k _ h a n d l e r ( ) } , _ i n i t _ c l i c k _ h a n d l e r : f u n c t i o n ( ) { t h i s . _ . $ f a v B u t t o n . u n b i n d ( " c l i c k " ) . o n ( " c l i c k " , _ . b i n d ( f u n c t i o n ( a ) { v a r   b , c , d , e = ! 1 ; " u n d e f i n e d " ! = t y p e o f   a . f a v _ d i s p l a y _ m s g & & a . f a v _ d i s p l a y _ m s g = = = ! 0 & & ( e = ! 0 ) ; t r y { I m g u r . I n s i d e N a v & & ( c = I m g u r . I n s i d e N a v . g e t I n s t a n c e ( ) . g e t I m a g e ( ) ) , c & & t h i s . _ . h a s h = = = c . h a s h & & ( b = c . i s _ a l b u m , d = f u n c t i o n ( a ) { I m g u r . I n s i d e N a v . g e t I n s t a n c e ( ) . u p d a t e F a v o r i t e ( " f a v o r i t e d " = = a ) } ) } c a t c h ( f ) { } t h i s . f a v o r i t e ( t h i s . _ . h a s h , b , d , e ) } , t h i s ) ) } , h a n d l e K e y : f u n c t i o n ( a ) { i f ( ! ( a . c t r l K e y | | a . a l t K e y | | a . m e t a K e y | | 4 8 ! = a . k e y C o d e & & 4 5 ! = a . k e y C o d e & & 9 6 ! = a . k e y C o d e | | $ ( a . t a r g e t ) . i s ( " i n p u t ,   t e x t a r e a " ) | | " t r u e " = = $ ( a . t a r g e t ) . a t t r ( " c o n t e n t e d i t a b l e " ) ) ) { v a r   b = j Q u e r y . E v e n t ( " c l i c k " , { f a v _ d i s p l a y _ m s g : ! 0 } ) ; t h i s . _ . $ f a v B u t t o n . t r i g g e r ( b ) } } , s h o w M e s s a g e : f u n c t i o n ( a ) { " u n d e f i n e d " = = t y p e o f   a & & ( a = t h i s . _ . m e t h o d ) , " f a v o r i t e d " = = a ? t h i s . s h o w F a v o r i t e d ( ) : " u n f a v o r i t e d " = = a ? t h i s . s h o w U n f a v o r i t e d ( ) : " c o n f i r m " = = a & & t h i s . s h o w C o n f i r m ( ) } , s h o w F a v o r i t e d : f u n c t i o n ( ) { h u m a n M s g . d i s p l a y M s g ( t h i s . _ . m e s s a g e s . f a v o r i t e d , " a c t i o n - m s g " ) } , s h o w U n f a v o r i t e d : f u n c t i o n ( ) { h u m a n M s g . d i s p l a y M s g ( t h i s . _ . m e s s a g e s . u n f a v o r i t e d , " a c t i o n - m s g " ) } , s h o w C o n f i r m : f u n c t i o n ( ) { t h i s . _ . c o n f i r m . $ m e s s a g e . h t m l ( t h i s . _ . m e s s a g e s . c o n f i r m M s g ( t h i s . i s F a v o r i t e d ( ) ) ) , t h i s . _ . c o n f i r m . $ t i t l e . h t m l ( t h i s . _ . m e s s a g e s . c o n f i r m T i t l e ( t h i s . i s F a v o r i t e d ( ) ) ) , I m g u r . U t i l i t i e s . C o l o r b o x C o n f i r m . g e t I n s t a n c e ( ) . s h o w ( t h i s . _ . c o n f i r m . t a r g e t , _ . b i n d ( t h i s . f a v o r i t e , t h i s ) ) } , f a v o r i t e : f u n c t i o n ( a , b , c , d ) { I m g u r . g e t I n s t a n c e ( ) . _ . s i g n e d | | ( $ ( " . t i p s y , # f a v o r i t e - b a r " ) . r e m o v e ( ) , I m g u r . g e t I n s t a n c e ( ) . s i g n i n ( " f a v o r i t e A t t e m p t " , ! 0 ) ) , " u n d e f i n e d " = = t y p e o f   a ? a = t h i s . _ . h a s h : " f u n c t i o n " = = t y p e o f   a & & ( a = a ( ) ) , I m g u r . g e t I n s t a n c e ( ) . _ . s i g n e d & & ( t h i s . _ . $ f a v B u t t o n . h a s C l a s s ( " f a v o r i t e d " ) ? ( t h i s . _ . $ f a v B u t t o n . r e m o v e C l a s s ( " f a v o r i t e d " ) , t h i s . _ . m e t h o d = " u n f a v o r i t e d " ) : ( t h i s . _ . $ f a v B u t t o n . a d d C l a s s ( " f a v o r i t e d " ) , t h i s . _ . m e t h o d = " f a v o r i t e d " , $ ( " # m a i n U p A r r o w " ) . i s ( " : v i s i b l e " ) & & t h i s . u p v o t e ( ) ) , d & & t h i s . s h o w M e s s a g e ( ) ) ; v a r   e = " / " + a + " / f a v . j s o n " ; ( w i n d o w . l o c a t i o n . h r e f . i n d e x O f ( " / a / " ) ! = = - 1 | | b ) & & ( e = " / a " + e ) ; v a r   f = { a j a x : ! 0 , m s i d : I m g u r . E n v i r o n m e n t . m s i d , l o c a t i o n : I m g u r . I n s i d e N a v ? " i n s i d e " : " o u t s i d e " } ; I m g u r . g e t I n s t a n c e ( ) . _ . s i g n e d ? I m g u r . U t i l . j a f o L o g ( { e v e n t : " f a v o r i t e " , m e t a : { i s A l b u m : b ? b : w i n d o w . l o c a t i o n . h r e f . i n d e x O f ( " / a / " ) ! = = - 1 , h a s h : a , l o c a t i o n : I m g u r . I n s i d e N a v ? " i n s i d e " : " o u t s i d e " , s t a t e : " u n f a v o r i t e d " = = = t h i s . _ . m e t h o d ? " u n f a v o r i t e " : " f a v o r i t e " } } ) : _ . e x t e n d ( f , { s i d : I m g u r . E n v i r o n m e n t . s i d , v o t e : " u p " , t y p e : " i m a g e " } ) , $ . a j a x ( { u r l : e , t y p e : " P O S T " , d a t a : f , s u c c e s s : _ . b i n d ( t h i s . f a v o r i t e S u c c e s s , t h i s , c ) , e r r o r : _ . b i n d ( t h i s . f a v o r i t e E r r o r , t h i s ) } ) } , f a v o r i t e S u c c e s s : f u n c t i o n ( a , b ) { b & & " s u c c e s s " i n   b & & b . s u c c e s s & & ( t h i s . _ . m e t h o d = b . d a t a . f a v _ m e t h o d , a & & a ( b . d a t a . f a v _ m e t h o d ) ) } , f a v o r i t e E r r o r : f u n c t i o n ( ) { I m g u r . g e t I n s t a n c e ( ) . _ . s i g n e d & & ( " f a v o r i t e d " = = t h i s . _ . m e t h o d ? ( t h i s . _ . $ f a v B u t t o n . r e m o v e C l a s s ( " f a v o r i t e d " ) , t h i s . _ . m e t h o d = " u n f a v o r i t e d " ) : ( t h i s . _ . $ f a v B u t t o n . a d d C l a s s ( " f a v o r i t e d " ) , t h i s . _ . m e t h o d = " f a v o r i t e d " ) ) } , i s F a v o r i t e d : f u n c t i o n ( ) { r e t u r n   t h i s . _ . $ f a v B u t t o n . h a s C l a s s ( " f a v o r i t e d " ) } , u p v o t e : f u n c t i o n ( ) { I m g u r . g e t I n s t a n c e ( ) . _ . s i g n e d & & ( $ ( " # m a i n U p A r r o w " ) . h a s C l a s s ( " p u s h e d " ) | | $ ( " # m a i n D o w n A r r o w " ) . h a s C l a s s ( " p u s h e d " ) | | $ ( " # m a i n U p A r r o w " ) . c l i c k ( ) ) } } ) , N a m e s p a c e ( " I m g u r . S h a r e O n I m g u r " ) , I m g u r . S h a r e O n I m g u r = I m g u r . e x t e n d ( { i n i t : f u n c t i o n ( a ) { r e t u r n   a = a | | { } , t h i s . _ = $ . e x t e n d ( ! 0 , { g a l l e r y S u b m i t T e r m s U r l : " / l i g h t b o x e s / g a l l e r y t e r m s " , g a l l e r y V e r i f y E m a i l F o r m U r l : " / l i g h t b o x e s / v e r i f y e m a i l " , g a l l e r y S u b m i t U R L : " / s h a r e / i / " , l o a d i n g : ! 1 , s h a r e i n g : ! 1 , t e r m s : 0 , m e s s a g e s : { p o s t i n g T o o F a s t : f u n c t i o n ( a ) { v a r   b = a > 6 0 ? M a t h . r o u n d ( a / 6 0 ) + I m g u r . U t i l . p l u r a l i z e ( M a t h . r o u n d ( a / 6 0 ) , "   m i n u t e " ) : a + I m g u r . U t i l . p l u r a l i z e ( a , "   s e c o n d " ) ; r e t u r n " Y o u ' r e   s h a r i n g   t o o   q u i c k l y .   P l e a s e   w a i t   " + b + " . " } , b a n n e d : " Y o u r   a c c o u n t   h a s   b e e n   b l o c k e d .   P l e a s e   c o n t a c t   s u p p o r t @ i m g u r . c o m . " } , e l : { $ s h a r e o n i m g u r : $ ( " # s h a r e o n i m g u r " ) , $ s h a r e A l b u m : $ ( " # s h a r e - a l b u m " ) , $ p r e v i e w : $ ( " # p r e v i e w " ) , $ d e s c r i p t i o n s : $ ( " # s u b m i s s i o n - t i t l e   i n p u t ,   . d a t a - c o l   t e x t a r e a " ) , $ t o p i c _ i d : $ ( ' i n p u t [ n a m e = " t o p i c _ i d " ] ' ) , $ t i t l e D e s c : $ ( ' i n p u t [ n a m e = " i m a g e T i t l e [ ] " ] ,   t e x t a r e a [ n a m e = " d e s c r i p t i o n [ ] " ] ' ) , $ i m a g e T i t l e s : $ ( " . i m a g e - t i t l e " ) , $ d e l e t e C o n t a i n e r s : $ ( " . d e l e t e - c o l " ) , $ r e q u i r e d : $ ( " . r e q u i r e d " ) , $ s u b m i t : $ ( " # s h a r e " ) , $ t e r m s : $ ( ' i n p u t [ n a m e = " t e r m s " ] ' ) , $ t a g b o x : $ ( " # t a g b o x " ) , $ c o n t e n t C o n t a i n e r : $ ( " # c o n t e n t - c o n t a i n e r " ) , $ t o p i c S e l e c t : $ ( " . t o p i c - s e l e c t " ) , $ p u b l i s h B u t t o n s : $ ( " # p u b l i s h - b u t t o n s " ) , $ m i s s i n g F i e l d s : $ ( " # m i s s i n g - f i e l d s " ) , $ p r o m o t e d P l a t B o x e s : $ ( ' # p l a t f o r m - t a r g e t - p r o m p t   i n p u t [ t y p e = " c h e c k b o x " ] ' ) , $ p r o m o t e d P l a t A l l : $ ( ' # p l a t f o r m - t a r g e t - p r o m p t   i n p u t [ t y p e = " c h e c k b o x " ] # t a r g e t i n g - a l l ' ) , s o r t H a n d l e r : " . m o v e " , i m a g e s : " . i m a g e - c o n t a i n e r   . z o o m " } } , a ) , t h i s . _ . g a l l e r y L i n k = " / / " + i m g u r . _ . h o s t + " / g a l l e r y / " + t h i s . _ . h a s h + " / n e w " , t h i s . _ . p u b l i s h C o r t e x = n e w   C o r t e x ( { s u b m i t t i n g : ! 1 , p r o m o t e d : ! 1 , m i s s i n g F i e l d s : 2 } ) , t h i s . _ = t h i s . _ s u p e r ( t h i s . _ ) , t h i s . _ } , g e n e r a l I n i t : f u n c t i o n ( ) { v a r   a = t h i s , b = f u n c t i o n ( ) { R e a c t D O M . r e n d e r ( R e a c t . c r e a t e E l e m e n t ( I m g u r . S h a r e . P u b l i s h , { c o r t e x : a . _ . p u b l i s h C o r t e x , h a s h : a . _ . h a s h , i s A l b u m : " a " = = a . _ . t y p e , h a n d l e P r e v i e w : f u n c t i o n ( b ) { a . _ . o r i g i n a l S t a t e = a . _ . e l . $ s h a r e A l b u m . s e r i a l i z e ( ) , a . h a n d l e S a v e ( b ) } , h a n d l e S u b m i t : _ . b i n d ( a . h a n d l e S u b m i t , a ) } ) , a . _ . e l . $ p u b l i s h B u t t o n s . g e t ( 0 ) ) } ; b ( ) , t h i s . _ . p u b l i s h C o r t e x . o n ( " u p d a t e " , f u n c t i o n ( ) { b ( ) } ) , $ ( t h i s . _ . e l . i m a g e s ) . i m a g e Z o o m ( ) , t h i s . _ . e l . $ d e l e t e C o n t a i n e r s . o n ( " c l i c k " , f u n c t i o n ( b ) { a . h a n d l e D e l e t e ( b ) } ) , t h i s . _ . e l . $ r e q u i r e d . o n ( " k e y u p " , f u n c t i o n ( ) { " " ! = $ ( t h i s ) . v a l ( ) ? ( a . _ . h a s T i t l e = ! 0 , $ ( t h i s ) . r e m o v e C l a s s ( " e r r o r " ) ) : a . _ . h a s T i t l e = ! 1 , a . c h e c k M i s s i n g F i e l d s ( ) } ) , t h i s . _ . e l . $ d e s c r i p t i o n s . o n ( " k e y d o w n " , f u n c t i o n ( a ) { i f ( 9 = = a . k e y C o d e & & ! a . s h i f t K e y ) { v a r   b , c = $ ( t h i s ) ; b = c . h a s C l a s s ( " r e q u i r e d " ) ? $ ( " . i m a g e - c o n t a i n e r " ) . e q ( 0 ) : c . p a r e n t s ( " . i m a g e - c o n t a i n e r " ) . n e x t ( ) , $ . s m o o t h S c r o l l ( { s c r o l l T a r g e t : b } ) } } ) , t h i s . _ . e l . $ t i t l e D e s c . o n ( " c h a n g e " , f u n c t i o n ( ) { $ ( t h i s ) . p a r e n t s ( " . i m a g e - c o n t a i n e r " ) . f i n d ( ' i n p u t [ n a m e = " d i r t y [ ] " ] ' ) . v a l ( 1 ) } ) , t h i s . _ . o r i g i n a l S t a t e = t h i s . _ . e l . $ s h a r e A l b u m . s e r i a l i z e ( ) , t h i s . _ . e l . $ t o p i c S e l e c t . c o m b o b o x ( { o n C h a n g e : f u n c t i o n ( b , c , d ) { a . _ . h a s T o p i c = ! 0 , a . c h e c k M i s s i n g F i e l d s ( ) , a . _ . e l . $ t o p i c S e l e c t . r e m o v e C l a s s ( " e r r o r " ) } } ) , t h i s . _ . e l . $ p r o m o t e d P l a t B o x e s . o n ( " c h a n g e   c l i c k " , _ . b i n d ( _ . d e b o u n c e ( t h i s . h a n d l e P r o m o P l a t f o r m C h a n g e , 5 0 0 ) , t h i s ) ) , t h i s . h a n d l e P r o m o P l a t f o r m C h a n g e ( ) , t h i s . p l a c e S h a r e B u t t o n s ( ) , $ ( w i n d o w ) . o n ( " r e s i z e " , _ . b i n d ( a . p l a c e S h a r e B u t t o n s , t h i s ) ) , $ ( w i n d o w ) . o n ( " b e f o r e u n l o a d " , f u n c t i o n ( ) { i f ( a . _ . e l . $ s h a r e A l b u m . s e r i a l i z e ( ) ! = a . _ . o r i g i n a l S t a t e & & ! a . _ . s h a r i n g ) r e t u r n " Y o u   h a v e   u n s a v e d   c h a n g e s " } ) } , p l a c e S h a r e B u t t o n s : f u n c t i o n ( ) { $ ( " # t o p b a r " ) . h e i g h t ( ) + $ ( " # s h a r e o n i m g u r " ) . h e i g h t ( ) + $ ( " # c t a - c o n t a i n e r - p l a c e h o l d e r " ) . h e i g h t ( ) > $ ( w i n d o w ) . h e i g h t ( ) & & $ ( w i n d o w ) . w i d t h ( ) > 9 6 0 ? t h i s . _ . e l . $ p u b l i s h B u t t o n s . a d d C l a s s ( " j s - f i x e d " ) : t h i s . _ . e l . $ p u b l i s h B u t t o n s . r e m o v e C l a s s ( " j s - f i x e d " ) } , r e t a b i n d e x : f u n c t i o n ( ) { $ ( " # t a g b o x ,   # s u b m i s s i o n - t i t l e   i n p u t ,   . d a t a - c o l   i n p u t ,   . d a t a - c o l   t e x t a r e a " ) . e a c h ( f u n c t i o n ( a ) { $ ( t h i s ) . a t t r ( " t a b i n d e x " , a + 1 ) } ) } , h a n d l e D e l e t e : f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) , $ ( a . t a r g e t ) . c l o s e s t ( " . i m a g e - c o n t a i n e r " ) . r e m o v e ( ) , 1 = = $ ( t h i s . _ . e l . i m a g e s ) . l e n g t h & & t h i s . _ . e l . $ i m a g e T i t l e s . r e m o v e ( ) , t h i s . r e t a b i n d e x ( ) } , s e r i a l i z e : f u n c t i o n ( ) { f o r ( v a r   a = { } , b = " " , c = t h i s . _ . e l . $ s h a r e A l b u m . f i n d ( " : i n p u t " ) , d = 0 ; d < c . l e n g t h ; d + + ) { v a r   e = c [ d ] . n a m e . i n d e x O f ( " [ ] " ) , f = c [ d ] . n a m e . r e p l a c e ( " [ ] " , " " ) , g = c [ d ] . v a l u e ; " " ! = f & & ( " d i r t y " = = f ? b = g : ( " d e s c r i p t i o n " = = f & & ! b | | " i m a g e T i t l e " = = f & & ! b ) & & ( g = " " ) , e ! = - 1 ? A r r a y . i s A r r a y ( a [ f ] ) ? a [ f ] . p u s h ( g ) : a [ f ] = [ g ] : " r a d i o " = = c [ d ] . t y p e | | " c h e c k b o x " = = c [ d ] . t y p e ? c [ d ] . c h e c k e d & & ( a [ f ] = g ) : a [ f ] = g ) } r e t u r n   J S O N . s t r i n g i f y ( a ) } , h a n d l e S a v e : f u n c t i o n ( a ) { i f ( a & & a . p r e v e n t D e f a u l t ( ) , t h i s . h a n d l e V a l i d a t i o n ( ! 0 ) ) { v a r   b = t h i s ; t h i s . _ . p r e v i e w W i n d o w = w i n d o w . o p e n ( " / s h a r e / " + t h i s . _ . t y p e + " / " + t h i s . _ . h a s h + " / l o a d i n g " , " _ b l a n k " ) , I m g u r . U t i l . j a f o L o g ( { e v e n t : " s h a r e O n I m g u r P r e v i e w " , m e t a : { h a s h : t h i s . _ . h a s h } } ) , $ . a j a x ( { m e t h o d : " P O S T " , u r l : " / s h a r e / " + t h i s . _ . t y p e + " / " + t h i s . _ . h a s h + " / s a v e " , d a t a : { m s i d : I m g u r . E n v i r o n m e n t . m s i d , d a t a : t h i s . s e r i a l i z e ( ) } , s u c c e s s : f u n c t i o n ( a ) { i f ( ! a | | ! a . s u c c e s s ) r e t u r n   b . h a n d l e F a i l ( ! 0 , a ) } , e r r o r : t h i s . h a n d l e F a i l . b i n d ( t h i s , ! 0 ) } ) } } , h a n d l e S u b m i t : f u n c t i o n ( a ) { i f ( a & & a . p r e v e n t D e f a u l t ( ) , t h i s . h a n d l e V a l i d a t i o n ( ) & & ! t h i s . _ . l o a d i n g ) { v a r   b = t h i s ; t h i s . _ . l o a d i n g = ! 0 , t h i s . _ . p u b l i s h C o r t e x . s u b m i t t i n g . s e t ( ! 0 ) , I m g u r . U t i l . j a f o L o g ( { e v e n t : " s h a r e O n I m g u r B u t t o n " , m e t a : { h a s h : t h i s . _ . h a s h , t o p i c : $ ( " . t o p i c - s e l e c t   . s e l e c t i o n   h 4 " ) . t e x t ( ) . t r i m ( ) , m a t u r e T o g g l e : $ ( " # m a t u r e " ) . i s ( " : c h e c k e d " ) , l o c a t i o n : " u p l o a d M o d a l " } } ) , $ . a j a x ( { m e t h o d : " P O S T " , u r l : " / s h a r e / " + t h i s . _ . t y p e + " / " + t h i s . _ . h a s h + " / s h a r e " , d a t a : { m s i d : I m g u r . E n v i r o n m e n t . m s i d , d a t a : t h i s . s e r i a l i z e ( ) } , s u c c e s s : f u n c t i o n ( a ) { i f ( ! a | | ! a . s u c c e s s ) r e t u r n   b . h a n d l e F a i l ( ! 1 , a ) ; i f ( b . _ . s h a r i n g = ! 0 , a . d a t a & & a . d a t a . p r o m o P a g e ) { v a r   c = " " ; c + = ' < d i v   c l a s s = " p a n e l "   i d = " p r o m o - s u c c e s s " > ' , 
 c + = " < h 1 > S u c c e s s ! < / h 1 > " , c + = " < u l > " , c + = ' < l i > < a   h r e f = " / / ' + i m g u r . _ . h o s t + " / g a l l e r y / " + b . _ . h a s h + ' / "   t a r g e t = " _ b l a n k " > V i e w   t h e   g a l l e r y   p a g e < / a > < / l i > ' , c + = ' < l i > < a   h r e f = " ' + a . d a t a . p r o m o P a g e + ' "   t a r g e t = " _ b l a n k " > V i e w   t h e   p r o m o   f l i g h t < / a > < / l i > ' , c + = " < / u l > " , c + = " < / d i v > " , b . _ . e l . $ c o n t e n t C o n t a i n e r . h t m l ( c ) } e l s e   w i n d o w . l o c a t i o n = " / / " + i m g u r . _ . h o s t + " / g a l l e r y / " + b . _ . h a s h + " / n e w " } , e r r o r : t h i s . h a n d l e F a i l . b i n d ( t h i s , ! 1 ) } ) } } , h a n d l e P r o m o P l a t f o r m C h a n g e : f u n c t i o n ( a ) { v a r   b = " # t a r g e t i n g - a l l " , c = " : n o t ( " + b + " ) " , d = t h i s . _ . e l . $ p r o m o t e d P l a t A l l . a t t r ( " c h e c k e d " ) , e = " o b j e c t " = = t y p e o f   a & & $ ( a . t a r g e t ) . i s ( b ) ; i f ( t h i s . _ . e l . $ p r o m o t e d P l a t B o x e s . l e n g t h ) i f ( e ) d ? t h i s . _ . e l . $ p r o m o t e d P l a t B o x e s . f i l t e r ( c ) . a t t r ( " c h e c k e d " , ! 0 ) : t h i s . _ . e l . $ p r o m o t e d P l a t A l l . r e m o v e A t t r ( " c h e c k e d " ) ; e l s e { f o r ( v a r   f = t h i s . _ . e l . $ p r o m o t e d P l a t B o x e s . f i l t e r ( c ) . l e n g t h , g = 0 , h = 0 ; h < t h i s . _ . e l . $ p r o m o t e d P l a t B o x e s . l e n g t h ; h + + ) { v a r   i = $ ( t h i s . _ . e l . $ p r o m o t e d P l a t B o x e s [ h ] ) ; i . i s ( b ) | | i . a t t r ( " c h e c k e d " ) & & g + + } f = = g ? t h i s . _ . e l . $ p r o m o t e d P l a t A l l . a t t r ( " c h e c k e d " , ! 0 ) : t h i s . _ . e l . $ p r o m o t e d P l a t A l l . r e m o v e A t t r ( " c h e c k e d " ) } } , r e d i r e c t T o G a l l e r y : f u n c t i o n ( ) { t h i s . _ . p r e v i e w W i n d o w . c l o s e ( ) , w i n d o w . l o c a t i o n = t h i s . _ . g a l l e r y L i n k } , h a n d l e F a i l : f u n c t i o n ( a , b ) { v a r   c = t h i s ; t h i s . _ . l o a d i n g = ! 1 , t h i s . _ . p u b l i s h C o r t e x . s u b m i t t i n g . s e t ( ! 1 ) ; t r y { i f ( ! b ) t h r o w " b a d   r e s p o n s e " ; b . r e s p o n s e T e x t & & ( b = $ . p a r s e J S O N ( b . r e s p o n s e T e x t ) ) } c a t c h ( d ) { r e t u r n   h u m a n M s g . d i s p l a y M s g ( " A n   u n k n o w n   e r r o r   o c c u r r e d .   P l e a s e   t r y   a g a i n . " , " e r r o r - m s g " ) , $ . c o l o r b o x . c l o s e ( ) , v o i d   I m g u r . U t i l . j a f o L o g ( { e v e n t : " s h a r e O n I m g u r E r r o r " , m e t a : { h a s h : t h i s . _ . h a s h , e r r o r : " u n p a r s a b l e " , b u t t o n : " s h a r e " } } ) } i f ( n u l l = = b . d a t a | | n u l l = = b . d a t a . e r r o r | | n u l l = = b . d a t a . e r r o r . m e s s a g e ) r e t u r n   h u m a n M s g . d i s p l a y M s g ( " A n   u n k n o w n   e r r o r   o c c u r r e d .   P l e a s e   t r y   a g a i n . " , " e r r o r - m s g " ) , $ . c o l o r b o x . c l o s e ( ) , v o i d   I m g u r . U t i l . j a f o L o g ( { e v e n t : " s h a r e O n I m g u r E r r o r " , m e t a : { h a s h : t h i s . _ . h a s h , e r r o r : " u n k n o w n " , b u t t o n : " s h a r e " } } ) ; v a r   e = p a r s e I n t ( b . d a t a . e r r o r . m e s s a g e ) , f = " u n k n o w n " ; ! i s N a N ( e ) & & e > 0 ? ( f = " r a t e L i m i t " , h u m a n M s g . d i s p l a y M s g ( t h i s . _ . m e s s a g e s . p o s t i n g T o o F a s t ( e ) , " e r r o r - m s g " ) ) : " B a n n e d " = = b . d a t a . e r r o r . m e s s a g e ? ( f = " b a n n e d " , h u m a n M s g . d i s p l a y M s g ( t h i s . _ . m e s s a g e s . b a n n e d , " e r r o r - m s g " ) , $ . c o l o r b o x . c l o s e ( ) ) : " T e r m s " = = b . d a t a . e r r o r . m e s s a g e ? ( f = " t e r m s " , t h i s . s h o w T e r m s ( a ) ) : " N o t V e r i f i e d " = = b . d a t a . e r r o r . m e s s a g e ? ( f = " n o t V e r i f i e d " , t h i s . s h o w E m a i l V e r i f i c a t i o n ( f u n c t i o n ( ) { a ? c . h a n d l e S a v e ( ) : c . h a n d l e S u b m i t ( ) } ) ) : " O P " = = b . d a t a . e r r o r . m e s s a g e ? ( h u m a n M s g . d i s p l a y M s g ( " O P   m u s t   e x i s t . " , " e r r o r - m s g " ) , $ . c o l o r b o x . c l o s e ( ) ) : " S u s p e n d e d " = = b . d a t a . e r r o r . m e s s a g e ? ( f = " s u s p e n d e d " , h u m a n M s g . d i s p l a y M s g ( " Y o u r   a c c o u n t   i s   c u r r e n t l y   s u s p e n d e d " , " e r r o r - m s g " ) ) : ( h u m a n M s g . d i s p l a y M s g ( " A n   u n k n o w n   e r r o r   o c c u r r e d .   P l e a s e   t r y   a g a i n . " , " e r r o r - m s g " ) , $ . c o l o r b o x . c l o s e ( ) ) , I m g u r . U t i l . j a f o L o g ( { e v e n t : " s h a r e O n I m g u r E r r o r " , m e t a : { h a s h : t h i s . _ . h a s h , e r r o r : f , b u t t o n : " s h a r e " } } ) } , h a n d l e V a l i d a t i o n : f u n c t i o n ( a ) { v a r   b = ! 1 , c = " " , d = a = = = ! 0 ? " p r e v i e w " : " s h a r e " ; r e t u r n   t h i s . _ . e l . $ r e q u i r e d . v a l ( ) | | ( t h i s . _ . e l . $ r e q u i r e d . a d d C l a s s ( " e r r o r " ) , t h i s . _ . e l . $ r e q u i r e d . f o c u s ( ) , b = ! 0 , c + = " n o T i t l e " ) , " " = = t h i s . _ . e l . $ t o p i c _ i d . v a l ( ) & & ( t h i s . _ . e l . $ t o p i c S e l e c t . a d d C l a s s ( " e r r o r " ) , b = ! 0 , c + = " n o T i t l e " = = c ? " N o T a g s " : " n o T a g s " ) , ! b | | ( I m g u r . U t i l . j a f o L o g ( { e v e n t : " s h a r e O n I m g u r E r r o r " , m e t a : { h a s h : t h i s . _ . h a s h , e r r o r : c , b u t t o n : d } } ) , ! 1 ) } , c h e c k M i s s i n g F i e l d s : f u n c t i o n ( ) { v a r   a = 0 ; r e t u r n   t h i s . _ . h a s T o p i c | | a + + , t h i s . _ . h a s T i t l e | | a + + , t h i s . _ . p u b l i s h C o r t e x . m i s s i n g F i e l d s . s e t ( a ) , a } , s h o w T e r m s : f u n c t i o n ( a ) { v a r   b = t h i s , c = I m g u r . S h a r e O n I m g u r . g e t I n s t a n c e ( ) ; $ . c o l o r b o x . c l o s e ( ) , $ . c o l o r b o x ( { h r e f : b . _ . g a l l e r y S u b m i t T e r m s U r l , o p e n : ! 0 , i f r a m e : ! 0 , t o p : " 1 5 % " , t r a n s i t i o n : " n o n e " , s c r o l l i n g : ! 1 , i n n e r W i d t h : " 5 2 0 p x " , i n n e r H e i g h t : " 2 3 4 p x " , o n C o m p l e t e : f u n c t i o n ( ) { b . _ . p u b l i s h C o r t e x . s u b m i t t i n g . s e t ( ! 1 ) } , o n C l e a n u p : f u n c t i o n ( ) { c . _ . t e r m s & & ( b . _ . e l . $ t e r m s . v a l ( 1 ) , a ? b . h a n d l e S a v e ( ) : b . h a n d l e S u b m i t ( ) ) } } ) } , a c c e p t T e r m s : f u n c t i o n ( a , b ) { v a r   c = I m g u r . S h a r e O n I m g u r . g e t I n s t a n c e ( ) ; c . _ . t e r m s = 1 , c . _ . e l . $ t e r m s . v a l ( 1 ) , b | | $ . c o l o r b o x . c l o s e ( ) } , d e c l i n e T e r m s : f u n c t i o n ( ) { v a r   a = I m g u r . S h a r e O n I m g u r . g e t I n s t a n c e ( ) ; a . _ . t e r m s = 0 , a . _ . e l . $ t e r m s . v a l ( 0 ) , $ . c o l o r b o x . c l o s e ( ) } , s h o w E m a i l V e r i f i c a t i o n : f u n c t i o n ( a ) { v a r   b = I m g u r . S h a r e O n I m g u r . g e t I n s t a n c e ( ) ; $ . c o l o r b o x . c l o s e ( ) , s e t T i m e o u t ( f u n c t i o n ( ) { v a r   c = b ; $ . c o l o r b o x ( { h r e f : b . _ . g a l l e r y V e r i f y E m a i l F o r m U r l , o p e n : ! 0 , i f r a m e : ! 0 , t o p : " 1 5 % " , t r a n s i t i o n : " n o n e " , s c r o l l i n g : ! 1 , i n n e r W i d t h : " 5 2 0 p x " , i n n e r H e i g h t : " 2 5 6 p x " , o n C o m p l e t e : f u n c t i o n ( ) { b . s e n d V e r i f i c a t i o n E m a i l ( ) , c . c h e c k E m a i l V e r i f i c a t i o n ( ) } , o n C l e a n u p : f u n c t i o n ( ) { a & & a ( ) } } ) } , 6 0 0 ) } , s e n d V e r i f i c a t i o n E m a i l : f u n c t i o n ( ) { $ . g e t ( " / a j a x / s e n d _ e m a i l _ v e r i f i c a t i o n " ) } , c h e c k E m a i l V e r i f i c a t i o n : f u n c t i o n ( a , b ) { v a r   c = t h i s ; a | | ( a = " " ) , $ . p o s t ( " / a j a x / v e r i f y _ e m a i l / " + a , f u n c t i o n ( d ) { d . d a t a . v e r i f i e d ? ( $ . c o l o r b o x . c l o s e ( ) , b & & b ( ) ) : ( d . d a t a . i n v a l i d & & a & & h u m a n M s g . d i s p l a y M s g ( " V e r i f i c a t i o n   c o d e   i s   i n v a l i d " , " e r r o r - m s g " ) , s e t T i m e o u t ( f u n c t i o n ( ) { c . c h e c k E m a i l V e r i f i c a t i o n ( ) } , 1 5 0 0 ) ) } ) } } ) , C l a s s . a d d S i n g l e t o n ( I m g u r . S h a r e O n I m g u r ) , N a m e s p a c e ( " I m g u r " ) , I m g u r . G a l l e r y P o s t = R e a c t . c r e a t e C l a s s ( { d i s p l a y N a m e : " G a l l e r y P o s t " , g e t I n t e r e s t i n g E v e n t s : f u n c t i o n ( ) { r e t u r n [ " s e l e c t " ] } , r e n d e r : f u n c t i o n ( ) { v a r   a = t h i s . p r o p s . c u r r e n t I m a g e S t o r e . g e t C u r r e n t I m a g e ( ) , b = a . t i t l e , c = a . n s f w ? " m a t u r e - i n d i c a t o r " : " " ; r e t u r n " u n t i t l e d " = = b & & ( b = " " ) , a . i s A d ? R e a c t . D O M . d i v ( n u l l , t h i s . p r o p s . p r o m o t e d T a g ( ) , R e a c t . D O M . h 1 ( { i d : " i m a g e - t i t l e " , c l a s s N a m e : c } , b ) ) : R e a c t . D O M . d i v ( n u l l , R e a c t . D O M . h 1 ( { i d : " i m a g e - t i t l e " , c l a s s N a m e : c } , b ) ) } } ) , N a m e s p a c e ( " I m g u r . S h a r e " ) , I m g u r . S h a r e . T i t l e = R e a c t . c r e a t e C l a s s ( { d i s p l a y N a m e : " S h a r e - T i t l e " , g e t I n i t i a l S t a t e : f u n c t i o n ( ) { r e t u r n { t i t l e : t h i s . p r o p s . t i t l e , t i t l e L e n g t h : t h i s . p r o p s . t i t l e . l e n g t h } } , h a n d l e C h a n g e : f u n c t i o n ( a ) { v a r   b = a . t a r g e t . v a l u e . l e n g t h ; i f ( t h i s . s e t S t a t e ( { t i t l e : a . t a r g e t . v a l u e , t i t l e L e n g t h : b } ) , " f u n c t i o n " = = t y p e o f   t h i s . p r o p s . h a n d l e C h a n g e ) { v a r   c = ! 1 ; b > 0 & & b < = t h i s . p r o p s . m a x L e n g t h & & ( c = ! 0 ) , t h i s . p r o p s . h a n d l e C h a n g e ( c ) } } , r e n d e r : f u n c t i o n ( ) { v a r   a = " " ; r e t u r n   t h i s . s t a t e . t i t l e L e n g t h > = t h i s . p r o p s . m a x L e n g t h ? a = "   f i l l e d " : t h i s . s t a t e . t i t l e L e n g t h > 0 & & ( a = "   f i l l i n g " ) , R e a c t . D O M . d i v ( { } , R e a c t . D O M . i n p u t ( { t y p e : " t e x t " , c l a s s N a m e : t h i s . p r o p s . i n p u t C l a s s e s , r e f : " t i t l e " , n a m e : " t i t l e " , p l a c e h o l d e r : " G i v e   y o u r   p o s t   a   t i t l e " , v a l u e : t h i s . s t a t e . t i t l e , a u t o C o m p l e t e : " o f f " , m a x L e n g t h : t h i s . p r o p s . m a x L e n g t h , t a b I n d e x : 1 , o n C h a n g e : t h i s . h a n d l e C h a n g e } ) , R e a c t . D O M . p ( { c l a s s N a m e : t h i s . p r o p s . l i m i t C l a s s e s + a } , " ( " + t h i s . s t a t e . t i t l e L e n g t h + " / " + t h i s . p r o p s . m a x L e n g t h + " ) " ) ) } } ) , N a m e s p a c e ( " I m g u r . S h a r e " ) , I m g u r . S h a r e . P u b l i s h = R e a c t . c r e a t e C l a s s ( { d i s p l a y N a m e : " S h a r e - P u b l i s h " , h a n d l e R u l e s : f u n c t i o n ( ) { I m g u r . U t i l . j a f o L o g ( { e v e n t : " r e p o r t R u l e s " , m e t a : { t y p e : " g a l l e r y P o s t " , h a s h : t h i s . p r o p s . h a s h , i s A l b u m : t h i s . p r o p s . i s _ a l b u m } } ) } , r e n d e r : f u n c t i o n ( ) { v a r   a , b , c = t h i s . p r o p s . c o r t e x . m i s s i n g F i e l d s . g e t V a l u e ( ) ; r e t u r n   c ? ( a = R e a c t . D O M . b u t t o n ( { i d : " s h a r e " , c l a s s N a m e : " b t n   b t n - g r e y " , d i s a b l e d : " d i s a b l e d " } , " F i n i s h   &   S h a r e " ) , b = R e a c t . D O M . p ( { i d : " m i s s i n g - f i e l d s " } , " m i s s i n g   " + c + "   r e q u i r e d   f i e l d " + ( 0 ! = c ? " s " : " " ) ) ) : ( a = R e a c t . D O M . b u t t o n ( { i d : " s h a r e " , c l a s s N a m e : " b t n   b t n - m a i n " , o n C l i c k : t h i s . p r o p s . h a n d l e S u b m i t } , " F i n i s h   &   S h a r e " ) , b = R e a c t . D O M . p ( { i d : " m i s s i n g - f i e l d s " , c l a s s N a m e : " s u c c e s s " } , " R e m e m b e r   o u r   " , R e a c t . D O M . a ( { h r e f : " / r u l e s " , t a r g e t : " _ b l a n k " , o n C l i c k : t h i s . h a n d l e R u l e s } , " c o m m u n i t y   r u l e s " ) ) ) , R e a c t . D O M . d i v ( { } , a , R e a c t . D O M . s p a n ( { i d : " s h a r e - l o a d e r " , c l a s s N a m e : t h i s . p r o p s . c o r t e x . s u b m i t t i n g . g e t V a l u e ( ) ? " " : " n o d i s p l a y " } ) , t h i s . p r o p s . c o r t e x . p r o m o t e d . g e t V a l u e ( ) ? " " : R e a c t . D O M . a ( { i d : " p r e v i e w " , h r e f : " " , o n C l i c k : t h i s . p r o p s . h a n d l e P r e v i e w } , " p r e v i e w   p o s t " ) , b ) } } ) , N a m e s p a c e ( " I m g u r . E l e m e n t " ) , I m g u r . E l e m e n t . S o r t e d L i s t = C l a s s . e x t e n d ( { i n i t : f u n c t i o n ( a , b , c ) { t h i s . _ = { e l : { $ c o n t a i n e r : a } , c o m p a r a t o r : b , l i s t : c | | [ ] } } , g e t C o m p a r a t o r : f u n c t i o n ( ) { r e t u r n   t h i s . _ . c o m p a r a t o r } , g e t L i s t : f u n c t i o n ( ) { r e t u r n   t h i s . _ . l i s t } , g e t $ C o n t a i n e r : f u n c t i o n ( ) { r e t u r n   t h i s . _ . e l . $ c o n t a i n e r } , a d d : f u n c t i o n ( a ) { f o r ( v a r   b = ! 1 , c = 0 ; c < t h i s . _ . l i s t . l e n g t h ; c + + ) { v a r   d = t h i s . _ . l i s t [ c ] , e = t h i s . _ . c o m p a r a t o r ( a , d ) ; i f ( e < = 0 ) { d . g e t $ C o n t a i n e r ( ) . b e f o r e ( a . g e t $ C o n t a i n e r ( ) ) , t h i s . _ . l i s t . s p l i c e ( c , 0 , a ) , b = ! 0 ; b r e a k } } b | | t h i s . a p p e n d ( a ) } , p r e p e n d : f u n c t i o n ( a ) { t h i s . _ . l i s t . l e n g t h ? t h i s . _ . l i s t [ 0 ] . i n s e r t B e f o r e ( a ) : t h i s . _ . e l . $ c o n t a i n e r . a p p e n d ( a . g e t $ C o n t a i n e r ( ) ) , t h i s . _ . l i s t . u n s h i f t ( a ) } , a p p e n d : f u n c t i o n ( a ) { t h i s . _ . e l . $ c o n t a i n e r . a p p e n d ( a . g e t $ C o n t a i n e r ( ) ) , t h i s . _ . l i s t . p u s h ( a ) } , r e m o v e : f u n c t i o n ( a ) { t h i s . r e m o v e E l e m e n t P r e d i c a t e ( f u n c t i o n ( b ) { r e t u r n   b . e q u a l s ( a ) } ) } , r e m o v e E l e m e n t P r e d i c a t e : f u n c t i o n ( a ) { t h i s . _ . l i s t = _ . f i l t e r ( t h i s . _ . l i s t , f u n c t i o n ( b ) { v a r   c = a ( b ) ; r e t u r n   c & & b . r e m o v e ( ) , ! c } ) } , c l e a r : f u n c t i o n ( ) { f o r ( v a r   a = 0 ; a < t h i s . _ . l i s t . l e n g t h ; a + + ) t h i s . _ . l i s t [ a ] . r e m o v e ( ) ; t h i s . _ . l i s t = [ ] } , e x t e n d : f u n c t i o n ( a ) { _ . e a c h ( a , _ . b i n d ( t h i s . a d d , t h i s ) ) } , l e n g t h : f u n c t i o n ( ) { r e t u r n   t h i s . _ . l i s t . l e n g t h } , c o n t a i n s : f u n c t i o n ( a ) { r e t u r n   _ . s o m e ( t h i s . _ . l i s t , f u n c t i o n ( b ) { r e t u r n   a . e q u a l s ( b ) } ) } , c o n t a i n s B y : f u n c t i o n ( a ) { r e t u r n   _ . s o m e ( t h i s . _ . l i s t , a ) } , m o v e T o T o p : f u n c t i o n ( a ) { a . r e m o v e ( ) , t h i s . r e m o v e ( a ) , t h i s . p r e p e n d ( a ) } , f i n d F i r s t B y : f u n c t i o n ( a ) { v a r   b = _ . f i l t e r ( t h i s . _ . l i s t , a ) ; r e t u r n   b . l e n g t h ? b [ 0 ] : n u l l } } ) , N a m e s p a c e ( " I m g u r . E l e m e n t " ) , I m g u r . E l e m e n t . S o r t e d L i s t E m p t y a b l e = I m g u r . E l e m e n t . S o r t e d L i s t . e x t e n d ( { i n i t : f u n c t i o n ( a , b , c , d , e ) { t h i s . _ s u p e r ( a , c , d ) , t h i s . _ . e l . $ e m p t y = b , t h i s . _ . e m p t y M e s s a g e P r o v i d e r = e | | f u n c t i o n ( ) { r e t u r n   b } } , s e t E m p t y M e s s a g e P r o v i d e r : f u n c t i o n ( a ) { t h i s . _ . e m p t y M e s s a g e P r o v i d e r = a } , g e t E m p t y M e s s a g e P r o v i d e r : f u n c t i o n ( ) { r e t u r n   t h i s . _ . e m p t y M e s s a g e P r o v i d e r } , _ r e p l a c e E m p t y M e s s a g e : f u n c t i o n ( ) { v a r   a = $ ( t h i s . _ . e m p t y M e s s a g e P r o v i d e r ( ) ) ; t h i s . _ . e l . $ e m p t y . r e p l a c e W i t h ( a ) , t h i s . _ . e l . $ e m p t y = a } , a d d : f u n c t i o n ( a ) { t h i s . _ s u p e r ( a ) , t h i s . h i d e E m p t y M e s s a g e ( ) } , p r e p e n d : f u n c t i o n ( a ) { t h i s . h i d e E m p t y M e s s a g e ( ) , t h i s . _ s u p e r ( a ) } , a p p e n d : f u n c t i o n ( a ) { t h i s . h i d e E m p t y M e s s a g e ( ) , t h i s . _ s u p e r ( a ) } , r e m o v e : f u n c t i o n ( a ) { t h i s . _ s u p e r ( a ) , 0 = = t h i s . _ . l i s t . l e n g t h & & t h i s . s h o w E m p t y M e s s a g e ( ) } , r e m o v e E l e m e n t P r e d i c a t e : f u n c t i o n ( a ) { t h i s . _ s u p e r ( a ) , 0 = = t h i s . _ . l i s t . l e n g t h & & t h i s . s h o w E m p t y M e s s a g e ( ) } , c l e a r : f u n c t i o n ( ) { t h i s . _ s u p e r ( ) , t h i s . s h o w E m p t y M e s s a g e ( ) } , h a s E m p t y M e s s a g e : f u n c t i o n ( ) { r e t u r n ! t h i s . _ . e l . $ e m p t y . h a s C l a s s ( " n o d i s p l a y " ) } , h i d e E m p t y M e s s a g e : f u n c t i o n ( ) { t h i s . h a s E m p t y M e s s a g e ( ) & & t h i s . _ . e l . $ e m p t y . a d d C l a s s ( " n o d i s p l a y " ) } , s h o w E m p t y M e s s a g e : f u n c t i o n ( ) { t h i s . _ r e p l a c e E m p t y M e s s a g e ( ) , t h i s . h a s E m p t y M e s s a g e ( ) | | t h i s . _ . e l . $ e m p t y . r e m o v e C l a s s ( " n o d i s p l a y " ) } } ) , N a m e s p a c e ( " I m g u r . E l e m e n t " ) , I m g u r . E l e m e n t . O u t s i d e S o r t e d L i s t E m p t y a b l e = I m g u r . E l e m e n t . S o r t e d L i s t E m p t y a b l e . e x t e n d ( { h a s E m p t y M e s s a g e : f u n c t i o n ( ) { r e t u r n   t h i s . _ . e l . $ s e l e c t o r C o n t a i n e r . h a s C l a s s ( " n o G r o u p s " ) } , h i d e E m p t y M e s s a g e : f u n c t i o n ( ) { t h i s . h a s E m p t y M e s s a g e ( ) & & t h i s . _ . e l . $ s e l e c t o r C o n t a i n e r . r e m o v e C l a s s ( " n o G r o u p s " ) } , s h o w E m p t y M e s s a g e : f u n c t i o n ( ) { t h i s . _ r e p l a c e E m p t y M e s s a g e ( ) , t h i s . h a s E m p t y M e s s a g e ( ) | | t h i s . _ . e l . $ s e l e c t o r C o n t a i n e r . a d d C l a s s ( " n o G r o u p s " ) } } ) , N a m e s p a c e ( " I m g u r . T a g " ) , I m g u r . T a g . F o l l o w = R e a c t . c r e a t e C l a s s ( { d i s p l a y N a m e : " T a g - F o l l o w " , _ h a n d l e U n s u b s c r i b e : f u n c t i o n ( ) { t h i s . p r o p s . g r o u p M o d e l . u n s u b s c r i b e ( " [ c u s t o m ] " , t h i s . p r o p s . t a g ) } , _ h a n d l e S u b s c r i b e : f u n c t i o n ( ) { t h i s . p r o p s . g r o u p M o d e l . s u b s c r i b e ( " [ c u s t o m ] " , t h i s . p r o p s . t a g ) } , r e n d e r : f u n c t i o n ( ) { r e t u r n   t h i s . p r o p s . t a g F o l l o w e r ? R e a c t . D O M . d i v ( { c l a s s N a m e : " b t n   b t n - s m a l l   b t n - m a i n " , o n C l i c k : _ . b i n d ( t h i s . _ h a n d l e U n s u b s c r i b e , t h i s ) } , " f o l l o w i n g " ) : R e a c t . D O M . d i v ( { c l a s s N a m e : " b t n   b t n - s m a l l   b t n - s e c o n d a r y " , o n C l i c k : _ . b i n d ( t h i s . _ h a n d l e S u b s c r i b e , t h i s ) } , " f o l l o w " ) } } ) , N a m e s p a c e ( " I m g u r . T a g " ) , I m g u r . T a g . G r o u p S e l e c t o r = C l a s s . e x t e n d ( { i n i t : f u n c t i o n ( a , b , c , d , e , f ) { t h i s . _ = _ . m e r g e ( t h i s . _ | | { } , { e m i t t e r : a , s e c t i o n : b , s o r t : c , i n S e a r c h : d , a c t i v e G r o u p : f , e l : { $ s e l e c t i o n : e . f i n d ( " # s e c t i o n   . s e l e c t i o n " ) } } ) } , c h a n g e S e l e c t i o n T o T a g : f u n c t i o n ( a ) { t h i s . _ . e l . $ s e c t i o n N a m e . h t m l ( a ) } , g e t A c t i v e G r o u p I d : f u n c t i o n ( ) { r e t u r n   t h i s . _ . a c t i v e G r o u p . g e t I d ( ) } , g e t A c t i v e G r o u p : f u n c t i o n ( ) { r e t u r n   t h i s . _ . a c t i v e G r o u p } , g e t A c t i v e G r o u p N a m e : f u n c t i o n ( ) { r e t u r n   t h i s . _ . a c t i v e G r o u p . g e t N a m e ( ) } , g e t A c t i v e T a g : f u n c t i o n ( ) { r e t u r n   t h i s . _ . t a g } , g e t A c t i v e T a g N a m e : f u n c t i o n ( ) { r e t u r n   t h i s . _ . t a g . g e t N a m e ( ) } , s e t A c t i v e G r o u p N a m e : f u n c t i o n ( a ) { t h i s . _ . a c t i v e G r o u p . s e t N a m e ( a ) , t h i s . _ . e l . $ s e l e c t i o n . t e x t ( a ) . t r i m ( ) } , f i n d T a g I n A c t i v e G r o u p : f u n c t i o n ( a ) { r e t u r n   t h i s . _ . a c t i v e G r o u p . f i n d F i r s t T a g B y ( f u n c t i o n ( b ) { r e t u r n   b . g e t N a m e ( ) = = = a } ) } } ) , N a m e s p a c e ( " I m g u r . T a g " ) , I m g u r . T a g . M a i n G r o u p S e l e c t o r = I m g u r . T a g . G r o u p S e l e c t o r . e x t e n d ( { i n i t : f u n c t i o n ( a , b , c , d , e , f , g ) { t h i s . _ s u p e r ( a , b , c , d , e ) , t h i s . _ = _ . m e r g e ( t h i s . _ | | { } , { e m i t t e r : a , s e c t i o n : b , s o r t : c , i n S e a r c h : d , s e n t e n c e : f , o u t s i d e A c t i v e T a g S t o r e : g , e l : { $ c o n t a i n e r : e , $ s e l e c t i o n N a m e : e . f i n d ( " # s e c t i o n   . s e l e c t i o n   . n a m e " ) } } ) } , g e t $ C o n t a i n e r : f u n c t i o n ( ) { r e t u r n   t h i s . _ . e l . $ c o n t a i n e r } } ) , N a m e s p a c e ( " I m g u r . T a g " ) , I m g u r . T a g . G r o u p = C l a s s . e x t e n d ( { i n i t : f u n c t i o n ( a , b ) { t h i s . _ = { l i s t : b , e l : { $ c o n t a i n e r : a , $ n a m e : a . f i n d ( " . n a m e " ) } } } , g e t I d : f u n c t i o n ( ) { r e t u r n   t h i s . g e t I d F r o m $ C o n t a i n e r ( t h i s . _ . e l . $ c o n t a i n e r ) } , g e t L i s t : f u n c t i o n ( ) { r e t u r n   t h i s . _ . l i s t } , s e t L i s t : f u n c t i o n ( a ) { t h i s . _ . l i s t = a } , g e t N a m e : f u n c t i o n ( ) { r e t u r n   t h i s . _ . e l . $ n a m e . t e x t ( ) } , g e t $ C o n t a i n e r : f u n c t i o n ( ) { r e t u r n   t h i s . _ . e l . $ c o n t a i n e r } , g e t $ N a m e : f u n c t i o n ( ) { r e t u r n   t h i s . _ . e l . $ n a m e } , s e t N a m e : f u n c t i o n ( a ) { t h i s . _ . e l . $ n a m e . t e x t ( a ) } , a d d : f u n c t i o n ( a ) { t h i s . _ . l i s t . a d d ( a ) } , c o n t a i n s : f u n c t i o n ( a ) { r e t u r n   t h i s . _ . l i s t . c o n t a i n s ( a ) } , c o n t a i n s B y : f u n c t i o n ( a ) { r e t u r n   t h i s . _ . l i s t . c o n t a i n s B y ( a ) } , f i n d F i r s t T a g B y : f u n c t i o n ( a ) { r e t u r n   t h i s . _ . l i s t . f i n d F i r s t B y ( a ) } , g e t I d F r o m $ C o n t a i n e r : f u n c t i o n ( a ) { r e t u r n   a . c h i l d r e n ( " d i v " ) . a t t r ( " v a l u e " ) } , g e t T y p e F r o m $ C o n t a i n e r : f u n c t i o n ( a ) { r e t u r n   a . c h i l d r e n ( " d i v " ) . a t t r ( " d a t a - t y p e " ) } , e q u a l s : f u n c t i o n ( a ) { r e t u r n   a = = = t h i s . g e t I d ( ) } , i n s e r t B e f o r e : f u n c t i o n ( a ) { t h i s . g e t $ C o n t a i n e r ( ) . b e f o r e ( a . g e t $ C o n t a i n e r ( ) ) } } ) , N a m e s p a c e ( " I m g u r . T a g " ) , I m g u r . T a g . U s e r G r o u p = I m g u r . T a g . G r o u p . e x t e n d ( { i n i t : f u n c t i o n ( a , b ) { t h i s . _ s u p e r ( a , b ) , t h i s . _ . e l . $ r e m o v e = a . f i n d ( " . r e m o v e " ) } , s e t N a m e : f u n c t i o n ( a ) { t h i s . _ . e l . $ n a m e . t e x t ( a ) } , g e t $ R e m o v e B u t t o n : f u n c t i o n ( ) { r e t u r n   t h i s . _ . e l . $ r e m o v e } , r e m o v e : f u n c t i o n ( ) { t h i s . _ . e l . $ c o n t a i n e r . r e m o v e ( ) } , e q u a l s : f u n c t i o n ( a ) { r e t u r n   a = = = t h i s . g e t I d ( ) } } ) , N a m e s p a c e ( " I m g u r . T a g " ) , I m g u r . T a g . G r o u p M o d e l = C l a s s . e x t e n d ( { i n i t : f u n c t i o n ( a , b , c ) { t h i s . _ = { p o s t : a , t a g G r o u p S t o r e : b , e m i t t e r : c } } , u n s u b s c r i b e : f u n c t i o n ( a , b ) { t h i s . _ . t a g G r o u p S t o r e . r e m o v e T a g F r o m G r o u p ( b , a ) ; v a r   c = _ . b i n d ( f u n c t i o n ( ) { t h i s . _ . t a g G r o u p S t o r e . s e t F a i l e d T a g ( " " ) , t h i s . _ . t a g G r o u p S t o r e . p u s h H i s t o r y ( b , a , t h i s . _ . t a g G r o u p S t o r e . A C T I O N S . R E M O V E D ) , t h i s . _ . e m i t t e r . t r i g g e r ( " n e w   t a g s e t " ) } , t h i s ) , d = _ . b i n d ( f u n c t i o n ( ) { t h i s . _ . t a g G r o u p S t o r e . s e t F a i l e d T a g ( " F a i l e d   t o   u n s u b s c r i b e   f r o m   " + b ) , t h i s . _ . t a g G r o u p S t o r e . a d d T a g T o G r o u p ( b , a ) , t h i s . _ . t a g G r o u p S t o r e . p u s h H i s t o r y ( b , a , t h i s . _ . t a g G r o u p S t o r e . A C T I O N S . E R R O R ) , h u m a n M s g . d i s p l a y M s g ( " F a i l e d   t o   u n f o l l o w   t a g " , " e r r o r - m s g " ) } , t h i s ) ; t h i s . _ . p o s t ( " / a c c o u n t / g r o u p s / u n s u b s c r i b e " , { g r o u p : a , t a g : b } , c , d ) } , s u b s c r i b e : f u n c t i o n ( a , b ) { t h i s . _ . t a g G r o u p S t o r e . a d d P e n d i n g T a g ( b , a ) ; v a r   c = _ . b i n d ( f u n c t i o n ( ) { t h i s . _ . t a g G r o u p S t o r e . a d d T a g T o G r o u p ( b , a ) , t h i s . _ . t a g G r o u p S t o r e . r e m o v e P e n d i n g T a g ( b , a ) , t h i s . _ . t a g G r o u p S t o r e . s e t F a i l e d T a g ( " " ) , t h i s . _ . t a g G r o u p S t o r e . p u s h H i s t o r y ( b , a , t h i s . _ . t a g G r o u p S t o r e . A C T I O N S . A D D E D ) , t h i s . _ . e m i t t e r . t r i g g e r ( " n e w   t a g s e t " ) } , t h i s ) , d = _ . b i n d ( f u n c t i o n ( ) { t h i s . _ . t a g G r o u p S t o r e . s e t F a i l e d T a g ( " F a i l e d   t o   s u b s c r i b e   t o   " + b ) , t h i s . _ . t a g G r o u p S t o r e . r e m o v e P e n d i n g T a g ( b , a ) , t h i s . _ . t a g G r o u p S t o r e . p u s h H i s t o r y ( b , a , t h i s . _ . t a g G r o u p S t o r e . A C T I O N S . E R R O R ) , h u m a n M s g . d i s p l a y M s g ( " F a i l e d   t o   f o l l o w   t a g " , " e r r o r - m s g " ) } , t h i s ) ; t h i s . _ . p o s t ( " / a c c o u n t / g r o u p s / s u b s c r i b e " , { g r o u p : a , t a g : b } , c , d ) } , b l o c k : f u n c t i o n ( a , b ) { t h i s . _ . t a g G r o u p S t o r e . a d d P e n d i n g T a g ( b , a ) ; v a r   c = _ . b i n d ( f u n c t i o n ( ) { t h i s . _ . t a g G r o u p S t o r e . a d d T a g T o G r o u p ( b , a ) , t h i s . _ . t a g G r o u p S t o r e . r e m o v e P e n d i n g T a g ( b , a ) , t h i s . _ . t a g G r o u p S t o r e . s e t F a i l e d T a g ( " " ) , t h i s . _ . t a g G r o u p S t o r e . p u s h H i s t o r y ( b , a , t h i s . _ . t a g G r o u p S t o r e . A C T I O N S . B L O C K E D ) , t h i s . _ . e m i t t e r . t r i g g e r ( " n e w   t a g s e t " ) } , t h i s ) , d = _ . b i n d ( f u n c t i o n ( ) { t h i s . _ . t a g G r o u p S t o r e . s e t F a i l e d T a g ( " F a i l e d   t o   b l o c k   " + b ) , t h i s . _ . t a g G r o u p S t o r e . r e m o v e P e n d i n g T a g ( b , a ) , t h i s . _ . t a g G r o u p S t o r e . p u s h H i s t o r y ( b , a , t h i s . _ . t a g G r o u p S t o r e . A C T I O N S . E R R O R ) } , t h i s ) ; t h i s . _ . p o s t ( " / a c c o u n t / g r o u p s / b l o c k t a g " , { t a g : b } , c , d ) , t h i s . _ . t a g G r o u p S t o r e . b l o c k ( b ) } , u n b l o c k : f u n c t i o n ( a , b ) { t h i s . _ . t a g G r o u p S t o r e . r e m o v e T a g F r o m G r o u p ( b , a ) ; v a r   c = _ . b i n d ( f u n c t i o n ( ) { t h i s . _ . t a g G r o u p S t o r e . s e t F a i l e d T a g ( " " ) , t h i s . _ . t a g G r o u p S t o r e . p u s h H i s t o r y ( b , a , t h i s . _ . t a g G r o u p S t o r e . A C T I O N S . U N B L O C K E D ) , t h i s . _ . e m i t t e r . t r i g g e r ( " n e w   t a g s e t " ) } , t h i s ) , d = _ . b i n d ( f u n c t i o n ( ) { t h i s . _ . t a g G r o u p S t o r e . p u s h H i s t o r y ( b , a , t h i s . _ . t a g G r o u p S t o r e . A C T I O N S . E R R O R ) , t h i s . _ . t a g G r o u p S t o r e . s e t F a i l e d T a g ( " F a i l e d   t o   u n b l o c k   " + b ) , t h i s . _ . t a g G r o u p S t o r e . a d d T a g T o G r o u p ( b , a ) } , t h i s ) ; t h i s . _ . p o s t ( " / a c c o u n t / g r o u p s / u n b l o c k t a g " , { t a g : b } , c , d ) , t h i s . _ . t a g G r o u p S t o r e . u n b l o c k ( b ) } } ) , N a m e s p a c e ( " I m g u r . T a g " ) , I m g u r . T a g . T a g = C l a s s . e x t e n d ( { i n i t : f u n c t i o n ( a ) { t h i s . _ = { e l : { $ c o n t a i n e r : a , $ n a m e : O b j e c t . g e t P r o t o t y p e O f ( t h i s ) . g e t $ N a m e F r o m $ C o n t a i n e r ( a ) } } } , i n s e r t B e f o r e : f u n c t i o n ( a ) { t h i s . _ . e l . $ c o n t a i n e r . b e f o r e ( a . g e t $ C o n t a i n e r ( ) ) } , r e m o v e : f u n c t i o n ( ) { t h i s . _ . e l . $ c o n t a i n e r . r e m o v e ( ) } , g e t N a m e : f u n c t i o n ( ) { r e t u r n   t h i s . _ . e l . $ n a m e . t e x t ( ) . t o L o w e r C a s e ( ) } , g e t $ C o n t a i n e r : f u n c t i o n ( ) { r e t u r n   t h i s . _ . e l . $ c o n t a i n e r } , g e t $ N a m e : f u n c t i o n ( ) { r e t u r n   t h i s . _ . e l . $ n a m e } , g e t $ N a m e F r o m $ C o n t a i n e r : f u n c t i o n ( a ) { r e t u r n   a . c h i l d r e n ( " . n a m e " ) } , g e t N a m e F r o m $ C o n t a i n e r : f u n c t i o n ( a ) { r e t u r n   a . c h i l d r e n ( " . n a m e " ) . t e x t ( ) } , e q u a l s : f u n c t i o n ( a ) { r e t u r n   a   i n s t a n c e o f   I m g u r . T a g . T a g & & a . g e t N a m e ( ) = = t h i s . g e t N a m e ( ) } , a d d S e l e c t i o n : f u n c t i o n ( ) { t h i s . g e t $ C o n t a i n e r ( ) . a d d C l a s s ( " s e l e c t e d " ) } , r e m o v e S e l e c t i o n : f u n c t i o n ( ) { t h i s . g e t $ C o n t a i n e r ( ) . r e m o v e C l a s s ( " s e l e c t e d " ) } } ) , N a m e s p a c e ( " I m g u r . T a g " ) , I m g u r . T a g . R e m o v a b l e T a g = I m g u r . T a g . T a g . e x t e n d ( { i n i t : f u n c t i o n ( a , b ) { t h i s . _ s u p e r ( b ) , t h i s . _ . e m i t t e r = a , t h i s . _ . e l . $ r e m o v e = b . f i n d ( " . r e m o v e " ) } , g e t E m i t t e r : f u n c t i o n ( ) { r e t u r n   t h i s . _ . e m i t t e r } , g e t $ R e m o v e B u t t o n : f u n c t i o n ( ) { r e t u r n   t h i s . _ . e l . $ r e m o v e } , m a r k C o n f i r m e d : f u n c t i o n ( ) { t h i s . _ . e l . $ c o n t a i n e r . r e m o v e C l a s s ( " p e n d i n g " ) } , r e m o v e : f u n c t i o n ( ) { t h i s . _ . e m i t t e r . t r i g g e r ( " t a g . r e m o v e " , t h i s . g e t N a m e ( ) ) , t h i s . _ s u p e r ( ) } } ) , N a m e s p a c e ( " I m g u r . T a g " ) , I m g u r . T a g . O u t s i d e T a g g i n g W i d g e t = C l a s s . e x t e n d ( { i n i t : f u n c t i o n ( a , b , c , d ) { t h i s . _ = { e m i t t e r : d , s h o w B e s t C o m m e n t s C o o k i e : " s h o w C o m m e n t s " , s h o w T a g s C o o k i e : " s h o w T a g s " , e l : { $ o u t s i d e T a g g i n g P a r e n t : b , $ o u t s i d e T a g g i n g : a , $ t a g S h o w H i d e : c } } } , i s O p e n : f u n c t i o n ( ) { r e t u r n   $ . c o o k i e ( t h i s . _ . s h o w T a g s C o o k i e ) } , t o g g l e : f u n c t i o n ( a ) { v a r   b = t h i s . _ . e l . $ o u t s i d e T a g g i n g P a r e n t . h a s C l a s s ( " h i d d e n " ) ; $ ( " . t i p s y " ) . r e m o v e ( ) , b ? ( t h i s . _ . e l . $ o u t s i d e T a g g i n g P a r e n t . r e m o v e C l a s s ( " h i d d e n " ) , t h i s . _ . e l . $ t a g S h o w H i d e . a t t r ( " t i t l e " , " H i d e   S i d e b a r " ) , t h i s . _ . e l . $ o u t s i d e T a g g i n g . s t o p ( ! 0 , ! 0 ) . f a d e T o ( 0 , 1 ) ) : ( t h i s . _ . e l . $ o u t s i d e T a g g i n g P a r e n t . a d d C l a s s ( " h i d d e n " ) , t h i s . _ . e l . $ t a g S h o w H i d e . a t t r ( " t i t l e " , " S h o w   S i d e b a r " ) , t h i s . _ . e l . $ o u t s i d e T a g g i n g . s t o p ( ! 0 , ! 0 ) . d e l a y ( 1 0 0 ) . f a d e T o ( 1 0 0 , 0 ) ) , a ? t h i s . s e t B e s t C o m m e n t s C o o k i e ( b ? 1 : 0 ) : t h i s . s e t T a g B o x C o o k i e ( b ? 1 : 0 ) } , o p e n T a g B o x : f u n c t i o n ( ) { t h i s . i s O p e n ( ) | | t h i s . t o g g l e ( ! 1 ) } , s e t T a g B o x C o o k i e : f u n c t i o n ( a ) { a ? $ . c o o k i e ( t h i s . _ . s h o w T a g s C o o k i e , a , { p a t h : " / " , e x p i r e s : 1 e 4 } ) : $ . r e m o v e C o o k i e ( t h i s . _ . s h o w T a g s C o o k i e , { p a t h : " / " } ) } , s e t B e s t C o m m e n t s C o o k i e : f u n c t i o n ( a ) { a ? $ . c o o k i e ( t h i s . _ . s h o w B e s t C o m m e n t s C o o k i e , a , { p a t h : " / " , e x p i r e s : 1 e 4 } ) : $ . r e m o v e C o o k i e ( t h i s . _ . s h o w B e s t C o m m e n t s C o o k i e , { p a t h : " / " } ) } } ) , N a m e s p a c e ( " I m g u r . T a g " ) , I m g u r . T a g . M o d e l = C l a s s . e x t e n d ( { i n i t : f u n c t i o n ( a , b ) { t h i s . _ = { a j a x : a , t a g P r o v i d e r : b , q u e r y N o n c e : 0 , p e n d i n g R e q u e s t : n u l l } } , c a n c e l : f u n c t i o n ( ) { t h i s . _ . q u e r y N o n c e + + , n u l l ! = t h i s . _ . p e n d i n g R e q u e s t & & t h i s . _ . p e n d i n g R e q u e s t . a b o r t ( ) } , f e t c h : f u n c t i o n ( a , b , c , d ) { t h i s . c a n c e l ( ) , t h i s . _ . p e n d i n g R e q u e s t = t h i s . _ . a j a x ( b , d , _ . b i n d ( t h i s . _ h a n d l e R e s p o n s e , t h i s , t h i s . _ . q u e r y N o n c e , a , c | | _ . n o o p ) , _ . b i n d ( t h i s . _ h a n d l e E r r o r , t h i s , a ) ) } , r e s p o n s e W a s S u c c e s s f u l : f u n c t i o n ( a ) { r e t u r n ! ! a . s u c c e s s } , _ h a n d l e R e s p o n s e : f u n c t i o n ( a , b , c , d ) { t h i s . _ . p e n d i n g R e q u e s t = n u l l , a < t h i s . _ . q u e r y N o n c e | | ( t h i s . _ . q u e r y N o n c e + + , d & & t h i s . r e s p o n s e W a s S u c c e s s f u l ( d ) & & c ( b , t h i s . _ h a n d l e R e s p o n s e S u c c e s s ( b , d ) ) ) } , _ h a n d l e E r r o r : f u n c t i o n ( a ) { t h r o w " a b s t r a c t " } , _ h a n d l e R e s p o n s e S u c c e s s : f u n c t i o n ( a , b ) { t h r o w " a b s t r a c t " } } ) , N a m e s p a c e ( " I m g u r . T a g " ) , I m g u r . T a g . S u g g e s t M o d e l = I m g u r . T a g . M o d e l . e x t e n d ( { i n i t : f u n c t i o n ( a , b , c ) { t h i s . _ s u p e r ( a , b ) , t h i s . _ . a u t o S u g g e s t U r l = c } , f e t c h : f u n c t i o n ( a , b , c , d ) { t h i s . _ s u p e r ( [ a , b , d ] , t h i s . _ . a u t o S u g g e s t U r l + " / t a g s / _ s u g g e s t " , c , J S O N . s t r i n g i f y ( { t a g s : { t e x t : b , c o m p l e t i o n : { f i e l d : " n a m e _ s u g g e s t " , s i z e : 1 0 , f u z z y : { e d i t _ d i s t a n c e : 1 } } } } ) ) } , r e s p o n s e W a s S u c c e s s f u l : f u n c t i o n ( a ) { r e t u r n   a . _ s h a r d s . s u c c e s s f u l > 0 } , _ h a n d l e R e s p o n s e S u c c e s s : f u n c t i o n ( a , b ) { v a r   c = [ ] , d = a [ 0 ] , e = ( a [ 1 ] , a [ 2 ] ) ; r e t u r n   _ . e a c h ( b . t a g s [ 0 ] . o p t i o n s , _ . b i n d ( f u n c t i o n ( a , b ) { c . p u s h ( t h i s . _ . t a g P r o v i d e r ( e , d , a . t e x t , a . p a y l o a d . s u b s c r i b e d ) ) } , t h i s ) ) , c } , t o S t r i n g : f u n c t i o n ( ) { r e t u r n " [ t a g   s u g g e s t i o n   m o d e l ] " } } ) , N a m e s p a c e ( " I m g u r . T a g " ) , I m g u r . T a g . S u g g e s t M o d e l N o P r o v i d e r = I m g u r . T a g . M o d e l . e x t e n d ( { i n i t : f u n c t i o n ( a , b ) { t h i s . _ s u p e r ( a , n u l l ) , t h i s . _ . a u t o S u g g e s t U r l = b } , f e t c h : f u n c t i o n ( a , b ) { a ? t h i s . _ s u p e r ( a , t h i s . _ . a u t o S u g g e s t U r l + " / t a g s / _ s u g g e s t " , b , J S O N . s t r i n g i f y ( { t a g s : { t e x t : a , c o m p l e t i o n : { f i e l d : " n a m e _ s u g g e s t " , s i z e : 1 0 , f u z z y : { e d i t _ d i s t a n c e : 1 } } } } ) ) : b ( " " , [ ] ) } , r e s p o n s e W a s S u c c e s s f u l : f u n c t i o n ( a ) { r e t u r n   a . _ s h a r d s . s u c c e s s f u l > 0 } , _ h a n d l e R e s p o n s e S u c c e s s : f u n c t i o n ( a , b ) { v a r   c = [ ] ; r e t u r n   _ . e a c h ( b . t a g s [ 0 ] . o p t i o n s , _ . b i n d ( f u n c t i o n ( a , b ) { c . p u s h ( { t a g : a . t e x t , s u b s c r i b e r s : a . p a y l o a d . s u b s c r i b e d , i m a g e s : a . p a y l o a d . i m a g e s } ) } , t h i s ) ) , c } , _ h a n d l e E r r o r : _ . n o o p } ) , N a m e s p a c e ( " I m g u r . T a g " ) , I m g u r . T a g . A u t o c o m p l e t e C o m p o n e n t = R e a c t . c r e a t e C l a s s ( { d i s p l a y N a m e : " T a g - A u t o c o m p l e t e C o m p o n e n t " , g e t I n i t i a l S t a t e : f u n c t i o n ( ) { r e t u r n { h i d d e n : " " } } , g e t D e f a u l t P r o p s : f u n c t i o n ( ) { r e t u r n { K E Y C O D E S : { K E Y _ T : 8 4 , K E Y _ E S C : 2 7 , K E Y _ D O W N _ A R R O W : 4 0 , K E Y _ R I G H T _ A R R O W : 3 9 , K E Y _ U P _ A R R O W : 3 8 , K E Y _ E N T E R : 1 3 , K E Y _ T A B : 9 } } } , f o c u s : f u n c t i o n ( ) { t h i s . r e f s . q u e r y . f o c u s ( ) } , m o v e C u r s o r T o E n d : f u n c t i o n ( a ) { a . s e l e c t i o n S t a r t = a . s e l e c t i o n E n d = a . v a l u e . l e n g t h , a . s t y l e . d i s p l a y = " n o n e " , a . o f f s e t H e i g h t , a . s t y l e . d i s p l a y = " b l o c k " , a . f o c u s ( ) } , h a n d l e K e y D o w n : f u n c t i o n ( a ) { $ ( " . t i p s y " ) . r e m o v e ( ) , 9 = = a . k e y C o d e & & " " ! = t h i s . _ g e t A c I n f o ( ) . q u e r y D i s p l a y e d & & a . p r e v e n t D e f a u l t ( ) ; v a r   b = { d o w n _ a r r o w : a . k e y C o d e = = = t h i s . p r o p s . K E Y C O D E S . K E Y _ D O W N _ A R R O W , u p _ a r r o w : a . k e y C o d e = = = t h i s . p r o p s . K E Y C O D E S . K E Y _ U P _ A R R O W , r i g h t _ a r r o w : a . k e y C o d e = = = t h i s . p r o p s . K E Y C O D E S . K E Y _ R I G H T _ A R R O W , e n t e r : a . k e y C o d e = = = t h i s . p r o p s . K E Y C O D E S . K E Y _ E N T E R , t a b : a . k e y C o d e = = = t h i s . p r o p s . K E Y C O D E S . K E Y _ T A B , m o d i f i e r : ! ! a . m e t a K e y | | ! ! a . c t r l K e y | | ! ! a . a l t K e y } ; i f ( ! b . m o d i f i e r ) { b . e n t e r & & t h i s . h a n d l e S u b m i t ( a ) ; v a r   c = t h i s . p r o p s . s u g g e s t i o n S t o r e . g e t S u g g e s t i o n s ( ) ; i f ( 0 = = c . l e n g t h & & ( c = t h i s . p r o p s . d e f a u l t T a g s | | [ ] ) , c . l e n g t h ) { v a r   d = t h i s . p r o p s . g e t A u t o c o m p l e t e I d x ( ) ; i f ( b . d o w n _ a r r o w | | b . u p _ a r r o w ) { v a r   e = 0 ; i f ( e = b . d o w n _ a r r o w ? 1 : - 1 , 0 = = = d & & b . u p _ a r r o w | | d = = = c . l e n g t h - 1 & & b . d o w n _ a r r o w ) r e t u r n   v o i d   t h i s . p r o p s . s e t C o m p o n e n t S t a t e ( { s e l e c t i o n A c t i v e : ! 1 , a u t o c o m p l e t e I d x : n u l l } ) ; d = n u l l = = d ? b . u p _ a r r o w ? c . l e n g t h - 1 : 0 : ( ( d + e ) % c . l e n g t h + c . l e n g t h ) % c . l e n g t h , t h i s . p r o p s . s e t C o m p o n e n t S t a t e ( { s e l e c t i o n A c t i v e : ! 0 , a u t o c o m p l e t e I d x : d } ) } e l s e   i f ( b . r i g h t _ a r r o w | | b . t a b ) { v a r   f = c [ 0 ] . t a g , g = t h i s . r e f s . q u e r y ; n u l l ! = d ? f = c [ d ] . t a g : " n u m b e r " = = t y p e o f   g . s e l e c t i o n E n d & & g . s e l e c t i o n E n d = = g . v a l u e . l e n g t h & & t h i s . m o v e C u r s o r T o E n d ( g ) , t h i s . p r o p s . s u g g e s t i o n S t o r e . s e t Q u e r y ( f ) , t h i s . h a n d l e K e y P r e s s ( a ) , b . t a b & & t h i s . p r o p s . s e t C o m p o n e n t S t a t e ( { f o c u s D u e : ! 0 } ) } } } } , h a n d l e K e y P r e s s : f u n c t i o n ( a ) { v a r   b = t h i s . _ g e t A c I n f o ( ) . q u e r y D i s p l a y e d + ( 3 2 = = a . w h i c h ? " m " : S t r i n g . f r o m C h a r C o d e ( a . w h i c h ) ) , c = $ ( " < s p a n   / > " ) . t e x t ( b ) ; $ ( " b o d y " ) . a p p e n d ( c ) , c . w i d t h ( ) > $ ( t h i s . r e f s . q u e r y ) . w i d t h ( ) ? t h i s . s e t S t a t e ( { h i d d e n : " h i d e v i s " } ) : t h i s . s e t S t a t e ( { h i d d e n : " " } ) , c . r e m o v e ( ) } , h a n d l e C h a n g e d Q u e r y : f u n c t i o n ( a ) { t h i s . p r o p s . s u g g e s t i o n S t o r e . s e t V a l i d a t i o n M o d e ( " q u e r y " ) , t h i s . p r o p s . s u g g e s t i o n S t o r e . s e t Q u e r y ( a . t a r g e t . v a l u e ) , t h i s . p r o p s . s e t C o m p o n e n t S t a t e ( { s e l e c t i o n A c t i v e : ! 1 , a u t o c o m p l e t e I d x : n u l l } ) } , h a n d l e S u b m i t : f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) , t h i s . p r o p s . s u g g e s t i o n S t o r e . s e t V a l i d a t i o n M o d e ( " s u b m i t " ) ; v a r   b = t h i s . _ g e t A c I n f o ( ) , c = b . q u e r y D i s p l a y e d , d = t h i s . p r o p s . s u g g e s t i o n S t o r e . g e t I s V a l i d Q u e r y ( c ) ; d & & t h i s . p r o p s . o n S u b m i t ( c , a ) } , f o c u s e d : f u n c t i o n ( ) { t h i s . p r o p s . s e t C o m p o n e n t S t a t e ( { f o c u s D u e : ! 1 } ) } , _ g e t A c I n f o : f u n c t i o n ( ) { v a r   a = t h i s . p r o p s . s u g g e s t i o n S t o r e . g e t Q u e r y ( ) , b = " " , c = t h i s . p r o p s . s u g g e s t i o n S t o r e . g e t S u g g e s t i o n s ( ) ; 0 = = c . l e n g t h & & ( c = t h i s . p r o p s . d e f a u l t T a g s | | [ ] ) , c . l e n g t h & & n u l l ! = t h i s . p r o p s . g e t A u t o c o m p l e t e I d x ( ) ? b = c [ t h i s . p r o p s . g e t A u t o c o m p l e t e I d x ( ) ] . t a g : c . l e n g t h & & ( b = c [ 0 ] . t a g ) ; v a r   d = t h i s . _ l o n g e s t C o m m o n P r e f i x ( b , a ) ; r e t u r n   d & & ( d = = a | | t h i s . p r o p s . g e t S e l e c t i o n A c t i v e ( ) ) | | ( b = " " ) , { a c T e x t : b , q u e r y D i s p l a y e d : n u l l ! = t h i s . p r o p s . g e t A u t o c o m p l e t e I d x ( ) & & t h i s . p r o p s . g e t S e l e c t i o n A c t i v e ( ) ? b : a } } , _ l o n g e s t C o m m o n P r e f i x : f u n c t i o n ( a , b ) { i f ( ! b ) r e t u r n   a ; f o r ( v a r   c = M a t h . m i n ( a . l e n g t h , b . l e n g t h ) ; c > = 0 ; ) { i f ( a . s u b s t r ( 0 , c ) = = b . s u b s t r ( 0 , c ) ) r e t u r n   a . s u b s t r ( 0 , c ) ; c - - } r e t u r n " " } , c o m p o n e n t D i d U p d a t e : f u n c t i o n ( ) { ( t h i s . p r o p s . m a y b e E r r o r L a b e l | | t h i s . p r o p s . m a y b e A j a x E r r o r L a b e l ) & & $ ( " . t i p s y - e r r o r " ) . t i p s y ( { c l s : " e r r o r - t i p s y " , g r a v i t y : " w " , t r i g g e r : " m a n u a l " , t i t l e : " d a t a - t i t l e " } ) . t i p s y ( " s h o w " ) } , r e n d e r : f u n c t i o n ( ) { r e t u r n   R e a c t . D O M . d i v ( { c l a s s N a m e : " a c C o n t a i n e r " } , R e a c t . D O M . i n p u t ( { r e f : " q u e r y " , o n C h a n g e : t h i s . h a n d l e C h a n g e d Q u e r y , t y p e : " t e x t " , i d : t h i s . p r o p s . i d ? t h i s . p r o p s . i d : " t a g b o x " , p l a c e h o l d e r : t h i s . p r o p s . p l a c e h o l d e r , t a b I n d e x : t h i s . p r o p s . t a b I n d e x , v a l u e : t h i s . _ g e t A c I n f o ( ) . q u e r y D i s p l a y e d , o n K e y D o w n : t h i s . h a n d l e K e y D o w n , o n K e y P r e s s : t h i s . h a n d l e K e y P r e s s , a u t o C o m p l e t e : " o f f " , " d a t a - t i t l e " : t h i s . p r o p s . m a y b e E r r o r L a b e l ? t h i s . p r o p s . m a y b e E r r o r L a b e l : t h i s . p r o p s . m a y b e A j a x E r r o r L a b e l ? t h i s . p r o p s . m a y b e A j a x E r r o r L a b e l : " " , c l a s s N a m e : t h i s . p r o p s . c l a s s N a m e + ( t h i s . p r o p s . m a y b e E r r o r L a b e l | | t h i s . p r o p s . m a y b e A j a x E r r o r L a b e l ? "   t i p s y - e r r o r " : " " ) } ) , R e a c t . D O M . i n p u t ( { i d : " a c T e x t " , t y p e : " t e x t " , a u t o C o m p l e t e : " o f f " , r e a d O n l y : ! 0 , r e f : " h i n t " , c l a s s N a m e : t h i s . s t a t e . h i d d e n , v a l u e : t h i s . _ g e t A c I n f o ( ) . a c T e x t } ) ) } } ) , N a m e s p a c e ( " I m g u r . T a g " ) , I m g u r . T a g . C o m p a r a t o r = C l a s s . e x t e n d ( { c o m p a r e : f u n c t i o n ( a , b ) { v a r   c = a . g e t N a m e ( ) , d = b . g e t N a m e ( ) ; i f ( d = = c ) r e t u r n   0 ; v a r   e = [ c , d ] ; r e t u r n   e . s o r t ( ) , e [ 0 ] = = c ? - 1 : 1 } } ) , N a m e s p a c e ( " I m g u r . T a g " ) , I m g u r . T a g . S h a r e T a g C o m p o n e n t = R e a c t . c r e a t e C l a s s ( { d i s p l a y N a m e : " T a g - S h a r e T a g C o m p o n e n t " , g e t I n i t i a l S t a t e : f u n c t i o n ( ) { r e t u r n { f o c u s D u e : ! 0 , s e l e c t i o n A c t i v e : ! 1 , a u t o c o m p l e t e I d x : n u l l } } , _ e n c o d e : f u n c t i o n ( a ) { r e t u r n   a . r e p l a c e ( n e w   R e g E x p ( "   " , " g " ) , " _ " ) } , h a n d l e T a g C l i c k e d : f u n c t i o n ( a , b ) { b . p r e v e n t D e f a u l t ( ) } , h a n d l e R e m o v e C l i c k e d : f u n c t i o n ( a , b ) { b . p r e v e n t D e f a u l t ( ) , t h i s . p r o p s . t a g S t o r e . r e m o v e T a g ( a ) } , h a n d l e Q u e r y C h a n g e : f u n c t i o n ( a ) { t h i s . p r o p s . s u g g e s t i o n S t o r e . s e t Q u e r y ( a . t a r g e t . v a l u e ) } , h a n d l e C h o i c e : f u n c t i o n ( a , b ) { b . p r e v e n t D e f a u l t ( ) , t h i s . p r o p s . s u g g e s t i o n S t o r e . s e t V a l i d a t i o n M o d e ( " q u e r y " ) , t h i s . p r o p s . s u g g e s t i o n S t o r e . c l e a r ( ) , t h i s . p r o p s . s u g g e s t i o n S t o r e . s e t Q u e r y ( " " ) , t h i s . p r o p s . t a g S t o r e . a d d T a g ( { t a g : a } ) , t h i s . s e t S t a t e ( { s e l e c t i o n A c t i v e : ! 1 , a u t o c o m p l e t e I d x : n u l l } ) } , g e t S e l e c t i o n A c t i v e : f u n c t i o n ( ) { r e t u r n   t h i s . s t a t e . s e l e c t i o n A c t i v e } , g e t A u t o c o m p l e t e I d x : f u n c t i o n ( ) { r e t u r n   t h i s . s t a t e . a u t o c o m p l e t e I d x } , s e t C o m p o n e n t S t a t e : f u n c t i o n ( a ) { t h i s . s e t S t a t e ( a ) } , c o m p o n e n t D i d M o u n t : f u n c t i o n ( ) { t h i s . _ u p d a t e N a n o ( ) } , c o m p o n e n t D i d U p d a t e : f u n c t i o n ( ) { t h i s . _ u p d a t e N a n o ( ) } , _ u p d a t e N a n o : f u n c t i o n ( ) { v a r   a = $ ( t h i s . r e f s . n a n o ) , b = t h i s . r e f s . c o n t e n t ; a . h e i g h t ( " i n h e r i t " ) . h e i g h t ( b . s c r o l l H e i g h t ) , a . n a n o S c r o l l e r ( { p r e v e n t P a g e S c r o l l i n g : ! 0 , a l w a y s V i s i b l e : ! 0 } ) , a . c h i l d r e n ( " . p a n e " ) . i s ( " : v i s i b l e " ) ? a . a d d C l a s s ( " n a n o - v i s i b l e " ) : a . r e m o v e C l a s s ( " n a n o - v i s i b l e " ) } , s t o p P r o p a g a t i o n : f u n c t i o n ( a ) { a . s t o p P r o p a g a t i o n ( ) } , _ p r o d u c e T a g : f u n c t i o n ( a , b , c ) { r e t u r n   R e a c t . D O M . d i v ( { o n C l i c k : _ . p a r t i a l ( t h i s . h a n d l e C h o i c e , b ) , c l a s s N a m e : " t a g   s u g g e s t e d   p o i n t e r " + ( a ? "   h o v e r " : " " ) } , R e a c t . D O M . d i v ( { c l a s s N a m e : " n a m e " } , b ) , R e a c t . D O M . d i v ( { c l a s s N a m e : " i m a g e s " } , I m g u r . U t i l . n u m b e r F o r m a t ( c ) + "   i m a g e s " ) ) } , r e n d e r : f u n c t i o n ( ) { v a r   a = t h i s . p r o p s . s u g g e s t i o n S t o r e . g e t L a s t F i n i s h e d Q u e r y ( ) , b = t h i s . p r o p s . s u g g e s t i o n S t o r e . g e t Q u e r y ( ) , c = t h i s . p r o p s . s u g g e s t i o n S t o r e . g e t I s V a l i d Q u e r y ( b ) , d = t h i s . p r o p s . s u g g e s t i o n S t o r e . g e t W h y N o t ( b ) , e = t h i s . p r o p s . s u g g e s t i o n S t o r e . g e t I s L o a d i n g ( ) , f = t h i s . p r o p s . s u g g e s t i o n S t o r e . g e t S u g g e s t i o n s ( ) , g = [ ] , h = [ ] , i = [ ] , j = [ ] , k = O b j e c t . k e y s ( t h i s . p r o p s . t a g S t o r e . g e t T a g s ( ) ) , l = 0 , m = " " ; i f ( t a g C o u n t T e x t = " " , a . l e n g t h ) { i f ( _ . e a c h ( f , _ . b i n d ( f u n c t i o n ( a , b ) { v a r   c = n u l l ! = t h i s . s t a t e . a u t o c o m p l e t e I d x & & b = = t h i s . s t a t e . a u t o c o m p l e t e I d x & & t h i s . s t a t e . s e l e c t i o n A c t i v e ; g . p u s h ( t h i s . _ p r o d u c e T a g ( c , a . t a g , a . i m a g e s ) ) } , t h i s ) ) , ! f . l e n g t h & & c ) { v a r   n = e ? a : b ; g . p u s h ( R e a c t . D O M . p ( { c l a s s N a m e : " e m p t y " } , " N o   t a g   l i k e   " , R e a c t . D O M . e m ( n u l l , n ) , "   f o u n d .   " , R e a c t . D O M . a ( { c l a s s N a m e : " t a g - c r e a t e - f r o m - e m p t y - q u e r y " , h r e f : " # " , o n C l i c k : _ . p a r t i a l ( t h i s . h a n d l e C h o i c e , n ) } , " M a k e   i t ! " ) ) ) } } e l s e   g . p u s h ( R e a c t . D O M . d i v ( { c l a s s N a m e : " e m p t y " } , " " ) ) ; r e t u r n ! ( g . l e n g t h < 2 & & 0 = = k . l e n g t h ) | | f . l e n g t h | | e & & b . l e n g t h | | ( i = _ . f i l t e r ( t h i s . p r o p s . d e f a u l t T a g s , f u n c t i o n ( a ) { r e t u r n   k . i n d e x O f ( a . t a g ) = = - 1 } ) , _ . e a c h ( i , _ . b i n d ( f u n c t i o n ( a , b ) { i f ( k . i n d e x O f ( a . t a g ) = = - 1 ) { v a r   c = n u l l ! = t h i s . s t a t e . a u t o c o m p l e t e I d x & & b = = t h i s . s t a t e . a u t o c o m p l e t e I d x & & t h i s . s t a t e . s e l e c t i o n A c t i v e ; h . p u s h ( t h i s . _ p r o d u c e T a g ( c , a . t a g , a . i m a g e s ) ) } } , t h i s ) ) ) , j = _ . m a p ( k , _ . b i n d ( f u n c t i o n ( a ) { r e t u r n   a = = t h i s . p r o p s . g a l l e r y _ t y p e ? R e a c t . D O M . d i v ( { c l a s s N a m e : " t a g - r e m o v a b l e " } , R e a c t . D O M . s p a n ( n u l l , a ) ) : R e a c t . D O M . d i v ( { c l a s s N a m e : " t a g - r e m o v a b l e " } , R e a c t . D O M . s p a n ( n u l l , a ) , R e a c t . D O M . a ( { o n C l i c k : _ . p a r t i a l ( t h i s . h a n d l e R e m o v e C l i c k e d , a ) , h r e f : " # " , c l a s s N a m e : " r e m o v e " } , " " ) , R e a c t . D O M . i n p u t ( { t y p e : " h i d d e n " , n a m e : " t a g [ ] " , v a l u e : a } ) ) } , t h i s ) ) , l = j . l e n g t h , l > = t h i s . p r o p s . t a g L i m i t ? m = " f i l l e d " : l > 0 & & ( m = " f i l l i n g " ) , t h i s . r e f s . q u e r y & & $ ( t h i s . r e f s . q u e r y ) . f i n d ( " i n p u t " ) . i s ( " : f o c u s " ) & & ( t a g C o u n t T e x t = " P r e s s   e n t e r   t o   a d d   t a g   " ) , R e a c t . D O M . d i v ( n u l l , j , R e a c t . D O M . d i v ( { c l a s s N a m e : " t a g - f i l t e r " } , R e a c t . c r e a t e E l e m e n t ( I m g u r . T a g . A u t o c o m p l e t e C o m p o n e n t , { o n S u b m i t : t h i s . h a n d l e C h o i c e , r e f : " q u e r y " , i d : l > = t h i s . p r o p s . t a g L i m i t ? " t a g b o x - h i d d e n " : t h i s . p r o p s . i d , t y p e : " t e x t " , a u t o C o m p l e t e : " o f f " , p l a c e h o l d e r : t h i s . p r o p s . p l a c e h o l d e r , t a b I n d e x : t h i s . p r o p s . t a b I n d e x , d e f a u l t T a g s : i , s u g g e s t i o n S t o r e : t h i s . p r o p s . s u g g e s t i o n S t o r e , g e t A u t o c o m p l e t e I d x : t h i s . g e t A u t o c o m p l e t e I d x , g e t S e l e c t i o n A c t i v e : t h i s . g e t S e l e c t i o n A c t i v e , s e t C o m p o n e n t S t a t e : t h i s . s e t C o m p o n e n t S t a t e , m a y b e E r r o r L a b e l : d } ) , R e a c t . D O M . d i v ( { r e f : " n a n o " , c l a s s N a m e : " t a g - l i s t - c o n t e n t   n a n o " } , R e a c t . D O M . d i v ( { r e f : " c o n t e n t " , c l a s s N a m e : " t a g - l i s t - r e s u l t s   s c r o l l - c o n t e n t   c o n t e n t " } , i . l e n g t h | | f . l e n g t h & & c ? R e a c t . D O M . p ( { } , " T A G   S U G G E S T I O N S " ) : " " , g , h ) ) ) , R e a c t . D O M . p ( { i d : " t a g - c o u n t " , c l a s s N a m e : " l i m i t " } , t a g C o u n t T e x t , R e a c t . D O M . s p a n ( { c l a s s N a m e : m } , " ( " + l + " / " + t h i s . p r o p s . t a g L i m i t + " ) " ) ) ) } } ) , N a m e s p a c e ( " I m g u r . T a g " ) , I m g u r . T a g . T a g L i s t C o m p o n e n t = R e a c t . c r e a t e C l a s s ( { d i s p l a y N a m e : " T a g - T a g L i s t C o m p o n e n t " , g e t I n i t i a l S t a t e : f u n c t i o n ( ) { r e t u r n { f o c u s D u e : ! 0 , s e l e c t i o n A c t i v e : ! 1 , a u t o c o m p l e t e I d x : n u l l } } , _ e n c o d e : f u n c t i o n ( a ) { r e t u r n   a . r e p l a c e ( n e w   R e g E x p ( "   " , " g " ) , " _ " ) } , h a n d l e T a g C l i c k e d : f u n c t i o n ( a , b ) { b . p r e v e n t D e f a u l t ( ) ; v a r   c = t h i s . p r o p s . o u t s i d e A c t i v e T a g S t o r e . g e t I s A c t i v e ( ) , d = t h i s . p r o p s . o u t s i d e A c t i v e T a g S t o r e . g e t A c t i v e T a g ( ) ; c & & a = = = d ? t h i s . p r o p s . o u t s i d e A c t i v e T a g S t o r e . d e a c t i v a t e ( ) : t h i s . p r o p s . o u t s i d e A c t i v e T a g S t o r e . s e t A c t i v e T a g ( a ) } , h a n d l e R e m o v e C l i c k e d : f u n c t i o n ( a , b ) { b . p r e v e n t D e f a u l t ( ) , " [ f i l t e r e d ] " = = = t h i s . p r o p s . g r o u p I d ? t h i s . p r o p s . g r o u p M o d e l . u n b l o c k ( t h i s . p r o p s . g r o u p I d , a ) : t h i s . p r o p s . g r o u p M o d e l . u n s u b s c r i b e ( t h i s . p r o p s . g r o u p I d , a ) } , h a n d l e Q u e r y C h a n g e : f u n c t i o n ( a ) { t h i s . p r o p s . s u g g e s t i o n S t o r e . s e t Q u e r y ( a . t a r g e t . v a l u e ) } , h a n d l e C h o i c e : f u n c t i o n ( a , b ) { b . p r e v e n t D e f a u l t ( ) , t h i s . p r o p s . s u g g e s t i o n S t o r e . s e t V a l i d a t i o n M o d e ( " q u e r y " ) , t h i s . p r o p s . s u g g e s t i o n S t o r e . c l e a r ( ) , t h i s . p r o p s . s u g g e s t i o n S t o r e . s e t Q u e r y ( " " ) , " [ f i l t e r e d ] " = = = t h i s . p r o p s . g r o u p I d ? t h i s . p r o p s . g r o u p M o d e l . b l o c k ( t h i s . p r o p s . g r o u p I d , a ) : t h i s . p r o p s . t a g G r o u p S t o r e . i s T a g I n G r o u p ( a , t h i s . p r o p s . g r o u p I d ) | | t h i s . p r o p s . g r o u p M o d e l . s u b s c r i b e ( t h i s . p r o p s . g r o u p I d , a ) } , g e t S e l e c t i o n A c t i v e : f u n c t i o n ( ) { r e t u r n   t h i s . s t a t e . s e l e c t i o n A c t i v e } , g e t A u t o c o m p l e t e I d x : f u n c t i o n ( ) { r e t u r n   t h i s . s t a t e . a u t o c o m p l e t e I d x } , s e t C o m p o n e n t S t a t e : f u n c t i o n ( a ) { t h i s . s e t S t a t e ( a ) } , c o m p o n e n t D i d M o u n t : f u n c t i o n ( ) { t h i s . _ u p d a t e N a n o ( ) } , c o m p o n e n t D i d U p d a t e : f u n c t i o n ( ) { t h i s . _ u p d a t e N a n o ( ) } , _ u p d a t e N a n o : f u n c t i o n ( ) { v a r   a = $ ( t h i s . r e f s . n a n o ) , b = t h i s . r e f s . c o n t e n t ; a . h e i g h t ( " i n h e r i t " ) . h e i g h t ( b . s c r o l l H e i g h t ) , a . n a n o S c r o l l e r ( { p r e v e n t P a g e S c r o l l i n g : ! 0 } ) , a . c h i l d r e n ( " . p a n e " ) . i s ( " : v i s i b l e " ) ? a . a d d C l a s s ( " n a n o - v i s i b l e " ) : a . r e m o v e C l a s s ( " n a n o - v i s i b l e " ) } , r e n d e r : f u n c t i o n ( ) { v a r   a = t h i s . p r o p s . s u g g e s t i o n S t o r e . g e t L a s t F i n i s h e d Q u e r y ( ) , b = t h i s . p r o p s . s u g g e s t i o n S t o r e . g e t Q u e r y ( ) , c = t h i s . p r o p s . s u g g e s t i o n S t o r e . g e t I s V a l i d Q u e r y ( b ) , d = t h i s . p r o p s . s u g g e s t i o n S t o r e . g e t W h y N o t ( b ) , e = t h i s . p r o p s . g r o u p I d , f = t h i s . p r o p s . o u t s i d e A c t i v e T a g S t o r e . g e t A c t i v e T a g ( ) , g = t h i s . p r o p s . s u g g e s t i o n S t o r e . g e t I s L o a d i n g ( ) , h = t h i s . p r o p s . s u g g e s t i o n S t o r e . g e t S u g g e s t i o n s ( ) , i = t h i s . p r o p s . t a g G r o u p S t o r e . g e t F a i l e d T a g ( ) , j = " " , k = " " , l = [ ] ; i f ( a . l e n g t h ) { i f ( l = _ . m a p ( h , _ . b i n d ( f u n c t i o n ( a , b ) { v a r   c = n u l l ! = t h i s . s t a t e . a u t o c o m p l e t e I d x & & b = = t h i s . s t a t e . a u t o c o m p l e t e I d x & & t h i s . s t a t e . s e l e c t i o n A c t i v e ; r e t u r n   R e a c t . D O M . d i v ( { o n C l i c k : _ . p a r t i a l ( t h i s . h a n d l e C h o i c e , a . t a g ) , c l a s s N a m e : " t a g   s u g g e s t e d " + ( c ? "   h o v e r " : " " ) } , R e a c t . D O M . s p a n ( { c l a s s N a m e : " n a m e " } , a . t a g ) , R e a c t . D O M . d i v ( { c l a s s N a m e : " a d d " } , R e a c t . D O M . s p a n ( { c l a s s N a m e : " p l u s - i c o n " } , " " ) ) ) } , t h i s ) ) , ! h . l e n g t h & & c ) { v a r   m = g ? a : b ; l . p u s h ( R e a c t . D O M . p ( { i d : " n e w - e m p t y - t a g " } , R e a c t . D O M . s p a n ( { c l a s s N a m e : " i c o n - a l e r t " } , " " ) , " A r e   y o u   s u r e   y o u   w a n t   t o   c r e a t e   " , R e a c t . D O M . e m ( n u l l , m ) ) ) } } e l s e   l = _ . m a p ( t h i s . p r o p s . t a g G r o u p S t o r e . g e t T a g s F o r G r o u p ( e ) , _ . b i n d ( f u n c t i o n ( a ) { r e t u r n   R e a c t . D O M . d i v ( { c l a s s N a m e : " t a g   t a g - r e m o v a b l e   " + ( a = = = f ? " s e l e c t e d " : " " ) + ( t h i s . p r o p s . t a g G r o u p S t o r e . i s P e n d i n g ( a , e ) ? "   p e n d i n g " : " " ) } , R e a c t . D O M . a ( { o n C l i c k : _ . p a r t i a l ( t h i s . h a n d l e T a g C l i c k e d , a ) , h r e f : " / t / " + t h i s . _ e n c o d e ( a ) , c l a s s N a m e : " n a m e " } , a ) , R e a c t . D O M . a ( { o n C l i c k : _ . p a r t i a l ( t h i s . h a n d l e R e m o v e C l i c k e d , a ) , h r e f : " # " , c l a s s N a m e : " r e m o v e " } , " " ) ) } , t h i s ) ) ; i f ( ! l . l e n g t h ) { v a r   n = " " ; " [ f i l t e r e d ] " = = t h i s . p r o p s . g r o u p I d & & ( n = " A d d   t a g s   t o   b e   f i l t e r e d   o u t . " ) , l . p u s h ( R e a c t . D O M . d i v ( { c l a s s N a m e : " e m p t y " } , n ) ) } r e t u r n   c | | ( j = d ) , i & & ( k = i ) , R e a c t . D O M . d i v ( n u l l , R e a c t . D O M . d i v ( { c l a s s N a m e : " t a g - f i l t e r " } , R e a c t . c r e a t e E l e m e n t ( I m g u r . T a g . A u t o c o m p l e t e C o m p o n e n t , { o n S u b m i t : t h i s . h a n d l e C h o i c e , r e f : " q u e r y " , i d : t h i s . p r o p s . i d ? t h i s . p r o p s . i d : " t a g b o x " , t y p e : " t e x t " , a u t o C o m p l e t e : " o f f " , p l a c e h o l d e r : t h i s . p r o p s . p l a c e h o l d e r , m a y b e E r r o r L a b e l : j , m a y b e A j a x E r r o r L a b e l : k , s u g g e s t i o n S t o r e : t h i s . p r o p s . s u g g e s t i o n S t o r e , g e t A u t o c o m p l e t e I d x : t h i s . g e t A u t o c o m p l e t e I d x , g e t S e l e c t i o n A c t i v e : t h i s . g e t S e l e c t i o n A c t i v e , s e t C o m p o n e n t S t a t e : t h i s . s e t C o m p o n e n t S t a t e } ) ) , R e a c t . D O M . d i v ( { r e f : " n a n o " , c l a s s N a m e : " t a g - l i s t - c o n t e n t   n a n o " } , R e a c t . D O M . d i v ( { r e f : " c o n t e n t " , c l a s s N a m e : " t a g - l i s t - r e s u l t s   s c r o l l - c o n t e n t   c o n t e n t " } , l ) ) ) } } ) , N a m e s p a c e ( " I m g u r . T a g . V a l i d a t o r " ) , I m g u r . T a g . T a g V a l i d a t o r = C l a s s . e x t e n d ( { 
 T A G _ R E G E X : / ^ [ a - z A - Z 0 - 9 \ _   ] * $ / , i n i t : f u n c t i o n ( a , b ) { t h i s . _ = { m a x L e n g t h : b , m i n L e n g t h : a } } , i s V a l i d T a g : f u n c t i o n ( a , b , c ) { r e t u r n   t h i s . _ v a l i d a t e T a g ( a , b , c ) . s u c c e s s } , w h y N o t : f u n c t i o n ( a , b , c ) { r e t u r n   t h i s . _ v a l i d a t e T a g ( a , b , c ) . m e s s a g e } , _ v a l i d a t e T a g : f u n c t i o n ( a , b , c ) { v a r   d = { s u c c e s s : ! 0 , m e s s a g e : n u l l } ; r e t u r n   b = b . t r i m ( ) . t o L o w e r C a s e ( ) , n u l l = = b . m a t c h ( O b j e c t . g e t P r o t o t y p e O f ( t h i s ) . T A G _ R E G E X ) & & ( d . m e s s a g e = " T a g s   c a n   o n l y   c o n t a i n   a l p h a n u m e r i c ,   s p a c e ,   a n d   u n d e r s c o r e   c h a r a c t e r s . " , d . s u c c e s s = ! 1 ) , c & & ( d . m e s s a g e = " T h i s   t a g   h a s   a l r e a d y   b e e n   a d d e d " , d . s u c c e s s = ! 1 ) , " s u b m i t " = = a & & b . l e n g t h < t h i s . _ . m i n L e n g t h ? ( d . m e s s a g e = " T a g   i s   t o o   s h o r t .   T a g s   c a n   b e   b e t w e e n   " + t h i s . _ . m i n L e n g t h + "   a n d   " + t h i s . _ . m a x L e n g t h + "   c h a r a c t e r s . " , d . s u c c e s s = ! 1 ) : b . l e n g t h > t h i s . _ . m a x L e n g t h & & ( d . m e s s a g e = " T a g   i s   t o o   l o n g .   T a g s   c a n   b e   b e t w e e n   " + t h i s . _ . m i n L e n g t h + "   a n d   " + t h i s . _ . m a x L e n g t h + "   c h a r a c t e r s . " , d . s u c c e s s = ! 1 ) , d } } ) , N a m e s p a c e ( " I m g u r . T a g . V a l i d a t o r " ) , I m g u r . T a g . G r o u p V a l i d a t o r = C l a s s . e x t e n d ( { G R O U P _ R E G E X : / ^ [ a - z A - Z 0 - 9 & \ - \ s ] * $ / , i n i t : f u n c t i o n ( a , b ) { t h i s . _ = { m a x L e n g t h : b , m i n L e n g t h : a } } , i s V a l i d G r o u p : f u n c t i o n ( a , b ) { r e t u r n   t h i s . _ v a l i d a t e G r o u p ( a , b ) . s u c c e s s } , w h y N o t : f u n c t i o n ( a , b ) { r e t u r n   t h i s . _ v a l i d a t e G r o u p ( a , b ) . m e s s a g e } , _ v a l i d a t e G r o u p : f u n c t i o n ( a , b ) { v a r   c = { s u c c e s s : ! 0 , m e s s a g e : n u l l } ; r e t u r n   b = b . t r i m ( ) , n u l l = = b . m a t c h ( O b j e c t . g e t P r o t o t y p e O f ( t h i s ) . G R O U P _ R E G E X ) & & ( c . m e s s a g e = " G a l l e r i e s   c a n   o n l y   c o n t a i n   a l p h a n u m e r i c   a n d   o t h e r s   ( & - ) . " , c . s u c c e s s = ! 1 ) , " s u b m i t " = = a & & b . l e n g t h < t h i s . _ . m i n L e n g t h ? ( c . m e s s a g e = " G a l l e r y   i s   t o o   s h o r t .   G a l l e r i e s   c a n   b e   b e t w e e n   " + t h i s . _ . m i n L e n g t h + "   a n d   " + t h i s . _ . m a x L e n g t h + "   c h a r a c t e r s . " , c . s u c c e s s = ! 1 ) : b . l e n g t h > t h i s . _ . m a x L e n g t h & & ( c . m e s s a g e = " G a l l e r y   i s   t o o   l o n g .   G a l l e r i e s   c a n   b e   b e t w e e n   " + t h i s . _ . m i n L e n g t h + "   a n d   " + t h i s . _ . m a x L e n g t h + "   c h a r a c t e r s . " , c . s u c c e s s = ! 1 ) , c } } ) , N a m e s p a c e ( " I m g u r . T a g " ) , I m g u r . T a g . S e n t e n c e = C l a s s . e x t e n d ( { i n i t : f u n c t i o n ( a , b , c ) { t h i s . _ = { g r o u p S t o r e : c , e l : { $ b e f o r e : a , $ m i d d l e : b } } } , g e t $ B e f o r e : f u n c t i o n ( ) { r e t u r n   t h i s . _ . e l . $ b e f o r e } , g e t $ M i d d l e : f u n c t i o n ( ) { r e t u r n   t h i s . _ . e l . $ m i d d l e } , c h a n g e : f u n c t i o n ( a ) { " h o t " = = a ? t h i s . _ . e l . $ b e f o r e . t e x t ( " T h e " ) : " g a l l e r y - o t h e r " = = a | | " u s e r s u b " = = a | | " s u b r e d d i t " = = a ? t h i s . _ . e l . $ b e f o r e . t e x t ( " " ) : " t a g " = = a ? t h i s . _ . e l . $ b e f o r e . t e x t ( " I m a g e s   t a g g e d   w i t h " ) : " g a l l e r y " = = a & & t h i s . _ . e l . $ b e f o r e . t e x t ( " Y o u r " ) ; v a r   b = " ,   s o r t e d   b y " ; " h o t " = = a ? b = " i m a g e s   o n   t h e   I n t e r n e t " + b : " u s e r s u b " = = a | | " s u b r e d d i t " = = a ? b = " i m a g e s " + b : " g a l l e r y " ! = a & & " g a l l e r y - o t h e r " ! = a | | ( b = "   g a l l e r y " + b ) , t h i s . _ . e l . $ m i d d l e . t e x t ( b ) } } ) , N a m e s p a c e ( " I m g u r . T a g . S t o r e " ) , I m g u r . T a g . S t o r e . S u g g e s t i o n = C l a s s . e x t e n d ( { i n i t : f u n c t i o n ( a , b ) { t h i s . _ = { t a g V a l i d a t o r : b , e m i t t e r : a , s u g g e s t i o n s : [ ] , q u e r y : " " , l a s t F i n i s h e d Q u e r y : " " , v a l i d a t i o n M o d e : " q u e r y " , l o a d i n g : ! 1 } } , g e t I s L o a d i n g : f u n c t i o n ( ) { r e t u r n   t h i s . _ . l o a d i n g } , s e t I s L o a d i n g : f u n c t i o n ( a ) { t h i s . _ . l o a d i n g = a , t h i s . _ . e m i t t e r . t r i g g e r ( " n e w   s u g g e s t i o n s " ) } , s e t V a l i d a t i o n M o d e : f u n c t i o n ( a ) { t h i s . _ . v a l i d a t i o n M o d e = a , t h i s . _ . e m i t t e r . t r i g g e r ( " n e w   s u g g e s t   v a l i d a t i o n   m o d e " ) } , g e t I s V a l i d Q u e r y : f u n c t i o n ( a ) { r e t u r n   t h i s . _ . t a g V a l i d a t o r . i s V a l i d T a g ( t h i s . _ . v a l i d a t i o n M o d e , a ) } , g e t W h y N o t : f u n c t i o n ( a ) { r e t u r n   t h i s . _ . t a g V a l i d a t o r . w h y N o t ( t h i s . _ . v a l i d a t i o n M o d e , a ) } , g e t Q u e r y : f u n c t i o n ( ) { r e t u r n   t h i s . _ . q u e r y . t o L o w e r C a s e ( ) } , g e t L a s t F i n i s h e d Q u e r y : f u n c t i o n ( ) { r e t u r n   t h i s . _ . l a s t F i n i s h e d Q u e r y } , s e t L a s t F i n i s h e d Q u e r y : f u n c t i o n ( a ) { t h i s . _ . l a s t F i n i s h e d Q u e r y = a , t h i s . _ . e m i t t e r . t r i g g e r ( " n e w   f i n i s h e d   q u e r y " ) } , s e t Q u e r y : f u n c t i o n ( a ) { t h i s . _ . q u e r y = a , t h i s . _ . e m i t t e r . t r i g g e r ( " n e w   s u g g e s t   q u e r y " ) } , g e t S u g g e s t i o n s : f u n c t i o n ( ) { r e t u r n   t h i s . _ . s u g g e s t i o n s } , s e t S u g g e s t i o n s : f u n c t i o n ( a ) { t h i s . _ . s u g g e s t i o n s = a , t h i s . _ . e m i t t e r . t r i g g e r ( " n e w   s u g g e s t i o n s " ) } , a d d S u g g e s t i o n : f u n c t i o n ( a ) { t h i s . _ . s u g g e s t i o n s . p u s h ( a ) , t h i s . _ . e m i t t e r . t r i g g e r ( " n e w   s u g g e s t i o n s " ) } , c l e a r : f u n c t i o n ( ) { t h i s . _ . s u g g e s t i o n s = [ ] , t h i s . _ . e m i t t e r . t r i g g e r ( " n e w   s u g g e s t i o n s " ) } } ) , N a m e s p a c e ( " I m g u r . T a g . S t o r e " ) , I m g u r . T a g . S t o r e . C u r r e n t I m a g e = C l a s s . e x t e n d ( { i n i t : f u n c t i o n ( a ) { t h i s . _ = { e m i t t e r : a , c u r r e n t I m a g e : n u l l } } , s e t C u r r e n t I m a g e : f u n c t i o n ( a ) { t h i s . _ . c u r r e n t I m a g e = a , t h i s . _ . e m i t t e r . t r i g g e r ( " c u r r e n t   i m a g e   u p d a t e d " ) } , g e t C u r r e n t I m a g e : f u n c t i o n ( ) { r e t u r n   t h i s . _ . c u r r e n t I m a g e } , g e t C u r r e n t I m a g e I d : f u n c t i o n ( ) { r e t u r n   t h i s . _ . c u r r e n t I m a g e ? t h i s . _ . c u r r e n t I m a g e . h a s h : n u l l } } ) , N a m e s p a c e ( " I m g u r . T a g . S t o r e " ) , I m g u r . T a g . S t o r e . G r o u p = C l a s s . e x t e n d ( { i n i t : f u n c t i o n ( a , b ) { t h i s . _ = { e m i t t e r : a , g r o u p s : b | | { } } } , g e t G r o u p s : f u n c t i o n ( ) { r e t u r n   _ . f i l t e r ( _ . v a l u e s ( t h i s . _ . g r o u p s ) , f u n c t i o n ( a ) { r e t u r n ! a . d e l e t e d } ) } , g e t G r o u p : f u n c t i o n ( a ) { r e t u r n   t h i s . _ . g r o u p s [ a ] } , h a v e G r o u p : f u n c t i o n ( a ) { r e t u r n   t h i s . _ . g r o u p s . h a s O w n P r o p e r t y ( a ) & & ! t h i s . _ . g r o u p s [ a ] . d e l e t e d } , a d d G r o u p : f u n c t i o n ( a ) { t h i s . _ . g r o u p s [ a . h a s h ] = a , t h i s . _ . e m i t t e r . t r i g g e r ( " n e w   g r o u p   a d d e d " ) } , r e m o v e G r o u p : f u n c t i o n ( a ) { t h i s . _ . g r o u p s . h a s O w n P r o p e r t y ( a ) & & d e l e t e   t h i s . _ . g r o u p s [ a ] , t h i s . _ . e m i t t e r . t r i g g e r ( " g r o u p   d e l e t e d " ) } , m a r k D e l e t e d : f u n c t i o n ( a ) { t h i s . _ . g r o u p s . h a s O w n P r o p e r t y ( a ) & & ( t h i s . _ . g r o u p s [ a ] . d e l e t e d = ! 0 ) , t h i s . _ . e m i t t e r . t r i g g e r ( " g r o u p   d e l e t e d " ) } } ) , N a m e s p a c e ( " I m g u r . T a g . S t o r e " ) , I m g u r . T a g . S t o r e . T a g I m a g e = C l a s s . e x t e n d ( { S O U R C E : { D E F A U L T : " d e f a u l t " , G A L L E R Y _ P A G E : " p a g e " , S U G G E S T I O N : " s u g g e s t i o n " , U S E R : " u s e r " } , i n i t : f u n c t i o n ( a ) { t h i s . _ = { e m i t t e r : a , t a g s B y H a s h : { } , a j a x E r r o r s : { } , i s L o a d i n g : ! 1 } } , s e t A j a x E r r o r : f u n c t i o n ( a , b ) { t h i s . _ . a j a x E r r o r s [ a ] = b , t h i s . _ . e m i t t e r . t r i g g e r ( " a j a x   e r r o r   a d d e d   t o   p o s t " ) } , u n s e t A j a x E r r o r : f u n c t i o n ( a ) { d e l e t e   t h i s . _ . a j a x E r r o r s [ a ] , t h i s . _ . e m i t t e r . t r i g g e r ( " a j a x   e r r o r   r e m o v e d   f r o m   p o s t " ) } , g e t A j a x E r r o r : f u n c t i o n ( a ) { r e t u r n   t h i s . _ . a j a x E r r o r s . h a s O w n P r o p e r t y ( a ) ? t h i s . _ . a j a x E r r o r s [ a ] : n u l l } , g e t I s L o a d i n g : f u n c t i o n ( ) { r e t u r n   t h i s . _ . i s L o a d i n g } , s e t I s L o a d i n g : f u n c t i o n ( a ) { t h i s . _ . i s L o a d i n g = ! ! a , t h i s . _ . e m i t t e r . t r i g g e r ( " a j a x   t a g   l o a d i n g   f i n i s h e d " ) } , i s T a g O n P o s t : f u n c t i o n ( a , b ) { r e t u r n ! ! t h i s . _ . t a g s B y H a s h . h a s O w n P r o p e r t y ( a ) & & t h i s . _ . t a g s B y H a s h [ a ] . h a s O w n P r o p e r t y ( b ) } , g e t T a g s F o r P o s t : f u n c t i o n ( a ) { r e t u r n   t h i s . _ . t a g s B y H a s h . h a s O w n P r o p e r t y ( a ) ? t h i s . _ . t a g s B y H a s h [ a ] : [ ] } , h a v e T a g s F o r P o s t : f u n c t i o n ( a ) { r e t u r n   t h i s . _ . t a g s B y H a s h . h a s O w n P r o p e r t y ( a ) } , a d d T a g F o r P o s t : f u n c t i o n ( a , b , c ) { i f ( t h i s . _ . t a g s B y H a s h . h a s O w n P r o p e r t y ( a ) | | ( t h i s . _ . t a g s B y H a s h [ a ] = { } ) , t h i s . _ . t a g s B y H a s h [ a ] . h a s O w n P r o p e r t y ( b ) ) { v a r   d = t h i s . _ . t a g s B y H a s h [ a ] [ b ] . s o u r c e ; c = _ . m e r g e ( { } , t h i s . _ . t a g s B y H a s h [ a ] [ b ] , c , { s o u r c e : d } ) } t h i s . _ . t a g s B y H a s h [ a ] [ b ] = c , t h i s . _ . e m i t t e r . t r i g g e r ( " t a g   a d d e d   t o   p o s t " ) } , r e m o v e T a g F r o m P o s t : f u n c t i o n ( a , b ) { t h i s . _ . t a g s B y H a s h . h a s O w n P r o p e r t y ( a ) & & t h i s . _ . t a g s B y H a s h [ a ] . h a s O w n P r o p e r t y ( b ) & & d e l e t e   t h i s . _ . t a g s B y H a s h [ a ] [ b ] , t h i s . _ . e m i t t e r . t r i g g e r ( " t a g   r e m o v e d   f r o m   p o s t " ) } , g e t T a g : f u n c t i o n ( a , b ) { i f ( ! t h i s . _ . t a g s B y H a s h . h a s O w n P r o p e r t y ( a ) ) r e t u r n   n u l l ; i f ( ! t h i s . _ . t a g s B y H a s h [ a ] . h a s O w n P r o p e r t y ( b ) ) r e t u r n   n u l l ; v a r   c = t h i s . _ . t a g s B y H a s h [ a ] [ b ] ; r e t u r n   c } , _ g e t T a g P r o p : f u n c t i o n ( a , b , c ) { i f ( ! t h i s . _ . t a g s B y H a s h . h a s O w n P r o p e r t y ( a ) ) r e t u r n   n u l l ; i f ( ! t h i s . _ . t a g s B y H a s h [ a ] . h a s O w n P r o p e r t y ( b ) ) r e t u r n   n u l l ; v a r   b = t h i s . _ . t a g s B y H a s h [ a ] [ b ] ; r e t u r n   b [ c ] } , _ s e t T a g P r o p : f u n c t i o n ( a , b , c , d ) { i f ( t h i s . _ . t a g s B y H a s h . h a s O w n P r o p e r t y ( a ) & & t h i s . _ . t a g s B y H a s h [ a ] . h a s O w n P r o p e r t y ( b ) ) { v a r   b = t h i s . _ . t a g s B y H a s h [ a ] [ b ] ; b [ c ] = d , t h i s . _ . e m i t t e r . t r i g g e r ( " i m a g e   t a g   u p d a t e d " ) } } , g e t T a g V o t e : f u n c t i o n ( a , b ) { r e t u r n   t h i s . _ g e t T a g P r o p ( a , b , " v o t e " ) } , s e t T a g V o t e : f u n c t i o n ( a , b , c ) { t h i s . _ s e t T a g P r o p ( a , b , " v o t e " , c ) } , s e t T a g S o u r c e : f u n c t i o n ( a , b , c ) { t h i s . _ s e t T a g P r o p ( a , b , " s o u r c e " , c ) } } ) , N a m e s p a c e ( " I m g u r . T a g . S t o r e " ) , I m g u r . T a g . S t o r e . T a g = C l a s s . e x t e n d ( { I N T E R E S T I N G _ F I E L D S : [ " t a g " , " s u b s c r i b e r s " , " i m a g e s " ] , i n i t : f u n c t i o n ( a , b ) { t h i s . _ = { e m i t t e r : a , t a g s : { } , l i m i t : b | | 0 } } , g e t T a g : f u n c t i o n ( a ) { r e t u r n   t h i s . _ . t a g s [ a ] } , g e t T a g s : f u n c t i o n ( ) { r e t u r n   t h i s . _ . t a g s } , h a v e T a g : f u n c t i o n ( a ) { r e t u r n   t h i s . _ . t a g s . h a s O w n P r o p e r t y ( a ) } , g e t T a g S u b s c r i b e r s : f u n c t i o n ( a ) { r e t u r n   t h i s . _ . t a g s . h a s O w n P r o p e r t y ( a ) & & t h i s . _ . t a g s [ a ] . h a s O w n P r o p e r t y ( " s u b s c r i b e r s " ) ? t h i s . _ . t a g s [ a ] . s u b s c r i b e r s : " n / a " } , a d d T a g : f u n c t i o n ( a ) { i f ( 0 = = t h i s . _ . l i m i t | | O b j e c t . k e y s ( t h i s . g e t T a g s ( ) ) . l e n g t h ! = t h i s . _ . l i m i t ) { v a r   b = { } ; t h i s . _ . t a g s . h a s O w n P r o p e r t y ( a . t a g ) & & ( b = t h i s . _ . t a g s [ a . t a g ] ) , a = _ . p i c k ( a , t h i s . I N T E R E S T I N G _ F I E L D S ) , t h i s . _ . t a g s [ a . t a g ] = _ . m e r g e ( { } , b , a ) , t h i s . _ . e m i t t e r . t r i g g e r ( " t a g   u p d a t e d " ) } e l s e   t h i s . _ . e m i t t e r . t r i g g e r ( " t a g   l i m i t   r e a c h e d " ) } , r e m o v e T a g : f u n c t i o n ( a ) { d e l e t e   t h i s . _ . t a g s [ a ] , t h i s . _ . e m i t t e r . t r i g g e r ( " t a g   r e m o v e d " ) } , s e t F o l l o w i n g : f u n c t i o n ( a , b ) { v a r   c = t h i s . g e t T a g ( a ) ; c & & ( c . f o l l o w i n g = b ) } , e n c o d e : f u n c t i o n ( a ) { r e t u r n   e n c o d e U R I C o m p o n e n t ( a . r e p l a c e ( n e w   R e g E x p ( "   " , " g " ) , " _ " ) ) } } ) , N a m e s p a c e ( " I m g u r . T a g . S t o r e " ) , I m g u r . T a g . S t o r e . T a g G r o u p = C l a s s . e x t e n d ( { A C T I O N S : { A D D E D : " a d d e d " , R E M O V E D : " r e m o v e d " , E R R O R : " e r r o r " } , i n i t : f u n c t i o n ( a ) { t h i s . _ = { e m i t t e r : a , g r o u p s B y T a g : { } , t a g s B y G r o u p : { } , p e n d i n g A d d T a g s : { } , g r o u p s E v e n t H i s t o r y : { } , f a i l e d T a g : " " } } , p u s h H i s t o r y : f u n c t i o n ( a , b , c ) { t h i s . _ . g r o u p s E v e n t H i s t o r y . h a s O w n P r o p e r t y ( a ) | | ( t h i s . _ . g r o u p s E v e n t H i s t o r y [ a ] = { } ) , t h i s . _ . g r o u p s E v e n t H i s t o r y [ a ] . h a s O w n P r o p e r t y ( b ) | | ( t h i s . _ . g r o u p s E v e n t H i s t o r y [ a ] [ b ] = [ ] ) , t h i s . _ . g r o u p s E v e n t H i s t o r y [ a ] [ b ] . p u s h ( { t i m e : D a t e . n o w ( ) , a c t i o n : c } ) , t h i s . _ . e m i t t e r . t r i g g e r ( " n e w   t a g - g r o u p   e v e n t " ) } , g e t L a t e s t T a g G r o u p E v e n t : f u n c t i o n ( a , b ) { i f ( ! t h i s . _ . g r o u p s E v e n t H i s t o r y . h a s O w n P r o p e r t y ( a ) | | ! t h i s . _ . g r o u p s E v e n t H i s t o r y [ a ] . h a s O w n P r o p e r t y ( b ) ) r e t u r n   n u l l ; v a r   c = t h i s . _ . g r o u p s E v e n t H i s t o r y [ a ] [ b ] , d = c [ c . l e n g t h - 1 ] ; r e t u r n   d } , i s T a g I n G r o u p : f u n c t i o n ( a , b ) { r e t u r n ! ! t h i s . _ . g r o u p s B y T a g . h a s O w n P r o p e r t y ( a ) & & ( t h i s . _ . g r o u p s B y T a g [ a ] . i n d e x O f ( b ) ! = = - 1 | | t h i s . _ . p e n d i n g A d d T a g s . h a s O w n P r o p e r t y ( b ) & & t h i s . _ . p e n d i n g A d d T a g s [ b ] . i n d e x O f ( a ) ! = = - 1 ) } , g e t T a g s F o r G r o u p : f u n c t i o n ( a ) { r e t u r n   t h i s . _ . t a g s B y G r o u p . h a s O w n P r o p e r t y ( a ) ? t h i s . _ . p e n d i n g A d d T a g s . h a s O w n P r o p e r t y ( a ) ? t h i s . _ . t a g s B y G r o u p [ a ] . c o n c a t ( t h i s . _ . p e n d i n g A d d T a g s [ a ] ) : t h i s . _ . t a g s B y G r o u p [ a ] : [ ] } , g e t G r o u p H a s h e s F o r T a g : f u n c t i o n ( a ) { r e t u r n   t h i s . _ . g r o u p s B y T a g . h a s O w n P r o p e r t y ( a ) ? t h i s . _ . g r o u p s B y T a g [ a ] : [ ] } , a d d T a g T o G r o u p : f u n c t i o n ( a , b ) { t h i s . _ . g r o u p s B y T a g . h a s O w n P r o p e r t y ( a ) | | ( t h i s . _ . g r o u p s B y T a g [ a ] = [ ] ) , t h i s . _ . t a g s B y G r o u p . h a s O w n P r o p e r t y ( b ) | | ( t h i s . _ . t a g s B y G r o u p [ b ] = [ ] ) , t h i s . _ . g r o u p s B y T a g [ a ] . p u s h ( b ) , t h i s . _ . t a g s B y G r o u p [ b ] . p u s h ( a ) , t h i s . _ . e m i t t e r . t r i g g e r ( " t a g   a d d e d   t o   g r o u p " ) } , r e m o v e T a g F r o m G r o u p : f u n c t i o n ( a , b ) { t h i s . _ . g r o u p s B y T a g . h a s O w n P r o p e r t y ( a ) & & ( t h i s . _ . g r o u p s B y T a g [ a ] = _ . f i l t e r ( t h i s . _ . g r o u p s B y T a g [ a ] , f u n c t i o n ( a ) { r e t u r n   a ! = b } ) ) , t h i s . _ . t a g s B y G r o u p . h a s O w n P r o p e r t y ( b ) & & ( t h i s . _ . t a g s B y G r o u p [ b ] = _ . f i l t e r ( t h i s . _ . t a g s B y G r o u p [ b ] , f u n c t i o n ( b ) { r e t u r n   b ! = a } ) ) , t h i s . _ . e m i t t e r . t r i g g e r ( " t a g   r e m o v e d   f r o m   g r o u p " ) } , a d d P e n d i n g T a g : f u n c t i o n ( a , b ) { t h i s . _ . p e n d i n g A d d T a g s [ b ] & & t h i s . _ . p e n d i n g A d d T a g s [ b ] . l e n g t h ? t h i s . _ . p e n d i n g A d d T a g s [ b ] . p u s h ( a ) : t h i s . _ . p e n d i n g A d d T a g s [ b ] = [ a ] , t h i s . _ . e m i t t e r . t r i g g e r ( " p e n d i n g   t a g   a d d e d   t o   g r o u p " ) } , r e m o v e P e n d i n g T a g : f u n c t i o n ( a , b ) { v a r   c = t h i s . _ . p e n d i n g A d d T a g s [ b ] . i n d e x O f ( a ) ; c > - 1 & & ( t h i s . _ . p e n d i n g A d d T a g s [ b ] . s p l i c e ( c , 1 ) , t h i s . _ . e m i t t e r . t r i g g e r ( " p e n d i n g   t a g   r e m o v e d   f r o m   g r o u p " ) ) } , i s P e n d i n g : f u n c t i o n ( a , b ) { r e t u r n ! ! t h i s . _ . p e n d i n g A d d T a g s . h a s O w n P r o p e r t y ( b ) & & _ . c o n t a i n s ( t h i s . _ . p e n d i n g A d d T a g s [ b ] , a ) } , g e t F a i l e d T a g : f u n c t i o n ( ) { r e t u r n   t h i s . _ . f a i l e d T a g } , s e t F a i l e d T a g : f u n c t i o n ( a ) { t h i s . _ . f a i l e d T a g = a } , g e t T a g s : f u n c t i o n ( ) { r e t u r n   t h i s . _ . g r o u p s B y T a g } } ) , N a m e s p a c e ( " I m g u r . T a g . S t o r e " ) , I m g u r . T a g . S t o r e . O u t s i d e A c t i v e T a g = C l a s s . e x t e n d ( { i n i t : f u n c t i o n ( a ) { t h i s . _ = { e m i t t e r : a , a c t i v e T a g : n u l l } } , g e t I s A c t i v e : f u n c t i o n ( ) { r e t u r n   n u l l ! = t h i s . _ . a c t i v e T a g } , g e t A c t i v e T a g : f u n c t i o n ( ) { r e t u r n   t h i s . _ . a c t i v e T a g } , g e t A c t i v e T a g E n c o d e d : f u n c t i o n ( ) { r e t u r n   t h i s . _ . a c t i v e T a g . r e p l a c e ( n e w   R e g E x p ( "   " , " g " ) , " _ " ) } , s e t A c t i v e T a g : f u n c t i o n ( a , b ) { t h i s . _ . a c t i v e T a g = a , t h i s . _ . e m i t t e r . t r i g g e r ( " n e w   o u t s i d e   a c t i v e   t a g " , ! ! b ) } , d e a c t i v a t e : f u n c t i o n ( a ) { t h i s . _ . a c t i v e T a g = n u l l , t h i s . _ . e m i t t e r . t r i g g e r ( " n e w   o u t s i d e   a c t i v e   t a g " , ! ! a ) } } ) , N a m e s p a c e ( " I m g u r . T a g . C o n t r o l l e r " ) , I m g u r . T a g . C o n t r o l l e r . O u t s i d e C o m p o n e n t = C l a s s . e x t e n d ( { i n i t : f u n c t i o n ( a , b ) { t h i s . _ = { s u g g e s t i o n M o d e l : a , s u g g e s t i o n S t o r e : b } } , h a n d l e C h a n g e d Q u e r y : f u n c t i o n ( ) { v a r   a = t h i s . _ . s u g g e s t i o n S t o r e . g e t Q u e r y ( ) ; t h i s . _ . s u g g e s t i o n S t o r e . s e t I s L o a d i n g ( ! 0 ) , t h i s . _ . s u g g e s t i o n M o d e l . c a n c e l ( ) , t h i s . _ . s u g g e s t i o n M o d e l . f e t c h ( a , _ . b i n d ( t h i s . _ h a n d l e S u g g e s t R e s p o n s e , t h i s ) , _ . b i n d ( t h i s . _ h a n d l e S u g g e s t E r r o r , t h i s , a ) ) } , _ h a n d l e S u g g e s t R e s p o n s e : f u n c t i o n ( a , b ) { t h i s . _ . s u g g e s t i o n S t o r e . s e t S u g g e s t i o n s ( b ) , t h i s . _ . s u g g e s t i o n S t o r e . s e t I s L o a d i n g ( ! 1 ) , t h i s . _ . s u g g e s t i o n S t o r e . s e t L a s t F i n i s h e d Q u e r y ( a ) } , _ h a n d l e S u g g e s t E r r o r : f u n c t i o n ( a ) { t h i s . _ . s u g g e s t i o n S t o r e . s e t L a s t F i n i s h e d Q u e r y ( a ) , t h i s . _ . s u g g e s t i o n S t o r e . s e t I s L o a d i n g ( ! 1 ) } } ) , N a m e s p a c e ( " I m g u r . T a g . C o n t r o l l e r " ) , I m g u r . T a g . C o n t r o l l e r . U s e r G r o u p = C l a s s . e x t e n d ( { i n i t : f u n c t i o n ( a , b , c , d , e , f , g , h ) { t h i s . _ = { g r o u p M o d e l : b , a c t i v e G r o u p I d : c , g r o u p : d , g r o u p L i s t : e , e m i t t e r : a , c b o x C o n f i r m : f , c o n f i r m T a r g e t : " # c o l o r b o x - c o n f i r m " , e l : { $ c o n f i r m M e s s a g e : g , $ c o n f i r m T i t l e : h } } } , h a n d l e R e m o v e C o n f i r m e d E v e n t : f u n c t i o n ( a ) { t h i s . _ . g r o u p . r e m o v e ( ) , t h i s . _ . e m i t t e r . t r i g g e r ( " g r o u p . r e m o v e " , t h i s . _ . g r o u p . g e t I d ( ) ) , t h i s . _ . g r o u p . g e t I d ( ) = = t h i s . _ . a c t i v e G r o u p I d & & t h i s . _ . e m i t t e r . t r i g g e r ( " c o m m a n d . l o c a t i o n " , " / " ) } , h a n d l e R e m o v e E v e n t : f u n c t i o n ( a ) { a . s t o p P r o p a g a t i o n ( ) , t h i s . _ . e l . $ c o n f i r m T i t l e . h t m l ( " D e l e t e   " + t h i s . _ . g r o u p . g e t N a m e ( ) + " ? " ) , t h i s . _ . e l . $ c o n f i r m M e s s a g e . h t m l ( ' A r e   y o u   s u r e   y o u   w a n t   t o   d e l e t e   t h e   g a l l e r y   < s p a n   c l a s s = " g r e e n " > ' + t h i s . _ . g r o u p . g e t N a m e ( ) + " < / s p a n > ? " ) , t h i s . _ . c b o x C o n f i r m . s h o w ( t h i s . _ . c o n f i r m T a r g e t , _ . b i n d ( t h i s . h a n d l e R e m o v e C o n f i r m e d E v e n t , t h i s , a ) ) } , h a n d l e R e m o v e d T a g E v e n t : f u n c t i o n ( a , b ) { b . s t o p P r o p a g a t i o n ( ) , t h i s . _ . g r o u p L i s t . r e m o v e ( a ) , t h i s . _ . g r o u p L i s t . r e m o v e C o r e S e t ( a ) , t h i s . _ . g r o u p M o d e l . u n s u b s c r i b e ( t h i s . _ . g r o u p . g e t I d ( ) , a . g e t N a m e ( ) , _ . b i n d ( f u n c t i o n ( ) { t h i s . _ . e m i t t e r . t r i g g e r ( " n e w   t a g s e t " ) } , t h i s ) ) , t h i s . _ . e m i t t e r . t r i g g e r ( " s h o w   t a g s e t   l o a d e r " ) } , h a n d l e R e m o v e E v e n t O t h e r : f u n c t i o n ( a ) { a = = t h i s . _ . g r o u p . g e t I d ( ) & & t h i s . _ . g r o u p . r e m o v e ( ) } , s e t L i s t : f u n c t i o n ( a ) { t h i s . _ . g r o u p L i s t = a , t h i s . _ . g r o u p . s e t L i s t ( a ) } } ) , N a m e s p a c e ( " I m g u r . T a g . C o n t r o l l e r " ) , I m g u r . T a g . C o n t r o l l e r . G r o u p S e l e c t o r L i m i t s = C l a s s . e x t e n d ( { i n i t : f u n c t i o n ( a , b , c ) { t h i s . _ = { e m i t t e r : a , g r o u p S e l e c t o r : b , g r o u p S t o r e : c } } , _ d i s a b l e N e w : f u n c t i o n ( ) { t h i s . _ . g r o u p S e l e c t o r . d i s a b l e N e w G r o u p B u t t o n ( ) } , _ e n a b l e N e w : f u n c t i o n ( ) { t h i s . _ . g r o u p S e l e c t o r . e n a b l e N e w G r o u p B u t t o n ( ) } , h a n d l e G r o u p R e m o v e : f u n c t i o n ( a ) { t h i s . _ . g r o u p S e l e c t o r . r e m o v e U s e r G r o u p ( a ) , t h i s . _ . g r o u p S t o r e . m a r k D e l e t e d ( a ) , t h i s . _ . g r o u p S e l e c t o r . g e t R e m a i n i n g U s e r G r o u p s ( ) > 0 & & t h i s . _ e n a b l e N e w ( ) } , h a n d l e G r o u p A d d : f u n c t i o n ( a ) { t h i s . _ . g r o u p S e l e c t o r . a d d U s e r G r o u p ( a ) , t h i s . _ . g r o u p S t o r e . a d d G r o u p ( { h a s h : a . g e t I d ( ) , n a m e : a . g e t N a m e ( ) , a c c o u n t _ i d : I m g u r . E n v i r o n m e n t . a u t h . i d , a c c o u n t _ u r l : I m g u r . E n v i r o n m e n t . a u t h . u r l } ) , t h i s . _ . g r o u p S e l e c t o r . g e t R e m a i n i n g U s e r G r o u p s ( ) < = 0 & & t h i s . _ d i s a b l e N e w ( ) } } ) , N a m e s p a c e ( " I m g u r . T a g " ) , I m g u r . T a g . S u g g e s t e d T a g = I m g u r . T a g . T a g . e x t e n d ( { V O T E _ U P : " u p " , i n i t : f u n c t i o n ( a , b ) { t h i s . _ s u p e r ( a ) , t h i s . _ . g r o u p I d = b , t h i s . _ . e l . $ a d d B t n = a , t h i s . _ . e l . $ s u b s c r i b e r s = a . f i n d ( " . s u b s c r i b e r s " ) } , g e t G r o u p I d : f u n c t i o n ( ) { r e t u r n   t h i s . _ . g r o u p I d } , g e t $ A d d : f u n c t i o n ( ) { r e t u r n   t h i s . _ . e l . $ a d d B t n } , g e t S u b s c r i b e r s : f u n c t i o n ( ) { r e t u r n   N u m b e r ( t h i s . _ . e l . $ s u b s c r i b e r s . a t t r ( " d a t a - s u b s c r i b e r s " ) ) } , g e t $ E x t e r n a l L i n k : f u n c t i o n ( ) { r e t u r n   t h i s . _ . e l . $ c o n t a i n e r . f i n d ( " . e x t e r n a l - l i n k " ) } } ) , I m g u r . E l e m e n t s . C o p y = R e a c t . c r e a t e C l a s s ( { d i s p l a y N a m e : " C o p y " , g e t D e f a u l t P r o p s : f u n c t i o n ( ) { r e t u r n { i n p u t C l a s s : " " } } , c o p y : f u n c t i o n ( ) { v a r   a = t h i s . r e f s . v a l u e ; a . s e l e c t ( ) ; t r y { d o c u m e n t . e x e c C o m m a n d ( " c o p y " ) , w i n d o w . g e t S e l e c t i o n ( ) . r e m o v e A l l R a n g e s ( ) } c a t c h ( b ) { } f l a s h E l e m e n t ( $ ( a ) , 1 0 0 , n u l l ) } , s e l e c t A l l : f u n c t i o n ( ) { R e a c t D O M . f i n d D O M N o d e ( t h i s . r e f s . v a l u e ) . s e l e c t ( ) } , r e n d e r : f u n c t i o n ( ) { v a r   a , b = t h i s . p r o p s . i n p u t C l a s s ; r e t u r n   d o c u m e n t . q u e r y C o m m a n d S u p p o r t e d ( " c o p y " ) ? a = R e a c t . D O M . b u t t o n ( { o n C l i c k : t h i s . c o p y , c l a s s N a m e : t h i s . p r o p s . c o p y C l a s s } , " C o p y " ) : ( a = R e a c t . D O M . b u t t o n ( { c l a s s N a m e : t h i s . p r o p s . c o p y C l a s s + "   c o p y - b u t t o n - u n s u p p o r t e d " } ) , b + = "   c o p y - i n p u t - u n s u p p o r t e d " ) , b + = "   c o p y f l a s h " , R e a c t . D O M . d i v ( { c l a s s N a m e : " c o p y w r a p p e r " } , R e a c t . D O M . i n p u t ( { t y p e : " t e x t " , v a l u e : t h i s . p r o p s . v a l u e , r e f : " v a l u e " , c l a s s N a m e : b , o n C l i c k : t h i s . s e l e c t A l l , r e a d O n l y : ! 0 } ) , a ) } } ) , I m g u r . F l a s h = R e a c t . c r e a t e C l a s s ( { d i s p l a y N a m e : " F l a s h " , g e t D e f a u l t P r o p s : f u n c t i o n ( ) { r e t u r n { d e l a y : 1 e 3 } } , g e t I n i t i a l S t a t e : f u n c t i o n ( ) { r e t u r n { v i s i b l e : ! 1 } } , c o m p o n e n t W i l l R e c e i v e P r o p s : f u n c t i o n ( a ) { a . s t a r t = = = t h i s . p r o p s . s t a r t & & a . d e l a y = = = t h i s . p r o p s . d e l a y | | ( t h i s . _ i n s t a l l T i m e r ( a . s t a r t ) , t h i s . s e t S t a t e ( { v i s i b l e : ! 0 } ) ) } , _ g e t D u r a t i o n : f u n c t i o n ( a ) { r e t u r n   M a t h . m a x ( 0 , a + t h i s . p r o p s . d e l a y - + n e w   D a t e ) } , c o m p o n e n t D i d M o u n t : f u n c t i o n ( ) { t h i s . _ g e t D u r a t i o n ( t h i s . p r o p s . s t a r t ) > 0 & & ( t h i s . _ i n s t a l l T i m e r ( t h i s . p r o p s . s t a r t ) , t h i s . s e t S t a t e ( { v i s i b l e : ! 0 } ) ) } , _ i n s t a l l T i m e r : f u n c t i o n ( a ) { n u l l ! = = t h i s . _ t i m e r & & ( w i n d o w . c l e a r T i m e o u t ( t h i s . _ t i m e r R e f ) , t h i s . _ t i m e r R e f = n u l l ) ; v a r   b = t h i s . _ g e t D u r a t i o n ( a ) ; t h i s . _ t i m e r R e f = w i n d o w . s e t T i m e o u t ( _ . b i n d ( t h i s . _ h a n d l e T i m e r E x p i r e d , t h i s ) , b ) } , _ h a n d l e T i m e r E x p i r e d : f u n c t i o n ( ) { t h i s . s e t S t a t e ( { v i s i b l e : ! 1 } ) , t h i s . _ t i m e r R e f = n u l l } , r e n d e r : f u n c t i o n ( ) { r e t u r n   R e a c t . c r e a t e E l e m e n t ( R e a c t . a d d o n s . C S S T r a n s i t i o n G r o u p , { t r a n s i t i o n N a m e : " f l a s h " } , t h i s . s t a t e . v i s i b l e ? R e a c t . D O M . d i v ( n u l l , t h i s . p r o p s . c h i l d r e n ) : n u l l ) } } ) ; v a r   _ e x t e n d s = O b j e c t . a s s i g n | | f u n c t i o n ( a ) { f o r ( v a r   b = 1 ; b < a r g u m e n t s . l e n g t h ; b + + ) { v a r   c = a r g u m e n t s [ b ] ; f o r ( v a r   d   i n   c ) O b j e c t . p r o t o t y p e . h a s O w n P r o p e r t y . c a l l ( c , d ) & & ( a [ d ] = c [ d ] ) } r e t u r n   a } ; N a m e s p a c e ( " I m g u r . E l e m e n t s " ) ; v a r   s t y l e s = { s p r i n g : { s t i f f n e s s : 1 2 0 , d a m p i n g : 9 } , b u t t o n : { m a x S c a l e : 1 . 2 5 } } ; I m g u r . E l e m e n t s . P r e s s B u t t o n = R e a c t . c r e a t e C l a s s ( { d i s p l a y N a m e : " P r e s s B u t t o n " , p r o p T y p e s : { i s P r e s s e d : R e a c t . P r o p T y p e s . b o o l , o n P r e s s : R e a c t . P r o p T y p e s . f u n c } , g e t D e f a u l t P r o p s : f u n c t i o n ( ) { r e t u r n { s t y l e : { } } } , g e t I n i t i a l S t a t e : f u n c t i o n ( ) { r e t u r n { i s P r e s s e d : ! 1 } } , i s L e f t C l i c k : f u n c t i o n ( a ) { a = a | | w i n d o w . e v e n t ; v a r   b = a . w h i c h | | a . b u t t o n ; r e t u r n   b < 2 } , h a n d l e M o u s e D o w n : f u n c t i o n ( a ) { t h i s . i s L e f t C l i c k ( a ) & & t h i s . s e t S t a t e ( { i s P r e s s e d : ! 0 } ) } , h a n d l e M o u s e U p : f u n c t i o n ( a ) { t h i s . i s L e f t C l i c k ( a ) & & ( t h i s . p r o p s . o n P r e s s ( ) , t h i s . s e t S t a t e ( { i s P r e s s e d : ! 1 } ) ) } , h a n d l e M o u s e L e a v e : f u n c t i o n ( ) { t h i s . s e t S t a t e ( { i s P r e s s e d : ! 1 } ) } , r e n d e r : f u n c t i o n ( ) { v a r   a = t h i s , b = t h i s . s t a t e . i s P r e s s e d ? s t y l e s . b u t t o n . m a x S c a l e : 1 , c = { s c a l e : R e a c t M o t i o n . s p r i n g ( b , s t y l e s . s p r i n g ) } ; r e t u r n   R e a c t . c r e a t e E l e m e n t ( R e a c t M o t i o n . M o t i o n , { d e f a u l t S t y l e : { s c a l e : 1 } , s t y l e : c } , f u n c t i o n ( b ) { v a r   c = b . s c a l e ; r e t u r n   R e a c t . c r e a t e E l e m e n t ( " b u t t o n " , _ e x t e n d s ( { } , a . p r o p s , { o n M o u s e D o w n : a . h a n d l e M o u s e D o w n , o n M o u s e U p : a . h a n d l e M o u s e U p , o n M o u s e L e a v e : a . h a n d l e M o u s e L e a v e , s t y l e : _ e x t e n d s ( { t r a n s f o r m : " s c a l e ( " + c + " ) " , W e b k i t T r a n s f o r m : " s c a l e ( " + c + " ) " } , a . p r o p s . s t y l e ) } ) , a . p r o p s . c h i l d r e n ) } ) } } ) , N a m e s p a c e ( " I m g u r . E l e m e n t s " ) , I m g u r . E l e m e n t s . N a n o S c r o l l e r = R e a c t . c r e a t e C l a s s ( { d i s p l a y N a m e : " N a n o S c r o l l e r " , c o m p o n e n t D i d U p d a t e : f u n c t i o n ( ) { $ ( R e a c t D O M . f i n d D O M N o d e ( t h i s . r e f s . c o n t a i n e r ) ) . n a n o S c r o l l e r ( ) } , c o m p o n e n t W i l l U n m o u n t : f u n c t i o n ( ) { t h i s . s c r o l l C o n t a i n e r . n a n o S c r o l l e r ( { d e s t r o y : ! 0 } ) } , r e n d e r : f u n c t i o n ( ) { r e t u r n   R e a c t . c r e a t e E l e m e n t ( " d i v " , { r e f : " c o n t a i n e r " , c l a s s N a m e : " j s - n a n o s c r o l l e r   n a n o   " + t h i s . p r o p s . c l a s s e s , o n S c r o l l : t h i s . p r o p s . o n S c r o l l } , R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " s c r o l l - c o n t e n t   c o n t e n t   c f " } , t h i s . p r o p s . c h i l d r e n ) ) } } ) , N a m e s p a c e ( " I m g u r . E l e m e n t s " ) , I m g u r . E l e m e n t s . S o c i a l i c o n s = R e a c t . c r e a t e C l a s s ( { d i s p l a y N a m e : " E l e m e n t s - S o c i a l i c o n s " , g e t D e f a u l t P r o p s : f u n c t i o n ( ) { r e t u r n { c l a s s e s : " " } } , s o c i a l S h a r e : f u n c t i o n ( a ) { v a r   b = w i n d o w . l o c a t i o n . h r e f , c = " l e f t = 2 0 , t o p = 2 0 , w i d t h = 5 6 0 , h e i g h t = 5 0 0 , t o o l b a r = 1 " , d = $ ( " . p o s t - t i t l e " ) . t e x t ( ) , e = I m g u r . U s e r S t a t i s t i c s . g e t I n s t a n c e ( ) ; s w i t c h ( e . e m i t A c t i o n U s e r S h a r e ( t h i s . p r o p s . t a g s N a m e s ) , a ) { c a s e " f a c e b o o k " : b = " h t t p s : / / w w w . f a c e b o o k . c o m / s h a r e r / s h a r e r . p h p ? u = " + e n c o d e U R I C o m p o n e n t ( b ) , c = " l e f t = 2 0 , t o p = 2 0 , w i d t h = 5 0 0 , h e i g h t = 5 0 0 , t o o l b a r = 1 " ; b r e a k ; c a s e " t w i t t e r " : b = " h t t p s : / / t w i t t e r . c o m / h o m e ? s t a t u s = " + e n c o d e U R I C o m p o n e n t ( d + "   " + b ) ; b r e a k ; c a s e " p i n t e r e s t " : b = " h t t p s : / / p i n t e r e s t . c o m / p i n / c r e a t e / b u t t o n / ? u r l = " + e n c o d e U R I C o m p o n e n t ( b ) + " & m e d i a = " + e n c o d e U R I C o m p o n e n t ( $ ( " . p o s t - i m a g e s   i m g " ) [ 0 ] . s r c ) + " & d e s c r i p t i o n = " + d , c = " l e f t = 2 0 , t o p = 2 0 , w i d t h = 7 5 0 , h e i g h t = 6 0 1 , t o o l b a r = 1 " ; b r e a k ; c a s e " r e d d i t " : b = " / / w w w . r e d d i t . c o m / s u b m i t ? t i t l e = " + e n c o d e U R I C o m p o n e n t ( d ) + " & u r l = " + e n c o d e U R I C o m p o n e n t ( b ) , c = " l e f t = 2 0 , t o p = 2 0 , w i d t h = 8 6 0 , h e i g h t = 7 0 0 , t o o l b a r = 1 " } w i n d o w . o p e n ( b , " s h a r e r " , c ) } , r e n d e r : f u n c t i o n ( ) { r e t u r n   R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : t h i s . p r o p s . c l a s s e s } , R e a c t . c r e a t e E l e m e n t ( " s p a n " , { c l a s s N a m e : " s o c i a l - i c o n   i c o n - f " , o n C l i c k : t h i s . s o c i a l S h a r e . b i n d ( n u l l , " f a c e b o o k " ) } ) , R e a c t . c r e a t e E l e m e n t ( " s p a n " , { c l a s s N a m e : " s o c i a l - i c o n   i c o n - t w t t r " , o n C l i c k : t h i s . s o c i a l S h a r e . b i n d ( n u l l , " t w i t t e r " ) } ) , R e a c t . c r e a t e E l e m e n t ( " s p a n " , { c l a s s N a m e : " s o c i a l - i c o n   i c o n - p i n " , o n C l i c k : t h i s . s o c i a l S h a r e . b i n d ( n u l l , " p i n t e r e s t " ) } ) , R e a c t . c r e a t e E l e m e n t ( " s p a n " , { c l a s s N a m e : " s o c i a l - i c o n   i c o n - r e d d i t " , o n C l i c k : t h i s . s o c i a l S h a r e . b i n d ( n u l l , " r e d d i t " ) } ) ) } } ) , N a m e s p a c e ( " I m g u r . E l e m e n t s " ) , I m g u r . E l e m e n t s . M u t e = R e a c t . c r e a t e C l a s s ( { p r o p T y p e s : { u r l : R e a c t . P r o p T y p e s . s t r i n g . i s R e q u i r e d } , d i s p l a y N a m e : " E l e m e n t s M u t e " , h a n d l e S u b m i t : f u n c t i o n ( ) { $ . a j a x ( { u r l : t h i s . p r o p s . u r l , m e t h o d : " P O S T " , x h r F i e l d s : { w i t h C r e d e n t i a l s : ! 0 } } ) . d o n e ( t h i s . c l o s e C o l o r b o x ) . f a i l ( f u n c t i o n ( ) { h u m a n M s g . d i s p l a y M s g ( " U n a b l e   t o   m u t e   u s e r .   P l e a s e   t r y   a g a i n " , " e r r o r - m s g " ) } ) } , c l o s e C o l o r b o x : f u n c t i o n ( ) { $ . c o l o r b o x . c l o s e ( ) } , r e n d e r : f u n c t i o n ( ) { v a r   a = t h i s ; r e t u r n   R e a c t . c r e a t e E l e m e n t ( " d i v " , n u l l , R e a c t . c r e a t e E l e m e n t ( " h 2 " , n u l l , " M u t e   U s e r " ) , R e a c t . c r e a t e E l e m e n t ( " p " , { c l a s s N a m e : " m u t e - t e x t " } , " N e w   r e p l i e s ,   c o m m e n t s   o n   y o u r   p o s t s ,   m e n t i o n s ,   a n d   m e s s a g e s   f r o m   t h i s   u s e r   w i l l   b e   m u t e d . " ) , R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " m u t e - f o o t e r " } , R e a c t . c r e a t e E l e m e n t ( " b u t t o n " , { c l a s s N a m e : " b t n - n e b u l a   b t n - a c t i o n   b t n - s m a l l   r i g h t   b o l d " , t y p e : " b u t t o n " , r e f : " m u t e " , o n C l i c k : f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) , a . h a n d l e S u b m i t ( ) } } , " M u t e " ) , R e a c t . c r e a t e E l e m e n t ( " a " , { c l a s s N a m e : " b t n   r i g h t " , r e f : " c a n c e l " , o n C l i c k : f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) , a . c l o s e C o l o r b o x ( ) } } , " C a n c e l " ) ) , R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " c l e a r " } ) ) } } ) , I m g u r . E l e m e n t s . M u t e . d i m e n s i o n s = { w i d t h : 4 0 0 , h e i g h t : 2 8 0 } , N a m e s p a c e ( " I m g u r . E l e m e n t s " ) , I m g u r . E l e m e n t s . R e p o r t = R e a c t . c r e a t e C l a s s ( { p r o p T y p e s : { t y p e : R e a c t . P r o p T y p e s . s t r i n g . i s R e q u i r e d , u r l : R e a c t . P r o p T y p e s . s t r i n g . i s R e q u i r e d , m e t a d a t a : R e a c t . P r o p T y p e s . o b j e c t , c b : R e a c t . P r o p T y p e s . f u n c } , d i s p l a y N a m e : " E l e m e n t s R e p o r t " , s t r i n g s : { a b u s e : " A b u s i v e / O f f e n s i v e " , a b u s e E x p l a n a t i o n : f u n c t i o n ( a ) { r e t u r n " T h i s   " + a + "   c o n t a i n s   r a c i s m ,   s e x i s m ,   s l u r s ,   p e r s o n a l   a t t a c k s ,   d e a t h   t h r e a t s ,   s u i c i d e   r e q u e s t s   o r   a n y   f o r m   o f   h a t e   s p e e c h . " } , d b o i : " D o e s   N o t   B e l o n g   O n   I m g u r " , d b o i E x p l a n a t i o n : f u n c t i o n ( a ) { r e t u r n " T h i s   " + a + "   c o n t a i n s   i l l e g a l   a c t i v i t y ,   s u i c i d e   t h r e a t s ,   p e r s o n a l   i n f o r m a t i o n ,   o r   s o m e t h i n g   e l s e   y o u   t h i n k   d o e s n ' t   b e l o n g   o n   I m g u r . " } , d e f a u l t C o m b o b o x : " S E L E C T   A   R E A S O N " , e x p l i c i t : " S e x u a l l y   E x p l i c i t " , e x p l i c i t E x p l a n a t i o n : f u n c t i o n ( a ) { r e t u r n " T h i s   " + a + "   c o n t a i n s   p o r n o g r a p h y ,   f u l l   o r   p a r t i a l   n u d i t y . " } , m a t u r e : " M a t u r e " , m a t u r e E x p l a n a t i o n : f u n c t i o n ( a ) { r e t u r n " T h i s   " + a + "   c o n t a i n s   s u g g e s t i v e   o r   p r o v o c a t i v e   c o n t e n t . " } , m a t u r e S e t t i n g s : R e a c t . c r e a t e E l e m e n t ( " d i v " , n u l l , " I f   y o u   d o n ' t   w a n t   t o   s e e   m a t u r e   c o n t e n t   o n   I m g u r ,   p l e a s e   c h a n g e   y o u r   " , R e a c t . c r e a t e E l e m e n t ( " a " , { h r e f : " / a c c o u n t / s e t t i n g s " } , " s a f e t y   s e t t i n g s " ) , " . " ) , m a t u r e W a r n i n g : f u n c t i o n ( a ) { r e t u r n " ( T h i s   " + a + "   i s   a l r e a d y   m a r k e d   a s   m a t u r e ) " } , s p a m : " S p a m " , r e p o r t H e a d i n g : f u n c t i o n ( a ) { r e t u r n " R e p o r t   " + a } , s p a m E x p l a n a t i o n : f u n c t i o n ( a ) { r e t u r n " T h i s   " + a + "   c o n t a i n s   c l i c k b a i t ,   a d v e r t i s i n g ,   s c a m s   o r   s c r i p t   b o t s . " } } , r e p o r t V a l u e s : { D B O I : 1 , S P A M : 2 , A B U S E : 3 , M A T U R E : 4 , E X P L I C I T : 5 } , g e t I n i t i a l S t a t e : f u n c t i o n ( ) { r e t u r n { v a l u e : n u l l } } , g e t D e f a u l t P r o p s : f u n c t i o n ( ) { r e t u r n { m e t a d a t a : { } } } , s h o u l d C o m p o n e n t U p d a t e : f u n c t i o n ( a , b ) { r e t u r n   t h i s . s t a t e . v a l u e ! = = b . v a l u e } , h a n d l e S u b m i t : f u n c t i o n ( a ) { i f ( a . p r e v e n t D e f a u l t ( ) , t h i s . s t a t e . v a l u e ) { v a r   b = { s i d : I m g u r . E n v i r o n m e n t . m s i d , t y p e : t h i s . s t a t e . v a l u e , h a s h : t h i s . p r o p s . m e t a d a t a . h a s h } ; t h i s . p r o p s . m e t a d a t a . i s A l b u m & & ( b . i s A l b u m = ! 0 ) , I m g u r . U t i l . j a f o L o g ( { e v e n t : " r e p o r t " , m e t a : t h i s . p r o p s . m e t a d a t a } ) , $ . p o s t ( t h i s . p r o p s . u r l , b ) , I m g u r . G a l l e r y . g e t I n s t a n c e ( ) . p r e v e n t R e p o r t C l o s e A n a l y t i c s ( ) , $ . c o l o r b o x . c l o s e ( ) , h u m a n M s g . d i s p l a y M s g ( " T h a n k s   f o r   r e p o r t i n g ! " ) , " f u n c t i o n " = = t y p e o f   t h i s . p r o p s . c b & & t h i s . p r o p s . c b ( ) } } , s e t V a l u e : f u n c t i o n ( a ) { t h i s . s e t S t a t e ( { v a l u e : a } ) } , r e n d e r : f u n c t i o n ( ) { v a r   a = t h i s . p r o p s . t y p e , b = n u l l , c = t h i s . s t r i n g s . m a t u r e E x p l a n a t i o n ( a ) , d = t h i s . p r o p s . m e t a d a t a . n s f w ; d & & ( b = t h i s . s t r i n g s . m a t u r e W a r n i n g ( a ) , c = t h i s . s t r i n g s . m a t u r e S e t t i n g s ) ; v a r   e = [ I m g u r . E l e m e n t s . R a d i o B o x . c r e a t e I t e m ( t h i s . s t r i n g s . m a t u r e , c , t h i s . r e p o r t V a l u e s . M A T U R E , b , d ) , I m g u r . E l e m e n t s . R a d i o B o x . c r e a t e I t e m ( t h i s . s t r i n g s . e x p l i c i t , t h i s . s t r i n g s . e x p l i c i t E x p l a n a t i o n ( a ) , t h i s . r e p o r t V a l u e s . E X P L I C I T ) , I m g u r . E l e m e n t s . R a d i o B o x . c r e a t e I t e m ( t h i s . s t r i n g s . s p a m , t h i s . s t r i n g s . s p a m E x p l a n a t i o n ( a ) , t h i s . r e p o r t V a l u e s . S P A M ) , I m g u r . E l e m e n t s . R a d i o B o x . c r e a t e I t e m ( t h i s . s t r i n g s . a b u s e , t h i s . s t r i n g s . a b u s e E x p l a n a t i o n ( a ) , t h i s . r e p o r t V a l u e s . A B U S E ) , I m g u r . E l e m e n t s . R a d i o B o x . c r e a t e I t e m ( t h i s . s t r i n g s . d b o i , t h i s . s t r i n g s . d b o i E x p l a n a t i o n ( a ) , t h i s . r e p o r t V a l u e s . D B O I ) ] , f = ! t h i s . s t a t e . v a l u e & & " b t n - n e b u l a - i n a c t i v e " ; r e t u r n   R e a c t . c r e a t e E l e m e n t ( " d i v " , n u l l , R e a c t . c r e a t e E l e m e n t ( " h 2 " , n u l l , t h i s . s t r i n g s . r e p o r t H e a d i n g ( a ) ) , R e a c t . c r e a t e E l e m e n t ( I m g u r . E l e m e n t s . R a d i o B o x , { n a m e : " r e p o r t p o s t " , e n a b l e d : t h i s . s t a t e . e n a b l e d , i t e m s : e , o n C h a n g e : t h i s . s e t V a l u e } ) , R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " r e p o r t - f o o t e r " } , R e a c t . c r e a t e E l e m e n t ( " p " , { c l a s s N a m e : " c o m m u n i t y _ r u l e s " } , " F o r   m o r e   i n f o   p l e a s e   r e a d   t h e   " , R e a c t . c r e a t e E l e m e n t ( " a " , { t a r g e t : " _ b l a n k " , h r e f : " h t t p s : / / i m g u r . c o m / r u l e s " } , " C o m m u n i t y   R u l e s " ) ) , R e a c t . c r e a t e E l e m e n t ( " b u t t o n " , { c l a s s N a m e : " b t n - n e b u l a   " + f + "   b t n - a c t i o n   b t n - s m a l l   r i g h t   b o l d " , t y p e : " b u t t o n " , o n C l i c k : t h i s . h a n d l e S u b m i t } , " R e p o r t " ) ) ) } } ) , I m g u r . E l e m e n t s . R e p o r t . d i m e n s i o n s = { w i d t h : 5 4 0 , h e i g h t : 6 8 0 } , N a m e s p a c e ( " I m g u r . E l e m e n t s " ) , I m g u r . E l e m e n t s . F a v o r i t e F o l d e r C h o o s e r = R e a c t . c r e a t e C l a s s ( { d i s p l a y N a m e : " F a v o r i t e F o l d e r C h o o s e r " , g e t I n i t i a l S t a t e : f u n c t i o n ( ) { v a r   a = w i n d o w . l o c a l S t o r a g e . g e t I t e m ( " f o l d e r s " ) ; r e t u r n { a d d i n g F o l d e r : ! 1 , f o l d e r s : a ? J S O N . p a r s e ( a ) : [ ] } } , h a n d l e S e l e c t : f u n c t i o n ( a , b , c ) { v a r   d = I m g u r . I n s i d e N a v . g e t I n s t a n c e ( ) . _ . i m a g e . i s _ a l b u m ? " a l b u m " : " i m a g e " , e = I m g u r . I n s i d e N a v . g e t I n s t a n c e ( ) . _ . i m a g e . h a s h ; c . p r e v e n t D e f a u l t ( ) , w i n d o w . f e t c h ( " h t t p s : / / a p i . " + I m g u r . E n v i r o n m e n t . h o s t + " / 3 / f o l d e r s / " + a + " / f a v o r i t e s / " + d + " / " + e , { m e t h o d : " P U T " , c r e d e n t i a l s : " i n c l u d e " } ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   a . j s o n ( ) } ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   a . d a t a & & a . d a t a . e r r o r ? v o i d   h u m a n M s g . d i s p l a y M s g ( a . d a t a . e r r o r , " e r r o r - m s g " ) : ( I m g u r . U t i l . j a f o L o g ( { e v e n t : " a d d e d T o F o l d e r " , m e t a : _ . m e r g e ( I m g u r . G a l l e r y . g e t I n s t a n c e ( ) . g e t G a l l e r y M e t a d a t a ( ) , { l o c a t i o n : " i n s i d e " } ) } ) , v o i d   h u m a n M s g . d i s p l a y M s g ( " A d d e d   t o   " + b ) ) } ) , t h i s . p r o p s . e m i t t e r . t r i g g e r ( " a d d e d T o F o l d e r " ) , $ . c o l o r b o x . c l o s e ( ) } , h a n d l e N e w F o l d e r : f u n c t i o n ( a ) { v a r   b = t h i s ; a . p r e v e n t D e f a u l t ( ) ; v a r   c = t h i s . r e f s . n e w F o l d e r N a m e . v a l u e . t r i m ( ) ; c & & t h i s . s t a t e . f o l d e r s . i n d e x O f ( c ) = = = - 1 & & w i n d o w . f e t c h ( " h t t p s : / / a p i . " + I m g u r . E n v i r o n m e n t . h o s t + " / 3 / f o l d e r s " , { m e t h o d : " P O S T " , c r e d e n t i a l s : " i n c l u d e " , h e a d e r s : { " c o n t e n t - t y p e " : " a p p l i c a t i o n / j s o n " } , b o d y : J S O N . s t r i n g i f y ( { n a m e : c } ) } ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   a . j s o n ( ) } ) . t h e n ( f u n c t i o n ( a ) { i f ( a . d a t a . e r r o r ) r e t u r n   v o i d   h u m a n M s g . d i s p l a y M s g ( a . d a t a . e r r o r , " e r r o r - m s g " ) ; v a r   c = [ a . d a t a ] . c o n c a t ( b . s t a t e . f o l d e r s ) ; b . s e t S t a t e ( { a d d i n g F o l d e r : ! 1 , f o l d e r s : c } ) , w i n d o w . l o c a l S t o r a g e . s e t I t e m ( " f o l d e r s " , J S O N . s t r i n g i f y ( c ) ) } ) } , c o m p o n e n t D i d M o u n t : f u n c t i o n ( ) { v a r   a = t h i s ; w i n d o w . f e t c h ( " h t t p s : / / a p i . " + I m g u r . E n v i r o n m e n t . h o s t + " / 3 / f o l d e r s " , { c r e d e n t i a l s : " i n c l u d e " } ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   a . j s o n ( ) } ) . t h e n ( f u n c t i o n ( b ) { a . s e t S t a t e ( { f o l d e r s : b . d a t a } ) , w i n d o w . l o c a l S t o r a g e . s e t I t e m ( " f o l d e r s " , J S O N . s t r i n g i f y ( b . d a t a ) ) } ) } , c o m p o n e n t D i d U p d a t e : f u n c t i o n ( ) { t h i s . s t a t e . a d d i n g F o l d e r & & t h i s . r e f s . n e w F o l d e r N a m e & & t h i s . r e f s . n e w F o l d e r N a m e . f o c u s ( ) } , a d d F o l d e r F o r m : f u n c t i o n ( ) { v a r   a = t h i s ; r e t u r n   t h i s . s t a t e . a d d i n g F o l d e r ? R e a c t . c r e a t e E l e m e n t ( " f o r m " , { c l a s s N a m e : " F o l d e r - C h o o s e r - C r e a t e   F o l d e r - C h o o s e r - f o l d e r   F o l d e r - C h o o s e r - n e w " , o n S u b m i t : t h i s . h a n d l e N e w F o l d e r } , R e a c t . c r e a t e E l e m e n t ( " i n p u t " , { o n F o c u s : f u n c t i o n ( a ) { r e t u r n   a . t a r g e t . s e l e c t ( ) } , r e f : " n e w F o l d e r N a m e " , t y p e : " t e x t " , d e f a u l t V a l u e : " N e w   F o l d e r " , o n B l u r : t h i s . h a n d l e N e w F o l d e r } ) ) : R e a c t . c r e a t e E l e m e n t ( " d i v " , { o n C l i c k : f u n c t i o n ( ) { r e t u r n   a . s e t S t a t e ( { a d d i n g F o l d e r : ! 0 } ) } , c l a s s N a m e : " F o l d e r - C h o o s e r - f o l d e r   F o l d e r - C h o o s e r - n e w " } , " N e w   F o l d e r " ) } , r e n d e r : f u n c t i o n ( ) { v a r   a = t h i s , b = 3 2 3 , c = t h i s . s t a t e . f o l d e r s . m a p ( f u n c t i o n ( b ) { v a r   c = b . n a m e , d = b . i d , e = b . i s _ p r i v a t e ; r e t u r n   R e a c t . c r e a t e E l e m e n t ( " d i v " , { k e y : d , o n C l i c k : a . h a n d l e S e l e c t . b i n d ( a , d , c ) , c l a s s N a m e : " F o l d e r - C h o o s e r - f o l d e r " } , e ? R e a c t . c r e a t e E l e m e n t ( " s p a n " , { c l a s s N a m e : " i c o n - l o c k - p r i v a t e - f o l d e r " } ) : n u l l , c ) } ) ; r e t u r n   R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " F o l d e r - C h o o s e r " } , R e a c t . c r e a t e E l e m e n t ( " h 2 " , n u l l , " A d d   t o   F o l d e r " ) , t h i s . a d d F o l d e r F o r m ( ) , R e a c t . c r e a t e E l e m e n t ( " h 2 " , n u l l , " N e w e s t " ) , R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " F o l d e r - C h o o s e r - l i s t " , s t y l e : { h e i g h t : t h i s . p r o p s . h e i g h t - b } } , c ) ) } } ) , N a m e s p a c e ( " I m g u r . E l e m e n t s " ) , I m g u r . E l e m e n t s . R a d i o B o x = R e a c t . c r e a t e C l a s s ( { d i s p l a y N a m e : " R a d i o B o x " , p r o p T y p e s : { n a m e : R e a c t . P r o p T y p e s . s t r i n g . i s R e q u i r e d , i t e m s : R e a c t . P r o p T y p e s . a r r a y . i s R e q u i r e d , o n C h a n g e : R e a c t . P r o p T y p e s . f u n c } , o n C o m p o n e n t D i d M o u n t : f u n c t i o n ( ) { t h i s . r e f s . R a d i o B o x . f o c u s ( ) } , o n C l i c k : f u n c t i o n ( a , b ) { b | | ( t h i s . r e f s [ " R a d i o B o x - i t e m - " + a ] . f o c u s ( ) , t h i s . p r o p s . o n C h a n g e & & t h i s . p r o p s . o n C h a n g e ( a ) ) } , r e n d e r I t e m : f u n c t i o n ( a ) { v a r   b = " R a d i o B o x - i t e m - " + a . v a l u e ; r e t u r n   R e a c t . c r e a t e E l e m e n t ( " l a b e l " , { r e f : b , k e y : " " + b , c l a s s N a m e : " R a d i o B o x - i t e m " , o n C l i c k : t h i s . o n C l i c k . b i n d ( t h i s , a . v a l u e , a . d i s a b l e d ) } , R e a c t . c r e a t e E l e m e n t ( " i n p u t " , { r e f : b + " - r a d i o " , d i s a b l e d : a . d i s a b l e d , c l a s s N a m e : " R a d i o B o x - r a d i o " , t y p e : " r a d i o " , n a m e : t h i s . p r o p s . n a m e } ) , R e a c t . c r e a t e E l e m e n t ( " d i v " , { r e f : b + " - c h e c k b o x " , c l a s s N a m e : " R a d i o B o x - c h e c k b o x " } , "  " ) , R e a c t . c r e a t e E l e m e n t ( " d i v " , n u l l , R e a c t . c r e a t e E l e m e n t ( " d i v " , { r e f : b + " - t i t l e " , c l a s s N a m e : " R a d i o B o x - t i t l e " } , a . t i t l e , "   " , R e a c t . c r e a t e E l e m e n t ( " s p a n " , { r e f : b + " - w a r n i n g " , c l a s s N a m e : " R a d i o B o x - w a r n i n g " } , a . w a r n i n g ) ) , R e a c t . c r e a t e E l e m e n t ( " d i v " , { r e f : b + " - d e s c r i p t i o n " , c l a s s N a m e : " R a d i o B o x - d e s c r i p t i o n " } , a . d e s c r i p t i o n ) ) ) } , r e n d e r : f u n c t i o n ( ) { v a r   a = t h i s . p r o p s . i t e m s . m a p ( t h i s . r e n d e r I t e m , t h i s ) ; r e t u r n   R e a c t . c r e a t e E l e m e n t ( " d i v " , { r e f : " R a d i o B o x " , c l a s s N a m e : " R a d i o B o x " } , a ) } } ) , I m g u r . E l e m e n t s . R a d i o B o x . c r e a t e I t e m = f u n c t i o n ( a , b , c ) { v a r   d = a r g u m e n t s . l e n g t h > 3 & & v o i d   0 ! = = a r g u m e n t s [ 3 ] ? a r g u m e n t s [ 3 ] : n u l l , e = a r g u m e n t s . l e n g t h > 4 & & v o i d   0 ! = = a r g u m e n t s [ 4 ] & & a r g u m e n t s [ 4 ] ; r e t u r n { t i t l e : a , d e s c r i p t i o n : b , v a l u e : c , w a r n i n g : d , d i s a b l e d : e } } , f u n c t i o n ( a ) { f u n c t i o n   b ( a ) { r e t u r n   a . r e p l a c e ( / ( : | \ . ) / g , " \ \ $ 1 " ) } v a r   c = " 1 . 4 . 7 " , d = { e x c l u d e : [ ] , e x c l u d e W i t h i n : [ ] , o f f s e t : 0 , d i r e c t i o n : " t o p " , s c r o l l E l e m e n t : n u l l , s c r o l l T a r g e t : n u l l , b e f o r e S c r o l l : f u n c t i o n ( ) { } , a f t e r S c r o l l : f u n c t i o n ( ) { } , e a s i n g : " s w i n g " , s p e e d : 4 0 0 , a u t o C o e f f i c e n t : 2 } , e = f u n c t i o n ( b ) { v a r   c = [ ] , d = ! 1 , e = b . d i r & & " l e f t " = = b . d i r ? " s c r o l l L e f t " : " s c r o l l T o p " ; r e t u r n   t h i s . e a c h ( f u n c t i o n ( ) { i f ( t h i s ! = d o c u m e n t & & t h i s ! = w i n d o w ) { v a r   b = a ( t h i s ) ; b [ e ] ( ) > 0 ? c . p u s h ( t h i s ) : ( b [ e ] ( 1 ) , d = b [ e ] ( ) > 0 , d & & c . p u s h ( t h i s ) , b [ e ] ( 0 ) ) } } ) , c . l e n g t h | | t h i s . e a c h ( f u n c t i o n ( a ) { " B O D Y " = = = t h i s . n o d e N a m e & & ( c = [ t h i s ] ) } ) , " f i r s t " = = = b . e l & & c . l e n g t h > 1 & & ( c = [ c [ 0 ] ] ) , c } ; " o n t o u c h e n d " i n   d o c u m e n t ; a . f n . e x t e n d ( { s c r o l l a b l e : f u n c t i o n ( a ) { v a r   b = e . c a l l ( t h i s , { d i r : a } ) ; r e t u r n   t h i s . p u s h S t a c k ( b ) } , f i r s t S c r o l l a b l e : f u n c t i o n ( a ) { v a r   b = e . c a l l ( t h i s , { e l : " f i r s t " , d i r : a } ) ; r e t u r n   t h i s . p u s h S t a c k ( b ) } , s m o o t h S c r o l l : f u n c t i o n ( c ) { c = c | | { } ; v a r   d = a . e x t e n d ( { } , a . f n . s m o o t h S c r o l l . d e f a u l t s , c ) , e = a . s m o o t h S c r o l l . f i l t e r P a t h ( l o c a t i o n . p a t h n a m e ) ; r e t u r n   t h i s . u n b i n d ( " c l i c k . s m o o t h s c r o l l " ) . b i n d ( " c l i c k . s m o o t h s c r o l l " , f u n c t i o n ( c ) { v a r   f = t h i s , g = a ( t h i s ) , h = d . e x c l u d e , i = d . e x c l u d e W i t h i n , j = 0 , k = 0 , l = ! 0 , m = { } , n = l o c a t i o n . h o s t n a m e = = = f . h o s t n a m e | | ! f . h o s t n a m e , o = d . s c r o l l T a r g e t | | ( a . s m o o t h S c r o l l . f i l t e r P a t h ( f . p a t h n a m e ) | | e ) = = = e , p = b ( f . h a s h ) ; i f ( d . s c r o l l T a r g e t | | n & & o & & p ) { f o r ( ; l & & j < h . l e n g t h ; ) g . i s ( b ( h [ j + + ] ) ) & & ( l = ! 1 ) ; f o r ( ; l & & k < i . l e n g t h ; ) g . c l o s e s t ( i [ k + + ] ) . l e n g t h & & ( l = ! 1 ) } e l s e   l = ! 1 ; l & & ( c . p r e v e n t D e f a u l t ( ) , a . e x t e n d ( m , d , { s c r o l l T a r g e t : d . s c r o l l T a r g e t | | p , l i n k : f } ) , a . s m o o t h S c r o l l ( m ) ) } ) , t h i s } } ) , a . s m o o t h S c r o l l = f u n c t i o n ( b , c ) { v a r   d , e , f , g , h = 0 , i = " o f f s e t " , j = " s c r o l l T o p " , k = { } , l = { } ; " n u m b e r " = = t y p e o f   b ? ( d = a . f n . s m o o t h S c r o l l . d e f a u l t s , f = b ) : ( d = a . e x t e n d ( { } , a . f n . s m o o t h S c r o l l . d e f a u l t s , b | | { } ) , d . s c r o l l E l e m e n t & & ( i = " p o s i t i o n " , " s t a t i c " = = d . s c r o l l E l e m e n t . c s s ( " p o s i t i o n " ) & & d . s c r o l l E l e m e n t . c s s ( " p o s i t i o n " , " r e l a t i v e " ) ) ) , d = a . e x t e n d ( { l i n k : n u l l } , d ) , j = " l e f t " = = d . d i r e c t i o n ? " s c r o l l L e f t " : j , d . s c r o l l E l e m e n t ? ( e = d . s c r o l l E l e m e n t , h = e [ j ] ( ) ) : e = a ( " h t m l ,   b o d y " ) . f i r s t S c r o l l a b l e ( ) , d . b e f o r e S c r o l l . c a l l ( e , d ) , f = " n u m b e r " = = t y p e o f   b ? b : c | | a ( d . s c r o l l T a r g e t ) [ i ] ( ) & & a ( d . s c r o l l T a r g e t ) [ i ] ( ) [ d . d i r e c t i o n ] | | 0 , k [ j ] = f + h + d . o f f s e t , g = d . s p e e d , " a u t o " = = = g & & ( g = k [ j ] | | e . s c r o l l T o p ( ) , g / = d . a u t o C o e f f i c e n t ) , l = { d u r a t i o n : g , e a s i n g : d . e a s i n g , c o m p l e t e : f u n c t i o n ( ) { d . a f t e r S c r o l l . c a l l ( d . l i n k , d ) } } , d . s t e p & & ( l . s t e p = d . s t e p ) , e . l e n g t h ? e . s t o p ( ) . a n i m a t e ( k , l ) : d . a f t e r S c r o l l . c a l l ( d . l i n k , d ) } , a . s m o o t h S c r o l l . v e r s i o n = c , a . s m o o t h S c r o l l . f i l t e r P a t h = f u n c t i o n ( a ) { r e t u r n   a . r e p l a c e ( / ^ \ / / , " " ) . r e p l a c e ( / ( i n d e x | d e f a u l t ) . [ a - z A - Z ] { 3 , 4 } $ / , " " ) . r e p l a c e ( / \ / $ / , " " ) } , a . f n . s m o o t h S c r o l l . d e f a u l t s = d } ( j Q u e r y ) , t h i s . _ = t h i s . _ | | { } , t h i s . _ . t e m p l a t e s = t h i s . _ . t e m p l a t e s | | { } , t h i s . _ . t e m p l a t e s . f a v o r i t e B a r = f u n c t i o n ( o b j ) { f u n c t i o n   p r i n t ( ) { _ _ p + = _ _ j . c a l l ( a r g u m e n t s , " " ) } o b j | | ( o b j = { } ) ; v a r   _ _ t , _ _ p = " " , _ _ e = _ . e s c a p e , _ _ j = A r r a y . p r o t o t y p e . j o i n ; w i t h ( o b j ) _ _ p + = ' < d i v   i d = " f a v o r i t e - b a r " > \ n         < d i v   o r i g i n a l - t i t l e = " F a v o r i t e "   c l a s s = " f a v o r i t e - i m a g e   t i t l e   ' , f a v o r i t e d & & ( _ _ p + = " f a v o r i t e d " ) , _ _ p + = ' "   h r e f = " j a v a s c r i p t : ; " > \ n                 < s p a n   c l a s s = " i c o n - f a v " > < / s p a n > \ n         < / d i v > \ n         < d i v   c l a s s = " c l i p b o a r d - c o n t a i n e r "   i d = " c o p y - c o n t a i n e r "   t i t l e = " c o p y " > \ n                 < d i v   c l a s s = " i c o n - c o p y "   i d = " c o p y - c l i p b o a r d " > < / d i v > \ n         < / d i v > \ n         < i n p u t   t y p e = " h i d d e n "   i d = " c o p y "   v a l u e = " ' + ( n u l l = = ( _ _ t = v a l u e ) ? " " : _ _ t ) + ' "   r e a d o n l y = " r e a d o n l y "   / > \ n < / d i v > ' ; r e t u r n   _ _ p } , N a m e s p a c e ( " I m g u r . P r o m o t e d " ) ; v a r   y o u t u b e _ r e a d y = ! 1 , y o u t u b e _ i f r a m e s = { } ; I m g u r . P r o m o t e d = C l a s s . e x t e n d ( { i n i t : f u n c t i o n ( a , b , c , d , e , f , g , h , i ) { t h i s . _ = { e n v : h , l o g A n a l y t i c s : i | | f u n c t i o n ( ) { } , e l e : { } , c o n f i g : a , e m i t t e r : b , e v e n t s : e , e v e n t s B o u n d : ! 1 , n a v s : 0 , n a v H a s h e s : [ ] , f a i l M o d e : ! 1 , r e s e r v a t i o n s : [ ] , a d s : { } , o r d e r : [ ] , p x Q u e u e : [ ] , s o u r c e : f , r g x S u b r e d d i t : / \ / r \ / ( [ ^ \ / ] + ) / , r g x P x M a c r o T i m e s t a m p : / [ \ { \ [ \ % ] + ( t i m e s t a m p | c a c h e b u s t ( e r ) ? ) [ \ } \ ] \ % ] + / g i , r g x P x M a c r o R a n d o m : / [ \ { \ [ \ % ] + r a n d o m [ \ } \ ] \ % ] + / g i , p x M a c r o R a n d o m L e n g t h : 1 0 , a l l o w e d R a n d o m C h a r s : " a b c d e f g h i j k l m n o p q r s t u v w x y z 0 1 2 3 4 5 6 7 8 9 " , i n s i d e : c , s e c t S o r t W i n d o w : " " , s i d e G a l l e r y : d , t h u m b n a i l S i z e s : { w i d e : " 2 8 8 x 1 4 1 " , n o r m a l : " 1 4 1 x 1 4 1 " } , e n a b l e d : g & & ! 0 , y o u t u b e V i e w a b i l i t y T i m e r : 1 e 3 , y o u t u b e M i n V i e w T i m e : 3 } , b . o n ( " g o t P r o m o t e d " , t h i s , t h i s . h a n d l e R e s e r v a t i o n ) , b . o n ( " s i d e g a l l e r y P a g e L o a d " , t h i s , t h i s . h a n d l e N e w G a l l e r y P a g e ) , b . o n ( " p o s t R e n d e r i n g " , t h i s , t h i s . h a n d l e N a v ) , 
 b . o n ( " p o s t R e n d e r e d " , t h i s , t h i s . h a n d l e P o s t R e n d e r e d ) , b . o n ( " d i s p l a y P r o m o t e d " , t h i s , t h i s . h a n d l e D i s p l a y ) , b . o n ( " p r o m o E v e n t " , t h i s , t h i s . h a n d l e D o m E v e n t ) , t h i s . _ . e n v . i m a g e . i s A d & & ( t h i s . b i n d G a m e L i n k ( t h i s . _ . e n v . i m a g e . h a s h ) , t h i s . i n i t Y o u T u b e A u t o P l a y M u t e ( ) ) } , e v e n t s E v a l : f u n c t i o n ( a ) { a   i n   t h i s . _ . a d s ? ( t h i s . _ . e v e n t s . b i n d A l l ( ) , t h i s . _ . e v e n t s B o u n d = ! 0 ) : t h i s . _ . e v e n t s B o u n d & & ( t h i s . _ . e v e n t s . b i n d A l l ( ! 0 ) , t h i s . _ . e v e n t s B o u n d = ! 1 ) } , h a n d l e D o m E v e n t : f u n c t i o n ( a ) { v a r   b , c = I m g u r . U t i l . d i v e ( a , " d a t a . p r o m o E v e n t " ) ; i f ( c ) f o r ( _ . i s A r r a y ( c ) | | ( c = [ c ] ) , b = 0 ; b < c . l e n g t h ; b + + ) t h i s . p i x e l ( t h i s . _ . i n s i d e . g e t H a s h ( ) , c [ b ] ) } , h a n d l e N a v : f u n c t i o n ( a , b , c ) { v a r   d = a . h a s h ; i f ( t h i s . _ . e n a b l e d & & ( t h i s . _ . y o u t u b e V i e w a b i l i t y I n t e r v a l & & t h i s . r e s e t Y o u T u b e A u t o P l a y M u t e ( ) , a . i s A d & & t h i s . i n i t Y o u T u b e A u t o P l a y M u t e ( ) , i s N a N ( t h i s . _ . n a v s ) & & ( t h i s . _ . n a v s = 0 ) , ! ( t h i s . _ . c o n f i g . s k i p P r o m o N a v & & d   i n   t h i s . _ . a d s ) & & ( ! ( t h i s . _ . c o n f i g . o n l y U n i q u e N a v s & & _ . i n d e x O f ( t h i s . _ . n a v H a s h e s , d ) > - 1 ) | | a . i s A d ) ) ) { t h i s . _ . n a v H a s h e s . p u s h ( d ) , t h i s . _ . n a v s + + , t h i s . _ . f a i l M o d e & & t h i s . _ . n a v s > t h i s . _ . c o n f i g . f a i l T h r e s h o l d & & ( t h i s . _ . f a i l M o d e = ! 1 ) ; v a r   e = t h i s . _ . n a v H a s h e s . l e n g t h = = t h i s . _ . c o n f i g . p o p u l a t e F i r s t T h r e s h o l d + 1 , f = t h i s . _ . n a v s > 0 & & t h i s . _ . n a v s > = t h i s . _ . c o n f i g . n a v T h r e s h o l d ; i f ( b | | e | | f ) { t h i s . _ . n a v s = 0 , d = t h i s . _ . s i d e G a l l e r y . u n i q u e I d ( d , a . p r o m o t e d P l a c e m e n t C o u n t ) ; v a r   g = t h i s . _ . s i d e G a l l e r y . n t h F r o m H a s h ( i s N a N ( c ) ? t h i s . _ . c o n f i g . d i s t a n c e : c , d ) ; i f ( t h i s . _ . f a i l M o d e ) r e t u r n   v o i d   t h i s . f l a g H a s h F o r P r o m o t e d I n v e n t o r y A n a l y t i c s ( g ) ; t h i s . _ . r e s e r v a t i o n s . p u s h ( g ) , t h i s . _ . e m i t t e r . t r i g g e r ( " w a n t P r o m o t e d " , t h i s . _ . s o u r c e . g e t P l a c e m e n t ( ) ) } } } , h a n d l e P o s t R e n d e r e d : f u n c t i o n ( a ) { t h i s . e v e n t s E v a l ( a . h a s h ) } , f l a g H a s h F o r P r o m o t e d I n v e n t o r y A n a l y t i c s : f u n c t i o n ( a ) { v a r   b = t h i s . _ . s i d e G a l l e r y . h a s h P o s i t i o n ( a ) ; i f ( ! i s N a N ( b ) ) { v a r   c = b + 1 ; t h i s . _ . s i d e G a l l e r y . s t a t e . i t e m s [ c ] . p r o m o t e d P o s t R e q u e s t E x p e c t e d = ! 0 } } , h a n d l e D i s p l a y : f u n c t i o n ( a ) { v a r   b ; t h i s . b i n d G a m e L i n k ( a ) , a   i n   t h i s . _ . a d s & & ( b = t h i s . _ . a d s [ a ] , t h i s . p i x e l ( a , " I M P R E S S I O N _ P O S T " ) , t h i s . p i x e l ( a , " C L I C K _ T H U M B " ) , t h i s . p l a c e C o m p a n i o n ( a ) , I m g u r . U t i l . j a f o L o g ( { e v e n t : " p p C o n v " , m e t a : { h a s h : a , f l i g h t I d : I m g u r . U t i l . d i v e ( b , " p a r t s . t h u m b . f l i g h t I d " ) , c a m p a i g n I d : I m g u r . U t i l . d i v e ( b , " p a r t s . t h u m b . c a m p a i g n I d " ) , t h u m b n a i l S i z e : I m g u r . U t i l . d i v e ( b , " p a r t s . d a t a . t h u m b n a i l _ j s o n . s i z e " ) | | t h i s . _ . t h u m b n a i l S i z e s . n o r m a l } } ) ) } , b i n d G a m e L i n k : f u n c t i o n ( a ) { v a r   b = " . p l a y - t h e - g a m e " , c = [ " 0 O c V Z l b " , " C Z f 9 o " , " s A E y l " , " D j 5 d m " ] ; c . i n d e x O f ( a ) > - 1 & & $ ( " . p o s t - c o n t a i n e r " ) . o f f ( " c l i c k " , b , t h i s . h a n d l e G a m e L i n k ) . o n ( " c l i c k " , b , t h i s . h a n d l e G a m e L i n k ) } , h a n d l e G a m e L i n k : f u n c t i o n ( a ) { $ . c o l o r b o x ( { h r e f : " / / w w w . y o u r o l d s p i c e g a m e . c o m / " , i f r a m e : ! 0 , t r a n s i t i o n : " f a d e " , w i d t h : " 1 0 0 0 p x " , h e i g h t : " 6 4 0 p x " , s c r o l l i n g : ! 1 , t r a p F o c u s : ! 0 , t o p : " 5 0 p x " , o n C l o s e : f u n c t i o n ( ) { } , o n C o m p l e t e : f u n c t i o n ( ) { } , o n O p e n : f u n c t i o n ( ) { } } ) } , s e t Y o u T u b e A u t o P l a y M u t e I f r a m e s : f u n c t i o n ( ) { f o r ( v a r   a   i n   y o u t u b e _ i f r a m e s ) y o u t u b e _ i f r a m e s [ a ] . d o m & & ! d o c u m e n t . b o d y . c o n t a i n s ( y o u t u b e _ i f r a m e s [ a ] . d o m ) & & ( y o u t u b e _ i f r a m e s [ a ] . i s P l a y i n g = ! 1 , y o u t u b e _ i f r a m e s [ a ] . p l a y e r = n u l l , y o u t u b e _ i f r a m e s [ a ] . d o m = n u l l ) ; f o r ( v a r   b = $ ( " . p o s t - i m a g e - d e s c r i p t i o n   . y o u t u b e - a u t o p l a y - m u t e " ) , c = 0 ; c < b . l e n g t h ; c + + ) { v a r   a = b [ c ] . s r c ; y o u t u b e _ i f r a m e s . h a s O w n P r o p e r t y ( a ) ? ( y o u t u b e _ i f r a m e s [ a ] . p l a y e r & & ( y o u t u b e _ i f r a m e s [ a ] . s o u n d O n = y o u t u b e _ i f r a m e s [ a ] . p l a y e r . i s M u t e d ( ) , y o u t u b e _ i f r a m e s [ a ] . i s P l a y i n g = y o u t u b e _ i f r a m e s [ a ] . p l a y e r . g e t P l a y e r S t a t e ( ) ! = Y T . P l a y e r S t a t e . P A U S E D , y o u t u b e _ i f r a m e s [ a ] . c u r r e n t T i m e = y o u t u b e _ i f r a m e s [ a ] . p l a y e r . g e t C u r r e n t T i m e ( ) , y o u t u b e _ i f r a m e s [ a ] . i s P l a y i n g & & ( y o u t u b e _ i f r a m e s [ a ] . t i m e V i e w e d + = t h i s . _ . y o u t u b e V i e w a b i l i t y T i m e r / 1 e 3 , y o u t u b e _ i f r a m e s [ a ] . t i m e V i e w e d = = t h i s . _ . y o u t u b e M i n V i e w T i m e & & I m g u r . U t i l . j a f o L o g ( { e v e n t : " v i d e o V i e w " , m e t a : { h a s h : y o u t u b e _ i f r a m e s [ a ] . h a s h } } ) ) ) , y o u t u b e _ i f r a m e s [ a ] . d o m = b [ c ] ) : y o u t u b e _ i f r a m e s . h a s O w n P r o p e r t y ( a ) | | ( y o u t u b e _ i f r a m e s [ a ] = { s o u n d O n : ! 1 , i s P l a y i n g : ! 1 , m a n u a l l y P a u s e d : ! 1 , c u r r e n t T i m e : 0 , t i m e V i e w e d : 0 , v i d e o L e n g t h : 0 , p l a y e r : n u l l , h a s h : n u l l , d o m : b [ c ] } ) } } , i n i t Y o u T u b e A u t o P l a y M u t e : f u n c t i o n ( ) { t h i s . s e t Y o u T u b e A u t o P l a y M u t e I f r a m e s ( ) , ! y o u t u b e _ r e a d y & & O b j e c t . k e y s ( y o u t u b e _ i f r a m e s ) . l e n g t h & & ( $ . g e t S c r i p t ( " / / w w w . y o u t u b e . c o m / i f r a m e _ a p i " , _ . b i n d ( f u n c t i o n ( ) { w i n d o w . a d d E v e n t L i s t e n e r ( " b e f o r e u n l o a d " , _ . b i n d ( f u n c t i o n ( ) { t h i s . r e s e t Y o u T u b e A u t o P l a y M u t e ( ) } , t h i s ) ) } , t h i s ) ) , y o u t u b e _ r e a d y = ! 0 ) , t h i s . _ . y o u t u b e V i e w a b i l i t y I n t e r v a l = c l e a r I n t e r v a l ( t h i s . _ . y o u t u b e V i e w a b i l i t y I n t e r v a l ) , t h i s . _ . y o u t u b e V i e w a b i l i t y I n t e r v a l = s e t I n t e r v a l ( _ . b i n d ( t h i s . h a n d l e Y o u T u b e A u t o P l a y M u t e U p d a t e , t h i s ) , t h i s . _ . y o u t u b e V i e w a b i l i t y T i m e r ) } , h a n d l e Y o u T u b e A u t o P l a y M u t e U p d a t e : f u n c t i o n ( ) { y o u t u b e _ r e a d y ? ( t h i s . s e t Y o u T u b e A u t o P l a y M u t e I f r a m e s ( ) , o n Y o u T u b e I f r a m e A P I R e a d y ( ) ) : t h i s . i n i t Y o u T u b e A u t o P l a y M u t e ( ) } , r e s e t Y o u T u b e A u t o P l a y M u t e : f u n c t i o n ( ) { f o r ( v a r   a   i n   y o u t u b e _ i f r a m e s ) I m g u r . U t i l . j a f o L o g . d i r e c t ( { e v e n t : " v i d e o F i n i s h e d " , m e t a : { h a s h : y o u t u b e _ i f r a m e s [ a ] . h a s h , s o u n d O n : y o u t u b e _ i f r a m e s [ a ] . s o u n d O n , t i m e V i e w e d : y o u t u b e _ i f r a m e s [ a ] . t i m e V i e w e d , v i d e o L e n g t h : y o u t u b e _ i f r a m e s [ a ] . v i d e o L e n g t h , p e r c V i e w e d : M a t h . m i n ( 1 , y o u t u b e _ i f r a m e s [ a ] . t i m e V i e w e d / y o u t u b e _ i f r a m e s [ a ] . v i d e o L e n g t h ) } } ) ; t h i s . _ . y o u t u b e V i e w a b i l i t y I n t e r v a l = c l e a r I n t e r v a l ( t h i s . _ . y o u t u b e V i e w a b i l i t y I n t e r v a l ) , y o u t u b e _ i f r a m e s = { } } , t a g S e c t i o n I s F i l t e r e d : f u n c t i o n ( ) { r e t u r n " t a g " = = = t h i s . _ . i n s i d e . _ . s e c t i o n & & ! ! t h i s . _ . e n v . t a g S e c t i o n I s P r o m o t e d } , s e c t i o n I s F i l t e r e d : f u n c t i o n ( ) { v a r   a = t h i s . _ . c o n f i g . f i l t e r e d S e c t i o n s & & t h i s . _ . s i d e G a l l e r y . s t a t e . s e c t i o n   i n   t h i s . _ . c o n f i g . f i l t e r e d S e c t i o n s , b = _ . i n d e x O f ( t h i s . _ . c o n f i g . f i l t e r e d S e c t i o n s , t h i s . _ . s i d e G a l l e r y . s t a t e . s e c t i o n ) > - 1 ; r e t u r n " s u b r e d d i t " = = = t h i s . _ . s i d e G a l l e r y . s t a t e . s e c t i o n ? ! t h i s . s u b r e d d i t I s A l l o w e d ( ) : ! ( ! a & & ! b ) & & ( " o b j e c t " ! = t y p e o f   t h i s . _ . c o n f i g . f i l t e r e d S e c t i o n s [ t h i s . _ . s i d e G a l l e r y . s t a t e . s e c t i o n ] | | _ . i n d e x O f ( t h i s . _ . c o n f i g . f i l t e r e d S e c t i o n s [ t h i s . _ . s i d e G a l l e r y . s t a t e . s e c t i o n ] , t h i s . _ . s i d e G a l l e r y . s t a t e . s o r t ) > - 1 ) } , s u b r e d d i t I s A l l o w e d : f u n c t i o n ( ) { v a r   a = t h i s . _ . s i d e G a l l e r y . s t a t e . s o u r c e , b = a ? a . m a t c h ( t h i s . _ . r g x S u b r e d d i t ) : n u l l ; r e t u r n ! ( ! b | | 2 ! = = b . l e n g t h ) & & _ . i n d e x O f ( t h i s . _ . c o n f i g . a l l o w e d S u b r e d d i t s , b [ 1 ] . t o L o w e r C a s e ( ) ) > - 1 } , h a n d l e N e w G a l l e r y : f u n c t i o n ( ) { v a r   a = i s N a N ( t h i s . _ . c o n f i g . p o p u l a t e F i r s t D i s t a n c e ) ? t h i s . _ . c o n f i g . d i s t a n c e : t h i s . _ . c o n f i g . p o p u l a t e F i r s t D i s t a n c e ; i f ( t h i s . t a g S e c t i o n I s F i l t e r e d ( ) ) r e t u r n   v o i d ( t h i s . _ . e n a b l e d = ! 1 ) ; i f ( t h i s . s e c t i o n I s F i l t e r e d ( ) ) r e t u r n   v o i d ( t h i s . _ . e n a b l e d = ! 1 ) ; i f ( t h i s . _ . n a v s = 0 , t h i s . _ . i n s i d e . _ . i m a g e . i s A d ) r e t u r n   v o i d   t h i s . _ . o r d e r . p u s h ( t h i s . _ . i n s i d e . _ . i m a g e . h a s h ) ; i f ( t h i s . _ . c o n f i g . p o p u l a t e F i r s t ) { v a r   b = t h i s . _ . i n s i d e . g e t H a s h ( ) ; t h i s . h a n d l e N a v ( t h i s . _ . i n s i d e . g e t S i d e G a l l e r y ( ) . g e t I m a g e ( b ) , ! 0 , a ) } } , h a n d l e N e w G a l l e r y P a g e : f u n c t i o n ( a ) { " i n i t i a l " = = = a & & t h i s . h a n d l e N e w G a l l e r y ( ) } , n e x t L o c I s F l u s h e d L e f t : f u n c t i o n ( a ) { r e t u r n   0 = = = $ ( " # i t e m - " + a ) . p o s i t i o n ( ) . l e f t } , h a n d l e R e s e r v a t i o n : f u n c t i o n ( a ) { v a r   b = ( a . g e t H a s h ( ) , t h i s . _ . r e s e r v a t i o n s . s h i f t ( ) ) , c = 0 ; t h u m b n a i l S i z e = I m g u r . U t i l . d i v e ( a , " p a r t s . d a t a . t h u m b n a i l _ j s o n . s i z e " ) , t h u m b n a i l S i z e = = = t h i s . _ . t h u m b n a i l S i z e s . w i d e & & t h i s . n e x t L o c I s F l u s h e d L e f t ( b ) & & c + + , t h i s . h a n d l e P l a c e m e n t ( a , b , c ) } , h a n d l e P l a c e m e n t : f u n c t i o n ( a , b , c ) { v a r   d = a . g e t H a s h ( ) , e = I m g u r . U t i l . d i v e ( a , " p a r t s . d a t a . t h u m b n a i l _ j s o n . s i z e " ) ; i f ( b | | ( b = t h i s . _ . s i d e G a l l e r y . s t a t e . i t e m s [ t h i s . _ . s i d e G a l l e r y . s t a t e . i t e m s . l e n g t h - 1 ] . h a s h ) , ! d ) r e t u r n   t h i s . f l a g H a s h F o r P r o m o t e d I n v e n t o r y A n a l y t i c s ( b ) , v o i d ( t h i s . _ . f a i l M o d e = ! 0 ) ; i f ( d ! = = b ) { t h i s . _ . a d s [ d ] = a , t h i s . _ . o r d e r . p u s h ( d ) , " t i m e s t a m p " i n   a . p a r t s . d a t a | | ( a . p a r t s . d a t a . t i m e s t a m p = m o m e n t ( ) . u t c ( ) . f o r m a t ( " Y Y Y Y - M M - D D   H H : m m : s s " ) ) , a . p a r t s . d a t a . p l a c e m e n t R e s p o n s e = a . p a r t s , a . p a r t s . d a t a . p r o m o t e d P o s t R e q u e s t E x p e c t e d = ! 0 , a . p a r t s . d a t a . p r o m o t e d P l a c e m e n t C o u n t = t h i s . _ . o r d e r . f i l t e r ( f u n c t i o n ( a ) { r e t u r n   a = = = d } ) . l e n g t h ; v a r   f = t h i s . _ . s i d e G a l l e r y . h a s h P o s i t i o n ( b ) + 1 + c ; t h i s . _ . s i d e G a l l e r y . i n s e r t S i n g l e I t e m ( a . p a r t s . d a t a , f ) , t h i s . p i x e l ( d , " I M P R E S S I O N _ T H U M B " ) , t h i s . _ . l o g A n a l y t i c s ( { e v e n t : " p p I m p " , m e t a : { h a s h : d , f l i g h t I d : I m g u r . U t i l . d i v e ( a , " p a r t s . t h u m b . f l i g h t I d " ) , c a m p a i g n I d : I m g u r . U t i l . d i v e ( a , " p a r t s . t h u m b . c a m p a i g n I d " ) , t h u m b n a i l S i z e : e | | t h i s . _ . t h u m b n a i l S i z e s . n o r m a l } } ) } } , p l a c e C o m p a n i o n : f u n c t i o n ( a ) { v a r   b = I m g u r . U t i l . d i v e ( t h i s . _ . a d s [ a ] , " p a r t s . c o m p a n i o n . h t m l " ) , c = ' < d i v   c l a s s = " p r o m o C o m p a n i o n " > < i f r a m e   i d = " p r o m o C o m p a n i o n F r a m e "   w i d t h = " 3 0 0 "   h e i g h t = " 2 5 0 "   m a r g i n w i d t h = " 0 "   m a r g i n h e i g h t = " 0 "   h s p a c e = " 0 "   v s p a c e = " 0 "   s c r o l l i n g = " n o "   f r a m e B o r d e r = " 0 "   s e a m l e s s = " s e a m l e s s "   s a n d b o x = " a l l o w - s a m e - o r i g i n   a l l o w - s c r i p t s   a l l o w - p o p u p s   a l l o w - p o p u p s - t o - e s c a p e - s a n d b o x " > < / i f r a m e > < / d i v > ' ; a   i n   t h i s . _ . a d s & & b & & ( " " + b ) . l e n g t h > 0 & & ( t h i s . _ . i n s i d e . s h o w A d s ( c , f u n c t i o n ( a , c ) { v a r   d , e = d o c u m e n t . g e t E l e m e n t B y I d ( " p r o m o C o m p a n i o n F r a m e " ) ; a & & c & & e & & ( d = e . c o n t e n t W i n d o w . d o c u m e n t , d . o p e n ( ) , d . w r i t e ( b ) , d . c l o s e ( ) ) } ) , s e t T i m e o u t ( _ . b i n d ( f u n c t i o n ( ) { $ ( " . p r o m o C o m p a n i o n " ) . i s ( " : v i s i b l e " ) & & t h i s . p i x e l ( a , " I M P R E S S I O N _ C O M P A N I O N " ) } , t h i s ) , 8 0 0 ) ) } , p i x e l : f u n c t i o n ( a , b , c ) { v a r   d , e = I m g u r . U t i l . d i v e ( t h i s . _ . a d s , a + " . p i x e l s . " + b ) , f = [ ] ; i f ( _ . i s A r r a y ( e ) ) f o r ( d = 0 ; d < e . l e n g t h ; d + + ) f . p u s h ( t h i s . p i x e l F i r e ( e [ d ] , c , _ . e x t e n d ( [ ] , a r g u m e n t s ) ) ) ; r e t u r n   f } , p i x e l F i r e : f u n c t i o n ( a , b , c ) { v a r   d , e , f , g = t h i s ; r e t u r n " s t r i n g " = = t y p e o f   a & & a . l e n g t h > 2 & & ( e = d o c u m e n t . c r e a t e E l e m e n t ( " i m g " ) , e . p i x e l D a t a = c , d = t h i s . _ . p x Q u e u e . p u s h ( e ) - 1 , f = f u n c t i o n ( ) { " f u n c t i o n " = = t y p e o f   b & & b . a p p l y ( t h i s , a r g u m e n t s ) , g . _ . e m i t t e r . t r i g g e r ( " p r o m o t e d P i x e l " , a r g u m e n t s ) , g . _ . p x Q u e u e [ d ] = n u l l } , e . o n l o a d = f , e . o n e r r o r = f , t h i s . _ . r g x P x M a c r o T i m e s t a m p . t e s t ( a ) & & ( a = a . r e p l a c e ( t h i s . _ . r g x P x M a c r o T i m e s t a m p , ( n e w   D a t e ) . g e t T i m e ( ) ) ) , t h i s . _ . r g x P x M a c r o R a n d o m . t e s t ( a ) & & ( a = a . r e p l a c e ( t h i s . _ . r g x P x M a c r o R a n d o m , t h i s . g e n e r a t e R a n d o m S t r i n g ( t h i s . _ . p x M a c r o R a n d o m L e n g t h ) ) ) , e . s r c = a ) , e } , g e n e r a t e R a n d o m S t r i n g : f u n c t i o n ( a ) { v a r   b = p a r s e I n t ( a , 1 0 ) ; i f ( ! ( b < 1 ) ) { v a r   c , d = t h i s . _ . a l l o w e d R a n d o m C h a r s . l e n g t h , e = " " ; f o r ( c = 0 ; c < b ; c + + ) e + = t h i s . _ . a l l o w e d R a n d o m C h a r s . c h a r A t ( M a t h . f l o o r ( M a t h . r a n d o m ( ) * d ) ) ; r e t u r n   e } } } ) , N a m e s p a c e ( " I m g u r . P r o m o t e d . E v e n t s " ) , I m g u r . P r o m o t e d . E v e n t s = C l a s s . e x t e n d ( { i n i t : f u n c t i o n ( a , b , c ) { t h i s . _ = { e l e : { c l i c k s : { A C T I O N _ I M A G E _ U P V O T E : " . p o s t - a c t i o n - u p v o t e : n o t ( . g r e e n ) " , A C T I O N _ I M A G E _ D O W N V O T E : " . p o s t - a c t i o n - d o w n v o t e : n o t ( . r e d ) " , A C T I O N _ F A V O R I T E : " . p o s t - a c t i o n - f a v o r i t e : n o t ( . g r e e n ) " , A C T I O N _ S H A R E : " . s o c i a l - i c o n " , A C T I O N _ S H A R E _ F A C E B O O K : " . s o c i a l - i c o n . i c o n - f " , A C T I O N _ S H A R E _ T W I T T E R : " . s o c i a l - i c o n . i c o n - t w t t r " , A C T I O N _ S H A R E _ P I N T E R E S T : " . s o c i a l - i c o n . i c o n - p i n " , A C T I O N _ S H A R E _ R E D D I T : " . s o c i a l - i c o n . i c o n - r e d d i t " , C L I C K _ C O M P A N I O N : " # r i g h t - c o n t e n t   . a d v e r t i s e m e n t   . p r o m o C o m p a n i o n   a   i m g " } } , c o n f i g : a , e m i t t e r : b , i n s i d e : c } } , b i n d A l l : f u n c t i o n ( a ) { a ? ( t h i s . _ . e m i t t e r . o f f ( " c a p t i o n V o t e d " , t h i s , t h i s . _ h a n d l e C o m m e n t V o t e ) , t h i s . _ . e m i t t e r . o f f ( " c a p t i o n S u b m i t " , t h i s , t h i s . _ h a n d l e C o m m e n t S u b m i t ) , t h i s . _ . e m i t t e r . o f f ( " v w T i m e " , t h i s , t h i s . _ h a n d l e V w T i m e ) , t h i s . _ . e m i t t e r . o f f ( " v w U n d e r I m a g e " , t h i s , t h i s . _ h a n d l e V w U n d e r I m a g e ) ) : ( t h i s . _ . e m i t t e r . o n ( " c a p t i o n V o t e d " , t h i s , t h i s . _ h a n d l e C o m m e n t V o t e ) , t h i s . _ . e m i t t e r . o n ( " c a p t i o n S u b m i t " , t h i s , t h i s . _ h a n d l e C o m m e n t S u b m i t ) , t h i s . _ . e m i t t e r . o n ( " v w T i m e " , t h i s , t h i s . _ h a n d l e V w T i m e ) , t h i s . _ . e m i t t e r . o n ( " v w U n d e r I m a g e " , t h i s , t h i s . _ h a n d l e V w U n d e r I m a g e ) ) , t h i s . b i n d C l i c k s ( a ) } , b i n d C l i c k s : f u n c t i o n ( a ) { v a r   b , c = a ? " o f f " : " o n " ; f o r ( b   i n   t h i s . _ . e l e . c l i c k s ) t h i s . _ . e l e . c l i c k s . h a s O w n P r o p e r t y ( b ) & & $ ( t h i s . _ . e l e . c l i c k s [ b ] ) [ c ] ( " c l i c k " , n u l l , { p r o m o E v e n t : b } , _ . b i n d ( t h i s . _ f i r e E v e n t , t h i s ) ) } , _ h a n d l e V w T i m e : f u n c t i o n ( a , b ) { v a r   c = { h a s h : t h i s . g e t S i d e I m a g e ( a ) , d a t a : { s e c : M a t h . f l o o r ( b / 1 e 3 ) , p r o m o E v e n t : " V I E W _ T I M E _ 0 " } } ; c . d a t a . s e c < = 1 0 ? c . d a t a . p r o m o E v e n t = " V I E W _ T I M E _ " + c . d a t a . s e c : c . d a t a . s e c < = 1 4 ? c . d a t a . p r o m o E v e n t = " V I E W _ T I M E _ 1 0 " : c . d a t a . s e c < = 1 9 ? c . d a t a . p r o m o E v e n t = " V I E W _ T I M E _ 1 5 " : c . d a t a . s e c < = 2 4 ? c . d a t a . p r o m o E v e n t = " V I E W _ T I M E _ 2 0 " : c . d a t a . s e c < = 2 9 ? c . d a t a . p r o m o E v e n t = " V I E W _ T I M E _ 2 5 " : c . d a t a . p r o m o E v e n t = " V I E W _ T I M E _ 3 0 _ P L U S " , t h i s . _ f i r e E v e n t ( c ) } , _ h a n d l e V w U n d e r I m a g e : f u n c t i o n ( a , b , c ) { v a r   d = { h a s h : t h i s . g e t S i d e I m a g e ( a ) , d a t a : { p r o m o E v e n t : " V I E W _ U N D E R I M A G E " } } ; t h i s . _ f i r e E v e n t ( d ) } , _ h a n d l e C o m m e n t S u b m i t : f u n c t i o n ( a ) { v a r   b = { c o m m e n t : a , d a t a : { p r o m o E v e n t : " A C T I O N _ C O M M E N T " } } ; a . p a r e n t _ i d & & ( b . d a t a . p r o m o E v e n t = " A C T I O N _ C O M M E N T _ R E P L Y " ) , t h i s . _ f i r e E v e n t ( b ) } , _ h a n d l e C o m m e n t V o t e : f u n c t i o n ( a , b ) { v a r   c = { c o m m e n t : a , d a t a : { p r o m o E v e n t : n u l l } } ; " v e t o " ! = = b & & ( " u p " = = = b ? c . d a t a . p r o m o E v e n t = " A C T I O N _ C O M M E N T _ U P V O T E " : c . d a t a . p r o m o E v e n t = " A C T I O N _ C O M M E N T _ D O W N V O T E " , t h i s . _ f i r e E v e n t ( c ) ) } , g e t S i d e I m a g e : f u n c t i o n ( a ) { r e t u r n   t h i s . _ . i n s i d e . _ . s i d e G a l l e r y . g e t I m a g e ( a ) } , _ f i r e E v e n t : f u n c t i o n ( a ) { t h i s . _ . e m i t t e r . t r i g g e r ( " p r o m o E v e n t " , a ) } } ) , f u n c t i o n ( ) { f u n c t i o n   a ( a ) { t h i s . e m i t t e r = a , t h i s . p a r t s = { c o m p a n i o n : n u l l , p a g e : n u l l , t h u m b : n u l l , d a t a : { } } , t h i s . p i x e l s = { } } a . p r o t o t y p e = { a d d P i x e l : f u n c t i o n ( a , b ) { " o b j e c t " ! = t y p e o f   t h i s . p i x e l s [ a ] & & ( t h i s . p i x e l s [ a ] = [ ] ) , t h i s . p i x e l s [ a ] . p u s h ( b ) } , a d d C o m p a n i o n P l a c e m e n t : f u n c t i o n ( a ) { t h i s . p a r t s . c o m p a n i o n = _ . e x t e n d ( { } , a ) } , a d d P a g e P l a c e m e n t : f u n c t i o n ( a ) { t h i s . p a r t s . p a g e = _ . e x t e n d ( { } , a ) } , a d d T h u m b P l a c e m e n t : f u n c t i o n ( a ) { t h i s . p a r t s . t h u m b = _ . e x t e n d ( { } , a ) } , g e t H a s h : f u n c t i o n ( ) { r e t u r n   I m g u r . U t i l . d i v e ( t h i s . p a r t s , " d a t a . h a s h " ) } , s e t D a t a : f u n c t i o n ( a ) { t h i s . p a r t s . d a t a = _ . e x t e n d ( t h i s . p a r t s . d a t a , a ) , t h i s . p a r t s . d a t a . s t a r t i n g _ s c o r e = 0 } } , I m g u r . P r o m o t e d . P o s t = a } ( ) , N a m e s p a c e ( " I m g u r . P r o m o t e d . S o u r c e " ) , I m g u r . P r o m o t e d . S o u r c e = C l a s s . e x t e n d ( { i n i t : f u n c t i o n ( a , b , c ) { t h r o w " I m g u r . P r o m o t e d . S o u r c e   i s   a n   a b s t r a c t   c l a s s . " } , g e t P l a c e m e n t : f u n c t i o n ( ) { } } ) , N a m e s p a c e ( " I m g u r . P r o m o t e d . S o u r c e . A d z e r k " ) , I m g u r . P r o m o t e d . S o u r c e . A d z e r k = I m g u r . P r o m o t e d . S o u r c e . e x t e n d ( { i n i t : f u n c t i o n ( a , b ) { r e t u r n   t h i s . _ = { b l o c k e d C r e a t i v e s : [ ] , e m i t t e r : b , e s p o u s e d : ! 1 , c o n f i g : a , u s e r : { } , c o o k i e O p t s : { d o m a i n : " . " + I m g u r . E n v i r o n m e n t . h o s t , p a t h : " / " , e x p i r e s : 3 6 5 } , r g x D o m a i n : / \ / \ / e n g i n e \ . [ ^ . ] + \ . n e t / , p g x P r o t o : / ^ [ ^ : ] + : \ / \ / / , e v t T o P x : { 1 0 : " A C T I O N _ I M A G E _ U P V O T E " , 1 1 : " A C T I O N _ I M A G E _ D O W N V O T E " , 2 2 : " A C T I O N _ C O M M E N T " , 1 0 1 : " A C T I O N _ C O M M E N T _ R E P L Y " , 1 0 2 : " A C T I O N _ C O M M E N T _ U P V O T E " , 1 0 3 : " A C T I O N _ C O M M E N T _ D O W N V O T E " , 2 0 : " A C T I O N _ F A V O R I T E " , 2 1 : " A C T I O N _ S H A R E " , 5 0 : " A C T I O N _ S H A R E _ F A C E B O O K " , 5 1 : " A C T I O N _ S H A R E _ T W I T T E R " , 5 2 : " A C T I O N _ S H A R E _ P I N T E R E S T " , 5 3 : " A C T I O N _ S H A R E _ R E D D I T " , 5 4 : " A C T I O N _ S H A R E _ E M A I L " , 1 0 4 : " V I E W _ U N D E R I M A G E " , 1 0 5 : " E X P A N D _ P O S T _ I M A G E S " , 4 0 0 : " V I E W _ T I M E _ 0 " , 4 0 1 : " V I E W _ T I M E _ 1 " , 4 0 2 : " V I E W _ T I M E _ 2 " , 4 0 3 : " V I E W _ T I M E _ 3 " , 4 0 4 : " V I E W _ T I M E _ 4 " , 4 0 5 : " V I E W _ T I M E _ 5 " , 4 0 6 : " V I E W _ T I M E _ 6 " , 4 0 7 : " V I E W _ T I M E _ 7 " , 4 0 8 : " V I E W _ T I M E _ 8 " , 4 0 9 : " V I E W _ T I M E _ 9 " , 4 1 0 : " V I E W _ T I M E _ 1 0 " , 4 1 5 : " V I E W _ T I M E _ 1 5 " , 4 2 0 : " V I E W _ T I M E _ 2 0 " , 4 2 5 : " V I E W _ T I M E _ 2 5 " , 4 3 0 : " V I E W _ T I M E _ 3 0 _ P L U S " } } , t h i s . _ i d F r o m C o o k i e ( ) , t h i s . _ } , g e t P l a c e m e n t : f u n c t i o n ( a ) { v a r   b = { u s e r : t h i s . _ g e t U s e r ( ) , p l a c e m e n t s : t h i s . _ . c o n f i g . a d z e r k . p l a c e m e n t P a r m s , k e y w o r d s : [ " p l a t f o r m - d e s k t o p " ] , b l o c k e d C r e a t i v e s : t h i s . _ . b l o c k e d C r e a t i v e s } ; r e t u r n   $ . a j a x ( { u r l : t h i s . _ . c o n f i g . a d z e r k . a p i L o c a t i o n , t y p e : " P O S T " , c o n t e n t T y p e : " a p p l i c a t i o n / j s o n " , d a t a : J S O N . s t r i n g i f y ( b ) , d a t a T y p e : " j s o n " , s u c c e s s : _ . b i n d ( t h i s . _ h a n d l e A p i R e s p o n s e , t h i s ) , e r r o r : _ . b i n d ( t h i s . _ h a n d l e A p i E r r o r , t h i s ) } ) } , _ h a n d l e A p i E r r o r : f u n c t i o n ( a , b , c ) { c o n s o l e . l o g ( " a d z e r k   g e t   f a i l " , a r g u m e n t s ) } , _ d e c o d e E n c o d e d R e s p o n s e : f u n c t i o n ( a ) { v a r   b , c , d , e , f = " c o n t e n t s . 0 . d a t a . c u s t o m D a t a " , g = I m g u r . U t i l . d i v e ( a , " d e c i s i o n s " ) ; i f ( " o b j e c t " = = t y p e o f   g ) f o r ( b   i n   g ) i f ( g . h a s O w n P r o p e r t y ( b ) ) { i f ( c = I m g u r . U t i l . d i v e ( g [ b ] , f + " . e n c o d e d " ) , _ . i s A r r a y ( c ) ) f o r ( d = 0 ; d < c . l e n g t h ; d + + ) e = I m g u r . U t i l . d i v e ( g [ b ] , f + " . " + c [ d ] ) , " s t r i n g " = = t y p e o f   e & & ( a . d e c i s i o n s [ b ] . c o n t e n t s [ 0 ] . d a t a . c u s t o m D a t a [ c [ d ] ] = d e c o d e U R I C o m p o n e n t ( e ) , a . d e c i s i o n s [ b ] . c o n t e n t s [ 0 ] . d a t a . c u s t o m D a t a [ c [ d ] + " _ r a w " ] = e ) ; i f ( c = I m g u r . U t i l . d i v e ( g [ b ] , f + " . e n c o d e d O b j " ) , _ . i s A r r a y ( c ) ) f o r ( d = 0 ; d < c . l e n g t h ; d + + ) e = I m g u r . U t i l . d i v e ( g [ b ] , f + " . " + c [ d ] ) , " s t r i n g " = = t y p e o f   e & & ( a . d e c i s i o n s [ b ] . c o n t e n t s [ 0 ] . d a t a . c u s t o m D a t a [ c [ d ] ] = J S O N . p a r s e ( d e c o d e U R I C o m p o n e n t ( e ) ) , a . d e c i s i o n s [ b ] . c o n t e n t s [ 0 ] . d a t a . c u s t o m D a t a [ c [ d ] + " _ r a w " ] = e ) } r e t u r n   a } , _ e s p o u s e : f u n c t i o n ( ) { t h i s . _ . e s p o u s e d | | I m g u r . E n v i r o n m e n t . a u t h & & $ . a j a x ( { t y p e : " G E T " , u r l : " / a c c o u n t / e s p o u s e " , c o m p l e t e : _ . b i n d ( f u n c t i o n ( ) { t h i s . _ . e s p o u s e d = ! 0 } , t h i s ) } ) } , _ i d F r o m C o o k i e : f u n c t i o n ( ) { v a r   a = $ . c o o k i e ( t h i s . _ . c o n f i g . u s e r C o o k i e ) ; a & & ( t h i s . _ . u s e r . k e y = a ) } , _ h a n d l e A p i R e s p o n s e : f u n c t i o n ( a , b , c ) { v a r   d , e = t h i s . _ . c o n f i g . a d z e r k , f = n u l l , g = I m g u r . U t i l . d i v e ( a , " d e c i s i o n s . " + e . p l a c e m e n t I d s . t h u m b ) , h = I m g u r . U t i l . d i v e ( a , " d e c i s i o n s . " + e . p l a c e m e n t I d s . p a g e ) , i = I m g u r . U t i l . d i v e ( a , " d e c i s i o n s . " + e . p l a c e m e n t I d s . c o m p a n i o n ) ; t h i s . _ . b l o c k e d C r e a t i v e s . s h i f t ( ) , " o b j e c t " = = t y p e o f   a & & " o b j e c t " = = t y p e o f   a . u s e r & & a . u s e r & & t h i s . _ s e t U s e r F r o m R e s p o n s e ( a ) , " o b j e c t " = = t y p e o f   a & & " o b j e c t " = = t y p e o f   a . d e c i s i o n s & & a . d e c i s i o n s ? ( a = t h i s . _ d e c o d e E n c o d e d R e s p o n s e ( a ) , f = n e w   I m g u r . P r o m o t e d . P o s t ( t h i s . _ . e m i t t e r ) , i & & ( c o m p F o r m a t t e d = t h i s . _ f o r m a t C o m p a n i o n D a t a ( i ) , f . a d d C o m p a n i o n P l a c e m e n t ( c o m p F o r m a t t e d ) , f . a d d P i x e l ( " C L I C K _ C O M P A N I O N " , t h i s . _ c l e a n P x ( i . c l i c k U r l ) ) , f . a d d P i x e l ( " I M P R E S S I O N _ C O M P A N I O N " , t h i s . _ c l e a n P x ( i . i m p r e s s i o n U r l ) ) ) , h & & ( f . a d d P a g e P l a c e m e n t ( h ) , f . a d d P i x e l ( " I M P R E S S I O N _ P O S T " , t h i s . _ c l e a n P x ( h . i m p r e s s i o n U r l ) ) ) , g & & ( a d D a t a = I m g u r . U t i l . d i v e ( g , " c o n t e n t s . 0 . d a t a . c u s t o m D a t a " ) , d = I m g u r . U t i l . d i v e ( g , " c o n t e n t s . 0 . d a t a . c u s t o m D a t a . c u s t o m P x " ) , a d D a t a & & ( f . a d d T h u m b P l a c e m e n t ( g ) , f . a d d P i x e l ( " C L I C K _ T H U M B " , t h i s . _ c l e a n P x ( g . c l i c k U r l ) ) , f . a d d P i x e l ( " I M P R E S S I O N _ T H U M B " , t h i s . _ c l e a n P x ( g . i m p r e s s i o n U r l ) ) , f . s e t D a t a ( a d D a t a ) , t h i s . _ . b l o c k e d C r e a t i v e s . p u s h ( g . c r e a t i v e I d ) , " o b j e c t " = = t y p e o f   g . e v e n t s & & t h i s . _ a d d E v e n t P i x e l s ( f , g . e v e n t s ) , " o b j e c t " = = t y p e o f   d & & t h i s . _ a d d C u s t o m P i x e l s ( f , d ) ) ) , t h i s . _ . e m i t t e r . t r i g g e r ( " g o t P r o m o t e d " , f ) ) : c o n s o l e . w a r n ( " E m p t y   o r   i n v a l i d   p r o m o t e d   r e s p o n s e . " , a r g u m e n t s ) } , _ c l e a n P x : f u n c t i o n ( a ) { r e t u r n " s t r i n g " = = t y p e o f   a & & ( t h i s . _ . r g x D o m a i n . t e s t ( a ) & & ( a = a . r e p l a c e ( t h i s . _ . r g x D o m a i n , " h t t p s : / / z r k . " + I m g u r . E n v i r o n m e n t . h o s t ) ) , t h i s . _ . p g x P r o t o . t e s t ( a ) & & ( a = a . r e p l a c e ( t h i s . _ . p g x P r o t o , " / / " ) ) ) , a } , _ a d d C u s t o m P i x e l s : f u n c t i o n ( a , b ) { v a r   c , d ; i f ( " o b j e c t " = = t y p e o f   a & & _ . i s A r r a y ( b ) ) f o r ( d = b . l e n g t h , c = 0 ; c < d ; c + + ) " u n d e f i n e d " ! = t y p e o f   b [ c ] . i d & & " u n d e f i n e d " ! = t y p e o f   b [ c ] . u r l & & " s t r i n g " = = t y p e o f   b [ c ] . i d & & a . a d d P i x e l ( b [ c ] . i d , t h i s . _ c l e a n P x ( b [ c ] . u r l ) ) } , _ a d d E v e n t P i x e l s : f u n c t i o n ( a , b ) { v a r   c , d ; i f ( " o b j e c t " = = t y p e o f   a & & _ . i s A r r a y ( b ) ) f o r ( d = b . l e n g t h , c = 0 ; c < d ; c + + ) " u n d e f i n e d " ! = t y p e o f   b [ c ] . i d & & " u n d e f i n e d " ! = t y p e o f   b [ c ] . u r l & & " s t r i n g " = = t y p e o f   t h i s . _ . e v t T o P x [ b [ c ] . i d ] & & a . a d d P i x e l ( t h i s . _ . e v t T o P x [ b [ c ] . i d ] , t h i s . _ c l e a n P x ( b [ c ] . u r l ) ) } , _ s e t U s e r F r o m R e s p o n s e : f u n c t i o n ( a ) { " o b j e c t " = = t y p e o f   a & & " o b j e c t " = = t y p e o f   a . u s e r & & a . u s e r & & ( t h i s . _ . u s e r = _ . e x t e n d ( { } , a . u s e r ) , t h i s . _ i d F r o m C o o k i e ( ) , $ . c o o k i e ( t h i s . _ . c o n f i g . u s e r C o o k i e , t h i s . _ . u s e r . k e y , t h i s . _ . c o o k i e O p t s ) , t h i s . _ e s p o u s e ( ) ) } , _ g e t U s e r : f u n c t i o n ( ) { r e t u r n   t h i s . _ i d F r o m C o o k i e ( ) , t h i s . _ . u s e r } , _ f o r m a t C o m p a n i o n D a t a : f u n c t i o n ( a ) { v a r   b , c , d , e , f = I m g u r . U t i l . d i v e ( a , " c o n t e n t s . 0 . d a t a . c u s t o m D a t a . a d T y p e " ) , g = { t y p e : f , r a w : a , h t m l : " " } ; s w i t c h ( g . r a w = a , f ) { c a s e " h a s h " : c a s e " n a t i v e " : b = I m g u r . E n v i r o n m e n t . c d n U r l + " / " + I m g u r . U t i l . d i v e ( a , " c o n t e n t s . 0 . d a t a . c u s t o m D a t a . h a s h " ) + " . j p g " , c = I m g u r . U t i l . d i v e ( a , " c o n t e n t s . 0 . d a t a . c u s t o m D a t a . l i n k " ) , d = I m g u r . U t i l . d i v e ( a , " c o n t e n t s . 0 . d a t a . c u s t o m D a t a . t i t l e " ) , g . h t m l = ' < a   h r e f = " ' + c + ' "   r e l = " n o f o l l o w "   t a r g e t = " _ b l a n k "   t i t l e = " ' + d + ' " > < i m g   s r c = " ' + b + ' "   t i t l e = " ' + d + ' "   a l t = " ' + d + ' "   b o r d e r = " 0 "   w i d t h = " 3 0 0 "   h e i g h t = " 2 5 0 " > < / a > ' ; b r e a k ; c a s e " h t m l " : g . h t m l = I m g u r . U t i l . d i v e ( a , " c o n t e n t s . 0 . d a t a . c u s t o m D a t a . h t m l " ) ; b r e a k ; d e f a u l t : e = I m g u r . U t i l . d i v e ( a , " c o n t e n t s . 0 . b o d y " ) , e & & ( g . h t m l = e ) } r e t u r n   g } } ) , I m g u r . L i n k G e n e r a t o r = C l a s s . e x t e n d ( { i n i t : f u n c t i o n ( ) { t h i s . _ = { i t e m : n u l l , t h u m b s i z e : n u l l , t h r e s h o l d : n u l l } } , s e t I t e m : f u n c t i o n ( a ) { r e t u r n   t h i s . _ . i t e m = a , t h i s } , s e t T h u m b S i z e : f u n c t i o n ( a ) { r e t u r n   t h i s . _ . t h u m b s i z e = a , t h i s } , s e t T h r e s h o l d : f u n c t i o n ( a ) { r e t u r n   t h i s . _ . t h r e s h o l d = a , t h i s } , r e s e t : f u n c t i o n ( ) { r e t u r n   t h i s . _ . i t e m = n u l l , t h i s . _ . t h u m b s i z e = " " , t h i s } , i m a g e L i n k : f u n c t i o n ( a ) { r e t u r n " h t t p s : / / " + I m g u r . E n v i r o n m e n t . h o s t + " / " + ( a ? " a / " : " " ) + t h i s . _ . i t e m . h a s h } , d i r e c t i s h L i n k : f u n c t i o n ( ) { v a r   a = " " = = t h i s . _ . t h u m b s i z e & & " . g i f " = = t h i s . _ . i t e m . e x t & & t h i s . _ . i t e m . a n i m a t e d ? " . g i f v " : t h i s . _ . i t e m . e x t ; r e t u r n " h t t p s : " + I m g u r . E n v i r o n m e n t . c d n U r l + " / " + t h i s . _ . i t e m . h a s h + t h i s . _ . t h u m b s i z e + a } , d i r e c t L i n k : f u n c t i o n ( ) { r e t u r n " h t t p s : " + I m g u r . E n v i r o n m e n t . c d n U r l + " / " + t h i s . _ . i t e m . h a s h + t h i s . _ . t h u m b s i z e + t h i s . _ . i t e m . e x t } , h t m l I m a g e : f u n c t i o n ( ) { r e t u r n " " = = t h i s . _ . t h u m b s i z e & & " . g i f " = = t h i s . _ . i t e m . e x t & & t h i s . _ . i t e m . a n i m a t e d & & t h i s . _ . i t e m . s i z e > t h i s . _ . t h r e s h o l d ? ' < i f r a m e   c l a s s = " i m g u r - e m b e d "   w i d t h = " 1 0 0 % "   h e i g h t = " ' + t h i s . _ . i t e m . h e i g h t + ' "   f r a m e b o r d e r = " 0 "   s r c = " ' + t h i s . d i r e c t i s h L i n k ( ) + ' # e m b e d " > < / i f r a m e > ' : ' < a   h r e f = " ' + t h i s . i m a g e L i n k ( ) + ' " > < i m g   s r c = " ' + t h i s . d i r e c t L i n k ( ) + ' "   t i t l e = " s o u r c e :   i m g u r . c o m "   / > < / a > ' } , m a r k d o w n : f u n c t i o n ( ) { v a r   a , b = " " = = t h i s . _ . t h u m b s i z e & & " . g i f " = = t h i s . _ . i t e m . e x t & & t h i s . _ . i t e m . a n i m a t e d ? " . g i f v " : t h i s . _ . i t e m . e x t ; r e t u r n   a = t h i s . _ . i t e m . t i t l e ? t h i s . _ . i t e m . t i t l e : " I m g u r " , " [ " + a + " ] ( h t t p s : " + I m g u r . E n v i r o n m e n t . c d n U r l + " / " + t h i s . _ . i t e m . h a s h + t h i s . _ . t h u m b s i z e + b + " ) " } , b b c o d e : f u n c t i o n ( ) { r e t u r n " [ i m g ] h t t p s : " + I m g u r . E n v i r o n m e n t . c d n U r l + " / " + t h i s . _ . i t e m . h a s h + t h i s . _ . t h u m b s i z e + t h i s . _ . i t e m . e x t + " [ / i m g ] " } , l i n k e d B b c o d e : f u n c t i o n ( ) { r e t u r n " " = = t h i s . _ . t h u m b s i z e & & " . g i f " = = t h i s . _ . i t e m . e x t & & t h i s . _ . i t e m . a n i m a t e d & & t h i s . _ . i t e m . s i z e > t h i s . _ . t h r e s h o l d ? " [ u r l = h t t p s : / / " + I m g u r . E n v i r o n m e n t . h o s t + " / " + t h i s . _ . i t e m . h a s h + " ] h t t p : " + I m g u r . E n v i r o n m e n t . c d n U r l + " / " + t h i s . _ . i t e m . h a s h + t h i s . _ . t h u m b s i z e + " . g i f v [ / u r l ] " : " [ u r l = h t t p s : / / " + I m g u r . E n v i r o n m e n t . h o s t + " / " + t h i s . _ . i t e m . h a s h + " ] [ i m g ] h t t p : " + I m g u r . E n v i r o n m e n t . c d n U r l + " / " + t h i s . _ . i t e m . h a s h + t h i s . _ . t h u m b s i z e + t h i s . _ . i t e m . e x t + " [ / i m g ] [ / u r l ] " } , d e l e t i o n : f u n c t i o n ( ) { r e t u r n " h t t p s : / / " + I m g u r . E n v i r o n m e n t . h o s t + " / d e l e t e / " + t h i s . _ . i t e m . d e l e t e h a s h } , e m b e d : f u n c t i o n ( ) { v a r   a = ( " i m g u r . c o m " = = = I m g u r . E n v i r o n m e n t . h o s t ? " s . i m g u r . c o m / m i n " : I m g u r . E n v i r o n m e n t . h o s t + " / i n c l u d e / m i n i f i e d " ) + " / e m b e d . j s " , b = t h i s . _ . i t e m . t i t l e ; b | | ( b = " V i e w   p o s t   o n   i m g u r . c o m " ) ; v a r   c = t h i s . _ . i t e m . i s _ a l b u m ? " a / " : " " ; r e t u r n ' < b l o c k q u o t e   c l a s s = " i m g u r - e m b e d - p u b "   l a n g = " e n "   d a t a - i d = " ' + c + t h i s . _ . i t e m . h a s h + ' " > < a   h r e f = " / / ' + I m g u r . E n v i r o n m e n t . h o s t + " / " + c + t h i s . _ . i t e m . h a s h + ' " > ' + _ . e s c a p e ( b ) + ' < / a > < / b l o c k q u o t e > < s c r i p t   a s y n c   s r c = " / / ' + a + ' "   c h a r s e t = " u t f - 8 " > < / s c r i p t > ' } } ) , N a m e s p a c e ( " I m g u r . A l b u m . I m a g e s " ) , I m g u r . A l b u m . I m a g e s = C l a s s . e x t e n d ( { i n i t : f u n c t i o n ( a ) { t h i s . _ = $ . e x t e n d ( ! 0 , { h o s t : " i m g u r . c o m " , c d n U r l : " / / i . i m g u r . c o m " , p o s t U R L : " / a j a x a l b u m s / i m a g e s " , i m a g e s P e r P a g e : 2 5 , a l b u m : n u l l , i m a g e s : n u l l , c h a n g e C o v e r : ! 1 , a l b u m T i t l e : n u l l , m o d e : n u l l , o n S u b m i t C o m p l e t e : f u n c t i o n ( ) { } , s o r t : 0 , o r d e r : 1 , s e l e c t e d : [ ] , o f f s e t S e l e c t i o n I n t e r v a l : n u l l , i m g u r I m a g e s : n u l l , o p e r a t i o n Q u e u e : { } , e l : { $ t h u m b s C o n t a i n e r : $ ( " # a l b u m - i m a g e s   # i m a g e - t h u m b s " ) , t h u m b s I d : " # a l b u m - i m a g e s   # i m a g e - t h u m b s " , m e s s a g e s C l a s s : " t h u m b s - m e s s a g e " , $ l o a d e r : $ ( " # a l b u m - i m a g e s   # i m a g e s - l o a d e r " ) , i m a g e D i v C l a s s : " t h u m b " , $ m o d e s : $ ( " # a l b u m - i m a g e s   # i m a g e s - m e n u   . m o d e " ) , $ o p e r a t i o n L o a d e r : $ ( " # a l b u m - i m a g e s   # s m a l l - l o a d e r " ) , i m a g e S e l e c t e d C l a s s : " s e l e c t e d " , $ s u b m i t B u t t o n : $ ( " # a l b u m - i m a g e s   # s a v e " ) } , m e s s a g e s : { n o I m a g e s : ' < s p a n   c l a s s = " t h u m b s - m e s s a g e " > N o   i m a g e s   w e r e   f o u n d . < / s p a n > ' } } , a ) , t h i s . _ . o p e r a t i o n Q u e u e . h a s h e s = n u l l = = t h i s . _ . i m a g e s ? [ ] : t h i s . _ . i m a g e s , t h i s . _ . o p e r a t i o n Q u e u e . c o u n t = n u l l = = t h i s . _ . i m a g e s ? 0 : O b j e c t . s i z e ( t h i s . _ . i m a g e s ) , t h i s . l o a d I m a g e s ( ) , t h i s . l o a d P a g e E l e m e n t s ( ) } , g e t P a g e O p t i o n s : f u n c t i o n ( ) { r e t u r n   i s N a N ( t h i s . _ . a l b u m ) ? ( t h i s . _ . s o r t = 3 , t h i s . _ . o r d e r = 0 ) : ( t h i s . _ . s o r t = 0 , t h i s . _ . o r d e r = 1 ) , { s o r t : t h i s . _ . s o r t , o r d e r : t h i s . _ . o r d e r , a l b u m : t h i s . _ . a l b u m } } , n o I m a g e s F o u n d : f u n c t i o n ( ) { v a r   a = I m g u r . A l b u m . I m a g e s . g e t I n s t a n c e ( ) ; a . _ . e l . $ t h u m b s C o n t a i n e r . h t m l ( a . _ . m e s s a g e s . n o I m a g e s ) } , a d d I m a g e T o T h u m b s : f u n c t i o n ( a , b , c ) { v a r   d = I m g u r . A l b u m . I m a g e s . g e t I n s t a n c e ( ) ; i f ( ! ( $ ( d . _ . e l . t h u m b s I d + "   # " + a . h a s h ) . l e n g t h > 0 ) ) { v a r   e = a . e x t . m a t c h ( / \ ? ( . * ) / ) , f = " s . j p g " + ( n u l l ! = e ? e [ 0 ] : " " ) , g = ( d . _ . c d n U r l + " / " + a . h a s h + ( " . g i f " = = a . e x t ? a . e x t : " h " + a . e x t ) , $ ( ' < d i v   c l a s s = " ' + d . _ . e l . i m a g e D i v C l a s s + ' "   i d = " ' + a . h a s h + ' "   e x t = " ' + a . e x t + ' " > < / d i v > ' ) ) , h = $ ( ' < d i v   c l a s s = " s e l e c t i o n " > < / d i v > ' ) ; i m g = $ ( ' < i m g   s r c = " ' + d . _ . c d n U r l + " / " + a . h a s h + f + ' "   / > ' ) , $ ( g ) . a p p e n d ( i m g ) , $ ( g ) . a p p e n d ( h ) , d . _ . o p e r a t i o n Q u e u e . h a s h e s [ a . h a s h ] & & g . a d d C l a s s ( d . _ . e l . i m a g e S e l e c t e d C l a s s ) , $ ( " . " + d . _ . e l . m e s s a g e s C l a s s ) . r e m o v e ( ) , c ? $ ( g ) . a p p e n d T o ( d . _ . e l . $ t h u m b s C o n t a i n e r ) : $ ( g ) . p r e p e n d T o ( d . _ . e l . $ t h u m b s C o n t a i n e r ) . h i d e ( ) . f a d e I n ( " s l o w " ) } } , q u e u e O p e r a t i o n : f u n c t i o n ( a ) { v a r   b = a . a t t r ( " i d " ) ; t h i s . _ . c h a n g e C o v e r ? ( t h i s . _ . o p e r a t i o n Q u e u e . c o u n t = 1 , t h i s . _ . o p e r a t i o n Q u e u e . h a s h e s [ 0 ] = b , t h i s . _ . e l . $ t h u m b s C o n t a i n e r . f i n d ( " . " + t h i s . _ . e l . i m a g e D i v C l a s s ) . r e m o v e C l a s s ( t h i s . _ . e l . i m a g e S e l e c t e d C l a s s ) , a . a d d C l a s s ( t h i s . _ . e l . i m a g e S e l e c t e d C l a s s ) ) : t h i s . _ . o p e r a t i o n Q u e u e . h a s h e s [ b ] ? ( t h i s . _ . o p e r a t i o n Q u e u e . c o u n t - - , t h i s . _ . o p e r a t i o n Q u e u e . h a s h e s [ b ] = n u l l , a . r e m o v e C l a s s ( t h i s . _ . e l . i m a g e S e l e c t e d C l a s s ) ) : ( t h i s . _ . o p e r a t i o n Q u e u e . c o u n t + + , t h i s . _ . o p e r a t i o n Q u e u e . h a s h e s [ b ] = ! 0 , a . a d d C l a s s ( t h i s . _ . e l . i m a g e S e l e c t e d C l a s s ) ) } , i s I n Q u e u e : f u n c t i o n ( a ) { r e t u r n   1 = = t h i s . _ . o p e r a t i o n Q u e u e . h a s h e s [ a ] } , s t a r t O p e r a t i o n : f u n c t i o n ( ) { i f ( 0 = = t h i s . _ . o p e r a t i o n Q u e u e . c o u n t ) r e t u r n   n u l l ; i f ( t h i s . _ . i m a g e s = [ ] , t h i s . _ . c h a n g e C o v e r ) t h i s . _ . i m a g e s . p u s h ( t h i s . _ . o p e r a t i o n Q u e u e . h a s h e s [ 0 ] ) ; e l s e   f o r ( v a r   a   i n   t h i s . _ . o p e r a t i o n Q u e u e . h a s h e s ) n u l l ! = t h i s . _ . o p e r a t i o n Q u e u e . h a s h e s [ a ] & & t h i s . _ . i m a g e s . p u s h ( a ) ; r e t u r n   t h i s . _ . i m a g e s } , t o g g l e O p e r a t i o n s L o a d e r : f u n c t i o n ( ) { t h i s . _ . e l . $ o p e r a t i o n L o a d e r . t o g g l e ( ) } , b i n d O p e r a t i o n C l i c k : f u n c t i o n ( a ) { v a r   b = t h i s ; a . u n b i n d ( " c l i c k " ) , a . c l i c k ( f u n c t i o n ( ) { r e t u r n   b . q u e u e O p e r a t i o n ( $ ( t h i s ) . p a r e n t ( ) ) , ! 1 } ) } , o f f s e t S e l e c t i o n : f u n c t i o n ( ) { v a r   a = I m g u r . A l b u m . I m a g e s . g e t I n s t a n c e ( ) , b = 5 , c = a . _ . e l . $ t h u m b s C o n t a i n e r . p a r e n t ( ) , d = c . s c r o l l T o p ( ) , e = c . s e l e c t a b l e ( ) ; e . y < 0 ? ( c . s c r o l l T o p ( c . s c r o l l T o p ( ) - b ) , c . s c r o l l T o p ( ) < d & & c . s e l e c t a b l e ( " r e c a l c " , - b ) ) : e . y > c . h e i g h t ( ) & & ( c . s c r o l l T o p ( c . s c r o l l T o p ( ) + b ) , c . s c r o l l T o p ( ) > d & & c . s e l e c t a b l e ( " r e c a l c " , b ) ) } , m a k e S e l e c t a b l e : f u n c t i o n ( ) { v a r   a = I m g u r . A l b u m . I m a g e s . g e t I n s t a n c e ( ) ; a . _ . e l . $ t h u m b s C o n t a i n e r . u n b i n d ( " m o u s e d o w n " ) , a . _ . e l . $ t h u m b s C o n t a i n e r . p a r e n t ( ) . s e l e c t a b l e ( { f i l t e r : " . t h u m b " , s e l e c t e d : f u n c t i o n ( b , c ) { a . _ . s e l e c t e d . p u s h ( $ ( c . s e l e c t e d ) ) } , s t o p : f u n c t i o n ( b , c ) { v a r   d = 0 , e = ! 1 , f = a . _ . s e l e c t e d . l e n g t h ; f o r ( v a r   g   i n   a . _ . s e l e c t e d ) i f ( a . i s I n Q u e u e ( $ ( a . _ . s e l e c t e d [ g ] ) . a t t r ( " i d " ) ) ) d + + , g = = f - 1 & & d < f & & ( e = ! 0 ) ; e l s e   i f ( d ) { e = ! 0 ; b r e a k } f o r ( v a r   g   i n   a . _ . s e l e c t e d ) { v a r   h = $ ( a . _ . s e l e c t e d [ g ] ) ; e ? a . i s I n Q u e u e ( h . a t t r ( " i d " ) ) | | a . q u e u e O p e r a t i o n ( h ) : a . q u e u e O p e r a t i o n ( h ) } a . _ . s e l e c t e d = [ ] } } ) , a . _ . e l . $ t h u m b s C o n t a i n e r . b i n d ( " m o u s e d o w n " , f u n c t i o n ( ) { c l e a r I n t e r v a l ( a . _ . o f f s e t S e l e c t i o n I n t e r v a l ) , a . _ . o f f s e t S e l e c t i o n I n t e r v a l = s e t I n t e r v a l ( a . o f f s e t S e l e c t i o n , 5 0 ) } ) , $ ( d o c u m e n t ) . b i n d ( " m o u s e u p " , f u n c t i o n ( ) { c l e a r I n t e r v a l ( a . _ . o f f s e t S e l e c t i o n I n t e r v a l ) } ) } , s u b m i t : f u n c t i o n ( ) { t h i s . _ . i m a g e s = t h i s . s t a r t O p e r a t i o n ( ) , t h i s . _ . e l . $ s u b m i t B u t t o n . d i s a b l e ( ) , t h i s . t o g g l e O p e r a t i o n s L o a d e r ( ) ; v a r   a = t h i s ; r e t u r n   $ . p o s t ( t h i s . _ . p o s t U R L + " / " + t h i s . _ . a l b u m , " h a s h e s = " + t h i s . _ . i m a g e s + " & c h a n g e _ c o v e r = " + t h i s . _ . c h a n g e C o v e r , f u n c t i o n ( b ) { b . s u c c e s s ? ( a . _ . e l . $ s u b m i t B u t t o n . e n a b l e ( ) , a . t o g g l e O p e r a t i o n s L o a d e r ( ) , a . _ . o n S u b m i t C o m p l e t e ( b ) ) : 4 3 4 4 = = b . d a t a . e r r o r . c o d e ? ( a . _ . e l . $ s u b m i t B u t t o n . e n a b l e ( ) , a . t o g g l e O p e r a t i o n s L o a d e r ( ) , h u m a n M s g . d i s p l a y M s g ( " Y o u   a r e   t r y i n g   t o   a d d   t o o   m a n y   i m a g e s   t o   t h i s   a l b u m " ) ) : 4 0 3 = = b . d a t a . e r r o r . c o d e ? ( a . _ . o n S u b m i t C o m p l e t e ( b ) , h u m a n M s g . d i s p l a y M s g ( " C a n n o t   e d i t   a l b u m   i m a g e s   w h i l e   a l b u m   i s   i n   t h e   G a l l e r y " ) ) : h u m a n M s g . d i s p l a y M s g ( " U n k n o w n   e r r o r   o c c u r r e d " ) } ) . e r r o r ( f u n c t i o n ( b ) { a . _ . e l . $ s u b m i t B u t t o n . e n a b l e ( ) , a . t o g g l e O p e r a t i o n s L o a d e r ( ) ; v a r   c = J S O N . p a r s e ( b . r e s p o n s e T e x t ) ; h u m a n M s g . d i s p l a y M s g ( c . d a t a . e r r o r ) } ) , ! 1 } , l o a d I m a g e s : f u n c t i o n ( ) { i f ( n u l l ! = t h i s . _ . a l b u m & & " u n d e f i n e d " ! = t y p e o f   t h i s . _ . a l b u m ) { v a r   a = I m g u r . I m a g e s . g e t I n s t a n c e ( ) ; a . i n i t ( { i m a g e s P e r P a g e : t h i s . _ . i m a g e s P e r P a g e , a d d T o T h u m b s F u n c : t h i s . a d d I m a g e T o T h u m b s , n o I m a g e s F u n c : t h i s . n o I m a g e s F o u n d , o n C o m p l e t e : t h i s . m a k e S e l e c t a b l e , l o a d e r : t h i s . _ . e l . $ l o a d e r , n o P a g e H a s h : ! 0 } ) , a . s e t O p t i o n s ( t h i s . g e t P a g e O p t i o n s ( ) ) , t h i s . n e x t = f u n c t i o n ( ) { a . n e x t ( ) } , t h i s . p r e v = f u n c t i o n ( ) { a . p r e v ( ) } , t h i s . c h a n g e P a g e = f u n c t i o n ( b ) { a . c h a n g e P a g e ( b ) } , a . b i n d S c r o l l E v e n t ( ) , a . r e l o a d ( ) , t h i s . _ . i m g u r I m a g e s = a } } , l o a d P a g e E l e m e n t s : f u n c t i o n ( ) { t h i s . _ . a l b u m & & ( t h i s . _ . e l . $ m o d e s . f i l t e r ( " : f i r s t " ) . a t t r ( " d a t a - v a l u e " , t h i s . _ . a l b u m ) , t h i s . _ . e l . $ m o d e s . r e m o v e C l a s s ( " s e l e c t e d " ) , t h i s . _ . m o d e ? ( t h i s . _ . e l . $ m o d e s . s i b l i n g s ( " d i v [ d a t a - v a l u e = " + t h i s . _ . m o d e + " ] " ) . a d d C l a s s ( " s e l e c t e d " ) , t h i s . _ . a l b u m = t h i s . _ . m o d e ) : t h i s . _ . e l . $ m o d e s . s i b l i n g s ( " . s t a r t " ) . a d d C l a s s ( " s e l e c t e d " ) , t h i s . _ . i m g u r I m a g e s . s e t C u r r e n t P a g e ( 1 ) , t h i s . _ . i m g u r I m a g e s . s e t O p t i o n s ( t h i s . g e t P a g e O p t i o n s ( ) ) , t h i s . _ . i m g u r I m a g e s . r e l o a d ( ) , t h i s . _ . e l . $ m o d e s . c l i c k ( t h i s . m o d e C l i c k H a n d l e r ) ) } , m o d e C l i c k H a n d l e r : f u n c t i o n ( ) { v a r   a = I m g u r . A l b u m . I m a g e s . g e t I n s t a n c e ( ) ; a . _ . e l . $ m o d e s . r e m o v e C l a s s ( " s e l e c t e d " ) , $ ( t h i s ) . a d d C l a s s ( " s e l e c t e d " ) ; v a r   b = $ ( t h i s ) . a t t r ( " d a t a - v a l u e " ) ; a . _ . a l b u m = b , a . _ . i m g u r I m a g e s . s e t C u r r e n t P a g e ( 1 ) , a . _ . i m g u r I m a g e s . s e t O p t i o n s ( a . g e t P a g e O p t i o n s ( ) ) , a . _ . i m g u r I m a g e s . r e l o a d ( ) } , d e s t r o y : f u n c t i o n ( ) { t h i s . _ . e l . $ t h u m b s C o n t a i n e r . e m p t y ( ) , t h i s . _ . e l . $ m o d e s . u n b i n d ( " c l i c k " ) , t h i s . _ . e l . $ m o d e s . r e m o v e C l a s s ( " s e l e c t e d " ) , t h i s . _ . e l . $ l o a d e r . s h o w ( ) } } ) , C l a s s . a d d S i n g l e t o n ( I m g u r . A l b u m . I m a g e s ) , N a m e s p a c e ( " I m g u r . I m a g e s " ) , I m g u r . I m a g e s = C l a s s . e x t e n d ( { i n i t : f u n c t i o n ( a ) { t h i s . _ = $ . e x t e n d ( ! 0 , { i m a g e s P e r P a g e : 2 0 , t h i s N a m e : " a p p " , a j a x U R L : " / a j a x / i m a g e s " , n o P a g e H a s h : ! 1 , a d d T o T h u m b s F u n c : f u n c t i o n ( ) { r e t u r n   n u l l } , h i d d e n I m a g e s F u n c : f u n c t i o n ( ) { r e t u r n   n u l l } , n o I m a g e s F u n c : f u n c t i o n ( ) { r e t u r n   n u l l } , o n C o m p l e t e : f u n c t i o n ( ) { r e t u r n   n u l l } , c u r r e n t P a g e : 1 , t o t a l P a g e s : 0 , t o t a l I m a g e C o u n t : 0 , n u m I m a g e s : 0 , c h a n g i n g P a g e : ! 1 , o p t i o n s : n u l l , i m a g e L i m i t : 2 2 5 , i s P r o : ! 1 , c a c h e : [ ] , s t o p O n P a g i n g : ! 0 , l a s t S c r o l l P o s : 0 , a j a x : n u l l , e l : { $ n a v i g a t i o n C o n t a i n e r : $ ( " . n a v i g a t i o n " ) , $ l o a d e r : $ ( " # i m a g e s - l o a d e r " ) , $ t o t a l C o u n t e r : $ ( " . t o t a l - i m a g e s " ) , $ t o t a l C o u n t e r S u f f i x : $ ( " . t o t a l - i m a g e s - s u f f i x " ) , $ t h u m b s C o n t a i n e r : $ ( " # i m a g e - t h u m b s " ) , p a g e N u m b e r s C l a s s : " p a g e - n u m b e r s " , p r e v I D : " p r e v " , n e x t I D : " n e x t " } } , a ) , t h i s . _ . e l . $ t o t a l C o u n t e r . t e x t ( 0 ) , t h i s . _ . e l . $ t o t a l C o u n t e r S u f f i x . t e x t ( " i m a g e s " ) , t h i s . _ . n o P a g e H a s h | | ( t h i s . _ . c u r r e n t P a g e = t h i s . g e t P a g e ( ) ) } , g e t H a s h : f u n c t i o n ( ) { r e t u r n   w i n d o w . l o c a t i o n . h a s h . s u b s t r i n g ( 1 ) } , g e t P a g e : f u n c t i o n ( ) { v a r   a = p a r s e I n t ( t h i s . g e t H a s h ( ) ) ; r e t u r n   a < 1 & & ( a = 1 ) , a ? a : 1 } , s t o p P a g i n g : f u n c t i o n ( ) { v o i d   0 ! = = w i n d o w . s t o p ? w i n d o w . s t o p ( ) : v o i d   0 ! = = d o c u m e n t . e x e c C o m m a n d & & d o c u m e n t . e x e c C o m m a n d ( " S t o p " , ! 1 ) } , g e n e r a t e P a g e L i n k : f u n c t i o n ( a , b ) { i f ( b > 0 & & b < = t h i s . _ . t o t a l P a g e s ) { v a r   c = $ ( ' < a   h r e f = " j a v a s c r i p t : ; " > ' + b + " < / a > " ) , d = t h i s ; c . c l i c k ( f u n c t i o n ( ) { d . _ . e l . $ t h u m b s C o n t a i n e r . p a r e n t ( ) . s c r o l l T o p ( 0 ) , d . c h a n g e P a g e ( b ) } ) , a . a p p e n d ( c ) , b = = t h i s . _ . c u r r e n t P a g e & & c . a d d C l a s s ( " c u r r e n t - s e l e c t e d " ) } } , g e n e r a t e N a v i g a t i o n L i n k s : f u n c t i o n ( ) { i f ( t h i s . _ . e l . $ n a v i g a t i o n C o n t a i n e r . e m p t y ( ) , 1 ! = t h i s . _ . t o t a l P a g e s ) { v a r   a = ( t h i s . _ . c u r r e n t P a g e - 1 , t h i s . _ . c u r r e n t P a g e + 1 , $ ( ' < s p a n   c l a s s = " ' + t h i s . _ . e l . p a g e N u m b e r s C l a s s + ' " > < / s p a n > ' ) ) , b = $ ( ' < a   h r e f = " j a v a s c r i p t : ; "   i d = " ' + t h i s . _ . e l . p r e v I D + ' " > P r e v < / a > ' ) , c = $ ( ' < a   h r e f = " j a v a s c r i p t : ; "   i d = " ' + t h i s . _ . e l . n e x t I D + ' " > N e x t < / a > ' ) ; b . c l i c k ( t h i s . p r e v ) , c . c l i c k ( t h i s . n e x t ) ; f o r ( v a r   d = t h i s . _ . c u r r e n t P a g e - 5 ; d < t h i s . _ . c u r r e n t P a g e ; + + d ) t h i s . g e n e r a t e P a g e L i n k ( a , d ) ; f o r ( v a r   d = t h i s . _ . c u r r e n t P a g e ; d < t h i s . _ . c u r r e n t P a g e + 6 ; + + d ) t h i s . g e n e r a t e P a g e L i n k ( a , d ) ; t h i s . _ . e l . $ n a v i g a t i o n C o n t a i n e r . a p p e n d ( a ) , t h i s . _ . c u r r e n t P a g e > 1 & & t h i s . _ . e l . $ n a v i g a t i o n C o n t a i n e r . a p p e n d ( b ) , t h i s . _ . c u r r e n t P a g e < t h i s . _ . t o t a l P a g e s & & t h i s . _ . e l . $ n a v i g a t i o n C o n t a i n e r . a p p e n d ( c ) } } , r e c a l c N a v i g a t i o n : f u n c t i o n ( ) { v a r   a = M a t h . c e i l ( t h i s . _ . t o t a l I m a g e C o u n t / t h i s . _ . i m a g e s P e r P a g e ) ; a < 1 & & ( a = 1 ) , a ! = t h i s . _ . t o t a l P a g e s & & ( t h i s . _ . t o t a l P a g e s = a , t h i s . g e n e r a t e N a v i g a t i o n L i n k s ( t h i s . _ . c u r r e n t P a g e ) ) , t h i s . r e n d e r T o t a l C o u n t e r ( ) } , r e n d e r T o t a l C o u n t e r : f u n c t i o n ( ) { t h i s . _ . e l . $ t o t a l C o u n t e r . l e n g t h & & ( t h i s . _ . e l . $ t o t a l C o u n t e r . t e x t ( I m g u r . U t i l . n u m b e r F o r m a t ( t h i s . _ . t o t a l I m a g e C o u n t ) ) , t h i s . _ . e l . $ t o t a l C o u n t e r S u f f i x . t e x t ( I m g u r . U t i l . p l u r a l i z e ( t h i s . _ . t o t a l I m a g e C o u n t , " i m a g e " ) ) ) } , h a n d l e J S O N : f u n c t i o n ( a ) { i f ( n u l l ! = a ) { i f ( t h i s . _ . c a c h e [ $ . p a r a m ( t h i s . _ . o p t i o n s ) ] = a , t h i s . _ . i s P r o = a . i s P r o , a . c o u n t ! = t h i s . _ . t o t a l I m a g e C o u n t & & ( t h i s . _ . t o t a l I m a g e C o u n t = p a r s e I n t ( a . c o u n t ) , t h i s . r e c a l c N a v i g a t i o n ( ) ) , a . c o u n t > 0 & & a . i m a g e s . l e n g t h > 0 ) { v a r   b = t h i s ; $ . e a c h ( a . i m a g e s , f u n c t i o n ( a , c ) { b . _ . n u m I m a g e s + + , b . _ . a d d T o T h u m b s F u n c ( c , n u l l , ! 0 ) } ) } e l s e   t h i s . _ . n o I m a g e s F u n c ( ) ; t h i s . _ . e l . $ t h u m b s C o n t a i n e r . a p p e n d ( ' < d i v   c l a s s = " c l e a r " > < / d i v > ' ) } t h i s . _ . c h a n g i n g P a g e = ! 1 , t h i s . _ . e l . $ l o a d e r . h i d e ( ) , t h i s . _ . o n C o m p l e t e ( ) } , c h a n g e P a g e : f u n c t i o n ( a , b , c ) { i f ( n u l l = = t h i s . _ . o p t i o n s ) r e t u r n ! 1 ; i f ( t h i s . _ . c h a n g i n g P a g e ) { i f ( c ) r e t u r n ! 1 ; t h i s . _ . a j a x . a b o r t ( ) } i f ( a > t h i s . _ . t o t a l P a g e s & & t h i s . _ . t o t a l P a g e s > 0 ) r e t u r n ! 1 ; t h i s . _ . c h a n g i n g P a g e = ! 0 , t h i s . _ . c u r r e n t P a g e = a , t h i s . _ . n u m I m a g e s = t h i s . _ . i m a g e s P e r P a g e * ( t h i s . _ . c u r r e n t P a g e - 1 ) , t h i s . _ . e l . $ l o a d e r . s h o w ( ) , t h i s . g e n e r a t e N a v i g a t i o n L i n k s ( ) , c | | ( t h i s . _ . e l . $ t h u m b s C o n t a i n e r . e m p t y ( ) , b | | t h i s . _ . n o P a g e H a s h | | ( w i n d o w . l o c a t i o n = w i n d o w . l o c a t i o n . h r e f . s u b s t r i n g ( 0 , w i n d o w . l o c a t i o n . h r e f . i n d e x O f ( " # " ) ) + " # " + t h i s . _ . c u r r e n t P a g e ) ) , t h i s . _ . o p t i o n s . p a g e = a , t h i s . _ . o p t i o n s . p e r P a g e = t h i s . _ . i m a g e s P e r P a g e ; v a r   d = $ . p a r a m ( t h i s . _ . o p t i o n s ) , e = t h i s ; r e t u r n   t h i s . _ . c a c h e [ d ] ? t h i s . h a n d l e J S O N ( t h i s . _ . c a c h e [ d ] ) : ( t h i s . _ . s t o p O n P a g i n g & & ! b & & t h i s . s t o p P a g i n g ( ) , t h i s . _ . a j a x = $ . g e t J S O N ( t h i s . _ . a j a x U R L , t h i s . _ . o p t i o n s , f u n c t i o n ( a ) { a . s u c c e s s & & e . h a n d l e J S O N ( a . d a t a ) } ) ) , ! 0 } , b i n d S c r o l l E v e n t : f u n c t i o n ( ) { v a r   a = 8 0 , b = t h i s . _ . e l . $ t h u m b s C o n t a i n e r . p a r e n t ( ) , c = t h i s . _ . e l . $ t h u m b s C o n t a i n e r , d = t h i s ; t h i s . _ . e l . $ t h u m b s C o n t a i n e r . p a r e n t ( ) . s c r o l l ( f u n c t i o n ( ) { b . s c r o l l T o p ( ) > c . h e i g h t ( ) - b . h e i g h t ( ) - a & & d . c h a n g e P a g e ( d . _ . c u r r e n t P a g e + 1 , ! 0 , ! 0 ) , d . _ . l a s t S c r o l l P o s = b . s c r o l l T o p ( ) } ) } , n e x t : f u n c t i o n ( ) { v a r   a = I m g u r . I m a g e s . g e t I n s t a n c e ( ) ; r e t u r n   a . _ . e l . $ t h u m b s C o n t a i n e r . p a r e n t ( ) . s c r o l l T o p ( 0 ) , a . c h a n g e P a g e ( a . _ . c u r r e n t P a g e + 1 ) } , p r e v : f u n c t i o n ( ) { v a r   a = I m g u r . I m a g e s . g e t I n s t a n c e ( ) ; r e t u r n   a . _ . e l . $ t h u m b s C o n t a i n e r . p a r e n t ( ) . s c r o l l T o p ( 0 ) , a . c h a n g e P a g e ( a . _ . c u r r e n t P a g e - 1 ) } , r e l o a d : f u n c t i o n ( ) { r e t u r n   t h i s . c h a n g e P a g e ( t h i s . _ . c u r r e n t P a g e , ! 0 ) } , g e t C u r r e n t P a g e : f u n c t i o n ( ) { r e t u r n   t h i s . _ . c u r r e n t P a g e } , s e t C u r r e n t P a g e : f u n c t i o n ( a ) { t h i s . _ . c u r r e n t P a g e = a } , s e t O p t i o n s : f u n c t i o n ( a ) { t h i s . _ . o p t i o n s = a } , g e t T o t a l P a g e s : f u n c t i o n ( ) { r e t u r n   t h i s . _ . t o t a l P a g e s } , g e t I m a g e L i m i t : f u n c t i o n ( ) { r e t u r n   t h i s . _ . i m a g e L i m i t } , g e t T o t a l I m a g e C o u n t : f u n c t i o n ( ) { r e t u r n   t h i s . _ . t o t a l I m a g e C o u n t } , i n c r e a s e I m a g e C o u n t : f u n c t i o n ( ) { t h i s . _ . t o t a l I m a g e C o u n t + + } , c l e a r C a c h e : f u n c t i o n ( ) { t h i s . _ . c a c h e = [ ] } , s t o p O n P a g i n g : f u n c t i o n ( a ) { t h i s . _ . s t o p O n P a g i n g = a } } ) , C l a s s . a d d S i n g l e t o n ( I m g u r . I m a g e s ) , N a m e s p a c e ( " I m g u r . T i t l e D e s c " ) , I m g u r . T i t l e D e s c = I m g u r . e x t e n d ( { i n i t : f u n c t i o n ( a ) { r e t u r n   t h i s . _ = $ . e x t e n d ( ! 0 , { e l : { t i t l e D e s c r i p t i o n F o r m : { i d : " # t i t l e - d e s c r i p t i o n " , $ f o r m : $ ( " # t i t l e - d e s c r i p t i o n   f o r m " ) , $ t i t l e I n p u t : $ ( " # t i t l e - i n p u t " ) , $ d e s c r i p t i o n I n p u t : $ ( " # d e s c r i p t i o n - i n p u t " ) , $ l o a d e r : $ ( " # t i t l e - d e s c r i p t i o n - l o a d e r " ) } } } , a ) , t h i s . _ = t h i s . _ s u p e r ( t h i s . _ ) , t h i s . _ } , b i n d T i t l e D e s c r i p t i o n S u b m i t : f u n c t i o n ( a , b ) { i f ( b ) { t h i s . _ . e l . t i t l e D e s c r i p t i o n F o r m . $ t i t l e I n p u t . v a l ( I m g u r . E n v i r o n m e n t . h a s h e s [ 0 ] . t i t l e ) ; v a r   c = d o c u m e n t . c r e a t e E l e m e n t ( " t e x t a r e a " ) ; c . i n n e r H T M L = I m g u r . E n v i r o n m e n t . h a s h e s [ 0 ] . d e s c r i p t i o n , 
 t h i s . _ . e l . t i t l e D e s c r i p t i o n F o r m . $ d e s c r i p t i o n I n p u t . v a l ( c . v a l u e ) } v a r   d = t h i s ; t h i s . _ . e l . t i t l e D e s c r i p t i o n F o r m . $ f o r m . s u b m i t ( f u n c t i o n ( ) { r e t u r n   d . t i t l e D e s c r i p t i o n S u b m i t H a n d l e r ( a ) } ) } , t i t l e D e s c r i p t i o n S u b m i t H a n d l e r : f u n c t i o n ( a ) { v a r   b = t h i s . _ . e l . t i t l e D e s c r i p t i o n F o r m . $ t i t l e I n p u t . v a l ( ) ! = t h i s . _ . e l . t i t l e D e s c r i p t i o n F o r m . $ t i t l e I n p u t . a t t r ( " t i t l e " ) ? t h i s . _ . e l . t i t l e D e s c r i p t i o n F o r m . $ t i t l e I n p u t . v a l ( ) : " " , c = t h i s . _ . e l . t i t l e D e s c r i p t i o n F o r m . $ d e s c r i p t i o n I n p u t . v a l ( ) ! = t h i s . _ . e l . t i t l e D e s c r i p t i o n F o r m . $ d e s c r i p t i o n I n p u t . a t t r ( " t i t l e " ) ? t h i s . _ . e l . t i t l e D e s c r i p t i o n F o r m . $ d e s c r i p t i o n I n p u t . v a l ( ) : " " ; t h i s . _ . e l . t i t l e D e s c r i p t i o n F o r m . $ l o a d e r . s h o w ( ) , t h i s . _ . h a s h = I m g u r . g e t I n s t a n c e ( ) . _ . h a s h ; v a r   d = t h i s , e = t h i s . _ . h a s h . d e l e t e h a s h | | I m g u r . E n v i r o n m e n t . h a s h e s [ 0 ] . d e l e t e h a s h ; r e t u r n   $ . p o s t ( " / a j a x / t i t l e d e s c / " + e , { t i t l e : b , d e s c r i p t i o n : c } , f u n c t i o n ( e ) { $ . c o l o r b o x . c l o s e ( ) , h u m a n M s g . d i s p l a y M s g ( d . _ . m e s s a g e s . t i t l e d e s c ) , d . _ . e l . t i t l e D e s c r i p t i o n F o r m . $ l o a d e r . h i d e ( ) , a ? a ( { t i t l e : b , d e s c r i p t i o n : c } ) : w i n d o w . s e t T i m e o u t ( f u n c t i o n ( ) { l o c a t i o n . r e l o a d ( ) } , 1 e 3 ) } ) , ! 1 } , a d d T i t l e D e s c r i p t i o n : f u n c t i o n ( ) { v a r   a = t h i s ; $ . c o l o r b o x ( { h r e f : a . _ . e l . t i t l e D e s c r i p t i o n F o r m . i d , o p e n : ! 0 , i n l i n e : ! 0 , t o p : " 1 5 % " , t r a n s i t i o n : " n o n e " , s c r o l l i n g : ! 1 , o n C o m p l e t e : f u n c t i o n ( ) { a . _ . e l . t i t l e D e s c r i p t i o n F o r m . $ t i t l e I n p u t . f o c u s ( ) } } ) } , g e t E l e m e n t s : f u n c t i o n ( ) { r e t u r n   t h i s . _ . e l } } ) , C l a s s . a d d S i n g l e t o n ( I m g u r . T i t l e D e s c ) , I m g u r . G a l l e r y B u n d l e L o a d e d = ! 0 , N a m e s p a c e ( " I m g u r . E l e m e n t s " ) , I m g u r . E l e m e n t s . C h e c k B o x = R e a c t . c r e a t e C l a s s ( { d i s p l a y N a m e : " C h e c k B o x " , p r o p T y p e s : { c l a s s N a m e : R e a c t . P r o p T y p e s . s t r i n g , d e f a u l t V a l u e : R e a c t . P r o p T y p e s . b o o l , i d : R e a c t . P r o p T y p e s . s t r i n g . i s R e q u i r e d , n a m e : R e a c t . P r o p T y p e s . s t r i n g , l a b e l : R e a c t . P r o p T y p e s . s t r i n g , o n C h a n g e : R e a c t . P r o p T y p e s . f u n c } , g e t D e f a u l t P r o p s : f u n c t i o n ( ) { r e t u r n { c l a s s N a m e : " " , d e f a u l t V a l u e : ! 1 } } , h a n d l e C h a n g e : f u n c t i o n ( ) { v a r   a = t h i s . p r o p s . o n C h a n g e ; " f u n c t i o n " = = t y p e o f   a & & a ( t h i s . r e f s . t o g g l e . c h e c k e d ) } , r e n d e r : f u n c t i o n ( ) { v a r   a = t h i s . p r o p s , b = a . l a b e l , c = a . i d , d = a . n a m e ; r e t u r n   R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : t h i s . p r o p s . c l a s s N a m e } , R e a c t . c r e a t e E l e m e n t ( " i n p u t " , { r e f : " t o g g l e " , t y p e : " c h e c k b o x " , c l a s s N a m e : " c h e c k b o x - s t y l e d " , i d : c , n a m e : d | | c , d e f a u l t C h e c k e d : t h i s . p r o p s . d e f a u l t V a l u e , o n C h a n g e : t h i s . h a n d l e C h a n g e . b i n d ( n u l l , t h i s ) } ) , R e a c t . c r e a t e E l e m e n t ( " l a b e l " , { c l a s s N a m e : " i c o n - c h e c k " , h t m l F o r : c } ) , R e a c t . c r e a t e E l e m e n t ( " l a b e l " , { c l a s s N a m e : " c h e c k b o x - l a b e l " , h t m l F o r : c } , b ) ) } } ) , N a m e s p a c e ( " I m g u r . A d m . G a l l e r y A d d T a g " ) , I m g u r . A d m . G a l l e r y A d d T a g = R e a c t . c r e a t e C l a s s ( { d i s p l a y N a m e : " G a l l e r y A d d T a g " , _ : { m s i d : I m g u r . E n v i r o n m e n t . m s i d , d e f a u l t T a g N a m e : " s t a f f   p i c k s " , t a g S u g g e s t P o s i t i o n : { r i g h t : { l e f t : 1 7 , t o p : 1 6 } , l e f t : { l e f t : - 2 3 0 , t o p : 1 6 } } } , p r o p T y p e s : { b a s e U r l : R e a c t . P r o p T y p e s . s t r i n g . i s R e q u i r e d , e m i t t e r : R e a c t . P r o p T y p e s . o b j e c t . i s R e q u i r e d , i n s i d e N a v : R e a c t . P r o p T y p e s . o b j e c t . i s R e q u i r e d } , g e t I n i t i a l S t a t e : f u n c t i o n ( ) { r e t u r n { q u e r y : t h i s . _ . d e f a u l t T a g N a m e , t a g S t o r e : t h i s . p r o p s . t a g S t o r e , s u g g e s t e d T a g s : [ ] , t a g E r r o r : n u l l , t a g S u g g e s t F l a g : " r i g h t " } } , c o m p o n e n t D i d M o u n t : f u n c t i o n ( ) { t h i s . p r o p s . e m i t t e r . o n ( " a d m T a g R e m o v e d " , t h i s , f u n c t i o n ( a ) { t h i s . s t a t e . t a g S t o r e . r e m o v e T a g ( a , " t a g M o d u l e " ) } ) , t h i s . p r o p s . e m i t t e r . o n ( " s e l e c t " , t h i s , f u n c t i o n ( a ) { t h i s . s e t S t a t e ( { q u e r y : t h i s . _ . d e f a u l t T a g N a m e } ) , t h i s . s t a t e . t a g S t o r e . f l u s h T a g s ( ) ; f o r ( v a r   b   i n   a . g a l l e r y T a g s ) t h i s . s t a t e . t a g S t o r e . a d d T a g ( a . g a l l e r y T a g s [ b ] . t a g , " t a g M o d u l e " , f u n c t i o n ( ) { } ) } ) } , c o m p o n e n t D i d U p d a t e : f u n c t i o n ( a , b ) { i f ( t h i s . s t a t e . t a g I n p u t A c t i v e & & ! b . t a g I n p u t A c t i v e ) { v a r   c = R e a c t D O M . f i n d D O M N o d e ( t h i s . r e f s . a d m t a g s u g g e s t ) ; i f ( ! c ) r e t u r n ; v a r   d = c . g e t B o u n d i n g C l i e n t R e c t ( ) ; d . r i g h t > w i n d o w . i n n e r W i d t h ? t h i s . s e t S t a t e ( { t a g S u g g e s t F l a g : " l e f t " } ) : d . r i g h t + d . w i d t h < w i n d o w . i n n e r W i d t h & & t h i s . s e t S t a t e ( { t a g S u g g e s t F l a g : " r i g h t " } ) } } , c o m p o n e n t W i l l U n m o u n t : f u n c t i o n ( ) { t h i s . p r o p s . e m i t t e r . o f f ( " a d m T a g R e m o v e d " ) , t h i s . p r o p s . e m i t t e r . o f f ( " s e l e c t " ) } , a d d T a g : f u n c t i o n ( a ) { v a r   b = t h i s ; a = a | | t h i s . s t a t e . q u e r y , t h i s . s e t S t a t e ( { q u e r y : a } ) , t h i s . s t a t e . t a g S t o r e . a d d T a g ( a , " t a g M o d u l e " , f u n c t i o n ( c , d ) { i f ( c ) { v a r   e = b . p r o p s . i n s i d e N a v . g e t H a s h ( ) ; $ . p o s t ( b . p r o p s . b a s e U r l + " / a c t i o n / s e t _ t a g / " + e , { s i d : b . _ . m s i d , t a g : a } , f u n c t i o n ( ) { h u m a n M s g . d i s p l a y M s g ( a + "   a d d e d   t o   p o s t " ) , t h i s . s e t S t a t e ( { q u e r y : " " } ) , t h i s . p r o p s . e m i t t e r . t r i g g e r ( " a d m T a g A d d e d " , a ) } . b i n d ( b ) ) . f a i l ( f u n c t i o n ( ) { t h i s . s t a t e . t a g S t o r e . r e m o v e T a g ( a ) , h u m a n M s g . d i s p l a y M s g ( " U n a b l e   t o   a d d   t a g   " + a + "   t o   p o s t " ) } . b i n d ( b ) ) } e l s e   b . s e t S t a t e ( { t a g E r r o r : d } ) } ) } , h a n d l e I n p u t : f u n c t i o n ( a ) { t h i s . s e t S t a t e ( { q u e r y : a . t a r g e t . v a l u e } ) } , g e t S u g g e s t i o n s : f u n c t i o n ( a ) { v a r   b = t h i s ; i f ( [ 3 8 , 4 0 ] . i n d e x O f ( a . w h i c h ) = = = - 1 ) { v a r   c = t h i s . s t a t e . q u e r y , d = t h i s . s t a t e . t a g S t o r e . g e t T a g V a l i d a t o r ( ) ; r e t u r n   d . i s V a l i d T a g ( " " , c , ! 1 ) ? ( t h i s . s e t S t a t e ( { t a g E r r o r : n u l l } ) , 1 3 = = = a . w h i c h ? v o i d   t h i s . a d d T a g ( c ) : v o i d   t h i s . s t a t e . t a g S t o r e . g e t S u g g e s t i o n s ( c , f u n c t i o n ( a ) { b . s e t S t a t e ( { s u g g e s t e d T a g s : a } ) } ) ) : v o i d   t h i s . s e t S t a t e ( { t a g E r r o r : d . w h y N o t ( " " , c , ! 1 ) } ) } } , h a n d l e H i g h l i g h t e d : f u n c t i o n ( a ) { t h i s . s e t S t a t e ( { q u e r y : a } ) ; v a r   b = t h i s . r e f s . a d m a d d t a g ; i f ( b . f o c u s ( ) , " u n d e f i n e d " ! = t y p e o f   w i n d o w . g e t S e l e c t i o n & & " u n d e f i n e d " ! = t y p e o f   d o c u m e n t . c r e a t e R a n g e ) { v a r   c = d o c u m e n t . c r e a t e R a n g e ( ) ; c . s e l e c t N o d e C o n t e n t s ( b ) , c . c o l l a p s e ( ! 1 ) ; v a r   d = w i n d o w . g e t S e l e c t i o n ( ) ; d . r e m o v e A l l R a n g e s ( ) , d . a d d R a n g e ( c ) } e l s e   i f ( " u n d e f i n e d " ! = t y p e o f   d o c u m e n t . b o d y . c r e a t e T e x t R a n g e ) { v a r   e = d o c u m e n t . b o d y . c r e a t e T e x t R a n g e ( ) ; e . m o v e T o E l e m e n t T e x t ( b ) , e . c o l l a p s e ( ! 1 ) , e . s e l e c t ( ) } } , r e n d e r T a g S u g g e s t i o n s : f u n c t i o n ( ) { i f ( t h i s . s t a t e . t a g I n p u t A c t i v e & & t h i s . s t a t e . q u e r y ) { v a r   a = t h i s . _ . t a g S u g g e s t P o s i t i o n [ t h i s . s t a t e . t a g S u g g e s t F l a g ] , b = a . l e f t , c = a . t o p ; r e t u r n   R e a c t . c r e a t e E l e m e n t ( I m g u r . G a l l e r y . T a g S u g g e s t , { r e f : " a d m t a g s u g g e s t " , o n S e l e c t : t h i s . a d d T a g , o n H i g h l i g h t e d K e y D o w n : t h i s . h a n d l e H i g h l i g h t e d , l e f t : b , t o p : c , s h o w i n g S u g g e s t i o n s : ! 1 , s u g g e s t e d T a g s : t h i s . s t a t e . s u g g e s t e d T a g s , q u e r y : t h i s . s t a t e . q u e r y , e r r o r : t h i s . s t a t e . t a g E r r o r , c l a s s N a m e s : " t a g - s u g g e s t - - f l a g - " + t h i s . s t a t e . t a g S u g g e s t F l a g } ) } } , r e n d e r : f u n c t i o n ( ) { v a r   a = t h i s ; r e t u r n   t h i s . p r o p s . d i s p l a y ! = = ! 1 & & R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " a d m - a d d - g a l l e r y - t a g " } , R e a c t . c r e a t e E l e m e n t ( " p " , n u l l , " A d d   a   t a g   t o   t h i s   p o s t " ) , R e a c t . c r e a t e E l e m e n t ( " d i v " , { c l a s s N a m e : " p o s t - o p t i o n s - t a g - i n p u t - w r a p p e r " } , R e a c t . c r e a t e E l e m e n t ( " i n p u t " , { t y p e : " t e x t " , v a l u e : t h i s . s t a t e . q u e r y , o n C h a n g e : t h i s . h a n d l e I n p u t , o n I n p u t : t h i s . h a n d l e I n p u t , r e f : " a d m a d d t a g " , k e y : " a d m a d d t a g " , c l a s s N a m e : " p o s t - o p t i o n s - t a g - i n p u t " , o n K e y U p : t h i s . g e t S u g g e s t i o n s , o n B l u r : f u n c t i o n ( ) { a . s e t S t a t e ( { t a g I n p u t A c t i v e : ! 1 } ) } , o n F o c u s : f u n c t i o n ( ) { r e t u r n   a . s e t S t a t e ( { t a g I n p u t A c t i v e : ! 0 } ) } , o n P a s t e : t h i s . g e t S u g g e s t i o n s , p l a c e h o l d e r : " E n t e r   a   t a g   t o   a d d " } ) , t h i s . r e n d e r T a g S u g g e s t i o n s ( ) ) ) } } ) ; 
 / / #   s o u r c e M a p p i n g U R L = g a l l e r y . j s . m a p    g a l l e r y . j s . m a p  .       https://s.imgur.com/min/gallery.js?1543607147     l     l                                               	   
                                                                                        	   
                                    :  Q       Q       Q     Q       Q       Q       Q=       5!   E   Q       6!   Q      "   #    Q   "    Q    Q$   $   =%    Q&   (   )   
[%       ]*   !   ]+   "   ],   #   ]-   $   ].   : 6'   Q(   /   
&   5'    Q$   $   =0    Q&   (   )   
[,   &   ]*   '   ]2   (   ]3   )   ]4   *   ]5   +   ]6   : 61   Q(   /   
&   51    Q$   $   =7    Q&   58   (   )   
[2   -   ]*   .   ]:   /   ];   0   ]<   1   ]=   : 69   Q(   /   
&   58   59    Q$   $   =>    Q&   5?   [7   =A   ]B   =C   ]D   3   ]E   4   ]F   5   ]G   6   ]H   6@   Q$   $   =I    Q&   58   [I   8   ]K   9   ]L   :   ]M   ;   ]N   <   ]O   =   ]P   >   ]Q   ?   ]R   @   ]S   A   ]T   B   ]U   C   ]V   D   ]W   E   ]X   F   ]Y   G   ]Z   H   ][   6J   Q$   $   =\    Q\   ^   APJ   ,  R 6]   Q$   $   =_    Q&   (   )   
[   K   ]*   L   ]a   M   ]b   N   ]c   O   ]d   P   ]e   Q   ]f   R   ]g   S   ]h   T   ]i   U   ]j   V   ]k   W   ]l   X   ]m   Y   ]n   Z   ]o   [   ]p   \   ]q   ]   ]r   ^   ]s   _   ]t   `   ]u   a   ]v   b   ]w   c   ]x   d   ]y   e   ]z   f   ]{   g   ]|   h   ]}   i   ]~   j   ]   k   ]   l   ]   m   ]   n   ]   o   ]   p   ]   q   ]   r   ]   s   ]   t   ]   u   ]   v   ]   w   ]   x   ]   y   ]   z   ]   {   ]   |   ]   }   ]   ~   ]   : 6`   Q(   /   
&   5`    Q$   $   =    Q&   5   5         
[   =   ]      ]      ]      ]      ]      ]   : 6   Q&   5   5   5   [      5   5   5   ]      5   5   ]      5   5   ]      5   5   ]      5   5   ]      5   5   ]      5   5   ]   6   Q$   $   =    Q&         
[   =   ]   P   ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]   : 6   Q$   $   =    Q&         
[   =   ]      ]   : 6   Q   [   =   ]   [   ]   =   ]   ?]      ]      ]      ]      ]      ]      ]      Q   5   [   >]   B]   @]   =   ]   C]   C]   @]      ]      ]      ]      ];      ]      ]      ]      ]      ]      ]      ]   6   Q       5   D   Q      Q$   $   =    Q&         
[   =   ]   X]   P   ]   P   ]   X]   X]   >]   <]   
]   B]   B]   P   ]   P   ]   P   ]   P   ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]      ]     ]     ]     ]     ]     ]     ]     ]     ]	     ]
     ]     ]     ]     ]     ]     ]      ]     ]     ]     ]     ]     ]     ]     ]      ]     ]     ]   : 6   Q$   $   =   Q&         
[   =  ]   Z      5  5  `    ]     ]     ]     ]      ]!     ]"     ]#     ]$     ]   : 6  Q$   $   =%   Q&         
[   ='  ]   =(  ])     ]      ]      ]*     ]+     ],     ]   : 6&  Q      :     Q         5-  :    Q&      6.  Q$   $   =/   Q&   &   )   
[     ]*   [         =1  : ]2  ]3     ]4     ]5     ]6     ]7     ]8     ]9     ]:     ];     ]<     ]=    ]>    ]?    ]@    ]A    ]B    ]C    ]D    ]E  	  ]F  
  ]G    ]H    ]I    ]J    ]K    ]L  : 60  Q(   /   
&   50   Q$   $   =M   Q&   &   )   
[+        =O  : P  
:  ]Q    ]*     ]:     ]R    ]S    ]T    ]U    ]V    ]W    ]X    ]Y    ]Z    ][    ]\    ]]    ]^     ]_  !  ]`  "  ]a  #  ]b  $  ]c  %  ]d  &  ]e  '  ]f  (  ]g  )  ]h  *  ]i  : 6N  Q(   /   
&   5N   Q$   $   =j   Q&   5         
[0  =k  ]   [,     5   5   5   ]l     5   5   5   ]m     5   5   5   ]n  ]   -  ]   .  ]   /  ]   : 6k  Q$   $   =j   Q&   5         
[4  =p  ]   1  ]q  2  ]r  3  ]   : 6o  Q$   $   =j   Q&   5         
[;  =s  ]   5  ]t  6  ]   7  ]u  8  ]v  9  ]w  :  ]   : 6s  Q$   $   =x   Q&         
[U  =y  ]   C]z  [<     5   5   5   ]{     5   5   5   ]|     5   5   5   ]}     5   5   5   ]~     5   5   5   ]     5   5   ]     5   5   ]     5   5   ]     5   5   ]     5   5   5   ]     5   5   ]  ]   =  ]   [>     5   5   5   ]     5   5   5   ]     5   5   5   ]     5   5   ]  ]  ?  ]   @  ]t  A  ]  B  ]   C  ]  D  ]  E  ]  F  ]  G  ]  H  ]  I  ]  J  ]  K  ]  L  ]  M  ]  N  ]  O  ]  P  ]  Q  ]  R  ]v  S  ]  T  ]   : 6y  Q$   $   =x   Q&         
[`  PV  ]  =  ]   Z      5  5  `    ]  [W     5   5   5   ]~     5   5   5   ]}     5   5  5   ]     5   5   5   ]     5   5   5   ]     5   5   5   ]|     5   5   5   ]{     5   5   5   ]     5   5  ]     5   5  ]     5   5   ]  ]   [X     5   5   5   ]  ]  Y  ]   Z  ]   [  ]  \  ]  ]  ]*  ^  ]  _  ]   : 6  Q$   $   =&    Q&         
[k  ]  =  ]   Z      5  5  `    ]  [a     5   5   5   ]}     5   5   5   ]|     5   5   5   ]{     5   5   5   ]     5   5  5   ]     5   5  5   ]     5   5   5   ]     5   5   5   ]     5   5  ]  ]   b  ]   c  ]  d  ]   e  ]   f  ]t  g  ]  h  ]  i  ]  j  ]   : 6  Q$   $   =&    Q&         
[x  =  ]   [l     5   5   5   ]}     5   5   5   ]     5   5  5   ]     5   5   5   ]     5   5   5   ]{     5   5   5   ]     5   5   5   ]     5   5  ]     5   5  ]     5   5   ]  ]   [m     5   5   5   ]  ]  Z      5  5  `    ]  n  ]  o  ]   p  ]  q  ]   r  ]t  s  ]  t  ]  u  ]  v  ]  w  ]   : 6  Q&   [y  6  Qz    Q   =     'E   Q=    5     {     |     Q$   $   =   Q&   &   )   
[  }  ]*   ~  ]    ]     ]    ]    ]    ]
    ]    ]    ]     ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]     ]    ]    ]    ]    ]    ]    ]    ]    ]	    ]
    ]    ]  : 6  Q(   /   
&   5   Q$   $   =   Q&   (   )   
[    ]*     ]    ]    ]    ]  : 6  Q(   /   
&   5   Q       5   D   Q     Q     :     Q   =     Q    =      Q   P     Q   =     Q   [     ]l  =  ]  =  ]  =  ]  C]     Q	   Z      `    P  `   	   Q        5-  :    Q&      6   Q        5-  :    Q&      6   Q        5-  :    Q&      6   Q        5-  :    Q&      6   Q        5-  :    Q&      6   Q        5-  :    Q&      6   Q        5-  :    Q&      6   Q   
   Q      Q        5-  :    Q&      6   Q        5-  :    Q&      6   Q$   $   =   Q&   5N        
[  =  ]   [     5   5   5   ]}     5   5  ]     5   5  ]      5   5   ]!     5   5   ]"     5   5   ]     5   5   ]#  ]   [     5   5   5   ]     5   5   5   ]  ]    ]     ]     ]     ]$    ]*    ]%    ]&    ]'    ](    ])    ]*    ]    ]+    ],    ]-    ].    ]/    ]0    ]u    ]1    ]t    ]   : 6  Q$   $   =2   Q&   &   )   
[G    ]*     ]4    ]5    ]6    ]7     ]8    ]9    ]:    ];    ]<    ]=    ]>    ]?    ]@  	  ]A  
  ]B    ]C    ]D    ]E    ]F    ]G    ]H    ]I    ]J    ]K    ]L    ]M    ]N    ]O    ]P    ]Q    ]R    ]S    ]T    ]U    ]V    ]W     ]X  !  ]Y  "  ]Z  #  ][  $  ]\  %  ]]  &  ]^  '  ]_  (  ]`  )  ]a  *  ]b  +  ]c  ,  ]d  -  ]e  .  ]f  /  ]g  0  ]h  1  ]s   2  ]t   3  ]i  4  ]j  5  ]k  6  ]l  7  ]m  8  ]n  9  ]o  :  ]p  ;  ]q  <  ]r  =  ]s  >  ]t  ?  ]u  @  ]v  A  ]   B  ]  C  ]w  D  ]x  E  ]y  F  ]z  : 63  Q(   /   
&   53   Q$   $   =2   Q&   53  &   53  )   
[I  H  ]*   : 6{  Q$   $   =2   Q&   53  &   53  )   
[J  : 6|  Q$   $   =2   Q&   53  &   53  5|  )   
[Q  K  ]*   L  ]~  M  ]  N  ]  O  ]  P  ]  : 6}  Q$   $   =2   Q&   53        
[[  =  ]   X ]  X ]  [R     5   5   ]  ]   S  ]   T  ]   U  ]t  V  ]  W  ]  X  ]   Y  ]   Z  ]   : 6  Q$   $   =2   Q&   53        
[b  =  ]   \  ]   ]  ]   ^  ]  _  ]  `  ]  a  ]   : 6J   Q   c  :     Q$   $   =2   Q   Pd     Q   Pe     Q
   X 
   Q   X    Q&   53        
[q  =  ]   ]  [f  @]         "   : ]  ]   g  ]   h  ]   i  ]   j  ]  k  ]  l  ]  m  ]  n  ]  o  ]  p  ]   : 6  Q$   $   =2   Q&   53        
[  =  ]  =  ]   Pr  ]  Ps  ]  t  ]   u  ]   v  ]  w  ]   x  ]t  y  ]  z  ]  {  ]  |  ]  }  ]  ~  ]    ]    ]    ]    ]    ]    ]     ]    ]    ]    ]    ]     ]    ]    ]    ]     ]    ]    ]   : 6  Q$   $   =2   Q&   53        
[  =  ]   >]  ?]    ]     ]    ]    ]   : 6  Q$   $   =2   Q&   53        
[  =  ]     ]   : 6  Q$   $   =2   Q&   53        
[  =  ]     ]     ]     ]t    ]    ]    ]     ]    ]   : 6  Q$   $   =2   Q&   53        
[  =  ]     ]    ]    ]    ]     ]     ]    ]   : 6  Q$   $   =   Q&   53        
[  
]  X]  X ]  X]  ]  P  ]  B]  [  @]         "   : ]  &   5  5  5  ]  &   5  5  A=  ,  R ]  ]   =  ]     ]     ]     ]     ]t    ]     ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]   : 6  Q$   $   =   Q&   53        
[  =  ]   X]  @]    ]     ]     ]    ]    ]    ]+    ]    ]    ]     ]   : 6  Q$   $   =   Q&   53        
[  =  ]   X ]  (]     ]     ]     ]     ]t    ]    ]     ]    ]+    ]    ]    ]    ]    ]    ]   : 6  Q       5   D   Q     Q$   $   =   Q&   53        
[  =  ]   X ]  ]    ]     ]     ]    ]    ]    ]    ]    ]    ]    ]   : 6  Q$   $   =    Q&   53  5  (   )   
[    ]*     ]    ]  : 6  Q$   $   =   Q&   53  5  (   )   
[    ]*     ]    ]    ]     ]     ]    ]     ]	    ]    ]
  : 6   Q$   $   =   Q&   5  (   )   
[    ]    ]    ]    ]    ]    ]    ]     ]    ]    ]    ]  : 63  Q$   $   =   Q&   5  &   5  53  )   
[	    ]*     ]    ]    ]  : 6  Q$   $   =   Q&   5  &   5  53  )   
[  
  ]*     ]    ]    ]    ]     ]!    ]"    ]#    ]$    ]%    ]&    ]'    ](    ])    ]*  : 6  Q$   $   =+   Q&   &   )   
['    ]*     ]-    ].    ]/    ]0    ]1     ]2  !  ]3  "  ]4  #  ]5  $  ]6  %  ]7  &  ]8  : 6,  Q$   $   =9   Q&   &   )   
[;  (  ]*   )  ]   *  ];  +  ]<  ,  ]   -  ]=  .  ]  /  ]*  0  ]>  1  ]?  2  ]  3  ]@  4  ]A  5  ]B  6  ]C  7  ]D  8  ]E  9  ]F  :  ]G  : 6:  Q(   /   
&   5:   Q$   $   =&    Q&         
[>  =  ]   <  ]H  =  ]   : 6  Q$   $   =I   Q&   5J        
[B  =L  ]   ?  ]   @  ]  A  ]   : 6K  Q$   $   =I   Q&   5J        
[E  =N  ]   C  ]O  D  ]   : 6M  Q$   $   =P   Q&   5Q  (   )   
[V  F  ]*   G  ]S  H  ]T  I  ]U  J  ]  K  ]V  L  ]W  M  ]  N  ]X  O  ]Y  P  ])   Q  ]Z  R  ][  S  ]\  T  ]]  U  ]^  : 6R  Q$   $   =P   Q&   5Q  &   5Q  5R  )   
[d  W  ]*   X  ]`  Y  ]a  Z  ]b  [  ]  \  ]V  ]  ]W  ^  ]  _  ]X  `  ]Y  a  ]c  b  ]d  c  ]e  : 6_  Q$   $   =P   Q&   5Q  &   5Q  5_  )   
[h  e  ]c  f  ]d  g  ]e  : 6f  Q$   $   =g   Q&   5         
[l  =i  ]   i  ]j  j  ]k  k  ]   : 6h  Q$   $   =g   Q&   5   (   )   
[v  m  ]*   n  ]m  o  ]n  p  ]o  q  ]p  r  ]q  s  ]r  t  ]s  u  ]t  : 6l  Q$   $   =g   Q&   5   &   5   5l  )   
[y  w  ]*   x  ]U  : 6u  Q$   $   =g   Q&   5   (   )   
[  z  ]*   {  ]w  |  ]T  }  ]x  ~  ]y    ]U    ]z    ]{    ]    ][    ]\    ]|    ]}    ]~    ]    ]  : 6v  Q$   $   =g   Q&   5   &   5   5v  )   
[    ]*     ]{    ]    ]    ]  : 6  Q$   $   =g   Q&   5   (   )   
[    ]*     ]    ]    ]    ]  : 6  Q$   $   =g   Q&   5   (   )   
[    ]*     ]    ]    ]y    ]U    ]z    ]    ]    ]    ]    ]  : 6   Q$   $   =g   Q&   5   &   5   5   )   
[    ]*     ]4    ]    ]    ]  : 6  Q$   $   =g   Q&   5   (   )   
[    ]*     ]    ]    ]    ]    ]  : 6  Q$   $   =g   Q&   5   (   )   
[    ]*     ]    ]    ]    ]    ]    ]  : 6  Q$   $   =g   Q&   5   &   5   5  )   
[    ]*     ]    ]    ]    ]  : 6  Q$   $   =g   Q&   5   &   5   5  )   
[    ]*     ]    ]    ]     5  ]  : 6  Q$   $   =g   Q&   5         
[  =  ]     ]     ]     ]    ]    ]+    ]    ]    ]*    ]    ]    ]    ]     ]   : 6  Q$   $   =g   Q&   5   (   )   
[    ]  : 6  Q$   $   =g   Q&   5         
[  =  ]     ]     ]    ]    ]    ]    ]    ]    ]    ]    ]     ]     ]    ],    ]    ]   : 6  Q$   $   =g   Q&   5         
[  =  ]     ]     ]    ]    ]    ]    ]    ]    ]    ]    ]     ]     ]    ]   : 6  Q$   $   =   Q&   5   (   )   
[    ]    ]*     ]    ]    ]  : 6  Q$   $   =   Q&   5   (   )   
[    ]    ]*     ]    ]    ]  : 6  Q$   $   =g   Q&   5   (   )   
[    ]*     ]    ]     ]  : 6  Q$   $   =   Q&   5   5  (   )   
[    ]*     ]    ]    ]    ]    ]    ]  	  ]  
  ]    ]    ]     ]	    ]    ]Y  : 6  Q$   $   =   Q&   5   5  (   )   
[    ]*     ]    ]    ]  : 6  Q$   $   =   Q&   5   5  (   )   
[    ]*     ]    ]    ]    ]    ]    ]  : 6v  Q$   $   =   Q&   5   5  (   )   
[0  P  ]    ]*      ]  !  ]  "  ]  #  ]  $  ]  %  ]  &  ]  '  ]  (  ]  )  ]  *  ]  +  ]  ,  ]  -  ]  .  ]  /  ]  : 6  Q$   $   =   Q&   5   5  (   )   
[;  P1  ]  2  ]*   3  ]  4  ]  5  ]  6  ]  7  ]   8  ]   9  ]  :  ]G   : 6   Q$   $   =   Q&   5   5  (   )   
[K  P<  ]  =  ]*   >  ]  ?  ]  @  ]  A  ]  B  ]  C  ]  D  ]  E  ]  F  ]  G  ]  H  ]  I  ]  J  ]  : 6  Q$   $   =   Q&   5   5  (   )   
[R  L  ]*   M  ]  N  ]q  O  ]  P  ]   Q  ]  : 6  Q$   $   =   Q&   5   5  (   )   
[W  S  ]*   T  ]  U  ]  V  ]  : 6  Q$   $   =   Q&   5   5  (   )   
[^  X  ]*   Y  ]  Z  ]  [  ]	  \  ]
  ]  ]x  : 6  Q$   $   =   Q&   5   5  (   )   
[d  _  ]*   `  ]  a  ]  b  ]  c  ]  : 6  Q$   $   =g   Q&   5   &   5   5   )   
[j  =  ]  e  ]*   f  ]  g  ]  h  ]  i  ]  : 6  Q&   5         
[o  =  ]   k  ]   l  ]  m  ]  n  ]   : 6  Q&         
[x  =  ]   p  ]   q  ]   r  ]  s  ]  t  ]   u  ]  v  ]  w  ]   : 6  Q       5   D   Qy     Q$   $   =j   Q   Pz     Q&   5         
[  =  ]   [{     5   5   ]     5   5   ]   ]   |  ]   }  ]   ~  ]!    ]    ]    ]"    ]   : 6  Q$   $   =j   Q&   5         
[  =#  ]     ]     ]t    ]   : 6#  Q$   $   =j   Q&   5         
[  =%  ]     ]     ]&    ]   : 6$  Q$   $   =j   Q&   5         
[  [     5   5   5   ](  ]   =)  ]     ]*    ]*    ]   : 6'  Q&   5   5'  P  6+  Q$   $   =j   Q&   5         
[  [     5   5   5   ]-     5   5   5   ](     5   5   ].     5   5   ]/  ]   =0  ]   [  =1  ]2    ]3  =4  ]5    ]6  =7  ]8  =9  ]:    ];  =<  ]:    ]=     >  
=?  @=@     >  
=A  P  =B  : =C  : ]D    ]E  =F  ]=    ]G    ]H  ]I  P  ]J    ]     ]     ]    ]*    ]K    ]   : 6,  Q&   5   5,  P  6+  Q$   $   =j   Q&   5         
[  =L  ]     ]     ]M    ]N    ]     ]     ]O    ]   : 6L  Q$   $   =j   Q&   5         
[  =P  ]   [     5   5   5   ]l     5   5Q  5   ]R     5   5   ]n  ]     ]S    ]T    ]U    ]   : 6P  Q&   5   5P    6V  Q      Q5   D   Q[  6   Q5   5   5W  D   Q[  6W  Q5   5W    6X  Q$   $   =Y   Q   B   Q   [     Q&   (   )   
[    ]*     ][    ]\    ]]    ]^    ]_    ]`    ]a    ]b    ]c    ]d    ]e    ]f    ]g    ]h    ]i    ]j    ]k    ]l    ]m    ]n    ]o    ]p    ]q    ]r  : 6Z  Q$   $   =s   Q&   5Z  (   )   
[    ]*     ]u    ]v    ]w    ]x    ]y    ]z    ]{    ]|  : 6t  Q    Q$   $   =}   Q&   5Z  (   )   
[    ]*     ]  : 6~  Q$   $   =   Q&   5Z  5~  &   5Z  5~  )   
[    ]*     ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]  : 6  Q&   (   )   
[    ]*     ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]  : 6  Q$   $   =   Q&   5`   (   )   
[    ]*     ]     ]    ]    ]    ]    ]    ]    ]    ]    ]  	  ]  
  ]    ]    ]    ]   : 6  Q(   /   
&   5`   5   Q$   $   =   Q&   (   )   
[&    ]*     ]     ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]    ]     ]  !  ]  "  ]  #  ]  $  ]  %  ]  : 6  Q(   /   
&   5   Q$   $   =   Q&   &   )   
[,  '  ]*   (  ]  )  ]  *  ]  +  ]  : 6  Q(   /   
&   5   Q&   C6  Q$   $   =j   Q&   5         
[1  =  ]   [-     5   5   ]     5   5   ]     5   5   5   ]      5   5   ]l     5   5   ]     5   5   ]n  ]   .  ]   /  ]  0  ]   : 6  Q$   $   =   Q&   5        
[?  =  ]   [3  &   5  5  ]  =  ]  P2  ]  ]   [4     5   5   5   ]     5   5   5   ]     5   5   5   ]  ]   5  ]   6  ]   7  ]   8  ]t  9  ]   :  ]  ;  ]   <  ]   =  ]  >  ]   : 6  Q  D    B n| = ] k\  g 
Ft17 ""#T u.2ed )-.      l 4Izm P )# J D !    9 -   m    +      ! [gw|  k    O   & &     &  lc       6b l     q6   Vp   j          )|C=O  jj $  %+_  d   Y#*""'"%       B    J  `pC   YV  8     . ;+%+  -	 +G*     	  ;#    G  \/   %0    _   < j   pd      [ e     O   C  II    1  ~       )y+    f n "#)   @}      C 2 &3  5 [1m 	   	q+ !  
  p  j6     {` _   
f               5'
 I   XR  n g        e     6  R      \ "+'(*;  2 /*?AN 
,M.8  2 { !+-(*("-(C'0,#@4      k U Q     - f ${   1O    8 1C%f*(-63-+* 1  B b 6[ %(-+*(-63"u|=  Yq B , ((46+.4!%"1q  Q |   e P  j   
'['Ji  Oe 1 1 K        w    y   !NNLL,&* :     	7       K  }  QZi  BF  ] u        b 	P    c    :   O  F| e \      5   o x$  s ^   x 2)    )'  ."4 v:  @J D# P a,  J" N 
P. h<!'( & *'*Vm  4P . +      Hx   g       8X( 5 -  U                       i     =   d7 G    @   fk a +S    	 G )  Weea       c     } C 
          	   - 4LN s
 
U"+U8J      i? _(mqDAAc g 	'3    jV f '*
&8   ru      l /&$E ]   +    j } D   >   4   t        u    g + I)	Rs  
 | ,! +!M  =@A = +  r  Jr  * Q &
8)   _  h   NvX  u  ? 2    n     L ;k%+K>  %    _  X &,]Hl\  P   E  JLC |   :@-)hQ a  n   uC \()7   !&l7'   bv2  v$     d       ro 6:t   ;` }~` Q \  q  k | " f@  	  VZ  :v  GV G !           Z^ 
    }yt }I i2 '%2 %_   a'  D 'I3'6    WQv^4-Q5A BCtCG{8<;Rb8J\% XSUj n$\X  &  A?5C+9b <    8LH'#26,-$59>HN, ,I-61 ##@ E  ^ 	iI1@6,?ESCS -X-6F n-  : 6  f ;Sb  5  *~ /?  A   F9@  A   %3(.  *        @     5 #  /$X?3WS AA012 1   .#X?   S wAA012   !5D@ } E!'"5D> !E00M P)  /Um\R7AjQ5[` +7c7! 8$4].YXz z'SNfo_1co_H '        >; F"2:*':   ;SD '8x 0      g  A    q1- 	o/461Yd "4A     o"-     X !S "7FEC  y -v--Z '2  E ./  J    P    A.-1NPe; /[Q& .#/ LO ''  - 6)'& 	     "b^v  L-h9/0G /" 788$|  F q  J+'';n     	& y        8        ( 
   j    IK        z7 #3#$     ~    I2 	 c#$Is*;  J   Z .       = "B/99C`  u p  _ 	 !   u  A %G 4  5    ' #=Ky        )     A51)33=8'2  !    ,   { $+!"%Aee ]%+E**-   h Aj ? o  # 3   REACTION_STATE_COLLECTIONC   ReactionGifPickerCollectionHeader?   ReactionGifPickerCollectionList)   ImgurRecommendations?   ReactionGifPickerCollectionItem   positionSpring   _typeof'   GRID_COLORS_LOADING   _extends-   defaultCollectionState   width5   ReactionGifPickerContainer   _slicedToArray!   ReactionGifImage9   ReactionGifPickerCollections5   REACTION_STATE_COLLECTIONS/   ReactionGifPickerHeader   ZeroClipboard   scaleSpring#   ReactionGifPicker!   PROMO_COLLECTION   _createClass   youtube_ready+   PROMO_COLLECTION_NAME3   NUM_GIFS_TO_ADD_TO_PICKER   stylesE   ReactionGifPickerCollectionsLoader5   DEFAULT_NUM_GIFS_IN_PICKER   youtube_iframes   height   jQuery   function   Object   create   window   document   Namespace   Imgur.History   Imgur   History   Class   extend	   init   onPopState   addPopState   removePopState   addWindowState   addSingleton)   Imgur.InfiniteScroll   InfiniteScroll   levelReached%   stopInfiniteScroll-   continueInfiniteScroll   infiniteScroll   pollLevel?   Imgur.Utilities.ColorboxConfirm   Utilities   ColorboxConfirm   setupHandlers	   show   onComplete   onClose   Imgur.Util	   Util   Base64   =   PADCHAR   ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/   ALPHA   getbyte64   getbyte   encode   decode+   Imgur.Utilities.Embed   Embed   elColorboxEmbed!   elEmbedAlbumForm   embedModal   getPostMetadata   getSnippet   bindEmbedImage   viewOldEmbed   setupEmbedImage)   onEmbedCheckboxClick   initEmbed   setupEmbedCss!   setupEmbedScreen%   setEmbedUrlAlbumId   setEmbedUrl   setEmbedCode   clipboardClick%   initEmbedClipboard   ImgurIface#   NextImageReceiver   Iface   Imgur.Album   Album)   albumsScrollListener   findImageIndex!   getStartingIndex   loadImage   initAlbumImages!   setupAlbumImages!   bindchangeImages   bindDeleteAlbum   bindHideAlbum   bindCreateAlbum   initCreateAlbum%   initChangeSettings!   showAlbumPrivacy!   hideAlbumPrivacy+   resizeCreateAlbumForm1   createAlbumSubmitHandler!   showAlbumCaptcha/   openCreateAlbumColorbox'   carouselItemFirstIn%   carouselItemLastIn)   shrinkThumbsCarousel/   getThumbsCarouselScroll)   thumbsCarouselScroll%   thumbsCarouselBind7   thumbsCarouselItemVisibleIn%   initThumbsCarousel   getImageSrc   scrollMainImage#   mainCarouselSetup/   mainCarouselItemVisible!   initMainCarousel   chooseLogoColor   albumSortStop!   toggleEditButton-   editButtonClickHandler   downloadAlbum   createAlbum   changeSettings   changeImages   deleteAlbum   hideAlbum   generalInit9   afterRenderAlbumsBindMethods   profileInit   setAlbumID   getHash   getInitPage!   handleAlbumsData   loadNextPage'   setTotalAlbumsCount'   addAlbumToContainer/   Imgur.Elements.Tag.View   Elements   Tag	   View   React   createClass   TagView   displayName   getDefaultProps%   getBackgroundImage   handleTagClick   removeTag   render   propTypes   PropTypes   string   isRequired   tagName   classNames   redirectTo	   func#   redirectAnalytics	   bool   allowRemoval   object   tag#   Imgur.PostOptions   PostOptions   _   getInitialState%   componentWillMount#   componentDidMount%   componentDidUpdate'   initPostMatureState/   handlePostMatureChanged;   getLocalStorageMatureStateKey   resetTags%   checkStickyOptions'   calcOptionsPosition5   initRearrangeIfUnpublished   closeRearrange   handleEmbed   handleDelete   handleShare-   showModalIfUnpublished   addTag   renderTagInput   noHTML   getSuggestions#   handleHighlighted/   Imgur.PromotedSpotlight#   PromotedSpotlight   1.0.7   version   clientsA   /include/flash/zeroclipboard.swf   moviePath   nextId   $   setMoviePath   dispatch   register)   getDOMObjectPosition   Client   prototype   id   ready   movie      clipText#   handCursorEnabled   cssEffects   handlers	   glue   getHTML	   hide   destroy   reposition   setText!   addEventListener   setHandCursor   setCSSEffects   receiveEvent   assign#   Imgur.SideGallery   SideGallery   HEIGHT   ROW_HEIGHT   ITEMS_PER_ROW   RENDER_BUFFER#   FETCH_MORE_BUFFER   SELECTED_OFFSET   BREAK_HEIGHT   GRID_MARGIN   isLoading   currentInserted   el   sectionTitles   sortTitles   windowTitles+   getGalleryEnvironment   isFromReddit   changeLayout   uniqueId   ajaxSuccess   onScroll   checkEndReached+   checkScrollPageNeeded   listHeight   itemOffset   loadPage   generateURL   switchToViral   nthFromHash!   insertSingleItem!   selectedPosition   hashPosition   selectImage   getImage   getNextImage   getPrevImage!   getNextImageItem!   getPrevImageItem   getSection   bindMouseMove   nav   updatePoints   updateViews   updateVote   updateFavorite+   shouldComponentUpdate   scrollToHash!   getSubredditName+   Imgur.SideGalleryItem   SideGalleryItem   addons   PureRenderMixin   mixins   handleClick)   getWidePromotedThumb   getHref   getThumbStyles   getThumbClasses   getVoteMarkup   renderItemStats%   Imgur.ReportBadAds   ReportBadAds   Report-Bad-AdsE   Thanks! This ad has been reported.   thanksMessage   handleSubmit   unmount   stopPropagation   Component   Recommendations%   Imgur.ShareButtons   ShareButtons   .social   $social   elements!   getAddthisConfig   initAddthis   setShareData   resetShareData   _setShareData   _setJafoMeta   _setShareTitle   _setUrl   bindButtons#   bindAddthisButton   setupAddthis   addthisOpen   logShare'   logSharePostAddthis   getShareTitle   shareTwitter   shareFacebook   shareReddit   shareDigg   shareTumblr!   shareStumbleupon   shareGoogleplus   sharePinterest   shareEmail   shareAddthis   Imgur.Caption   Caption	   #sid   val   sid!   addDownvoteLimit'   removeDownvoteLimit!   haveCaptionVotes   haveCaptions   deleteCaption   undeleteCaption'   getCaptionDepthById   countComments+   getCaptionRepliesById   getCaptionById-   getCaptionPropertyById)   getCaptionParentById   getParentIds+   getCaptionChildrenIds+   getCaptionIdsByFilter   mergeCaptions   mergeCaption   mergeVotes   getVotes   setVote%   getVoteByCaptionId3   isCaptionOrItsSubtreeNSFW'   setCaptionVoteState!   purgeCaptionData   Imgur.Elements   Combobox	   name   value   onChange   Confirm!   Elements-Confirm   handleNo   handleYes   PopupMenu)   componentWillUnmount   handleBodyClick   handleMenuClick!   handleChildClick   Imgur.Comment   Comment   _isMounted   childmap   contextids   image   comment   votable   votemap   onSubmit   expanded   haveChildren   touchEnabled#   forceRenderParent	   msid   onContextChange   linkifier   onVoteChange   contextTypes'   componentWillUpdate%   handleReplyClicked%   handleReplySuccess)   handlePermalinkClick%   handleContextClick!   handleShareClick+   handleMobileIconClick#   handleDeleteClick+   handleWarnDeleteClick'   handleMuteUserClick#   handleReportClick#   handleUpvoteClick'   handleDownvoteClick   _vote   _nthIfy-   handleUserProfileClick   closeReply   CommentTree   statics   number   expandMode+   expandedFromPermalink%   groupingBadReplies   level   maxLevel3   componentWillReceiveProps%   handleCommentClick+   handleLoadMoreClicked   CommentList%   RENDERED_AT_A_TIME   parent_id   _getChildrenIds1   toggleShowingBadComments-   _checkNeedToRenderMoreA   _handleBadCaptionsContainerClick%   InsideCommentsArea#   InsideCommentArea   loading#   defaultExpandMode   commentSort'   onCommentSortChange   contextId   contextLevels   permalinkE   handleClickPermalinkViewRestBanner=   handleClickToggleForceExpanded)   handleCommentSuccess'   handleDocumentKeyUp   PostViewSummary   Symbol   symbol   iterator   Imgur.InsideNav   InsideNav   setHash#   updateCaptionHash   updateShare   hasImage   getCurrentImage   checkFetchQueue!   bindSkyPopScroll   bindPostJump'   bindViewabilityJafo1   postLoadingQueueContents+   postLoadedContentHash+   postLoadingVerifyHash'   postLoadingCheckImg)   postLoadingHandleImg+   postLoadingCheckVideo-   postLoadingHandleVideo+   bindViewabilityScroll#   checkStickyHeader)   checkViewabilityTime-   checkViewabilityScroll!   enablePrevButton!   enableNextButton#   disablePrevButton#   disableNextButton   changeSection   changeSort   changeWindow   getURL   fetchImage   fetchCaptions!   scrollToCaptions   processCaptions)   getPermalinkIfExists#   setupHistoryState+   handlePopStateComment'   handlePopStateImage   pushWindowState   setCaptionSort!   getCaptionSorter#   sortCaptionsByTop%   sortCaptionsByBest#   sortCaptionsByNew?   sortCaptionsByMineJustSubmitted!   sortCaptionsById)   sortCaptionsByIdDesc   blankPage!   pushToFetchQueue   setupReportLink   handleAds   isSafe'   updateSponsoredInfo)   updateSubmissionInfo   updatePage!   purgeCommentData   isImagePromoted   isImageNearby   _promotedTag   _promotedWrap   insertPost   postRendered'   recachePostElements   preloadImage   checkAdTime/   removePromotedCompanion   showAds   reportBadAds   hideZoomedImage!   timeoutNextImage   bindAutoBrowse   navToImage   logNavigation'   isInvalidKeyContext   bindHotKeys   getSideGallery)   forceScrollToCaption   scrollToCaption!   Imgur.Fullscreen   Fullscreen   viewFullscreen+   focusOverlayAfterOpen#   showOverlayIfOpen)   closeOverlayIfExited   collections   collection+   THE HAPPYTIME MURDERS+   the happytime murders   shortname   PROMOTED   byline   xVU8xGU   preview   promoted'   Imgur.Caption.Reply   Reply   parentId   parentAuthorId   autofocus   onSuccess'   imagePreviewEnabled   getValue7   handleEmailNotVerifiedError   handleError   getLength   _submit#   handleTextChanged1   handleImagePreviewUpdate   handleKeyDown5   handleReactionGifSelection   getImagePreview   removePreview7   toggleShowReactionGifPicker9   handleReactionGifButtonClick-   handleReactionGifClick   Imgur.Gallery   Gallery   getEmitter   getCacheValue   isNumberKey   ungallery   delete   spamPost   mature   ban   obfuscate	   spam	   warn   ncmec   trophy   reportImage   bindDeleteImage   deleteImage   reCaption   insertAd   fadeInLoader   fadeOutLoader   initialPopState   initTipsy)   initAdmAddGalleryTag   initZoom   showPastPreview   pastOnLoad!   pastClickHandler+   pastDaysChangeHandler/   pastDaysKeypressHandler-   pastTickerClickHandler-   pastSubmitClickHandler!   galleryTagObject)   isPromotedTagGallery%   getGalleryMetadata9   getVoteSourceFromEnvironment   getBaseUrl   getSectionUrl   getUrl   handleResponse   fetchImages   showLoadMore   loadMore3   notorietyLinkClickHandler=   userButtonCommentsClickHandler?   userButtonFavoritesClickHandler?   userButtonSubmittedClickHandler;   userButtonRepliesClickHandler#   setupUserCaptions%   setupUserFavorites!   setupUserReplies%   setupUserSubmitted1   userPmButtonClickHandler!   userPmSendButton   userInit   toggleShowViral)   initOutsideInfScroll-   bindOutsideSortOptions5   searchAdvancedHandleSubmit7   searchAdvancedToggleHandler9   searchAdvancedToggleSizeType   searchHighlight7   syncSearchSimpleAndAdvancedI   _syncSearchSimpleAndAdvancedElements   outsideInit+   initOutsideComboboxes   insideInit   toggleTab   getInsideNav3   resetReportCloseAnalytics7   preventReportCloseAnalytics'   initModerationPanel   Inside   Outside   MainOutside!   handleTagChanged%   _handleTagDeselect!   _handleTagSelect-   _updatePageOnTagChange   refetchPage   Header   Gallery-Header   MAX_ALBUM_TITLE   MAX_IMAGE_TITLE   noNav   _next   _prev   Gallery-Embed   getEmbedScript   getEmbedCode!   handlerHideTitle	   Grid   Gallery-Grid   COLUMN_COUNT   $window   findIndexByHash   handleScroll   handleMouseMove   handleMouseDown   handleMouseUp1   createRearrangeComponent   PostActionBar   promotedpost-   PROMOTED_POST_TAG_NAME+   Gallery-PostActionBar   actionType   voteType#   handlePointUpdate-   logCreateSignupTooltip'   createSignupTooltip#   showSignupTooltip   handleVote'   handleAddedToFolder#   handleAdmTagAdded   handleFavorite   showAnalytics   handleReport   handleDownload!   handleMarkMature#   togglePostOptions5   handleHideAlbumFromAccount   logTopicClick   handleRemoveTag   getTagsNames   renderTags   postOption!   openSaveToFolder   Privacy   Gallery-Privacy   PUBLIC   HIDDEN   handleChange   handleSave   ShareImage%   Gallery-ShareImage   SharePost#   handleTopicSelect+   handleTitleValidation   handleFail   SourceBar#   Gallery-SourceBar   viaAppIconClick   _redditSourceI   sendToUserStatisticsIfPostIsPromoted%   Imgur.Gallery.Post	   Post   INITIAL_LOAD   MAX_WIDTH+   MAX_NON_GALLERY_TITLE   MAX_TEXTAREA)   ADD_IMAGE_ROW_HEIGHT   RENDER_STATE   updatingState   VideoControls   AudioState   PRESENT_MUTED   audioState   Storage   Session1   audioStateSessionStorage   GalleryPost)   getSessionAudioState   _handleScroll   _scaleWidth%   updateTagsFromText5   _setContainerHeightByIndex5   _calculateContainerHeights/   _calculateElementHeight   loadAll)   _createRenderedImage!   _createComponent   _getThumbSize   handleRemove   editKeyHandler%   handleGridColorbox#   handleVideoUpdate-   handleAudioStateChange/   Imgur.Gallery.TitleDesc   TitleDesc   TYPING_SPEED   savedRequest   placeCaretAtEnd   handlePaste   insertText   _save1   Imgur.Gallery.TagSuggest   TagSuggest   MAX_HEIGHT'   highlightedTagIndex   updatePosition   mouseEnter   mouseLeave   mouseDown   renderTagRowY   Imgur.Gallery.DescriptionTagSuggestContainer=   DescriptionTagSuggestContainer%   TRANSITION_TIMEOUTK   TAG_SUGGEST_CARRET_DISTANCE_FROM_LEFT   tagSelected   handleKeyUp!   fetchSuggestions7   formatTagSuggestionResponse!   getCaretPosition%   getSelectionCoords   hideSuggestions5   Imgur.Gallery.Store.Saving   Store   Saving   add   remove'   Imgur.Gallery.Store   getTagValidator   getTags   flushTags   setSuggestions   isTagExists   Imgur.Factory   Factory+   _getDefaultPredicates+   _getAjaxGetWithLoader3   _standardDataResponsePost5   _getStandardPostAuthorizedI   _getStandardPostAuthorizedWithLoader9   _getPostAuthorizedWithLoaderI   _produceEmptyMessageProviderForQuery3   _produceUserGroupProvider7   _produceUserGroupController3   _produceUserGroupFromData1   _produceUserGroupFromDom   InsideGallery)   produceInsideGallery!   produceInsideNav   producePromoted   OutsideGallery+   produceOutsideGallery%   produceOutsideUser'   produceOutsideMemes#   sectionMenuOpenedG   produceOutsideNonMainSectionChooser7   produceOutsideTaggingWidget!   produceSharePage'   _produceUserTagList%   _produceGroupModel9   _produceSuggestedTagFromData9   _produceRemovableTagFromData5   produceRemovableTagFromDomC   _produceComboboxItemFromSomething7   _produceEmptyGalleryTagList   Imgur.Favorite   Favorite   _init'   _init_click_handler   handleKey   showMessage   showFavorited   showUnfavorited   showConfirm   favorite   favoriteSuccess   favoriteError   isFavorited   upvote%   Imgur.ShareOnImgur   ShareOnImgur#   placeShareButtons   retabindex   serialize3   handlePromoPlatformChange#   redirectToGallery!   handleValidation%   checkMissingFields   showTerms   acceptTerms   declineTerms+   showEmailVerification+   sendVerificationEmail-   checkEmailVerification)   getInterestingEvents   Imgur.Share   Share   Title   Share-Title   Publish   Share-Publish   handleRules   Imgur.Element   Element   SortedList   getComparator   getList   get$Container   prepend   append-   removeElementPredicate   clear   length   contains   containsBy   moveToTop   findFirstBy'   SortedListEmptyable/   setEmptyMessageProvider/   getEmptyMessageProvider)   _replaceEmptyMessage   hasEmptyMessage!   hideEmptyMessage!   showEmptyMessage5   OutsideSortedListEmptyable   Imgur.Tag   Follow   Tag-Follow%   _handleUnsubscribe!   _handleSubscribe   GroupSelector)   changeSelectionToTag!   getActiveGroupId   getActiveGroup%   getActiveGroupName   getActiveTag!   getActiveTagName%   setActiveGroupName)   findTagInActiveGroup#   MainGroupSelector   Group   getId   setList   getName   get$Name   setName   findFirstTagBy'   getIdFrom$Container+   getTypeFrom$Container   equals   insertBefore   UserGroup!   get$RemoveButton   GroupModel   unsubscribe   subscribe   block   unblock-   get$NameFrom$Container+   getNameFrom$Container   addSelection   removeSelection   RemovableTag   markConfirmed)   OutsideTaggingWidget   isOpen   toggle   openTagBox   setTagBoxCookie+   setBestCommentsCookie   Model   cancel   fetch+   responseWasSuccessful   _handleResponse   _handleError-   _handleResponseSuccess   SuggestModel   toString-   SuggestModelNoProvider	   noop+   AutocompleteComponent3   Tag-AutocompleteComponent   focus   moveCursorToEnd   handleKeyPress%   handleChangedQuery   focused   _getAcInfo)   _longestCommonPrefix   Comparator   compare#   ShareTagComponent+   Tag-ShareTagComponent   _encode!   handleTagClicked'   handleRemoveClicked#   handleQueryChange   handleChoice%   getSelectionActive%   getAutocompleteIdx#   setComponentState   _updateNano   _produceTag!   TagListComponent)   Tag-TagListComponent'   Imgur.Tag.Validator   TagValidator   TAG_REGEX   isValidTag   whyNot   _validateTag   GroupValidator   GROUP_REGEX   isValidGroup   _validateGroup   Sentence   get$Before   get$Middle   change   Imgur.Tag.Store   Suggestion   getIsLoading   setIsLoading#   setValidationMode   getIsValidQuery   getWhyNot   getQuery)   getLastFinishedQuery)   setLastFinishedQuery   setQuery   addSuggestion   CurrentImage   setCurrentImage#   getCurrentImageId   getGroups   getGroup   haveGroup   addGroup   removeGroup   markDeleted   TagImage   SOURCE   setAjaxError   unsetAjaxError   getAjaxError   isTagOnPost   getTagsForPost   haveTagsForPost   addTagForPost#   removeTagFromPost   getTag   _getTagProp   _setTagProp   getTagVote   setTagVote   setTagSource%   INTERESTING_FIELDS   haveTag#   getTagSubscribers   setFollowing   TagGroup   ACTIONS   pushHistory-   getLatestTagGroupEvent   isTagInGroup   getTagsForGroup)   getGroupHashesForTag   addTagToGroup%   removeTagFromGroup   addPendingTag!   removePendingTag   isPending   getFailedTag   setFailedTag!   OutsideActiveTag   getIsActive'   getActiveTagEncoded   setActiveTag   deactivate)   Imgur.Tag.Controller   Controller!   OutsideComponent-   _handleSuggestResponse'   _handleSuggestError5   handleRemoveConfirmedEvent#   handleRemoveEvent+   handleRemovedTagEvent-   handleRemoveEventOther'   GroupSelectorLimits   _disableNew   _enableNew#   handleGroupRemove   handleGroupAdd   SuggestedTag   up   VOTE_UP   getGroupId   get$Add   getSubscribers!   get$ExternalLink	   Copy	   copy   selectAll   Flash   _getDuration   _installTimer'   _handleTimerExpired   PressButton   isPressed   onPress   isLeftClick!   handleMouseLeave   NanoScroller   Socialicons)   Elements-Socialicons   socialShare	   Mute   url   ElementsMute   closeColorbox   dimensions   Report	   type   metadata   cb   ElementsReport#   Abusive/Offensive   abuse!   abuseExplanation1   Does Not Belong On Imgur	   dboi   dboiExplanation   SELECT A REASON   defaultCombobox#   Sexually Explicit   explicit'   explicitExplanation   Mature#   matureExplanation   createElement   div   If you don't want to see mature content on Imgur, please change your    a   safety settings   .   matureSettings   matureWarning	   Spam   reportHeading   spamExplanation   strings   reportValues   setValue+   FavoriteFolderChooser   handleSelect   handleNewFolder   addFolderForm   RadioBox   array   items'   onComponentDidMount   onClick   renderItem   createItem   templates   favoriteBar   Imgur.Promoted   Promoted   eventsEval   handleDomEvent   handleNav%   handlePostRenderedK   flagHashForPromotedInventoryAnalytics   handleDisplay   bindGameLink   handleGameLink;   setYouTubeAutoPlayMuteIframes/   initYouTubeAutoPlayMute?   handleYouTubeAutoPlayMuteUpdate1   resetYouTubeAutoPlayMute)   tagSectionIsFiltered#   sectionIsFiltered%   subredditIsAllowed!   handleNewGallery)   handleNewGalleryPage)   nextLocIsFlushedLeft#   handleReservation   handlePlacement   placeCompanion   pixel   pixelFire)   generateRandomString+   Imgur.Promoted.Events   Events   bindAll   bindClicks   _handleVwTime'   _handleVwUnderImage)   _handleCommentSubmit%   _handleCommentVote   getSideImage   _fireEvent+   Imgur.Promoted.Source   Source   getPlacement9   Imgur.Promoted.Source.Adzerk   Adzerk   _handleApiError-   _decodeEncodedResponse   _espouse   _idFromCookie%   _handleApiResponse   _cleanPx!   _addCustomPixels   _addEventPixels)   _setUserFromResponse   _getUser)   _formatCompanionData   LinkGenerator   setItem   setThumbSize   setThreshold   reset   imageLink   directishLink   directLink   htmlImage   markdown   bbcode   linkedBbcode   deletion   embed%   Imgur.Album.Images   Images   getPageOptions   noImagesFound!   addImageToThumbs   queueOperation   isInQueue   startOperation-   toggleOperationsLoader%   bindOperationClick   offsetSelection   makeSelectable   submit   loadImages!   loadPageElements!   modeClickHandler   Imgur.Images   getPage   stopPaging!   generatePageLink/   generateNavigationLinks!   recalcNavigation%   renderTotalCounter   handleJSON   changePage   bindScrollEvent	   next	   prev   reload   getCurrentPage   setCurrentPage   setOptions   getTotalPages   getImageLimit%   getTotalImageCount%   increaseImageCount   clearCache   stopOnPaging   Imgur.TitleDesc5   bindTitleDescriptionSubmit;   titleDescriptionSubmitHandler'   addTitleDescription   getElements'   GalleryBundleLoaded   CheckBox   className   defaultValue   label/   Imgur.Adm.GalleryAddTag   Adm   GalleryAddTag   Environment   staff picks   defaultTagName%   tagSuggestPosition   baseUrl   emitter   insideNav   handleInput)   renderTagSuggestions!!/   3   REACTION_STATE_COLLECTIONC   ReactionGifPickerCollectionHeader?   ReactionGifPickerCollectionList   reinsert)   ImgurRecommendations?   ReactionGifPickerCollectionItem   positionSpring%   _toConsumableArray   _typeof'   GRID_COLORS_LOADING   _extends-   defaultCollectionState)   createImageToastHtml   _inherits   width5   ReactionGifPickerContainer   _slicedToArray'   onPlayerStateChange-   checkEmailVerification!   ReactionGifImage9   ReactionGifPickerCollections   ArrowIcon5   REACTION_STATE_COLLECTIONS   createToastHtml/   ReactionGifPickerHeader'   getColorByPostIndex   ZeroClipboard   scaleSpring#   ReactionGifPicker   clamp!   PROMO_COLLECTION   onPlayerReady   _classCallCheck   flashElement   _createClass   youtube_ready+   PROMO_COLLECTION_NAME3   NUM_GIFS_TO_ADD_TO_PICKER/   onYouTubeIframeAPIReady   styles   createUndoToastE   ReactionGifPickerCollectionsLoader5   _possibleConstructorReturn5   DEFAULT_NUM_GIFS_IN_PICKER   youtube_iframes   height-   createCaptionUndoToast/   /   +H!!           flashElement                              c    e    B  x      p         x          5 5!!       -   checkEmailVerification                           a    b    B                           B      x                5 55!!          _classCallCheck                     5!!       5   _possibleConstructorReturn 5           5         5 !!          _inherits                     5!!          _classCallCheck )  }    }     )         5!!       5   _possibleConstructorReturn   9  }  9              5 !!    	      _inherits            4                                 K  |  9  |     K             =    T 'E   Q@T I      A=   T ',  R pT        
T E   QT 5   [   [    T  ]   B]   C]   C]	   ]
   : 6   QT E=   Q   5             
T  T :    T  T 6   Q QOS*`)    function   TypeErrorq   Super expression must either be null or a function, not    prototype   Object   create   value   enumerable   writable   configurable   constructor   setPrototypeOf   __proto__!!      a   b        +H!!       !!   value!!!!   enumerable!!!!   writable!!!!   configurable!!    !!       !!   constructor!!    ;      5!!       '   getColorByPostIndex     |                5!!          ArrowIcon   	    	              5!!          reinsert 	  
  	  
     	         5 !!          clamp 
  >
  
  >
     
         5!!       %   _toConsumableArray Y
  
  >
  
     Y
         5!!       /   onYouTubeIframeAPIReady  
    
       
         5!!          onPlayerReady   Q    Q              5!!       '   onPlayerStateChange m  
  Q  
     m         5 !!       )   createImageToastHtml '    
       '         5 !!          createToastHtml   I    I              5!!          createUndoToast a    I       a  8          a    c    f    h    j    B                      5    B                      5 5!!       -   createCaptionUndoToast 9           9  (          a    c    d    f    B  Z  r  R  r     Z         5    B  ^    V       ^         5 5!!       C        
   5                                                          G=       'E   Q=       '.      T       =   : : 6      =      'E   Q   5   *         Z   =   `    T  X   =       '.      T       =   : : 6      T  T T  5	   : 6   Q 
 "%"
    object   exports   module   require   react   function   define   amd   ReactMotion   React!!      a   b        +H;      5!!       C             n                                   xW    xW                        Z      `       `      `      `      `      `      `      `   	   `   
   `	      `
      `      `      `      `      `   :      ,            	     _ C !!      a       +H!!        C  R                                             s    s                           Q[      Q      6    Q      6   Q   =   6   Q   >:  I    m   c   p   build/!!      a   b   c       +H!!           b            )                                   E    E                    T  7      T  75       T  [   [    ]    T  ]   B]   8W   Q   T  7   
V   5    V   V   5       l QV   C6   QV   5     z#	    exports   id   loaded	   call!!      d   e       +H!!            !!       !!   exports!!!!   id!!!!   loaded!!    ;       5!!            ;5!!        C            L                               @ }    u                         W   QT C0    QT ?: W  QT V   V  : 0   QT 
: W  QT V   V  : 0   QT : W  QT V   V  : 0   QT : W  QT V   V  : 0   QT : W  QT V   V  : 0   QT : W  QT V   V  : 0   Q 						
	    __esModule   Motion   StaggeredMotion!   TransitionMotion   spring   presets   reorderKeys!!
      a   b   c   d   e   f   g   h   i   j       +H!!           d  -                                                                    T  E   QT  5       T  5   	   T   %    __esModule   default!!      a        +H;       5 ;5!!        C  }                                  *      @   !    !         	              W   QT C0    Q   5   D   Q      QT : W  QV   V  :    QT : W  QV   V  :    QT : W  QV   V  :    QT : W  QV   V  :    QT : W  QV   V  :    QT : W  QV   V  :    QT 	: W  QV   V  :  	  Q<     
  Q 	  5      
[
   =   ]   [   V  5      
V  5   5	   : ]
   V  5      
V  5      
Z   V  5   5	   `    V  5   5   `   : : 5   ]   V  5   5   5   ]   V  5   5   ]   ]      ]   B]   @]   >]   >]   @]      ]      ]      ]      ]      ]   	   ]   : W  QT V  0   QT  T 5   0   Q   	)2`%   v \  w 
    __esModule   Object   assign   default   createClass   Motion   displayName   PropTypes   objectOf   number   defaultStyle   oneOfType   object   isRequired   style	   func   children   onRest   propTypes   getInitialState   wasAnimating   animationID   prevTime   accumulatedTime   unreadPropStyle)   clearUnreadPropStyle3   startAnimationIfNecessary#   componentDidMount3   componentWillReceiveProps)   componentWillUnmount   render   exports!!0@!!      a   b   c   d   e   f   g   h   i   j   k   l   m   n   o   p   q   r   s   t   u   	   +H!!          d  2                                                                   T  E   QT  5       T     [    T  ]        __esModule   default!!      a        +H!!       !!   default!!    ;       5!!          e<b 
           
         5!!       !!   defaultStyle!!!!   style!!!!   children!!!!   onRest!!    !!           getInitialStateC           )                         	        .    &       .     	       W  QV  5    W   QV   5   W  QV   5   W  QV  D   Q      
V  : W  Q      
V  : W  Q[    V  ]   V  ]   V  ]   V  ]    5
    props   defaultStyle   style   default   currentStyle   currentVelocity   lastIdealStyle#   lastIdealVelocity!!      a   b   c   d   e   .this         +H!!       !!   currentStyle!!!!   currentVelocity!!!!   lastIdealStyle!!!!#   lastIdealVelocity!!    ;
       5 !!       )   clearUnreadPropStyleC         r                               C    ;       C  	          W  QBW   QV  5    W  QV  5   W  QV  5   W  QV  5   W  QV  5   W  QT  K   mW  T     
V  :    T  V  7W  Q=   V  'E   QV   Dh   QCW   Q   [    V  : W  Q   [   V  : W  Q   [   V  : W  Q   [   V  : W  QV  V  V  9QV  V  >9QV  V  V  9QV  V  >9QQLMQNV   E>   QV     
[   V  ]   V  ]   V  ]   V  ]   : Q K8  
	r  V    state   currentStyle   currentVelocity   lastIdealStyle#   lastIdealVelocity   hasOwnProperty   number   setState!!
      a   b   c   d   f   g   h   i   j   .this    	   +H!!            !!            !!            !!            !!       !!   currentStyle!!!!   currentVelocity!!!!   lastIdealStyle!!!!#   lastIdealVelocity!!    ;   V             5!!       3   startAnimationIfNecessaryC  /                                            d    d                   W   QV      QV        
    : 0    Q      animationID   default!!      a   .this        +H!!       W   startAnimationIfNecessary/this.animationID<c   h                                 f           b    b                    5    5   W   Q     
   5   5   V      5   5   : h      5   E1   Q   5    5   E   Q   5       
:  Q   @0   Q   B0   Q   >0	   (   C0   Q     
:  W  QV     5
   W  Q   V  0
   Q      5	   V  0	   Q   5	   

  E   Q   >0	   Q>   5	   H#      @0   Q      
:  (   5	         
   5	   
  : 
  
  W  Q      
   5	   
  : W  Q[    W  Q[   W  Q[   W  Q[   W  QV   K  mW	  V      
V	  :   V   V	  7W
  Q=   V
  '=   V  V	  V
  9QV  V	  >9QV  V	  V
  9QV  V	  >9Qy     5   5   V	  7W  Q   5   5   V	  7W  Q>W  Q t   m     

  XV  V  V
  5   V
  5   V
  5   V
  5   : W  QV  >7W  QV  ?7W  QV  #?W  QQV  V       

  XV  V  V
  5   V
  5   V
  5   V
  5   : W  QV  >7W  QV  ?7W  QV  V	  V  V  V  V  9QV  V	  V  V  V  V  9QV  V	  V  9QV  V	  V  9QQLMQN   @0   Q   5	   V  
  0	   Q      
[   V  ]   V  ]   V  ]   V  ]    Q   @0   Q      
  Q =  _&. P% 8 		&te@a@z T    props   style   default   state   currentStyle   currentVelocity   wasAnimating   onRest   animationID   accumulatedTime   prevTime3   startAnimationIfNecessary	   Math   floor   hasOwnProperty   number   lastIdealStyle#   lastIdealVelocity   val   stiffness   damping   precision   setState   unreadPropStyle!!      b   c   d   e   f   g   h   i   j   l   n   o   p   r   s   u   v   w         +H!!            !!            !!            !!            !!       !!   currentStyle!!!!   currentVelocity!!!!   lastIdealStyle!!!!#   lastIdealVelocity!!    ;                       5 ;5!!       #   componentDidMountC  /                                               w                   W   QV         
:  0    QV      
  Q      prevTime   default3   startAnimationIfNecessary!!      .this         +H;
       5!!       3   componentWillReceivePropsC                                                                    W   Q@V   5    E   QV      
V   5    : QV   T  5   0    Q@V   5   E.   QV         
:  0   QV      
:  Q 0!    unreadPropStyle)   clearUnreadPropStyle   style   animationID   prevTime   default3   startAnimationIfNecessary!!      a   .this       +H;
       5!!       )   componentWillUnmountB     !     !        
       5 !!          renderC  W                                   
        /!  !  '!  !     /!            W  QV  5       
V  5   5   : W   QV   E$   Q 	  5   5      
V   :  !6-
    props   children   state   currentStyle   default   Children	   only!!      a   .this         +H;
       5!!       !!   displayName!!!!   propTypes!!!!   getInitialState!!!!   wasAnimating!!!!   animationID!!!!   prevTime!!!!   accumulatedTime!!!!   unreadPropStyle!!!!)   clearUnreadPropStyle!!!!3   startAnimationIfNecessary!!!!#   componentDidMount!!!!3   componentWillReceiveProps!!!!)   componentWillUnmount!!!!   render!!    ;5 !!        C  3                                         @ !  U"  !  U"                       W   QT C0    QT V   0   QT  T 5   0   Q "    __esModule   default   exports!!      a   b   c       +H!!           c  Q                                          !  "  !  "     !            [    W   QT  K/   mW  T      
V  : E   QV   V  >9QQLMQNV    !84	-    hasOwnProperty!!      a   b   c       +H!!            ;      6          5;5!!        C  3                                         @ ^"  #  V"  #                       W   QT C0    QT V   0   QT  T 5   0   Q "    __esModule   default   exports!!      a   b   c       +H!!           c {"  "  q"  "     {"         5;5!!        C  >                                         @ #  $  #  $                       W   QT C0    QT V   0   QZ       QT  T 5   0   Q #    __esModule   default   exports!!      a   b   c   d      +H!!           c <#  #  2#  #     <#         5;5!!        C                                             
$  %  $  %                            
T T : l Q $ #  	   call!!      a   b   c       +H!!         C                                           @ $  %  $  %                            
>(l Q $- N  	   call!!      b       +H!!         C   !         ;                                  5$  %  -$  %                    =       'E   Q@   IE   Q   5            0      =      'E   Q@  IE   Q  5   D        0   Q  5      Q      Q   :     l      5   /        0   Q      
:     2        0   Q   A,  R     
:     Q $<t(/*3

    undefined   performance   now   exports   hrtime	   Date   getTime!!      c   d   e         +H!!           a.exportsc                                                $  $  $  $     $                    
:   $    performance   now!!              +H;       5!!          a.exportsb  $  %  $  %     $         5!!          cB  %  B%  %  B%     %         5!!          a.exportsb  f%  }%  ^%  }%     f%         5!!          a.exportsb  %  %  %  %     %         5;5;5;5!!        C  p         P                               @ %  )  %  )                          Q      Q      Q   W   QT  [   0    W  QZ       QB   Q   QV     0   Q   5      0   QV  =   0   QV  C0   QV  [   0   QV  Z    0   QV  =	   0   QV  [   0
   QV  V   0   QV  V   0   QV  V   0   QV  V   0   QV  V   0   QV  V   0   QV  V   0   QV  	   0   QV  
   0   QV     0   QV     0   Q '  <	
		KG    exports   nextTick   prototype   run   title   browser   env	   argv   version      versions   on   addListener	   once   off   removeListener%   removeAllListeners	   emit   binding   cwd   chdir   umask!!      a   b   c   d   e   f   g   h   i   j   k      +H!!           c  &  N&  &  N&     &         5!!          d  X&  &  N&  &     X&         5!!          e &  	'  &  	'     &  
       5!!          f  '  '  	'  '     '         5!!            !!          h.nextTickb N'  '  F'  '     N'  	       5 !!          e.prototype.runb  (  3(  (  3(     (  
       5!!            !!            !!          h.bindingb (  &)  (  &)     (         5!!          h.cwdb  5)  B)  -)  B)     5)         5!!          h.chdirb S)  )  K)  )     S)         5!!          h.umaskb  )  )  )  )     )         5;5!!        C           c                             @ )  ,  )  ,                   T :    Q=       '   [             QZ   =   `    =   `   W   Q=   W  Q   =   V  7   Q   =   V  7D   Q   =   V  7   Q>W  Q w   m   V   V  7=   V  7   Q   V   V  7=	   V  7D!   Q   V   V  7=
   V  7   QV  #?W  QQV  V      E   Q    p    D   Q    @   >   Q>   QZ       Q<     	  Q      Q      QT     0   QT  5      0   Q )
&&wh  M	 -O*1    undefined   window   moz   webkit   AnimationFrame   request   cancel   cancelRequest   Request   Cancel   CancelRequest   length   exports!!0@!!      a   b   c   d   e   f   g   h   i   j   k   l   m   n      +H!!            !!           hB *  ,  *  ,     *            B  2+  +  *+  +     2+  (          c   B  +  +  +  +     +         5 55!!          iB ,  U,  	,  U,     ,         5!!          a.exportsc                                              h,  ,  `,  ,     h,                    
   T  l  ,l 	   call!!      a        +H;       5!!       !   a.exports.cancelb  ,  ,  ,  ,     ,  	       5 ;          5 !!        C  3                                         @ ,  -  ,  -                       W   QT C0    QT V   0   QT  T 5   0   Q -d    __esModule   default   exports!!      a   b   c       +H!!           c            5                                 ,  d-  ,  d-     ,            T K   mW   T     
V   : j   >T V   7I   BQN=   T V   7   T V   7   T V   75   W  QT  V   7V  I   BQNQLMyQNC=   ,P}{    hasOwnProperty   number   val!!      a   b   c   d   e       +H;   
             5;5!!        C            	                                  -  -  -  -     -             T     6    Q -    exports!!      b   c        +H;       5!!        C  ?                                 #      @ -  :  -  :         	              W   Q      QT C0    Q   5   D   Q      QT : W  QV   V  :    QT : W  QV   V  :    QT : W  QV   V  :    QT : W  QV   V  :    QT : W  QV   V  :    QT : W  QV   V  :  	  QT 	: W  QV   V  :  
  Q<       Q 
  5      
[   =   ]   [   V  5      
V  5   	   
V  5   5
   : : ]   V  5   5   5   ]   V  5   5   5   ]   ]      ]   @]   >]   >]   @]      ]      ]      ]      ]   	   ]   
   ]   : W  QT V  0   QT  T 5   0   Q .h  	">#&    \ wf     __esModule   Object   assign   default   createClass   StaggeredMotion   displayName   PropTypes   arrayOf   objectOf   number   defaultStyles	   func   isRequired   styles   children   propTypes   getInitialState   animationID   prevTime   accumulatedTime!   unreadPropStyles)   clearUnreadPropStyle3   startAnimationIfNecessary#   componentDidMount3   componentWillReceiveProps)   componentWillUnmount   render   exports!!0@!!      a   b   c   d   e   f   g   h   i   j   k   l   m   n   o   p   q   r   s   t   u   v   	   +H!!           d  2                                           -  .  -  .     -             T  E   QT  5       T     [    T  ]    -    __esModule   default!!      a        +H!!       !!   default!!    ;       5!!          e .  h.  .  h.     .         5!!          f<b .  /  .  /     .         5!!       !!   defaultStyles!!!!   styles!!!!   children!!    !!           getInitialStateB  }0  J1  u0  J1     }0  
         B 0  0  0  0     0         5 5!!       )   clearUnreadPropStyleB 1  b3  1  b3     1         5 !!       3   startAnimationIfNecessaryB  3  K8  }3  K8     3            a   B  3  I8  3  I8     3  (       5 5!!       #   componentDidMountB  f8  8  ^8  8     f8  
       5!!       3   componentWillReceivePropsB 8  9  8  9     8  
       5!!       )   componentWillUnmountB  9  &:  9  &:     9  
       5 !!          renderB  6:  :  .:  :     6:  
       5 !!       !!   displayName!!!!   propTypes!!!!   getInitialState!!!!   animationID!!!!   prevTime!!!!   accumulatedTime!!!!!   unreadPropStyles!!!!)   clearUnreadPropStyle!!!!3   startAnimationIfNecessary!!!!#   componentDidMount!!!!3   componentWillReceiveProps!!!!)   componentWillUnmount!!!!   render!!    ;5!!        C        (                          K      @ :  P  :  P         
              W  Q      Q    
  Q      QT C0    Q   5   D   Q      QT : W  QV  V  :    QT : W   QV  V   :    QT : W  QV  V  :    QT : W  QV  V  :    QT : W  QV  V  :    QT : W  QV  V  :    QT : W	  QV  V	  :    QT 	: W  QV  V  :  	  Q<       Q 	  5      
[   =   ]   [   V  5      
V  5   	   
[   V  5   5
   5   ]   V  5   5   ]   V  5      
V  5   5   : 5   ]   : : ]   V  5      
Z   V  5   5   `    V  5      
V  5   	   
[   V  5   5
   5   ]   V  5   5   ]   V  5      
V  5      
Z   V  5   5   `    V  5   5   `   : : 5   ]   : : `   : 5   ]   V  5   5   5   ]   V  5   5   ]   V  5   5   ]   ]      ]   	   ]   @]   >]   >]   @]    
   ]!      ]"      ]#      ]$      ]%      ]&   : W  QT V  0   QT  T 5   0'   Q >t  	5"  '"2  %z l  \ sw     __esModule   Object   assign   default   createClass!   TransitionMotion   displayName   PropTypes   arrayOf   shape   string   isRequired   key   any	   data   objectOf   number   style   defaultStyles   oneOfType	   func   object   styles   children   willLeave   willEnter   propTypes   getDefaultProps   getInitialState   animationID   prevTime   accumulatedTime!   unreadPropStyles)   clearUnreadPropStyle3   startAnimationIfNecessary#   componentDidMount3   componentWillReceiveProps)   componentWillUnmount   render   exports!!0@!!      a   b   c   t   k   s   j   r   i   z   q   h   y   p   g   x   o   f   w   n   e   v   m   d   u   l   
   +H!!          d  2                                           :  ;  :  ;     :             T  E   QT  5       T     [    T  ]    :    __esModule   default!!      a        +H!!       !!   default!!    ;       5!!          e ;  <  ;  <     ;            b    c   B @;  o;  8;  o;     @;         5    B ;  <  w;  <     ;         5 5!!          f <  <  <  <     <         5!!          g <  t>  <  t>     <  8          b    e    f    B =  t=  =  t=     =         5 5!!          h<b >  +?  >  +?     >         5!!       !!   key!!!!	   data!!!!   style!!    !!       !!   key!!!!	   data!!!!   style!!    !!       !!   defaultStyles!!!!   styles!!!!   children!!!!   willLeave!!!!   willEnter!!    !!           getDefaultPropsC                                               B  mB  B  mB                    [       ]       ]    B4"    willEnter   willLeave!!              +H!!          willEnterB (B  IB   B  IB     (B         5!!          willLeaveB  \B  kB  TB  kB     \B         5!!       !!   willEnter!!!!   willLeave!!    ;5!!          getInitialStateB  B  D  ~B  D     B            f   B C  [C  C  [C     C         5    B yC  C  qC  C     yC         5    B C  C  C  C     C         5    B C  D  C  D     C         5    B D  7D  D  7D     D         5 5!!       )   clearUnreadPropStyleB ;E  G  3E  G     ;E         5 !!       3   startAnimationIfNecessaryB  G  M  G  M     G            a   B  H  M  H  M     H  (       5 5!!       #   componentDidMountB  M  N  M  N     M  
       5!!       3   componentWillReceivePropsB 7N  O  /N  O     7N  
       5!!       )   componentWillUnmountB  O  O  O  O     O  
       5 !!          renderB  P  P  P  P     P  
       5 !!       !!   displayName!!!!   propTypes!!!!   getDefaultProps!!!!   getInitialState!!!!   animationID!!!!   prevTime!!!!   accumulatedTime!!!!!   unreadPropStyles!!!!)   clearUnreadPropStyle!!!!3   startAnimationIfNecessary!!!!#   componentDidMount!!!!3   componentWillReceiveProps!!!!)   componentWillUnmount!!!!   render!!    ;5 !!        C  3                                         @ P  S  P  S                       W   QT C0    QT V   0   QT  T 5   0   Q S    __esModule   default   exports!!      a   b   c       +H!!           c P  S  P  S     P  (          b    d    f    B Q  S  Q  S     Q  0       55;5!!        C            -                        	      @ S  mU  S  mU            
           W   Q   W  QT C0    Q   5   D   Q      QT V  0   QT : W  QV   V  : W  Q   [   V  5   5   [   <    ]   :    QT  T 5   0   Q TN  ,    __esModule   Object   assign   default   noWobble   precision   exports!!{Gz?!!	      a   b   c   d   e   f   g   h   i      +H!!          d  2                                           S  %T  S  %T     S             T  E   QT  5       T     [    T  ]    S    __esModule   default!!      a        +H!!       !!   default!!    ;       5!!          e  %                                           /T  NT  %T  NT     /T                [       T [   T  ]    :  T5    val!!      a   b        +H!!            !!       !!   val!!    ;       5!!          f<b {T  U  sT  U     {T         5!!            !!       !!   precision!!    ;5 !!        C         	   .                               @ vU  HV  nU  HV     vU             T C0    QT [   [    X ]   ]   ]   [   x]   ]   ]   [   X ]   ]   ]   [   X ]   ]   ]   0   QT  T 5   0   Q U
    __esModule   default   stiffness   damping   noWobble   gentle   wobbly   stiff   exports!!      a   b        +H!!       !!   stiffness!!!!   damping!!    !!       !!   stiffness!!!!   damping!!    !!       !!   stiffness!!!!   damping!!    !!       !!   stiffness!!!!   damping!!    !!       !!   noWobble!!!!   gentle!!!!   wobbly!!!!   stiff!!    ;       5!!        C                                             QV  uW  IV  uW                            
   T : l Q VZ   	   call!!      a   b   c       +H!!         C  B                                         @ bV  fW  ZV  fW                       W   Q  C0    Q  V   0   QB   Q    5   0   Q W'    __esModule   default   exports!!      c   d   e      +H!!          d  }V  'W  sV  'W     }V         5;5;5;5!!       C                                            W  q[  zW  q[                    G   5        6   Q W     fn   autoResize!!      a       +H!!           a.fn.autoResizeb W  p[  W  p[     W            c   B  W  W  W  W     W         5    B  W  X  W  X     W         5    B  LX  i[  DX  i[     LX  *          b    d    e    f    B  X  Y  X  Y     X            d    B Y  Y  X  Y     Y         5 5   B  Y  Z  Y  Z     Y         555;5!!       C  F                                          [  1j  z[  1j                    G       Q    [      ]      ]       Q   5      6   Q [ 	r        methods	   init   filter   fn   combobox!!      a   b       +H!!           bB [  Ih  [  Ih     [  j          b    c    d    e    f    g    h    i    j    k    l    m   B  R\  a\  J\  a\     R\         5    B  m\  ^  e\  ^     m\             d    B  U]  ]  M]  ]     U]         5 5   B  '^  ^  ^  ^     '^         5    B ^   _  ^   _     ^         5    B +_  _  #_  _     +_            a    B  I_  _  A_  _     I_  
       5 5   B _  _  _  _     _         5    B _  /`  _  /`     _            c    B  _  +`  _  +`     _  
       5 5   B  A`  Ad  9`  Ad     A`  
          B a  a  ya  a     a  
       5    B a  a  a  a     a  
       5    B b  Bb  b  Bb     b         5    B  xb  c  pb  c     xb  
       5 5   B  Xd  d  Pd  d     Xd            B  d  d  wd  d     d  
       5 5   B d  e  d  e     d  
       5    B e  f  e  f     e  
          B  We  e  Oe  e     We  
       5    B Ef  pf  =f  pf     Ef         5 5   B f  
g  f  
g     f  
       5    B $g  g  g  g     $g  
       5    B h  Hh  h  Hh     h  
       5 5!!    	   	   initC                                          `h  h  Xh  h                   W   QV       
    :  hdX 	   each!!      c   .this      +H!!          init/<b  }h  h  uh  h     }h  
       5 ;5!!          filterB h  ci  h  ci     h            b    B  h  ai  h  ai     h         55!!       !!	   init!!!!   filter!!    !!    	      a.fn.comboboxc                                            {i  0j  si  0j     {i     	       	W   QW  Q    T  7@       T  7   
V     5   5      
V   ?l O a   =   T  'E
   QT  )         
=   T  =	   : "       5
      
V  V   O  i(I'"    methods   apply   Array   prototype   slice	   call   object   error   Method     does not exist	   init!!      b   arguments   .this       +H;      5;5!!       C           m                                 Bj  yn  :j  yn                   G[   B]        ]      ]      ]   =   ]   =   ]      Q=      
=	   : W   Q=
      5         C6    Q   >W  QV      W  Q ]   m   V   V  76   Q=
         5   =   7      C6    Q$   V  #?W  QQV  V     5    EQ   Q      5   =   6   Q      6   Q      6   Q      6   Q=
      'E   Q   5      6   Q      6   Q jI"!! ]Nh.Pr2  s   %   supportsFullScreen   isFullScreen#   requestFullScreen!   cancelFullScreen   '   fullScreenEventName   prefix+   webkit moz o ms khtml   split       undefined   document   length!   CancelFullScreen!   fullscreenchange   jQuery   fn   window   fullScreenApi!!      a   b   c   d        +H!!          isFullScreenB  wj  j  oj  j     wj         5 !!       #   requestFullScreenB  j  j  j  j     j         5!!       !   cancelFullScreenB  j  j  j  j     j         5 !!       !!%   supportsFullScreen!!!!   isFullScreen!!!!#   requestFullScreen!!!!!   cancelFullScreen!!!!'   fullScreenEventName!!!!   prefix!!    !!          a.isFullScreenb  ?l  l  7l  l     ?l         5!!       '   a.requestFullScreenb l  Nm  l  Nm     l  
       5!!       %   a.cancelFullScreenb jm  m  bm  m     jm  
       5 !!       7   jQuery.fn.requestFullScreenb  n  `n  n  `n     n  
         B  +n  ^n  #n  ^n     +n  
       5 5;       h   5 !!       C  Y     |   C      j                  3        n    |n                      G       
   5   [       ]      ]      ]      ]    Q       
   5   5   [      ]      ]	      ]
    Q   	   6   Q   5   
   6   Q       
   5   [i   [   [   ]   [   ]   [   ]   =   ]   =   ]   =   ]   C]      Z    : ]      Z    : ]   C]   Z    ]   B]      ]      ]      ]      ]      ]      ]   ]       ]!   [   ="   ]#   =$   ]%   =&   ]'   =(   ])   =*   ]+   =,   ]-   =.   ]/   =0   ]1   =2   ]3   =4   ]5   =6   ]7      5      
=8   : ]9      5      
=:   : ];      5      
=<   : ]=      5      
=>   : ]?      5      
=@   : ]A      5      
=B   : ]C   ]   B]D   [C      ]E      ]F      ]G      ]H      ]I      ]J      ]K      ]L      ]M       ]   !   ]N   "   ]   #   ]O   $   ]P   %   ]Q   &   ]R   '   ]S   (   ]T   )   ]U   *   ]V   +   ]W   ,   ]X   -   ]Y   .   ]Z   /   ][   0   ]\   1   ]]   2   ]^   3   ]_   4   ]`   5   ]a   6   ]b   7   ]c   8   ]d   9   ]e   :   ]f   [>   ;   ]g   <   ]h   =   ]i   ]j   ?   ]k   @   ]l   A   ]m   B   ]n   ]o   [N   [D   C]#   ]#   [E   C]'   ]'   [F   C])   ])   [G   C]+   ]+   [H   C]-   ]-   [I   C]p   ]p   [J   C]/   ]/   [K   C]q   ]q   [L   C]1   ]1   [M   C]3   ]3   ]r   O   ]s   P   ]t   Q   ]u   R   ]v   S   ]w   T   ]x   U   ]y   V   ]z   [h   W   ]#   X   ]%   Y   ];   Z   ]9   [   ]=   \   ]C   ]   ]A   ^   ]?   _   ]'   `   ])   a   ]+   b   ]-   c   ]/   d   ]1   e   ]3   f   ]7   g   ]5   ]{    Q      5   5   6   Q n   v< J-/  o Q

	
  jV~  :
# ,"+&#6-6
@
<P@FJ       Z  D>;(.     e"g  TG   fh   "c RZ uZ<    Y"1'n` n  

		
r         u  	   cSSi33A  NZb?     x. =z    extend   fn   validate   valid   removeAttrs   rules	   expr   :   blank   filled   unchecked   validator   format   messages   groups   error   errorClass   validClass   label   errorElement   focusInvalid   errorContainer'   errorLabelContainer   onsubmit   ignore   ignoreTitle   onfocusin   onfocusout   onkeyup   onclick   highlight   unhighlight   defaults   setDefaults/   This field is required.   required-   Please fix this field.   remoteG   Please enter a valid email address.   email3   Please enter a valid URL.   url5   Please enter a valid date.	   dateA   Please enter a valid date (ISO).   dateISO9   Please enter a valid number.   number3   Please enter only digits.   digitsQ   Please enter a valid credit card number.   creditcardE   Please enter the same value again.   equalToY   Please enter a value with a valid extension.   acceptS   Please enter no more than {0} characters.   maxlengthK   Please enter at least {0} characters.   minlengths   Please enter a value between {0} and {1} characters long.   rangelengthS   Please enter a value between {0} and {1}.   range_   Please enter a value less than or equal to {0}.   maxe   Please enter a value greater than or equal to {0}.   min!   autoCreateRanges	   init	   form   checkForm   element   showErrors   resetForm!   numberOfInvalids   objectLength   hideErrors	   size   findLastActive   elements   clean   errors   reset   prepareForm   prepareElement   check#   customMetaMessage   customMessage   findDefined   defaultMessage   formatAndAdd   addWrapper#   defaultShowErrors   validElements   invalidElements   showLabel   errorsFor   idOrName   checkable   findByName   getLength   depend   boolean   string   function   dependTypes   optional   startRequest   stopRequest   previousValue   prototype   dateDE   numberDE#   classRuleSettings   addClassRules   classRules   attributeRules   metadataRules   staticRules   normalizeRules   normalizeRule   addMethod   methods!!      a       +H!!           validateB n  3r  n  3r     n            c    B  o  o  o  o     o         5    B  Op  fp  Gp  fp     Op  
       5    B |p  -r  tp  -r     |p               d  p  q  p  q     p         5 55!!          validB  Br  r  :r  r     Br            b    c   B  r  r  r  r     r  
       5 5!!          removeAttrsB r  Ks  r  Ks     r            c    d   B "s  Gs  s  Gs     "s         5 5!!          rulesB Zs  u  Rs  u     Zs  2          g    h    B t  t  t  t     t         5 5!!       !!   validate!!!!   valid!!!!   removeAttrs!!!!   rules!!    !!           blankB u  v  u  v     u         5!!          filledB $v  Cv  v  Cv     $v         5 !!          uncheckedB Vv  kv  Nv  kv     Vv         5!!       !!   blank!!!!   filled!!!!   unchecked!!    !!          a.validatorb v  v  zv  v     v  
       5!!    	   %   a.validator.formatc                                            v  -x  v  -x                   	W   Q?V                 V       E=   QT 5      E(   Q     
V   :    
?: U QT 5      E   QZ   T `    U Q     
T     Q    vz-
F    length   constructor   Array   makeArray   slice	   each!!      b   c   arguments      +H!!        )   a.validator.format/<b  !w  vw  w  vw     !w         5 !!       )   a.validator.format/<b w  (x  w  (x     w         5 ;5!!            !!            !!            !!          onfocusinB y  	z  y  	z     y  
       5!!          onfocusoutB z  sz  z  sz     z  
       5 !!          onkeyupB z  z  |z  z     z  
       5!!          onclickB z  G{  z  G{     z  
       5!!          highlightB Z{  {  R{  {     Z{  
       5!!          unhighlightB {  G|  {  G|     {  
       5!!       !!   messages!!!!   groups!!!!   rules!!!!   errorClass!!!!   validClass!!!!   errorElement!!!!   focusInvalid!!!!   errorContainer!!!!'   errorLabelContainer!!!!   onsubmit!!!!   ignore!!!!   ignoreTitle!!!!   onfocusin!!!!   onfocusout!!!!   onkeyup!!!!   onclick!!!!   highlight!!!!   unhighlight!!    !!          setDefaultsB ]|  |  U|  |     ]|         5!!       !!   required!!!!   remote!!!!   email!!!!   url!!!!	   date!!!!   dateISO!!!!   number!!!!   digits!!!!   creditcard!!!!   equalTo!!!!   accept!!!!   maxlength!!!!   minlength!!!!   rangelength!!!!   range!!!!   max!!!!   min!!    !!       	   initB  B    :       %            c    d       b O    E       2  
       5   B U    M       8            b    B x    p       [         5 5   B                     5 5!!       	   formB               
       5 !!          checkFormB    a    a       
       5!!          elementB r  w  j  w     U  
       5!!          showErrorsB            n	            b   B C  \  ;  \     &
         5 5!!          resetFormB             
  
       5!!       !   numberOfInvalidsB               
       5 !!          objectLengthB                     5 !!          hideErrorsB    A    A       
       5 !!          validB  P  i  H  i     3  
       5!!       	   sizeB  w    o       Z  
       5 !!          focusInvalidB    Z    Z       "       5!!          findLastActiveB  r    j       U            b    B                     5 5!!          elementsB    I    I                 b    c    B    G    G     {  
       5 5!!          cleanB X  k  P  k     ;         5!!          errorsB  {    s       ^  
       5 !!          resetB    Z    Z       
       5!!          prepareFormB  o    g       R  
       5!!          prepareElementB              
       5 !!          checkB   ~    ~       2       5 !!       #   customMetaMessageB              |         5 !!          customMessageB 7    /         
       5!!          findDefinedB             ~  	       5!!          defaultMessageB              
       5 !!          formatAndAddB              
       5 !!          addWrapperB   e    e       
       5 !!       #   defaultShowErrorsB      x       c         5 !!          validElementsB    W    W       
       5!!          invalidElementsB  p    h       S  
         B             {  
       5 5!!          showLabelB   B    B       
       5!!          errorsForB U    M       8            c   B             w  
       5 5!!          idOrNameB              
       5 !!          checkableB $  M    M              5!!          findByNameB a    Y       D            b    c    B                     5 5!!          getLengthB                     5 !!          dependB              
       5 !!          booleanB ,  ;  $  ;               5!!          stringB K  l  C  l     .          5 !!          functionB     x       c          5 !!       !!   boolean!!!!   string!!!!   function!!    !!           optionalB               
       5 !!          startRequestB   a    a        
       5 !!          stopRequestB v    n       Y!  
       5!!          previousValueB   b    b     "  
       5!!    )   !!	   init!!!!	   form!!!!   checkForm!!!!   element!!!!   showErrors!!!!   resetForm!!!!!   numberOfInvalids!!!!   objectLength!!!!   hideErrors!!!!   valid!!!!	   size!!!!   focusInvalid!!!!   findLastActive!!!!   elements!!!!   clean!!!!   errors!!!!   reset!!!!   prepareForm!!!!   prepareElement!!!!   check!!!!#   customMetaMessage!!!!   customMessage!!!!   findDefined!!!!   defaultMessage!!!!   formatAndAdd!!!!   addWrapper!!!!#   defaultShowErrors!!!!   validElements!!!!   invalidElements!!!!   showLabel!!!!   errorsFor!!!!   idOrName!!!!   checkable!!!!   findByName!!!!   getLength!!!!   depend!!!!   dependTypes!!!!   optional!!!!   startRequest!!!!   stopRequest!!!!   previousValue!!    !!       !!   required!!    !!       !!   email!!    !!       !!   url!!    !!       !!	   date!!    !!       !!   dateISO!!    !!       !!   dateDE!!    !!       !!   number!!    !!       !!   numberDE!!    !!       !!   digits!!    !!       !!   creditcard!!    !!    
   !!   required!!!!   email!!!!   url!!!!	   date!!!!   dateISO!!!!   dateDE!!!!   number!!!!   numberDE!!!!   digits!!!!   creditcard!!    !!           addClassRulesB R    J       5$  
       5!!          classRulesB   g    g     $            c    B  	  c    c     $  
       5 5!!          attributeRulesB   $  w  $     b%         5!!          metadataRulesB ;    3       &         5!!          staticRulesB   H    H     &         5!!          normalizeRulesB `  I  X  I     C'            b    c    B ~  d  v  d     a'         5    B w    o       Z(         5    B             (  
       5    B    ]    ]     )  
       5 5!!          normalizeRuleB `    X       C*            c    B             *  
       5 5!!          addMethodB   t    t     *         5!!          requiredB   }    }     r+         5!!          remoteB            p,  *          b    c    e    f    B            ~.         5 5!!          minlengthB   3    3     /  
       5!!          maxlengthB F    >       )0  
       5!!          rangelengthB            ~0  
       5!!          minB   "    "     0  
       5!!          maxB /  U  '  U     1  
       5!!          rangeB d    \       G1  
       5!!          emailB   Y    Y     1  
       5!!          urlB f  3  ^  3     I5  
       5!!       	   dateB A    9       $:  
       5 !!          dateISOB            u:  
       5!!          numberB   =    =     :  
       5 !!          digitsB M  |  E  |     0;  
       5 !!          creditcardB   {    {     s;         5!!          acceptB   
    
     n<  
       5 !!          equalToB            <            c   B  o    g       R=         5 5!!       !!   required!!!!   remote!!!!   minlength!!!!   maxlength!!!!   rangelength!!!!   min!!!!   max!!!!   range!!!!   email!!!!   url!!!!	   date!!!!   dateISO!!!!   number!!!!   digits!!!!   creditcard!!!!   accept!!!!   equalTo!!    !!       !!   defaults!!!!   setDefaults!!!!   messages!!!!!   autoCreateRanges!!!!   prototype!!!!#   classRuleSettings!!!!   addClassRules!!!!   classRules!!!!   attributeRules!!!!   metadataRules!!!!   staticRules!!!!   normalizeRules!!!!   normalizeRule!!!!   addMethod!!!!   methods!!    ;5 !!       C  Y                                                                    G[       Q   5               
    Q&      5      Q      6   Q =e	      ajaxPrefilter	   ajax!!      a   b   c       +H!!            !!        C  Y                                    	          >    >     =            T  5    W   Q=   T  5   E;   Q   V   7E   Q   V   7   
:  Q   V   T 8Q =	 	   port   abort	   mode!!      a   c   d   e       +H;      5 !!          a.ajaxb a    Y       D>         5 ;5!!       C           (                                 !  {    {                    G    5   5   5   Da   Q    5   5   5   DF   Q   5    D4   Q      
[    =   ]   =   ]	      : Q   
   
   5   [      ]    Q ?=$ p      jQuery   event   special   focusin   focusout   document!   addEventListener	   each   focus	   blur   extend   fn!   validateDelegate!!      a       +H!!       !!   focus!!!!	   blur!!    !!        B            ?             b    c    d       d              ?  
       5   B  "  C    C     @  
       5    B  U  y  M  y     8@  
       5    B            m@         5 5!!       !   validateDelegateB   x    x     @            b    d    B 9  v  1  v     A  	       5 5!!       !!!   validateDelegate!!    ;5!!          Object.createb            A              b             A         55!!       C       +                                  @                           G[   f    ]    Z   =   `    =   `   =   `   =   `   ]      ]      ]      ]      ]	      ]
      ]      ]      ]   	   ]   
   ]      ]      ]      ]      Q      0   Q   5   [   =   ]   =   ]   =   ]   C]   X]   C]   =   ]   ]   =    ]
   B]!   B]"   =#   ]$   B]%      ]&      ]'      ](      ])      ]*   0   Q Aq
Jya 6   h  zQVH  
 !   _positionClasses   success   error	   info   warning   _defaultIcons	   init   prepareOptions   process   setup   position   bindToast   addToDom   canAutoHide   processLoader   animate   reset   update   close   toast   options   	   text   heading	   fade%   showHideTransition   allowToastClose   hideAfter   loader   #9EC600   loaderBg   stack   bottom-left   bgColor   textColor	   left   textAlign	   icon   beforeShow   afterShown   beforeHide   afterHidden   onClick!!      a   b   c   d   e       +H!!      !!   bottom-left!!   bottom-right!!   top-right!!   top-left!!   bottom-center!!   top-center!!   mid-center   !!       	   initB            B  
       5 !!          prepareOptionsB   x    x     B  
       5 !!          processB             lC  
       5!!          setupB             C         5 !!          positionB  !           H  
       5 !!          bindToastB    U    U     K            a   B    1    1     K         5    B s    k       VL            B             L         5    B  y    q       \M         5    B               M         5 5   B  W  {  O  {     :N         5    B             N         5    B  G  k  ?  k     *O         5    B             O         5    B  2  S  *  S     P         5 5!!          addToDomB  g  5  _  5     JP         5!!          canAutoHideB  J    B       -R  
       5!!          processLoaderB             R  
       5!!          animateB             T            a    B  O  s  G  s     2U         5    B             U         5    B    2    2     U         5    B  h     `        KV            B             V         5    B  v    n       YW         5    B             W         5 55!!          resetB )  k  !  k     X  
       5!!          updateB {    s       ^X  
       5 !!          closeB             X  
       5!!       !!!   _positionClasses!!!!   _defaultIcons!!!!	   init!!!!   prepareOptions!!!!   process!!!!   setup!!!!   position!!!!   bindToast!!!!   addToDom!!!!   canAutoHide!!!!   processLoader!!!!   animate!!!!   reset!!!!   update!!!!   close!!    !!           a.toastb            X            b   B Z  i  R  i     =Y         5    B y    q       \Y         5    B             {Y         5 5!!          beforeShowB             jZ         5 !!          afterShownB             Z         5 !!          beforeHideB             Z         5 !!          afterHiddenB             Z         5!!          onClickB             Z         5!!       !!	   text!!!!   heading!!!!%   showHideTransition!!!!   allowToastClose!!!!   hideAfter!!!!   loader!!!!   loaderBg!!!!   stack!!!!   position!!!!   bgColor!!!!   textColor!!!!   textAlign!!!!	   icon!!!!   beforeShow!!!!   afterShown!!!!   beforeHide!!!!   afterHidden!!!!   onClick!!    ;5 !!       C           =                                  b    b                   G>   QZ   =    `    =   `   W   QT  5   W  QT  5   W  QV      W  Q 7   mT  V   V  7=   7W  QT  V   V  7=   7W  QV  #?W  >E   QV   V  E   QV  D   Q    W  Q   W  QT  V  6   QT  V  6   Q Z	 76S"G\    webkit   moz+   requestAnimationFrame)   cancelAnimationFrame   length+   RequestAnimationFrame)   CancelAnimationFrame   clearTimeout!!      a   b   c   d   e   f      +H!!           dB            [            a    d   B             [         5 5;    S   S   5 !!       C                                  *        s  $  k  $                   G       Q      Q      Q      Q      Q      Q      Q    	  Q      Q	      Q
   W  Q   W  Q=       'E*   Q   E   Q   5    E   Q   W  Q=       'E*   Q   E   Q   5    E   Q   W  Q=       'E   Q   W  QV  5   V  IE*   QV  5   V  IE   QV  5   V  ID   QV  U  Q   Q$   Q?   Q   Q&   QX   QH   QX    Q=      Q      Q      Q      Q[   =   ]	   =
   ]   =   ]    
  Q         Q   5      Q   5      Q[   =   ]   [      ]      ]   ]      ]      ]   V  ]   V  ]      Q=      'E)   Q=       5   E   Q   5   #         =       Q   V  E   QV        5   V     V     6   QT      K:   mW         
V   : E   QV  V      V   78QQLMQN   T     6   Q c2
;=!	
		
-8?1    object   exports   nodeType   module   global   window	   self   -_   Overflow: input needs wider integers to process   overflow]   Illegal input >= 0x80 (not a basic code point)   not-basic   Invalid input   invalid-input	   Math   floor   String   fromCharCode   1.4.1   version   decode   encode	   ucs2   toASCII   toUnicode   function   define   amd   punycode   hasOwnProperty!!"      a   t   k   b   G   s   j   F   r   i   E   z   q   h   D   y   p   g   C   x   o   f   B   w   n   e   A   v   m   d   u   l   c   H      +H!!          b     w       d\         5!!          c            \         5!!          d   o    o     \         5!!          e y  >  o  >     \]         5!!          f H    >       +^           B _    W       B^         5 5!!          g            ^         5!!          h 	  1    1     ^         5!!          i ;    1       _         5!!          j   q    q     _         5 !!          k {  G  q  G     ^a         5!!          l Q    G       4c           B h    `       Kc         5 5!!          m            c           B            c         5 5!!   ^xn--    !!   [^\x20-\x7E]    !!1   [\x2E\u3002\uFF0E\uFF61]   !!       !!   overflow!!!!   not-basic!!!!   invalid-input!!    !!       !!   decode!!!!   encode!!    !!       !!   version!!!!	   ucs2!!!!   decode!!!!   encode!!!!   toASCII!!!!   toUnicode!!    !!       B             f         5 ;   *  A   5 !!    	   	   initC A                                         o    g       Rg            W   QV         
[   [    ]   T  : 6    QV      
  Q gV    _   $   extend   popStates   onPopState!!      a   .this       +H!!            !!       !!   popStates!!    ;
      5 !!    	      onPopStateC  !                                                                   W   QV      Q        6   Q gQ    window   onpopstate!!      a   .this        +H!!        9   onPopState/window.onpopstateb            g  "       5;5!!    	      addPopStateC          	                                 0  L  (  L     h            W   QV   5    5   T  T 8Q h    _   popStates!!      a   b   .this       +H;
      5!!          removePopStateB d    \       Gh  
       5 !!          addWindowStateB            ~h         5!!       !!	   init!!!!   onPopState!!!!   addPopState!!!!   removePopState!!!!   addWindowState!!    !!        	   initB m    e       Pj  
       5 !!          levelReachedB    (    (     j  
       5 !!       %   stopInfiniteScrollB  D  V  <  V     'l  
       5 !!       -   continueInfiniteScrollB  v    n       Yl  
       5 !!          infiniteScrollB            l  
       5 !!          pollLevelB    H    H     l            a    b   B  "  9    9     m         5 5!!       !!	   init!!!!   levelReached!!!!%   stopInfiniteScroll!!!!-   continueInfiniteScroll!!!!   infiniteScroll!!!!   pollLevel!!    !!        	   initB   {    {     m  
       5 !!          setupHandlersB             un            a   B    I    I     n         5    B  n    f       Qo         5 5!!       	   showB   C    C     wo  "          a    b    c    B  	           o         5    B  .  @  &  @     p         5 5!!          onCompleteB W  T  O  T     :p  
       5 !!          onCloseB e    ]       Hq  
       5!!       !!	   init!!!!   setupHandlers!!!!	   show!!!!   onComplete!!!!   onClose!!    !!          getbyte64B }    u       `r         5!!          getbyteB   Q    Q     r         5!!          encodeB a    Y       Ds         5!!          decodeB            u         5!!       !!   PADCHAR!!!!   ALPHA!!!!   getbyte64!!!!   getbyte!!!!   encode!!!!   decode!!    !!    	      elColorboxEmbedC            5                                    N    N      x             [    =    ]         =   : ]         =   : ]         =   : ]         =	   : ]
         =   : ]         =   : ]         =   : ]    x	 +*	    #embed-post   id   $   #new-embed-post	   form   #data-context   checkbox5   #new-embed-post #embedcode   embedCodeInputK   #new-embed-post #embed-clipboard-link   clipboardLinkI   #new-embed-post .clipboard-container%   clipboardContainer   #embed-preview   preview   #old-embed-view   oldEmbed!!              +H!!       !!   id!!!!	   form!!!!   checkbox!!!!   embedCodeInput!!!!   clipboardLink!!!!%   clipboardContainer!!!!   preview!!!!   oldEmbed!!    ;      5 !!    	   !   elEmbedAlbumFormC            /                                  h    `       Ky             [    =    ]         =    : ]         =   : ]         =   : ]         =   : ]	         =
   : ]      A=   ,  R ]    yN"+,	
 #   #embed-album-form   id   $	   form9   #embed-album-form #embedcode   embedCodeInputK   #embed-album-form #embedcodePreview a!   embedCodePreviewM   #embed-album-form .clipboard-container%   clipboardContainer   #new-embed-view   newEmbed   RegExp   /a/(.*?)/   hashRegex!!              +H!!       !!   id!!!!	   form!!!!   embedCodeInput!!!!!   embedCodePreview!!!!%   clipboardContainer!!!!   newEmbed!!!!   hashRegex!!    ;      5!!          embedModalB             z  
       5 !!          getPostMetadataB    9    9     |         5!!          getSnippetB M    E       "         5 !!          bindEmbedImageB            *          B    B   B      
       5 5!!          viewOldEmbedB         {  *          B           
       5    B  O  G     $  
       5    B  ) ~ ! ~      
       5 5!!          setupEmbedImageB           
         B l  d     A  
       5 5!!       )   onEmbedCheckboxClickB 	 	 	 	      
       5 !!          initEmbedB  	 
 	 
    t  
         B  
 
 
 
    b  
       5 5!!          setupEmbedCssB           
       5!!       !   setupEmbedScreenB           
       5 !!       %   setEmbedUrlAlbumIdB  3  3      
       5 !!          setEmbedUrlB H ^ @ ^      
       5!!          setEmbedCodeB  t W l W    I  
       5 !!          clipboardClickB o  g     D         5 !!       %   initEmbedClipboardB          
       5 !!       !!   elColorboxEmbed!!!!!   elEmbedAlbumForm!!!!   embedModal!!!!   getPostMetadata!!!!   getSnippet!!!!   bindEmbedImage!!!!   viewOldEmbed!!!!   setupEmbedImage!!!!)   onEmbedCheckboxClick!!!!   initEmbed!!!!   setupEmbedCss!!!!!   setupEmbedScreen!!!!%   setEmbedUrlAlbumId!!!!   setEmbedUrl!!!!   setEmbedCode!!!!   clipboardClick!!!!%   initEmbedClipboard!!    !!      !!#   handleSelectEvent    !!        	   initB j $ b $    ?  
       5 !!       )   albumsScrollListenerB  $ % $ %    *  
       5 !!          findImageIndexB 6% % .% %    +  
       5 !!       !   getStartingIndexB  % & % &    +  
       5 !!          loadImageB $& %( & %(    +            a    B  & ' & '    ,  
       5    B  ' #( ' #(    ,         55!!          initAlbumImagesB >( ) 6( )    .  2          a    b    c    d    e   B ( X) ( X)    .         5 5!!       !   setupAlbumImagesB ) K. ) K.    /  2          a    b    c    e   B -, - %, -    2            d    f    B  , - , -    2         5 55!!       !   bindchangeImagesB  e.  / ].  /    :4  
          B  . / . /    4  
       5 5!!          bindDeleteAlbumB 9/ o2 1/ o2    5            a    b   B  / / |/ /    Y5         5    B  / m2 / m2    5            c    B w0 2 o0 2    L6            d   B  1 2 1 2    h7         5 5   B  2 k2 2 k2    7         5 55!!          bindHideAlbumB 2 5 ~2 5    [8            a    b   B  2 2 2 2    8         5    B  3 5 3 5    8            B 3 25 3 25    9            B  4 +5 4 +5    :         5 5   B  B5 5 :5 5    ;         5 55!!          bindCreateAlbumB 5 ?7 5 ?7    |;            a    b   B  6 .6 5 .6    ;         5    B ^6 6 V6 6    3<         5    B  6 6 6 6    <         5 5!!          initCreateAlbumB  X7 e: P7 e:    -=  
       5!!       %   initChangeSettingsB : ? y: ?    V@         5 !!       !   showAlbumPrivacyB  ? 7A ? 7A    zE         5!!       !   hideAlbumPrivacyB  QA BB IA BB    &G  
       5 !!       +   resizeCreateAlbumFormB  aB B YB B    6H  
       5!!       1   createAlbumSubmitHandlerB B M B M    H  "          a    b   B F F E F    K         5    B F G F G    L         5    B I uL I uL    N  0          c    d   B  /J J 'J J    P            B  J J J J    P         5 55   B L M }L M    ZR         5 5!!       !   showAlbumCaptchaB N O 	N O    S            a    B  eN N ]N N    :T  
       5    B  O :O O :O    T         5 5!!       /   openCreateAlbumColorboxB O 7Q O 7Q    U  "          a    b    c   B  P P P P    \V         5    B  Q 4Q Q 4Q    V         5 5!!       '   carouselItemFirstInB TQ Q LQ Q    )W         5!!       %   carouselItemLastInB Q  R Q  R    W         5 !!       )   shrinkThumbsCarouselB  >R R 6R R    X  
       5 !!       /   getThumbsCarouselScrollB  R S R S    X         5!!       )   thumbsCarouselScrollB S U S U    Y  *       5 !!       %   thumbsCarouselBindB  U Y U Y    [  "          a    b    c    B  V V V V    [         5    B  W W V W    \         5    B  W X W X    ]  
       5 5!!       7   thumbsCarouselItemVisibleInB Y *Z Y *Z    _  
       5!!       %   initThumbsCarouselB  FZ \ >Z \    `            a    B [ [ [ [    `  
       5    B [ $\ [ $\    a  
       5 5!!          getImageSrcB \ 0] \ 0]    b  
       5!!          scrollMainImageB I] '` A] '`    c         5!!       #   mainCarouselSetupB  B` 
e :` 
e    f            a   B  a a a a    f         5    B  a [b a [b    g         5    B yb )c qb )c    Nh         5    B c d c d    i         5 5!!       /   mainCarouselItemVisibleB  +e {l #e {l     k         5 !!       !   initMainCarouselB  l l l l    jr  
       5 !!          chooseLogoColorB l `m l `m    r         5 !!          albumSortStopB  wm n om n    Ls         5 !!       !   toggleEditButtonB n &o n &o    t  
       5 !!       -   editButtonClickHandlerB Fo p >o p    u            b    B p ip p ip    u            c    B  Hp gp @p gp    v  
       5 55!!          downloadAlbumB  q jq p jq    v         5!!          createAlbumB q q wq q    Tw         5!!          changeSettingsB q \r q \r    w  
       5 !!          changeImagesB rr u jr u    Gx  *          a    b    c    d    B  s t s t    x         5    B  t u t u    z         5 5!!          deleteAlbumB )u u !u u    z            a    b   B  u u u u    {         5 5!!          hideAlbumB v v v v    {            a    b   B  v v v v    {|         5 5!!          generalInitB  v  x v  x    |  
       5!!       9   afterRenderAlbumsBindMethodsB  Fx I~ >x I~                 a    B  { Q| { Q|      
       5    B  | | | |    T  
       5    B  *} C} "} C}             5    B  a} z} Y} z}             5 5!!          profileInitB  ^~ ~ V~ ~      
       5!!          setAlbumIDB ~  ~       
       5 !!          getHashB   E  E             5!!          getInitPageB  Z  R       
       5!!       !   handleAlbumsDataB        `            b   B                 5 5!!          loadNextPageB   
  
    h
            a    B        _         5    B                 5 5!!       '   setTotalAlbumsCountB ' t  t      
       5!!       '   addAlbumToContainerB        C  
       5!!    4   !!	   init!!!!)   albumsScrollListener!!!!   findImageIndex!!!!!   getStartingIndex!!!!   loadImage!!!!   initAlbumImages!!!!!   setupAlbumImages!!!!!   bindchangeImages!!!!   bindDeleteAlbum!!!!   bindHideAlbum!!!!   bindCreateAlbum!!!!   initCreateAlbum!!!!%   initChangeSettings!!!!!   showAlbumPrivacy!!!!!   hideAlbumPrivacy!!!!+   resizeCreateAlbumForm!!!!1   createAlbumSubmitHandler!!!!!   showAlbumCaptcha!!!!/   openCreateAlbumColorbox!!!!'   carouselItemFirstIn!!!!%   carouselItemLastIn!!!!)   shrinkThumbsCarousel!!!!/   getThumbsCarouselScroll!!!!)   thumbsCarouselScroll!!!!%   thumbsCarouselBind!!!!7   thumbsCarouselItemVisibleIn!!!!%   initThumbsCarousel!!!!   getImageSrc!!!!   scrollMainImage!!!!#   mainCarouselSetup!!!!/   mainCarouselItemVisible!!!!!   initMainCarousel!!!!   chooseLogoColor!!!!   albumSortStop!!!!!   toggleEditButton!!!!-   editButtonClickHandler!!!!   downloadAlbum!!!!   createAlbum!!!!   changeSettings!!!!   changeImages!!!!   deleteAlbum!!!!   hideAlbum!!!!   generalInit!!!!9   afterRenderAlbumsBindMethods!!!!   profileInit!!!!   setAlbumID!!!!   getHash!!!!   getInitPage!!!!!   handleAlbumsData!!!!   loadNextPage!!!!'   setTotalAlbumsCount!!!!'   addAlbumToContainer!!    !!     	      getDefaultPropsC  %                                             ~  v                    [   =    ]       ]   =    ]    3       redirectTo#   redirectAnalytics   classNames!!              +H!!       #   redirectAnalyticsB         b         5!!       !!   redirectTo!!!!#   redirectAnalytics!!!!   classNames!!    ;5 !!       %   getBackgroundImageB           
       5 !!          handleTagClickB        }  
       5 !!          removeTagB *  "       
       5!!          renderB         Y  
       5 !!       !!   displayName!!!!   getDefaultProps!!!!%   getBackgroundImage!!!!   handleTagClick!!!!   removeTag!!!!   render!!    !!       !!   tagName!!!!   classNames!!!!   redirectTo!!!!#   redirectAnalytics!!!!   allowRemoval!!!!   removeTag!!!!   tag!!    !!       !!   embedcoder!!!!   saving!!   Saving...!!   saved!!   Saved!!!   optionsPos!!    !!+   albumInGalleryMessage!!}   Please remove this album from the gallery to change its images!!   MAX_TAG_LENGTH!!   !!%   tagSuggestPosition!!       !!   right!!       !!	   left!!   !!   top!!       !!	   left!!       !!	   left!!!!   top!!              !!           getInitialStateB           
       5!!       %   componentWillMountB   z  z      
       5 !!       #   componentDidMountB   {  {    G  
         B   <  <      
       5    B  v  n     (  
       5    B           
       5    B  & I  I      
       5 5!!       %   componentDidUpdateB        I"         5!!       '   initPostMatureStateB   O  O    #  
       5!!       /   handlePostMatureChangedB  p K h K    "$            a   B   I  I    $  
       5 5!!       ;   getLocalStorageMatureStateKeyB  r  j     $%  
       5!!          resetTagsB         %  
       5!!       %   checkStickyOptionsB  0  (     %  
       5 !!       '   calcOptionsPositionB         g&  
       5!!       5   initRearrangeIfUnpublishedB   h  h    &  
       5 !!          closeRearrangeB    x     2'  
       5 !!          handleEmbedB        r'  
         B         R(  
       5 5!!          handleDeleteB  g  g    h)            c    d    B   ^  ^    +  
          B         _,  
          B  )  !     ,  
          B         9-         5 5555!!          handleShareB |  t     ..  *          b    h   B  S  S    j3  
       5    B o ` g `    !4  *          B    v  v    8  
       5 5   B         B;         5 5!!       -   showModalIfUnpublishedB         ;  
       5 !!          addTagB &       ;            b    B   ~     8<         5 5!!          removeTagB        <  
       5!!          renderTagInputB         <            a    B  U x M x    >         5    B  . Q & Q    ?         5 5!!          noHTMLB   @  @    ~A            a    B   <  <    A         5 5!!          getSuggestionsB X  P     
B            b   B z  r     ,C         5 5!!       #   handleHighlightedB         C         5!!          renderB         oE            a   B | " t "    .L         5 5!!       !!   displayName!!!!   _!!!!   getInitialState!!!!%   componentWillMount!!!!#   componentDidMount!!!!%   componentDidUpdate!!!!'   initPostMatureState!!!!/   handlePostMatureChanged!!!!;   getLocalStorageMatureStateKey!!!!   resetTags!!!!%   checkStickyOptions!!!!'   calcOptionsPosition!!!!5   initRearrangeIfUnpublished!!!!   closeRearrange!!!!   handleEmbed!!!!   handleDelete!!!!   handleShare!!!!-   showModalIfUnpublished!!!!   addTag!!!!   removeTag!!!!   renderTagInput!!!!   noHTML!!!!   getSuggestions!!!!#   handleHighlighted!!!!   render!!    !!           renderB    ~     8V         5 !!       !!   displayName!!!!   render!!    !!            !!           $B 3  +     Y           B         >Z  
       5    B         kZ  
       5    B        Z  
       5    B +  #     Z  
       5    B        [  
       5 5!!          setMoviePathB 0 E ( E    [  
       5 !!          dispatchB W  O     	\  
       5 !!          registerB        P\  
       5 !!       )   getDOMObjectPositionB        \         5 !!          ClientB  .  .    L]  
       5 !!    
   !!   version!!!!   clients!!!!   moviePath!!!!   nextId!!!!   $!!!!   setMoviePath!!!!   dispatch!!!!   register!!!!)   getDOMObjectPosition!!!!   Client!!    !!       	   glueB  (  (    e^  
       5 !!          getHTMLB 9  1     `         5 !!       	   hideB         e  
       5 !!       	   showB   "  "    e  
       5 !!          destroyB  3  +     e  *       5!!          repositionB        f         5!!          setTextB  '  '    g  
       5!!       !   addEventListenerB A  9     g  
       5 !!          setHandCursorB        h  
       5!!          setCSSEffectsB * B " B    h  
       5!!          receiveEventB X W P W    
i  2          c    B   *  *    i         5    B         aj         5 5!!       !!   id!!!!   ready!!!!   movie!!!!   clipText!!!!#   handCursorEnabled!!!!   cssEffects!!!!   handlers!!!!	   glue!!!!   getHTML!!!!	   hide!!!!	   show!!!!   destroy!!!!   reposition!!!!   setText!!!!!   addEventListener!!!!   setHandCursor!!!!   setCSSEffects!!!!   receiveEvent!!    !!          _extends<b }  u     /n         5 !!       !!	   list!!U   !!	   grid!!      !!       !!	   list!!   !!	   grid!!      !!       !!   $sideGallery!!!!   $content!!!!   $nano!!   !!       !!   hot!!#   Most Viral Images!!   new!!+   User Submitted Images!!   top!!-   Highest Scoring Images!!   custom!!+   Custom Gallery Images!!   favorites!!   Favorites!!   random!!   Random   !!       !!   viral!!)   sorted by popularity!!	   time!!   newest first!!   new!!   newest first!!   newest!!   newest first!!   oldest!!   oldest first!!   rising!!   rising!!   random!!!   sorted by random   !!       !!   day!!   today!!	   week!!   this week!!   month!!   this month!!	   year!!   this year!!   all!!   all time   !!     	      getInitialStateC           $                                        q            W   Q       
V      
:  [    Z    ]   >]   V   5   5   5   ]   B]	   
   5      
=   : D   Q=   ]   :  q	!      _   extend+   getGalleryEnvironment   items   scrollTop   props   env	   hash   selectedHash   endReached   Imgur   LocalStorage   get;   sidegallery_layout_experiment	   list   layout!!      .this         +H!!       !!   items!!!!   scrollTop!!!!   selectedHash!!!!   endReached!!!!   layout!!    ;
      5!!    	   +   getGalleryEnvironmentC  m     %   W                         1               r     
       W  Q>(W   Q>(W  Q>(W  Q       
=   : W  QV      5   6   Q=   V  5   H   =   W   Q=   W  	  V  5	   5
   5   E   QV     
V  5   : 7   =   W   Q=   W  Q=   V     
:  W        5   5   5   E   Q=      5   5   5   IEd   Q@V  5      
    : HEC   Q=   W   Q=      5   5   5      
   =   : W  Q   5   5   E   Q=   W   Q[   V  D   QV  5	   5
   5   ]   V   D&   QV  5	   5
   5   D   Q=   ]   V  D&   QV  5	   5
   5    D   Q=!   ]    V  5	   5
   5"   D   Q=#   ]"   V  5	   5
   5$   D   Q>]$    r/k$1,!)%$    document   createElement   a	   href   referrer   twitch.tv	   host   tag   /t/gaming   props   env   subredditSource   isFromReddit   subreddit   new   /r/!   getSubredditName   Imgur   Environment   image   topic   No Topic   match   /t/   replace   _   searchQuery   search   baseURL   source   section   hot	   sort   viral   window   day	   page!!      a   b   c   d   .this         +H!!!   imgur(-dev)?.com   !!       !!       !!   source!!!!   section!!!!	   sort!!!!   window!!!!	   page!!    ;
      5 !!    	      isFromRedditC                                                    Vu             T      
=   : > uZ    indexOf   reddit.com!!      a        +H;      5 !!    	      changeLayoutC          +                                 4  4                  W   QV   5    5   V   5   V   5    5   7V   5   V   5    5   7V   5   T  7V   5   T  7   QV      
[    T  ]       Q   5      
=	   T   Q   5
      
[   =   ]   [   T  ]   ]    Q u  D;?    state   scrollTop   ROW_HEIGHT   layout   ITEMS_PER_ROW   setState   Imgur   LocalStorage	   save;   sidegallery_layout_experiment	   Util   jafoLog#   sideGalleryLayout   event	   meta!!      a   b   .this      +H!!       !!   layout!!    !!          changeLayout/<b         Hv  
       5 !!       !!   layout!!    !!       !!   event!!!!	   meta!!    ;5 !!    	      uniqueIdC           .                                 F  >                   	W  QV      W   Q      V   : W  Q>W  Q (   mV  V  V  V  78QV  #?W  QQV  V   V     
    :    
=   :  v	&(3)	    length   Array   filter	   join   -!!      a   b   c   arguments         +H!!          uniqueId/<c             
                                          Ww             >(T  I w[
 !!      a        +H;       5 ;    0   3   5 !!    	      ajaxSuccessC          1                                 g  g           	       W   QV      QV   B6    QV      
:     V   5   5         QV      
[         
V   5   5      
   5	   : B    : ]      
   
V   :  Q w  6    isLoading   isMounted   state   items   length   setState   _	   uniq   concat	   data	   bind!!      a   b   c   .this      +H!!       )   ajaxSuccess/<.items<c  !                                            w  o     )x                    
T  5   T  5   :  x-+    uniqueId	   hash-   promotedPlacementCount!!      a        +H;       5 !!       !!   items!!    !!           ajaxSuccess/<c   3        !                          "         Y  Y    kx            W   QV       
   5       QV   5    E]   Q   5   5   EG   Q   5   5   E1   QV      
   5   5   >C QV   C6   Q   5      >EB   QV   5	   5
      
=   >   H   =      =   : Q=   V   5	   5   E:   Q   5      
=   : E   QV   5      
:  Q xn$T4K/)#    checkEndReached	   data   length   currentInserted   Imgur   Environment   captionsEnabled   image!   insertSingleItem   props   emitter   trigger'   sidegalleryPageLoad   initial   append+   randomized-most-viral   variation   Experiments   isActive   expT4377b   recommendations   fetchControl!!      .this         +H;
       5;5!!    	      onScrollC  J                                          y  q     +z            W  QV  5    5      
:  W   QV     
[    V   ]   V  5    Q z27    el   $content   scrollTop   setState+   checkScrollPageNeeded!!      a   .this         +H!!       !!   scrollTop!!    ;
      5 !!    	      checkEndReachedC N                                          ;  ;    z            W   Q>T  HD   QV       
:  V   5   E    QV      
[    C]   : Q z/    listHeight   HEIGHT   setState   endReached!!      a   .this       +H!!       !!   endReached!!    ;
      5 !!    	   +   checkScrollPageNeededC  y                                          Z  R     {            W   QV   5    5   V      
:  V   5   EI   QV   5    E8   QV      
[    V   5    5   ?]   V   5   : Q {* 5    state   scrollTop   listHeight#   FETCH_MORE_BUFFER   isLoading   setState	   page   loadPage!!      .this         +H!!       !!	   page!!    ;
      5!!    	      listHeightC  \                                            m  m    {            W   Q       
V   5   5      V   5   V   5   5   7: V   5   V   5   5   7 {k 	   Math	   ceil   state   items   length   ITEMS_PER_ROW   layout   ROW_HEIGHT!!      .this         +H;
      5!!    	      itemOffsetC g                                           	 y 	    3|            W   Q       
T  ?V   5   V   5   5   7: V   5   V   5   5   7V   5   V   5   5   7 |7| 	   Math	   ceil   ITEMS_PER_ROW   state   layout   ROW_HEIGHT!!      a   .this       +H;
      5!!    	      loadPageC           0                         	               |            W  QV  5    5      B[    W   QV  C6   Q      
[   V     
:  ]   V   ]   V  5   ]	   V  5
   ]    Q |Y |Y    state   endReached   isLoading   $	   ajax   generateURL   url	   data   ajaxSuccess   success   switchToViral   error!!      a   .this         +H!!            !!       !!   url!!!!	   data!!!!   success!!!!   error!!    ;
      5 !!    	      generateURLC       "   P                          :               o   	          W  Q>(W   QV  5    5   E   Q=   V  5    5   E   Q=   V  5    5   El   Q=   V  5    5   EQ   Q=   V  5    5   E6   Q=   V  5    5   E   Q=   V  5    5      =   V  5    5      =	   W  Q=
   V  5    5      V  5    5   =      =	   W  Q=
   V  5    5   D   Q=
   V  5    5      V  5    5   =      =	   W  Q=	   V  5    5   V  =   V  V  W  Q=   V  W  Q   5   5   5   E   QV     =      5   5   `         
:     
   5   V  5    5   C: W  QV  5   =   V  5   W   Q   V  5   5   W  QV   Dz   Q>V  5    5   E   Q?V  5    5   DK   QV  5   5   D6   Q=   V  5   5      =       =	   W  QV  =!   V  5    5   V  W   QV   v  3M!$ r&3      state   section   group   tag   favorites   favoritefolders   topic   subreddit   /      top	   sort   window   source'   /gallery/hot/viral/   Imgur   Environment   image   is_adI   /t/Staff_Picks/viral/page/0/hit.json   searchQuery   getInstance   getSearchUrl	   page   url   ?   query   props   cache%   votedFavedRecently   /hit.json   showMature   ?mature   page/!!	      a   b   c   d   e   f   g   h   .this      	   +H;      5!!    	      switchToViralC           (                         	        2  *                 W   Q=    V   5   5   E6   Q=   V   5   5   E   Q=   V   5   5   Dg   QV      
[    Z    ]   >]	   =    ]   =   ]   =   ]   =
   ]   B]   @]   V   5   : Q ^	      hot   state   section   viral	   sort   day   window   setState   items	   page   /gallery   source   endReached   selectedHash   loadPage!!      .this         +H!!       !!   items!!!!	   page!!!!   section!!!!	   sort!!!!   window!!!!   source!!!!   endReached!!!!   selectedHash!!    ;
      5 !!    	      nthFromHashC                                           "                   W  QV      
T : W   QV   T  W  QV   IY   V  V  5   5      E    QV  5   5      ?W  QV  5   5   V  75    
:    hashPosition   state   items   length	   hash!!      a   b   c   d   .this       +H;
      5 !!    	   !   insertSingleItemC e        Q                                 d  d                  W  Q   D   Q=       QV     
T  5   T  5   :    QV     
   : W   QV   IE   QT  5    X      )   V     
   @=          @Q=      'E   Q   :  QB    mT #?U QQV  5	   5
   T 7E   QV  5	   5
   T 75   V  5	   5
      
T >T   QV     
[    V  5	   5
   ]
       Q w/)
  "Fi:t    inserted   uniqueId	   hash-   promotedPlacementCount   hashPosition	   isAd   selectImage   direct   function   state   items   recommended   splice   setState!!      a   b   c   d   e   f   g   .this      +H!!       !!   items!!    !!        %   insertSingleItem/<b   b  b      
       5 ;       F   5 !!    	   !   selectedPositionC  $                                           ~  v     "            W   QV       
V   5   5   :  %*    hashPosition   state   selectedHash!!      .this         +H;
      5 !!    	      hashPositionC                                                               W  QV     QT  5    E   QT      
=   : W   QV   E   QV      ?5   V  5   5      
    :    
T  : 0   V  5   5      
   :    
T  :  uV1
    split   -   length   state   items   map   indexOf!!      a   b   c   .this      +H!!          hashPosition/<b " Y  Y             5 !!          hashPosition/<b   {     '         5 ;5!!    	      selectImageC 4                                                              W   QV       
[       ]      ]       Q e #    setState   selectedHash   scrollToHash!!      a   b   c   d   .this      +H!!       !!   selectedHash!!!!   scrollToHash!!    !!          selectImage/<b           
       5;5!!    	      getImageC                                                  
            W   QV   5     E5   Q   5   5   E   Q   5   5   5   T  H      5   5   &   V   5   5   V      
T  : 7 
z    currentInserted   Imgur   Environment   image	   hash   state   items   hashPosition!!      a   .this       +H;
      5!!    	      getNextImageC  2                                                  K            W  QV      
:  W   QV     E   QV   5    R
 !   getNextImageItem	   hash!!      a   .this         +H;
      5!!    	      getPrevImageC  2                                            #   #                 W  QV      
:  W   QV     E   QV   5    
 !   getPrevImageItem	   hash!!      a   .this         +H;
      5!!    	   !   getNextImageItemC       	   (                                 =   5                  W  QV      
V  5   5   : ?W   QT     V   T  W   
   >U  QV   V  5   5      i   V  5   5   V   7W  Q=   V  5   HD   QV  5   BH"   V     
T  #?U  : 
   V  B -'%    hashPosition   state   selectedHash   items   length	   down	   vote   nextable!   getNextImageItem!!      a   b   c   .this       +H;      5 !!    	   !   getPrevImageItemC          '                                                    W  QV      
V  5   5   : ?W   QT     V   T  W   
   >U  QV   >i   V  5   5   V   7W  Q=   V  5   HD   QV  5   BH"   V     
T  #?U  : 
   V  B -
'%    hashPosition   state   selectedHash   items	   down	   vote   nextable!   getPrevImageItem!!      a   b   c   .this       +H;      5!!    	      getSectionC           	                                                     W   QV   5    5        state   section!!      .this         +H;
      5!!    	   #   componentDidMountC          I                          1                    
       W  QV  5    5   BIy  V     
  QV     
  Q      
      
V  5   V  : X: W   QV  5   
   
         
V  : : 6	   QV  5   V  5   5	      
=   : 6   QV  5   V  5   5	      
=   : 6   QV  5   5      
V    QV  5    5      
=   V        
V  5   =   :  QV  5    5      
=   V        
V  5   =   :  Q +&&)N'I    props   display   loadPage   bindMouseMove   _   throttle	   bind   onScroll   el   $sideGallery   $   ReactDOM   findDOMNode   $content	   find   .content   $nano   scroll   emitter   on   keyboardNav   partialRight   nav   keyboard   buttonNav   click!!      a   .this         +H;      5 !!    	      bindMouseMoveC           (                                  `  `                  W  Q>   Q    5      
  Q      =   :    
=   : >7   Q       
V  : W   Q      =   : 	   

      
V   :  Q &      Imgur	   Util1   getBrowserScrollbarWidth   $   #side-gallery	   find   .content	   bind	   body   mousemove   _   throttle!!      a   b   c   d   .this        +H!!       !   bindMouseMove/d<c            )                                  a . Y .                        T  5   : W   QV      
=   :    W  Q      
T  5      : W  Q      
T  5      : W  QV  D   QV  E   QV        5	   =   6
   %   V  D   Q   5	   =   6
   QT  5      QT  5      Q $H    $   target   closest   .scroll-content   length	   Math   abs   clientX   clientY   style   overflowY   scroll   hidden!!      d   e   f   g   h       +H;       5 ;5!!    	      navC          8                          
       m 6 e 6         	       W  QT  x=    y   =   y$   z2   V     
:  W   Q   V     
:  W   QV   F   V     
V   5   V   5   : W  QV     
V  >(T  T  QB sI~x `
/ 	   next	   prev!   getNextImageItem!   getPrevImageItem   uniqueId	   hash-   promotedPlacementCount   selectImage!!      a   b   c   d   .this       +H;      5!!    	      updatePointsC          &                         	       L  D                 W  QV      
T  : W   QV   Ip   V  5   5   V   7W  QV  T 6   QV  T 6   QV  T T 6   QV     
[    V  5   5   ]    Q 
(    hashPosition   state   items   ups   downs   points   setState!!      a   b   c   d   e   .this       +H!!       !!   items!!    ;      5!!    	      updateViewsC w                                   	        j  j                W  QV      
T  : W   QV   IR   V  5   5   V   7W  QV  T 6   QV     
[    V  5   5   ]    Q 
(    hashPosition   state   items   views   setState!!      a   b   c   d   .this       +H!!       !!   items!!    ;      5!!    	      updateVoteC [     
   Y                                ~  v     "            W  QV      
T  : W   QV   H   BV  5   5   V   7W  QV  5   x=   y   =   y)   z<   V  5   #?
6   QQ   V  5   #?
6   QQT x=   y   =   y)   z<   V  5   #?
6   QQ   V  5   #?
6   QQV  T 6   QV  V  5   V  5   6   QV  	   
[    V  5   5   ]    QT V  5    Q .
  &pS~x `
sS~x `
	(    hashPosition   state   items	   vote   up	   down   ups   downs   points   setState!!      a   b   c   d   e   .this       +H!!       !!   items!!    ;      5!!    	      updateFavoriteC W                                  	        	  	    O            W   QV   5    5   V      
T  : 7T 6   QV      
[    V   5    5   ]    Q U"'    state   items   hashPosition   favorited   setState!!      a   b   .this       +H!!       !!   items!!    ;
      5 !!    	   +   shouldComponentUpdateC                                                 +	 7	 #	 7	                 C  !!              +H;      5 !!    	   %   componentDidUpdateC       
                                    S	 (
 K	 (
                W   QT 5       V   5   5       HE   QT 5   V   5   5   HD.   QV   5   5      
=   :    
:  QT 5	   V   5   5	   IE#   QV   	   
V   5   5	   : Q H#**    items   length   state   layout   el   $sideGallery	   find   .nano   nanoScroller   scrollToHash!!      a   b   .this       +H;
      5 !!    	      scrollToHashC t      
                                   >
 
 6
 
                W  Q       
V  5   T  7: W   QV   EF   QV  5   5      
:     
[    V   5   V  5   ]	   : Q #!5    ReactDOM   findDOMNode	   refs   el   $content	   stop   animate   offsetTop   SELECTED_OFFSET   scrollTop!!      a   b   .this       +H!!       !!   scrollTop!!    ;
      5 !!    	   !   getSubredditNameC  7         	                                  
 " 
 "    z            W   Q    5   5   5   D   QV   5   5   5    }H    Imgur   Environment   image   subreddit   props   env   subredditSource!!      .this         +H;
      5!!    	      renderC  	     e                                  2  *          '       W  QV  5    5   BH   BZ    W	  Q[    V  5   5   V  5   ]   V  5   5   V  5   V  5   ]   W
  QV  5   5   x=	   yM   =
   y[   =   yo   =   y~   =   y  =   y   =   y  z
  V     
:  W  Q     5   5   5
   W  Q     5   5   W  Q  =      5   5   W  QV  5   5   x=   y   =   y4   zR   =   V  5   V  5   5   7W  Q)   =   V  5   V  5   5   7W  Q>     5   5   D   Q   5   5   5   W  Q=    V  !   
:    V  ="      V  =#   W  Q$   %   
=&   @$   %   
=&   [   ='   ](   V  : =)   : W  QV  5*   V  5   5   7W  Qi   V  5+   V  5   5   7W  Q=,   V  5   V  5   5   7W  Q#   V  5+   V  5   5   7W  QV  D]   Q=   V  5   5   )   =,   V  5   V  5   5   7   V  5*   V  5   5   7W  Q>W  Q   mV  5   5-   V  7W  QV  5   5-   V  ?7W  QV  .   
V  : W  QV  V
  5   E   QV  V
  5   W  QV  n   V  5/      V  5/   J      5   50   =1   V  52      V  53      V  54   =5      =6   W  QV  7   
V  54   V  58   : W  Q9   :   
[   V  [   V  ]/   V  V  5   5;   H]<   V  5=   ]=   V  ]>   V  5   5?   ]?   V  ?]@   : W   QV	  A   
$   %   
   5B   C   C   [   V  ]D   V  ]E   V   : :  QV  #?W  QQV  V  5   5-   F   V  5   5G   i   $   %   
=H   [   =I   ](   =J   $   %   
=K   [   =L   ](   V  5M   ]N   =O   : : )   $   %   
=H   [   =P   ](   : W  Q$   %   
=H   @$   %   
=H   [   =Q   ](   $   %   
=K   [	   =R   ](   V  5   5S   ]T   $   %   
=U   [
   =V   ](   V  : V  2   $   %   
=W   [   =X   ](   V  :    @: $   %   
=H   [   =Y   ](   $   %   
=K   [   Z   Z   [   C][   =\   V  5   5?   ]<   : ](   V  5]   ^   
V  =\   : ]N   $   %   
=&   [   =_   ](   : : $   %   
=K   [   Z   Z   [   C][   =`   V  5   5?   ]<   : ](   V  5]   ^   
V  =`   : ]N   $   %   
=&   [   =a   ](   : : : : $   %   
=H   [   =b   ](   $   %   
=H   [   =c   ](   $   %   
=H   [   Z   Z   [   C]-   =`   V  5   5?   ]`   =\   V  5   5?   ]\   : ](   V	  : V  : : $   %   
=H   [   =d   ](   : :   V,9p v~xxxxxx +` ``-pi~x !=`?`0A>f#`)/`)p&   #  /%  ;6 13t  A:02O{  5DAl  DAl -B	 ,     props   display   state   scrollTop   RENDER_BUFFER   min   HEIGHT   max   section   subreddit   topic   tag   search   favorites   favoritefolders   top!   getSubredditName   Imgur   Environment   image   Searching    searchQuery	   sort   relevance   score'   most relevant from    windowTitles   window+   highest scoring from !   favs_account_url	   auth   url   s   substr   '   's   React   createElement	   span   sg-username   className    Favorites   sortTitles   sectionTitles   from    items   itemOffset   thumb   cdnUrl   /   is_album   album_cover	   hash   b.jpg   data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==   uniqueId-   promotedPlacementCount   _   extend   selectedHash   selected   selectImage   shouldRender   layout   position	   push   SideGalleryItem   _extends   ref   key   length   endReached   div   sidegallery-endw   You have reached the end of this stream. Continue browsing    a	   link   switchToViral   onClick   Most Viral/   sidegallery-end loading   sg-header%   sg-title-container   source	   href   h2   sg-title   h3   sg-subtitle   layout-options   classNames   layout-button	   list   changeLayout	   bind   icon-right-list	   grid   icon-grid	   nano3   content scroll-content cf   fade-out!!      a   b   c   d   e   f   g   h   i   j   k   l   m   n   o   .this         +H!!       !!   min!!!!   max!!    !!       !!   className!!    !!            !!       !!   thumb!!!!   selected!!!!   selectImage!!!!   shouldRender!!!!   layout!!!!   position!!    !!       !!   ref!!!!   key!!    !!       !!   className!!    !!       !!   className!!!!   onClick!!    !!       !!   className!!    !!       !!   className!!    !!       !!   className!!!!	   href!!    !!       !!   className!!    !!       !!   className!!    !!       !!   className!!    !!       !!   layout-button!!!!   selected!!    !!       !!   className!!!!   onClick!!    !!       !!   className!!    !!       !!   layout-button!!!!   selected!!    !!       !!   className!!!!   onClick!!    !!       !!   className!!    !!       !!   className!!    !!       !!   className!!    !!       !!   items!!!!	   grid!!!!	   list!!    !!       !!   className!!    !!       !!   className!!    ;    i    "      5!!    4   !!   displayName!!!!   HEIGHT!!!!   ROW_HEIGHT!!!!   ITEMS_PER_ROW!!!!   RENDER_BUFFER!!!!#   FETCH_MORE_BUFFER!!!!   SELECTED_OFFSET!!!!   BREAK_HEIGHT!!!!   GRID_MARGIN!!!!   isLoading!!!!   currentInserted!!!!   el!!!!   sectionTitles!!!!   sortTitles!!!!   windowTitles!!!!   getInitialState!!!!+   getGalleryEnvironment!!!!   isFromReddit!!!!   changeLayout!!!!   uniqueId!!!!   ajaxSuccess!!!!   onScroll!!!!   checkEndReached!!!!+   checkScrollPageNeeded!!!!   listHeight!!!!   itemOffset!!!!   loadPage!!!!   generateURL!!!!   switchToViral!!!!   nthFromHash!!!!!   insertSingleItem!!!!!   selectedPosition!!!!   hashPosition!!!!   selectImage!!!!   getImage!!!!   getNextImage!!!!   getPrevImage!!!!!   getNextImageItem!!!!!   getPrevImageItem!!!!   getSection!!!!#   componentDidMount!!!!   bindMouseMove!!!!   nav!!!!   updatePoints!!!!   updateViews!!!!   updateVote!!!!   updateFavorite!!!!+   shouldComponentUpdate!!!!%   componentDidUpdate!!!!   scrollToHash!!!!!   getSubredditName!!!!   render!!    !!     	      handleClickC       	                                     {  {    S#            W  Q?T  5    I   V  5   5   W   QV  5   5   E.   QV  5   5   =   V  5   5   W   QV  5      
V   B=   =    QT     
  Q #W]0    button   props	   hash-   promotedPlacementCount   -   selectImage   targeted   click   preventDefault!!      a   b   .this       +H;      5 !!    	   )   getWidePromotedThumbC  A        E                         !               =$            W   Q       
=   [    V      
=   : ]   V      
V   5   5   5	   : ]
   V   5   ]   V      
:  ]   V   5   5   ]   V      
:         
=   [   =   ]          
=   [   =   ]   V   5   5   :        
=   [   =   ]   V   5   5   5   D   QV   5   5   : : :  $@ 
D40E~T     React   createElement   a   getThumbClassesW   PromotedGridItem PromotedGridItem-wide left   className   getThumbStyles   props   thumbnail_json	   hash   style   handleClick   onClick   getHref	   href   title   getVoteMarkup   div=   PromotedGridItem-textContainer   pM   PromotedGridItem-op font-opensans-bold   account_url+   PromotedGridItem-text!!      .this         +H!!       !!   className!!!!   style!!!!   onClick!!!!	   href!!!!   title!!    !!       !!   className!!    !!       !!   className!!    !!       !!   className!!    ;
      5 !!    	      getHrefC  k                                            8  8    p&            W   QV   5    5      =   V   5    5   :   V   5    5      =      =   V   5    5    &sh    props   in_gallery   /gallery/	   hash   is_album   /a/   /!!      .this         +H;
      5!!    	      getThumbStylesC d      
                                   P  H     &            W  QT  *       5   5   =   T  =      V  5   5   W   Q[    =   V   =   ]	    &;    Imgur   Environment   cdnUrl   /	   .jpg   props   thumb	   url(   )   backgroundImage!!      a   b   .this       +H!!       !!   backgroundImage!!    ;
      5!!    	      getThumbClassesC D        5                                 Z  Z    u'            W  Q[    C]    V  5   5   ]   V  5   5   ]   V  5   5    ]   =   V  5   5   H]   =   V  5   5   H]   =   V  5   5	   H]   =
   V  5   5	   H]
   V  5   5   E   QV  5   5    ]   V  5   5   ]   W   QV  5   5   E   QV   V  5   5   C8QT  E   QV   T  C8Q      V   :  '}#  3    sg-item   props   selected   recommended	   base	   grid   layout	   list   up	   vote	   down	   isAd   isCta   promoted   sg-cta   className   classNames!!      a   b   .this       +H!!    
   !!   sg-item!!!!   selected!!!!   recommended!!!!	   base!!!!	   grid!!!!	   list!!!!   up!!!!	   down!!!!   promoted!!!!   sg-cta!!    ;
      5!!    	      getVoteMarkupC           %                                 q P i P    )            W  Q        [    C]   =   V  5   5   H]   =   V  5   5   H]   : W   QV  5   5   E   QV  5   5   -   	   
   
=   [   V   ]   :    @ )*xK-    classNames   sg-item-vote   up   props	   vote!   icon-upvote-fill	   down%   icon-downvote-fill   shouldRender   React   createElement   div   className!!      a   .this         +H!!       !!   sg-item-vote!!!!!   icon-upvote-fill!!!!%   icon-downvote-fill!!    !!       !!   className!!    ;
      5!!    	      renderItemStatsC          K                         /        i   a      *            W   Q       
=   [    =   ]         
V   5   5   :    @)          
=	   [   =
   ]   :       
V   5   5   :    @K          
=	   [   =   ]      5      
V   5   5   : :       
V   5   5   :    @)          
=	   [   =   ]   :       
V   5   5   :    @K          
=	   [   =   ]      5      
V   5   5   : : :  *"B>BcI8IK     React   createElement   div   sg-item-stats   className   _   isUndefined   props   points	   span'   icon-upvote-outline   sg-item-count   Imgur	   Util   numberFormat   comment_count   icon-messages!!      .this         +H!!       !!   className!!    !!       !!   className!!    !!       !!   className!!    !!       !!   className!!    !!       !!   className!!    ;
      5!!    	      renderC                  	                  T          s%   s%    G,            W  QV  5    5   E5   QV  5    5   E    Q=   V  5    5   5   HW   Q=   V  5    5   HW  QV   E   QV     V     
:  V     
V  5    5   E/   QV  5    5   E   QV  5    5   5	   : W  QV  5    5   3   
      
=   [    =   ]   =   : j   V  5    5   E   QV  5    5   ?<   
      
=   [   =   ]   V  5    5   :    @W  QV  5    5   p   
      
=   [   V     
:  ]   V  5    5   ]   V  ]   V  5   ]   V     
:  ]   : V     V  5    5   <   
      
=   [   =   ]   V  5    5   :    @W  Q
      
=   [   V     
:  ]   V  5    5   ]   V  ]   V  5   ]   V     
:  ]   V     
:  V  V  : 
      
=   [   V     
:  ]   V  5   ]   V     
:  ]   
      
=   [   =   ]   V  ]   V  : 
      
=   [   =   ]   
      
=   [   =   ]   V  5    5   : : :  ,NY C`-  P 
 
5M 
y  
+\9W +    props	   isAd   thumbnail_json   288x141	   size	   grid   layout)   getWidePromotedThumb   getThumbStyles	   hash   React   createElement   div   sg-item-tag   className   PROMOTED   shouldRender   num_images   isCta   a   getThumbClasses   title   style   handleClick   onClick   getHref	   href   sg-item-title   getVoteMarkup   sg-list-image!   sg-list-metadata   sg-list-title!!      a   b   c   d   e   .this         +H!!       !!   className!!    !!       !!   className!!    !!       !!   className!!!!   title!!!!   style!!!!   onClick!!!!	   href!!    !!       !!   className!!    !!       !!   className!!!!   title!!!!   style!!!!   onClick!!!!	   href!!    !!       !!   className!!!!   onClick!!!!	   href!!    !!       !!   className!!!!   style!!    !!       !!   className!!    !!       !!   className!!    ;      5 !!    
   !!   displayName!!!!   mixins!!!!   handleClick!!!!)   getWidePromotedThumb!!!!   getHref!!!!   getThumbStyles!!!!   getThumbClasses!!!!   getVoteMarkup!!!!   renderItemStats!!!!   render!!    !!       #   componentDidMountB  && & & &    1  
       5!!          getInitialStateB  & & & &    I2         5!!          handleSubmitB & ( & (    {2  
          B  +( V( #( V(    3  
       5    B p( ( h( (    4         5 5!!          unmountB  ( 
) ( 
)    d4  
       5!!          stopPropagationB #) ;) ) ;)    4         5!!          renderB  K) m/ C) m/    4  
       5 !!       !!   displayName!!!!   thanksMessage!!!!#   componentDidMount!!!!   getInitialState!!!!   handleSubmit!!!!   unmount!!!!   stopPropagation!!!!   render!!    !!    	      _createClass<c             	                                   / q0 / q0                   G       Q    ;> !!      a         +H!!     	      a            4                                 / 20 / 20    :;            >W   Q    mT V   7W  QV  V  5    D   QB6    QV  C6   Q=   V  qE   QV  C6   Q      
T  V  5   V   QV   #?W   QQV   T    p ;D&  w        enumerable   configurable   value   writable   Object   defineProperty   key   length!!      a   b   c   d       +H;                5 !!    	      _createClass</<c  @                                            A0 p0 90 p0    ;             T E   Q   T  5    T : QT E   Q   T  T : QT   ;    prototype!!      b   c   d        +H;      5 ;5!!    	   +   ImgurRecommendations<c        
   R                                 0 9 0 9                   G       Q           T   Q         Z   [   =   ]      ]   `    [   =   ]      ]   `   [   =   ]      ]   `   [   =   ]      ]   `   [
   =   ]   	   ]   `   [   =	   ]      ]   `    Q    =Y/|   P       _inherits   _createClass#   componentDidMount   key   value)   fetchRecommendations   fetchControl!   fetchLiftIgniter'   navToRecommendation   render!!      a   b       +H!!           b  0 1 0 1    C<         5!!          valueB  2 !2 1 !2    =  
       5!!       !!   key!!!!   value!!    !!          valueB  M2 2 E2 2    =  
       5!!       !!   key!!!!   value!!    !!          valueB  2 j3 2 j3    >  
         B  d3 h3 \3 h3    ?         5 5!!       !!   key!!!!   value!!    !!          valueB 3 6 3 6    6?            b   B 4 c6 4 c6    @            B 5 V5 5 V5    @         5    B d5 5 \5 5    A         5    B   6 a6 5 a6    A         5 55!!       !!   key!!!!   value!!    !!          valueB 6 7 6 7    B            d   B  7 7 7 7    YC         5 5!!       !!   key!!!!   value!!    !!          valueB  7 9 7 9    C            a   B 8 P9 8 P9    C         5 5!!       !!   key!!!!   value!!    ;5!!    	   	   initC          +                                s: 6; k: 6;    F            W   QV         
[   B]   =   ]   @]   [   @]   @]   [    ]	   ]
   @]   T  : 6    QV      
V   5     QV      
  Q F"	      _   $   extend   resetUrl   addthis_button!   shareButtonClass   addthisTimeout   title   url   jafoMeta   shareData   globalShareData   _super   bindButtons!!      a   .this       +H!!            !!       !!   title!!!!   url!!!!   jafoMeta!!    !!       !!   resetUrl!!!!!   shareButtonClass!!!!   addthisTimeout!!!!   shareData!!!!   globalShareData!!    ;
      5!!       !!   $social!!    !!        !   getAddthisConfigB  p; "= h; "=    G  
       5 !!          initAddthisB 7= > /= >    H            a   B  > > = >    I           B 0> Q> (> Q>    I         5 55!!    	      setShareDataC \                                         > *? > *?    tJ            W   Q       
[    B]   T : U QT 5   E   QV   5    T  6   QV      
T   Q Jz%    _   merge   global   globalShareData   _setShareData!!      a   b   .this       +H!!       !!   global!!    ;
      5!!          resetShareDataB  B? ? :? ?    J  
       5 !!    	      _setShareDataC L                                   	       ? K@ ? K@    K            W   QV       
T  5    QV      
T  5    QV      
T  5    Q K    _setJafoMeta   jafoMeta   _setShareTitle   title   _setUrl   url!!      a   .this       +H;
      5!!    	      _setJafoMetaC          	                                 a@ @ Y@ @    L            W   QV   5    5   T  6   Q L	    _   shareData   jafoMeta!!      a   .this       +H;
      5!!    	      _setShareTitleC       
                                   @ QA @ QA    =L            W   QT  D   Q    5   U  QT     
    =   : U  QV   5   5   T  6   Q=      qE?   Q=      5   qE(   Q   5      
=	   =   T  : Q LA+/(    document   title   replace      _   shareData   addthis   window   update   share!!      a   .this       +H!!5   \s*\- (?:Album on )?Imgur$    ;
      5!!    	      _setUrlC j                                   	       bA A ZA A    M            W   QV   5    5   T  6   Q=      qE?   Q=      5   qE(   Q   5      
=   =   T  : Q M
/&    _   shareData   url   addthis   window   update   share!!      a   .this       +H;
      5!!    	      bindButtonsC          &                         "        A NE A NE           	       W   QV   5    5   V   5    5   5      V   5    5   5   8   V   5    5   =   V   5    5   V   5    5   6   QV   5   5      
=	    QV   5   5   
   
=	   =          
    V   :  Q         5   : 
   
=   =          
   V   :  Q Mk&8 w.I    _   shareData   url   protocol   //	   host   elements   $social   unbind   click   on)   li span[data-jshook]	   bind   $   document	   body   hover   .addthis_button!!      .this         +H!!          bindButtons/<b B D B D    gN         5 !!          bindButtons/<b  0E FE (E FE    P  
       5;5!!       #   bindAddthisButtonB  iE E aE E    Q  "       5 !!          setupAddthisB  E FG E FG    hQ  "         B #F ;F F ;F    Q  
       5    B F F F F    +R  
       5 5!!          addthisOpenB [G G SG G    R  
       5!!          logShareB G wH G wH    [S  "       5!!       '   logSharePostAddthisB H J H J    8T  *       5!!          getShareTitleB  J J J J    <V  
       5!!          shareTwitterB  J K J K    V  
       5 !!          shareFacebookB  K bL K bL    zW  
       5!!          shareRedditB  wL $M oL $M    X  
       5!!          shareDiggB  7M M /M M    X  
       5!!          shareTumblrB  M O M O    wY  
       5!!       !   shareStumbleuponB  O P O P    [  
       5 !!          shareGoogleplusB  P %Q P %Q    >\  
       5!!          sharePinterestB  =Q DR 5Q DR    \  
       5 !!          shareEmailB  XR \R PR \R    ]         5 !!          shareAddthisB  rR R jR R    ^  
       5 !!       !!	   init!!!!   elements!!!!!   getAddthisConfig!!!!   initAddthis!!!!   setShareData!!!!   resetShareData!!!!   _setShareData!!!!   _setJafoMeta!!!!   _setShareTitle!!!!   _setUrl!!!!   bindButtons!!!!#   bindAddthisButton!!!!   setupAddthis!!!!   addthisOpen!!!!   logShare!!!!'   logSharePostAddthis!!!!   getShareTitle!!!!   shareTwitter!!!!   shareFacebook!!!!   shareReddit!!!!   shareDigg!!!!   shareTumblr!!!!!   shareStumbleupon!!!!   shareGoogleplus!!!!   sharePinterest!!!!   shareEmail!!!!   shareAddthis!!    !!     	   	   initC %        M                                S T S T    ^     	       W   QV         
[         
:  5    5   ]      5   5   5   ]	      5   5
   ]
   =   ]   @]   =   ]   [          =   : ]   ]         =   : ]   =   ]   =   ]   =   ]   =   ]   =   ]   B]   B]   [   ]   T  : 6    QV      
V   5     Q ^" 


"
     _   $   extend   Imgur   getInstance   sid   Environment	   auth   id   auth_id   signed   /gallery   baseURL	   hash   comment   popEventState   #captions   $captions   el   children   .counter   counterClass   caption-bar   captionBarClass   commentName   .comment-item#   userCommentsClass   mobile!   showRepliesCount   captions   _super!!      a   .this       +H!!       !!   $captions!!    !!            !!       !!   sid!!!!   auth_id!!!!   signed!!!!   baseURL!!!!	   hash!!!!   popEventState!!!!   el!!!!   $captions!!!!   children!!!!   counterClass!!!!   captionBarClass!!!!   commentName!!!!#   userCommentsClass!!!!   mobile!!!!!   showRepliesCount!!!!   captions!!    ;
      5 !!          setupHandlersB  T T T T    l`         5!!       !   addDownvoteLimitB  U V U V    `  
       5 !!       '   removeDownvoteLimitB  5V W -V W    a            a   B V 
W V 
W    b         5 5!!       !   haveCaptionVotesB &W dW W dW    b  
       5 !!          haveCaptionsB zW W rW W    c  
       5 !!          deleteCaptionB W WX W WX    qc  
       5!!          undeleteCaptionB pX X hX X    d  
       5!!       '   getCaptionDepthByIdB X Y X Y    d         5!!          countCommentsB Y EZ Y EZ    e  
       5!!       +   getCaptionRepliesByIdB dZ [ \Z [    f            b   B Z Z Z Z    f         5 5!!          getCaptionByIdB [ [ [ [    f  
       5 !!       -   getCaptionPropertyByIdB [ 2\ [ 2\    Gg  
       5 !!       )   getCaptionParentByIdB P\ \ H\ \    g  
       5 !!          getParentIdsB \ %] \ %]    zh  
       5 !!       +   getCaptionChildrenIdsB D] ] <] ]    h  
       5!!       +   getCaptionIdsByFilterB ] J^ ] J^    qi            b    c   B 0^ F^ (^ F^    i         5 5!!          mergeCaptionsB a^ ` Y^ `    j            a    d   B B_ ` :_ `    j         5 5!!          mergeCaptionB a 'a ` 'a    l  
       5 !!          mergeVotesB ;a b 3a b    l            a    d    B a b a b    m         5 5!!          getVotesB *b jb "b jb    m  
       5 !!          setVoteB {b hc sb hc    n  
       5!!       %   getVoteByCaptionIdB c c |c c    (o  
       5 !!       3   isCaptionOrItsSubtreeNSFWB d e d e    o            a    B d e d e    Jp  
       5 5!!       '   setCaptionVoteStateB e g e g    |q         5 !!       !   purgeCaptionDataB 1g g )g g    r            a    b    B ng g fg g    s         5    B g g g g    ss         5 5!!       !!   sid!!!!	   init!!!!   setupHandlers!!!!!   addDownvoteLimit!!!!'   removeDownvoteLimit!!!!!   haveCaptionVotes!!!!   haveCaptions!!!!   deleteCaption!!!!   undeleteCaption!!!!'   getCaptionDepthById!!!!   countComments!!!!+   getCaptionRepliesById!!!!   getCaptionById!!!!-   getCaptionPropertyById!!!!)   getCaptionParentById!!!!   getParentIds!!!!+   getCaptionChildrenIds!!!!+   getCaptionIdsByFilter!!!!   mergeCaptions!!!!   mergeCaption!!!!   mergeVotes!!!!   getVotes!!!!   setVote!!!!%   getVoteByCaptionId!!!!3   isCaptionOrItsSubtreeNSFW!!!!'   setCaptionVoteState!!!!!   purgeCaptionData!!    !!       !!	   name!!!!   value!!!!   onChange!!    !!           getInitialStateB  i /i i /i    t  
       5!!       #   componentDidMountB  Ji j Bi j    t  
         B i j yi j    %u         55!!          renderB  $j sl j sl    u  
          B k il k il    w  
       5 5!!       !!   displayName!!!!   propTypes!!!!   getInitialState!!!!#   componentDidMount!!!!   render!!    !!          handleNoB l m l m    x  
       5 !!          handleYesB ,m Zm $m Zm    x  
       5!!          renderB  jm o bm o    y  
       5 !!       !!   displayName!!!!   handleNo!!!!   handleYes!!!!   render!!    !!       )   componentWillUnmountB  0p _p (p _p    {  
       5 !!          getInitialStateB  xp p pp p    |         5!!          handleBodyClickB p p p p    J|  
       5!!          handleMenuClickB p q p q    |  
         B  q q zq q       
       5 5!!       !   handleChildClickB r (r r (r              5 !!          renderB  8r s 0r s       
       5 !!       !!   displayName!!!!)   componentWillUnmount!!!!   getInitialState!!!!   handleBodyClick!!!!   handleMenuClick!!!!!   handleChildClick!!!!   render!!    !!       !!   childmap!!!!   contextids!!!!   image!!!!   comment!!!!   votable!!!!   votemap!!!!   onSubmit!!!!   expanded!!!!   haveChildren!!!!   touchEnabled!!!!#   forceRenderParent!!    !!     	      getDefaultPropsC                                               u u u u                   [       ]     F #   forceRenderParent!!              +H!!       #   forceRenderParentB  u u u u    g         5!!       !!#   forceRenderParent!!    ;5 !!       !!	   msid!!!!   onContextChange!!!!   linkifier!!!!   onVoteChange!!    !!          getInitialStateB  v v v v    :         5!!       )   componentWillUnmountB  v w v w      
       5 !!       '   componentWillUpdateB #w w w w      
       5!!       %   componentDidUpdateB  x x  x x      
          B  x x x x      
       5 5!!       %   handleReplyClickedB  x ]y x ]y    C  
       5 !!       %   handleReplySuccessB  yy y qy y      
       5 !!       )   handlePermalinkClickB y { y {    u  
       5 !!       %   handleContextClickB 9{ n| 1{ n|    	  
       5 !!       !   handleShareClickB | ~ | ~      
       5 !!       +   handleMobileIconClickB  %  %    ,  
       5!!       #   handleDeleteClickB @  8       
         B  
         
       5 5!!       +   handleWarnDeleteClickB , : $ :      
         B          
       5    B   2  2    ?  
       5 5!!       '   handleMuteUserClickB W  O       
         B  r m j m      
       5 5!!       #   handleReportClickB        J            b   B         1  
          B  e  ]       
       5 5   B         [         5 5!!       #   handleUpvoteClickB   ?  ?    n  
       5!!       '   handleDownvoteClickB  \  T       
       5!!          _voteB        ^  
       5!!          _nthIfyB  @  @             5!!       -   handleUserProfileClickB  `  X       
       5 !!          handleMenuClickB          
       5!!          closeReplyB         q  
       5 !!          renderB                  5!!       !!   displayName!!!!   _isMounted!!!!   propTypes!!!!   getDefaultProps!!!!   contextTypes!!!!   getInitialState!!!!)   componentWillUnmount!!!!'   componentWillUpdate!!!!%   componentDidUpdate!!!!%   handleReplyClicked!!!!%   handleReplySuccess!!!!)   handlePermalinkClick!!!!%   handleContextClick!!!!!   handleShareClick!!!!+   handleMobileIconClick!!!!#   handleDeleteClick!!!!+   handleWarnDeleteClick!!!!'   handleMuteUserClick!!!!#   handleReportClick!!!!#   handleUpvoteClick!!!!'   handleDownvoteClick!!!!   _vote!!!!   _nthIfy!!!!-   handleUserProfileClick!!!!   handleMenuClick!!!!   closeReply!!!!   render!!    !!       !!7   EXPAND_MODE_FORCE_COLLAPSED!!!!;   EXPAND_MODE_DEFAULT_COLLAPSED!!    !!5   EXPAND_MODE_FORCE_EXPANDED!!      !!       !!   comment!!!!   image!!!!   expandMode!!!!+   expandedFromPermalink!!!!%   groupingBadReplies!!!!   contextids!!!!   childmap!!!!   votemap!!!!   level!!!!   maxLevel!!!!   votable!!    !!       !!   onContextChange!!    !!          getInitialStateB         6  
       5!!    	      getDefaultPropsC                                                      57             [    >]    ]   C]    78    level   maxLevel   votable!!              +H!!       !!   level!!!!   maxLevel!!!!   votable!!    ;      5!!       3   componentWillReceivePropsB  1  1    7  
       5!!       %   handleCommentClickB M  E     8           B   @  @    ;  
       5 5!!          handleSubmitB   8  8    <  
       5 !!       +   handleLoadMoreClickedB W  O     <  
       5!!          renderB         2=  
       5 !!       !!   statics!!!!   displayName!!!!   mixins!!!!   propTypes!!!!   contextTypes!!!!   getInitialState!!!!   getDefaultProps!!!!3   componentWillReceiveProps!!!!%   handleCommentClick!!!!   handleSubmit!!!!+   handleLoadMoreClicked!!!!   render!!    !!    	   !!   image!!!!   contextids!!!!   childmap!!!!   votemap!!!!   level!!!!   expandMode!!!!+   expandedFromPermalink!!!!%   groupingBadReplies!!!!   parent_id!!    !!          getInitialStateB  &       E  
       5!!          _getChildrenIdsB         *F  
       5!!       %   componentDidUpdateB   ;  ;    F  
       5 !!       #   componentDidMountB  V  N     F  
       5!!       )   componentWillUnmountB   A  A    G  
       5 !!       1   toggleShowingBadCommentsB c  [     G  
       5 !!       -   _checkNeedToRenderMoreB         aH         5 !!       A   _handleBadCaptionsContainerClickB        vI         5 !!          renderB         I           B  @ t 8 t    M  
       5 5!!       !!%   RENDERED_AT_A_TIME!!!!   displayName!!!!   mixins!!!!   propTypes!!!!   getInitialState!!!!   _getChildrenIds!!!!%   componentDidUpdate!!!!#   componentDidMount!!!!)   componentWillUnmount!!!!1   toggleShowingBadComments!!!!-   _checkNeedToRenderMore!!!!A   _handleBadCaptionsContainerClick!!!!   render!!    !!    
   !!   image!!!!   loading!!!!#   defaultExpandMode!!!!+   expandedFromPermalink!!!!   childmap!!!!   commentSort!!!!'   onCommentSortChange!!!!   contextId!!!!   contextLevels!!!!   permalink!!    !!       !!   onContextChange!!    !!        E   handleClickPermalinkViewRestBannerB V  N     S  
       5 !!          getInitialStateB   h  h    CT  
       5!!          touchEnabledB  ~  v     U         5 !!       #   componentDidMountB   z  z    cU  
         B  m  m    >V         55!!       )   componentWillUnmountB         'W  
       5 !!       3   componentWillReceivePropsB        W  
       5!!       =   handleClickToggleForceExpandedB >  6     X  
       5 !!       )   handleCommentSuccessB  . u & u    Z  
       5 !!       '   handleDocumentKeyUpB        ![         5 !!          renderB         '^  2          c    e   B        }f  
       5    B        =g         5 5!!       !!   displayName!!!!   propTypes!!!!   contextTypes!!!!   mixins!!!!E   handleClickPermalinkViewRestBanner!!!!   getInitialState!!!!   touchEnabled!!!!#   componentDidMount!!!!)   componentWillUnmount!!!!3   componentWillReceiveProps!!!!=   handleClickToggleForceExpanded!!!!)   handleCommentSuccess!!!!'   handleDocumentKeyUp!!!!   render!!    !!            !!       C   7                                            V  V                   G       Q    5      6   Q    5      6   Q mC t-    Imgur   PostViewSummary   ViewedPost+   getGalleryNameAndType!!      a         +H!!    	      a            r                                        k             T  5    x=   y7   =   yM   =   yc   =   ys   =   y   z   [    T  5    ]    T  5   ]   [   T  5    ]    T  5   ]   [   =   ]    =	   ]   [   =   ]    =	   ]   [   =   ]    =
   ]   [   =   ]    @]    kp  ~xxxx & `   L  R    galleryType   subreddit   tag   new   viral   hot   galleryName   tagName   gallery   User Submitted   Most Viral   deeplink!!      a        +H!!       !!   galleryType!!!!   galleryName!!    !!       !!   galleryType!!!!   galleryName!!    !!       !!   galleryType!!!!   galleryName!!    !!       !!   galleryType!!!!   galleryName!!    !!       !!   galleryType!!!!   galleryName!!    !!       !!   galleryType!!!!   galleryName!!    ;      5!!    	   A   Imgur.PostViewSummary.ViewedPostc            1                                  '  '    lm     	          T  : W   QV   5    W  QV   5   W  Q[    ?]   T    ?   >]   T    ?   >]   T    ?   >]      5      
V  : ]	   =
   ]   W  QV  E   QV  V  6   Q   5      
   5   5      5   5   V   Q mz 	 `    galleryName   galleryType   Total Count   NSFW Count   Promoted Count/   Promoted Eligible Count   Imgur	   Util!   capitalizeString   Location   Detail	   Type'   Location Identifier   jafoLogEvent%   AnalyticCategories	   POST%   AnalyticEventNames   viewingSummary!!      b   c   d   e   f   g   h   i       +H!!       !!   Total Count!!!!   NSFW Count!!!!   Promoted Count!!!!/   Promoted Eligible Count!!!!   Location!!!!	   Type!!    ;      5 ;5!!          _typeof<b        8o         5 !!          _typeof<b  .  .    Uo         5 !!    	   	   initC z                                Z       w  o            
       W   QT D   Q[    U QV         
[   [   >(]   X]   B]         =   :     ]   B]	   >(]
         =   : ]   ]   [   X5]   XW]   X]   XW]         =   :    
:  ]   ]   (]    ]   [   @]   ]   ?]   @]   T ]   B]   @]   XX]   C]    @]!   T ]"   T ]#   T ]$   T ]%   Z    ]&   [   ]'   [   ](   >])   >(]*   X ]+   T  ],   C]-   B].   B]/   >]0   x]1   [   ]2   X]3   @]4   ]5   [   @]4   >]6   ]7   [   @]4   ]8   [	   Z    ]9   Z    ]:   @];   ]<   @]=   [
         =>   : ]?         @   : ]A         =B   : ]C         =D   : ]E         =F   : ]G         =H   : ]I         =J   : ]K         =L   : ]M         =N   : ]O         =P   : ]Q         =R   : ]S         =T   : ]U         =V   : ]W         =X   : ]Y   =X   ]Z         =[   : ]\         =]   : ]^         =_   : `   
=a   : ]b         =c   : `   
=d   : ]e   =f   ]g         =h   : >7]i   =   ]j   =k   ]l   =m   ]n   =o   ]p         =q   : ]r         =s   : ]t         =u   : ]v   ]w   @]x   y   z   
[   ={   ]|   [   y   5}   5~   ]   y   5}   5   ]   y   5}   5~   ]   y   5}   5   ]   y   5}   5~   ]   ]      ]      ]   : ]{   T : 6    QV      
V   5     Q      =   :    
=   :    
V   5    Q p	
"

	



		


5!$%1,%!#  Mt 	    _   $   extend   URL   timeTillRefresh1   nextImageLoadRefreshesAd   .advertisement   length   injectAd   closed   currentTimeout7   #div-gpt-ad-1421193579422-0   abpAdId   ad   sqWidth   sqHeight   recWidth   recHeight   #right-content   height%   rightContentHeight   tallAdParams   skyPopMarginTop+   labelWrapperMarginTop	   sort   captionLayout   depth%   insideCommentsArea   emitter   autoBrowse#   autoBrowseTimeout   autoBrowseWait   isHotImage   adType   captionInstance   albumImageStore   postSavingStore   tagStore   fetchQueue!   fetchingCaptions   image'   fetchPageEventCount/   checkFetchQueueInterval   fetchInterval   sideGallery   initialImage   isPromoted   headerFixed   scrollPosition%   postTitleMaxHeight   padding   timeout   lastHash   vwUnderImage	   msec   vwTime   vwUnderComments   loading   loaded	   hash   postContents	   post+   link[rel="image_src"]   $metadataLink   window   $window   #inside   $inside   .post-header   $postHeader   .post-container   $postContainer   .navPrev   $navPrev   .navNext   $navNext)   #post-jump-container   $postJump   #nicetime   $nicetime   #mainUpArrow   $voteUp   #mainDownArrow   $voteDown   .post-images   $image%   #stats-embed-codes   $embed   .post-action   $postActionBar   postActionBar+   .post-title-container'   $postTitleContainer   #comment-count   $captions_count   #action-tabs	   find   > div   $actionTabs   #under-image   .share-link   $shareLinkE   .post-images .post-image-container   imageContainers   #adiframe   adframe   adWrapper   .promoCompanion   promoCompanion%   .js-post-truncated   albumTruncated#   .post-description!   albumDescription   .favorite-image   $favoritedImage   .random-button   $randomButton1   #fixed-side-footer-links!   $sideFooterLinks   elements   skyPopYPos   React   createClass;   insideCommentsAreaWithContext   displayName   PropTypes	   func   onContextChange   string	   msid   onSubmit   object   linkifier   onVoteChange#   childContextTypes   getChildContext   render   _super-   .footerlink-report-ads   removeClass   nodisplay   click   reportBadAds!!      a   b   c   d   e   f   g   .this       +H!!            !!       !!   URL!!!!   timeTillRefresh!!!!1   nextImageLoadRefreshesAd!!!!   injectAd!!!!   closed!!!!   currentTimeout!!!!   abpAdId!!    !!       !!   sqWidth!!!!   sqHeight!!!!   recWidth!!!!   recHeight!!!!%   rightContentHeight!!    !!       !!	   sort!!    !!            !!            !!       !!   padding!!!!   timeout!!!!   lastHash!!    !!       !!   lastHash!!!!	   msec!!    !!       !!   lastHash!!    !!       !!   loading!!!!   loaded!!!!	   hash!!    !!       !!   $metadataLink!!!!   $window!!!!   $inside!!!!   $postHeader!!!!   $postContainer!!!!   $navPrev!!!!   $navNext!!!!   $postJump!!!!   $nicetime!!!!   $voteUp!!!!   $voteDown!!!!   $image!!!!   $embed!!!!   $postActionBar!!!!   postActionBar!!!!'   $postTitleContainer!!!!   $captions_count!!!!   $actionTabs!!!!   $shareLink!!!!   imageContainers!!!!   adframe!!!!   adWrapper!!!!   promoCompanion!!!!   albumTruncated!!!!!   albumDescription!!!!   $favoritedImage!!!!   $randomButton!!!!!   $sideFooterLinks!!    !!       !!   onContextChange!!!!	   msid!!!!   onSubmit!!!!   linkifier!!!!   onVoteChange!!    !!           getChildContextB  /  '     x  
       5!!          renderB   '  '    sy  
       5 !!       !!   displayName!!!!#   childContextTypes!!!!   getChildContext!!!!   render!!    !!    %   !!   ad!!!!   tallAdParams!!!!   skyPopMarginTop!!!!+   labelWrapperMarginTop!!!!   captionLayout!!!!   depth!!!!%   insideCommentsArea!!!!   emitter!!!!   autoBrowse!!!!#   autoBrowseTimeout!!!!   autoBrowseWait!!!!   isHotImage!!!!   adType!!!!   captionInstance!!!!   albumImageStore!!!!   postSavingStore!!!!   tagStore!!!!   fetchQueue!!!!!   fetchingCaptions!!!!   image!!!!'   fetchPageEventCount!!!!/   checkFetchQueueInterval!!!!   fetchInterval!!!!   sideGallery!!!!   initialImage!!!!   isPromoted!!!!   headerFixed!!!!   scrollPosition!!!!%   postTitleMaxHeight!!!!   vwUnderImage!!!!   vwTime!!!!   vwUnderComments!!!!   postContents!!!!	   post!!!!   elements!!!!   skyPopYPos!!!!;   insideCommentsAreaWithContext!!    ;5!!    	      setHashC E                                                 0z            W   QV   5    T  6   QV      
  Q      
:     
T   Q z4
    _	   hash#   updateCaptionHash   Imgur   getInstance   setHash!!      a   .this       +H;
      5 !!    	      getHashC           	                                         z            W   QV   5    5    z    _	   hash!!      .this         +H;
      5!!    	   #   updateCaptionHashC  .         	                                  - \ % \    z            W   QV   5    5      
V   5    5    Q z+    _   captionInstance   setHash	   hash!!      .this         +H;
      5!!          updateShareB  q z i z     {  
       5!!          hasImageB           
       5 !!          getImageB  l  l    |   
       5 !!          getCurrentImageB    }       
       5!!    	      checkFetchQueueC  U                                                    [            W  Q>V  5    5      I8   V  5    5      
:  W   QV   E   QV   :  Q ^%    _   fetchQueue   length   shift!!      a   .this         +H;      5 !!    	      generalInitC X     4                                   5 Q - Q                  W   QV   5    5      V   5    5   5      @QV      
  Q      =   :    
=        QV   5    5	   E   Q
   5   5    D$   QV      
  QV      
:  QV      
  QT    QV   5          
V   5      
V   : V   5    5   : 6   Q=      qED   Q         :    
=          
V   5   V   : : Q      =   :    
=   =          
   V   :  Q         :    
=          
       
V   5   V   : 2:  QV      
  QV   5    5    5!   "   
       
   V   :  QV   5    5    5#   "   
       
   V   :  QV   5    5$      
=%   @       
   V   :  QV   5    5$      
=%   @       
V   5&   V   :  Q         :    
='          
V   5&   V   :  QV   5    5$      
=%   @    (   
)          
V   5*   V   : V   5    5+   5,   :  QV   5    5$      
=-   @    .   
       
V   5/   V   : :  QV   5    5$      
=-   @    (   
)          
V   50   V   : V   5    5+   5,   :  QV   1   
  QV   2   
  QV   3   
  Q "d%2I:& Y!@dd [ H:5~3]A      _   signed	   auth   id   checkAdTime   $/   .post-image-placeholder   one   mousedown   hasAccess   Imgur   Environment   captionsEnabled   bindAutoBrowse   bindHotKeys#   setupHistoryState/   checkFetchQueueInterval   window   setInterval   checkFetchQueue	   bind   fetchInterval   onhashchange   hashchange)   forceScrollToCaption	   body   on   hover   .image-id-link   scroll   throttle#   checkStickyHeader   elements   $navPrev   click   $navNext   emitter   select)   checkViewabilityTime   beforeunload   partial   setTimeout1   postLoadingQueueContents   vwUnderImage   timeout%   postContentsLoaded	   once+   bindViewabilityScroll-   checkViewabilityScroll'   bindViewabilityJafo!   bindSkyPopScroll   bindPostJump!!      a   .this       +H!!           generalInit/<b        *         5!!          generalInit/<b g  _                 b   B (                 5 5!!          generalInit/<b  & T  T      
       5!!          generalInit/<b           
       5!!          generalInit/<b        v  
       5;5!!    	   !   bindSkyPopScrollC          ^                         /        k  c            
       W   QV   5    5   V   5    5   5   D   Q      =   : 6   Q>V   5    5   5      IA        =   :    E2   QV   5    V   5    5   V   5    5   6   QB   Q    	   
    
   
V   : X:    Q   
   
V   :    QV   5    5   5      
=          
   
   
V   : 
[   C]   :  QV   5    5   5      
=          
   
   
V   : X [   C]   :  Q 1$k  A      	 >Cd    _   elements   $skyPop   $'   #sidebar-bottom-ads   length   #abp-pop_sky   skyPopMarginTop+   labelWrapperMarginTop   throttle	   bind   $window   on5   scroll.skyPopAdPositioning   debounce   trailing5   resize.skyPopAdPositioning!!      a   b   c   d   .this        +H!!        '   bindSkyPopScroll/c<c                                              f  ^     	            W   Q    Ez   QV   5    5   5      E[   QV   5    5   5      
:  5   V   5    5   5      
:  V   5    5      Q    	0.B    _   elements!   $sideFooterLinks   length   offset   top   height   skyPopMarginTop!!      .this         +H;
       5 !!       '   bindSkyPopScroll/d<c            #                                 ,  $     
            W   QV   5    5   5      
[    V   5    5   5      
:  V   5    5   5      
:     
:  5   V   5    5   5      
:  	   
:  ]
    Q 
!!!l      _   elements   $skyPop   css   $window   width   parent   offset	   left   outerWidth   right!!      .this         +H!!       !!   right!!    ;
       5 !!       %   bindSkyPopScroll/<c         
   (                                  *  "                 W  QV  5    5   5         V  5    5   5      
:     :  W   Q    E   QV   >   V  5    5   5      
=    QC   Q     G      E<   QV    E0   QV  5    5   5   	   
=    QB   Q 0$*-    _   elements!   $sideFooterLinks   length   $window   scrollTop   $skyPop   addClass   fixed   removeClass!!      a   .this         +H;       5!!       !!   trailing!!    !!       !!   trailing!!    ;5!!    	      bindPostJumpC           1                                               	       W   QB   QV   5    5   5      
=          
       
V   : X :  QV   5    5   5      
=	   : 
   
V   5      
V   :  QV   5    5   5      
=   : 
   
      
V   :  Q & G X8(kH    _   elements   $window   on   scroll.postJump   debounce	   bind   $postJump	   find   .go-to-comments   click!   scrollToCaptions   .take-me-up!!      a   .this        +H!!          bindPostJump/<c           (                                         k            W  QV  5    5   5      
:  W   Q>V   EL   QV   V  5    5   5      
:  V  5    5   5      
:  5   W  Q    E   QV  4   V  5    5   5   	   
=
    QC   G      E<   QV   E0   QV  5    5   5      
=
    QB   Q r$
!,2	5    _   elements   $window   scrollTop   height   $postActionBar   offset   top   $postJump   addClass   in-comments   removeClass!!      b   c   .this         +H;
       5 !!          bindPostJump/<c   ,                                                                        =   :    
[    >]   X Q     $   html, body   animate   scrollTop!!              +H!!       !!   scrollTop!!    ;       5;5!!    	   '   bindViewabilityJafoC        	   0                                              	       W   Q       
:  <    E   QV   5   5      
=   @      
    V   :  QV   5   5      
=   @      
   V   :  QV   5   5      
=   @      
   V   : : Q t   &  )   	   Math   random   _   emitter   on   vwTime	   bind   vwUnderImage   vwUnderComments!!{Gz?!!      .this         +H!!        +   bindViewabilityJafo/<b 0  (              5!!       +   bindViewabilityJafo/<b        P         5!!       +   bindViewabilityJafo/<b Y  Q              5;5!!       1   postLoadingQueueContentsB         ~  
       5 !!       +   postLoadedContentHashB  }  }    :  
       5!!       +   postLoadingVerifyHashB  (  (    #  
       5!!       '   postLoadingCheckImgB E  =       
       5!!       )   postLoadingHandleImgB  U  U      
       5 !!       +   postLoadingCheckVideoB t  l       
       5!!       -   postLoadingHandleVideoB #         
       5 !!       +   bindViewabilityScrollB         4  
       5!!    	   #   checkStickyHeaderC          {                         B        " 	  	                  W  Q           :    
:  W   Q        =   : W  Q        =   : W  QV     
:  5   W  QV   V  5   5   W  QV  5   V   6   QV  5   5	    E   QV   V  Z   V  
   
:  W  QV     
=    QV     
=   V   QV  5   C6	   Qe   V  5   5	   EO   QV   V  E?   QV     
=    QV     
=   > QV  5   B6	   QV   V  V  5   5   EA   QV  
E3   QV     
=   :  E   QV  
   
:  P7   V     
=    QV     
=        o   V   V  V  5   5   D   QV  EB   QV     
=    QV     
=    QV     
=   : QV  5   5   E   Q       
        =   : [   >]   : -   V  5   5   5      
=   : (   V  5   5   5      
=   : Q 
%  Y$&041    $   window   scrollTop   .post-header   .post-container   offset   top   _   scrollPosition   headerFixed   outerHeight   addClass   fixed   css   padding-top   removeClass%   postTitleMaxHeight   hasClass   animate   one   webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend   off%   animation-finished   captionsEnabled   inviewport   #right-content   threshold   elements   $postJump   js-animate!!      a   b   c   d   e   f   .this         +H!!       '   checkStickyHeader/<c   (                                           O y G y                W   Q        V   :    
=    Q     $   addClass%   animation-finished!!      .this         +H;
       5!!       !!   threshold!!    ;5 !!       )   checkViewabilityTimeB 
  
       
       5 !!       -   checkViewabilityScrollB  , - $ -             5 !!       !   enablePrevButtonB  G { ? {      
       5 !!       !   enableNextButtonB            
       5 !!       #   disablePrevButtonB         k   
       5!!       #   disableNextButtonB  0 a ( a       
       5!!          changeSectionB x  p        
       5!!          changeSortB        (!  
       5 !!          changeWindowB        P!  
       5 !!          getURLB        t!  
       5 !!          fetchImageB +  #     "            b    d    B  C  C    W#  
       5 5!!          fetchCaptionsB        A$  :          a    b    c    d   B        q%         5    B         5&         5    B 0  (     &         5 5!!    	   !   scrollToCaptionsC          &                                 \  \           	       W  Q        V  5   5   5   :    
:  5   V  5   5   5      
:  W   QT  K           =   : 	   
[    V   ]
   X      
V  :           
>V    Q '/!*3    $   _   elements   postActionBar   offset   top   $postHeader   outerHeight   html, body   animate   scrollTop	   bind   window   scrollTo!!      a   b   .this       +H!!       !!   scrollTop!!    !!        %   scrollToCaptions/<b  6 : . :    '         5 ;5!!          processCaptionsB  u  m     '  2          b    a    c   B 9 ; 1 ;    (           B  2  2    M*         5 5   B Q  I     *  
       5    B        <+  
       5    B 6 ~ . ~    +  
       5    B  ;  ;    ,  
       5 5!!       )   getPermalinkIfExistsB   ]   ]     81         5!!    	   #   setupHistoryStateC  \                                          x  8! p  8!                  W  QV     Q    5      
:  W   QV      
=        QV      
=       Q 2LG    Imgur   History   getInstance   addPopState%   inside_nav.comment!   inside_nav.image!!      a   b   .this        +H!!       '   setupHistoryState/<b            V2         5!!       '   setupHistoryState/<b ! 6! ! 6!    2         5;5!!       +   handlePopStateCommentB W! 2" O! 2"    2  
       5!!       '   handlePopStateImageB O" }# G" }#    3  
       5!!          pushWindowStateB # D$ # D$    5  
       5!!    	      setCaptionSortC W                                   	       \$ $ T$ $    5            W  QT      
>?:    
:  T      
?: W   QV  5   5   V  =   V   76   Q 52    substr   toUpperCase   _   captionLayout	   sort   sortCaptionsBy!!      a   b   .this       +H;
      5!!       !   getCaptionSorterB  $ % $ %    b6            a    B h% % `% %    6         55!!       #   sortCaptionsByTopB % & % &    W7         5!!       %   sortCaptionsByBestB "& `& & `&    7         5 !!       #   sortCaptionsByNewB {& & s& &    8         5!!       ?   sortCaptionsByMineJustSubmittedB & ]' & ]'    y8         5!!       !   sortCaptionsByIdB w' ' o' '    8         5 !!       )   sortCaptionsByIdDescB ' ' ' '    D9         5 !!          blankPageB  ' ( ' (    9  
         B  H( t( @( t(    9         5 5!!       !   pushToFetchQueueB ( ( ( (    ,:  
       5 !!          setupReportLinkB  ) ]+ ( ]+    :  
         B  *+ T+ "+ T+    <         5 5!!          handleAdsB  p+ t, h+ t,    <  
       5!!          isSafeB  , 0- |, 0-    >  
       5 !!       '   updateSponsoredInfoB  M- - E- -    >  
       5!!       )   updateSubmissionInfoB  - . - .    e?            a    B  @. . 8. .    ?  
       5 5!!          updatePageB . > . >    S@  J          f   B >3 O3 63 O3    D         5    B 6 6 6 6    TH         5    B ?: P: 7: P:    K         5 5!!       !   purgeCommentDataB  4> #? ,> #?    O            a    B > > z> >    	P         5 5!!          isImagePromotedB <? s? 4? s?    P  
       5!!          isImageNearbyB ? ? ? ?    Q  
       5!!          _promotedTagB @ @ @ @    Q         5 !!          _promotedWrapB @ 'A @ 'A    bR  
       5!!    	      insertPostC q     C                            }       ;A F 3A F    R            W  QT  5    V     
:  R  T  5   E)   Q@V  5   5      
T  5    : r   V  5   5      
T  5          
V  5   V  V  5   5	   
   
T  5    : D
   QT  T : : (V  5   5   E   Q   5   5    W   QV   E   QT  5   5  [    =   ]   V  5   5   ]   T  5    ]    T  5   ]   T  5   ]   T  5   ]   V  5   5      
T  5    : ]   V  5   5   ]   T  ]      5   5   ]   W  Q      
      
   5   V  :        
=!   :       
V  5"   V  :  QV  5   5#   5$   %   
  Q8  [   T  ]   V  5   5&   ]'   T ](   V  5   5   ])   V  5   5   D(   QT  5*   E   QT  +   
=,   : ]-   V  5   5   ].   V  5   5/   ]/   V   ]0   V  5   5   ]   V  5   5    D1   QV  5   51   D   QV  5   52   53   >]4   V  5   51   D   QV  5   52   53   >]5   V  5   5    ]6      5   57   58   T  59   HD   QV  5   51   ]:   V  5   5   ]   V  5   5	   ]	   V  5   5;   ];   W  QV  5         
      
   5=   5>   V  : ?   ?   =@   : A   
>:       
V  5B   V  : : 6<   Q R)K 0E#)$(  ))+#'C5
J*t 	   hash   getHash   is_album   _   albumImageStore   getImages   fetchImages	   bind   insertPost   sideGallery   getImage   hasAccess   Imgur   Environment   captionsEnabled   album   instance   emitter   album_privacy   privacy   deletehash   datetime   images   linkifier	   data	   host   ReactDOM   render   React   createElement   Upload   document   getElementById   upload-album'   recachePostElements   elements   $inside   empty   initialImage   initial   all_loaded#   album_image_store	   isAd   hasOwnProperty   starting_score   in_gallery   has_access   postSavingStore   showEditTools   isPromoted   image   ad_type   hide_points   hide_views   hide_tags	   auth   url   account_url   hide_report   tagStore	   post   Gallery	   Post   $   .post-images   get   postRendered!!      a   b   c   d   e   .this       +H!!    
   !!   instance!!!!   emitter!!!!	   hash!!!!   privacy!!!!   deletehash!!!!   datetime!!!!   images!!!!   linkifier!!!!	   data!!!!	   host!!    !!       !!	   data!!!!   initial!!!!   all_loaded!!!!#   album_image_store!!!!   in_gallery!!!!   has_access!!!!   postSavingStore!!!!   showEditTools!!!!   emitter!!!!   hide_points!!!!   hide_views!!!!   hide_tags!!!!   hide_report!!!!   linkifier!!!!   sideGallery!!!!   tagStore!!    ;"      5 !!    	      postRenderedC                                            F vG F vG    tX            W   QV   5    5      
=   V   5    5   E   QV   5    5   5   1   V   5    5      
V      
:  :    [     Q Xwr      _   emitter   trigger   postRendered   sideGallery   getImage   getHash!!      .this         +H!!            ;
      5 !!       '   recachePostElementsB  G H G H    Y  
       5!!          preloadImageB H J H J    MZ  *          b    c    B  J UJ J UJ    [         5 5!!    	      checkAdTimeC       .                          g        J O J O                  W   QV   5    5   QV      QV   5    5   5        5    5   Q   5   E   Q=      5   t   V   5    5   5   	   
=
    Q      
:     
Z      5   `     Q     Qv  Q X   =      5   A      5    5   5   5      
  Q     Qv  Q =      5   E-   Q   5   E   Q   5   5   5    o      5      
=      5    Q      
:     
Z      5   `     Q     Qv  Q V   5    5   D   Q   5   5   5   D   Q      =   :    
  Q      5   D   QZ    6   Q       
[    =!   ]"   =#   ]$   =%   ]&   ='   ](    Q      5   D   QZ    6   Q       
[   C])   : QV   5    5   B6   Q   *   
V   5    5   5+    QV   5    5      ,   
   V   5    5   5-   : 6+   Q\   V   5    5   5+   DA   QV   5    5      ,   
   V   5    5   5-   : 6+   Q \3' //!%89S:+4	$-!  $&.~4y    _   elements   ad1   nextImageLoadRefreshesAd   window   usesABP   undefined   abp_ad   abpAdId   removeClass   nodisplay   googletag   pubads   refresh   dfp_adslot   adframe   contentWindow   tagRefresh!   leaderboard_slot   Imgur   Environment	   auth   id   setTargeting   url   location	   href   captionsEnabled   $   .trc_rbox   remove   _taboola	   push   thumbnails-a	   modeA   taboola-below-article-thumbnails   container)   LoggedOut_NonGallery   placement   mix   target_type   flush   clearTimeout   currentTimeout   setTimeout   timeTillRefresh!!      a   .this        !!          b         !!          b         !!          b         +H!!       !!	   mode!!!!   container!!!!   placement!!!!   target_type!!    !!       !!   flush!!    !!        K   checkAdTime/this._.ad.currentTimeout<b  N N N N    %`         5!!       K   checkAdTime/this._.ad.currentTimeout<c   .                                             PO O HO O    `                5    5   C6   Q   5    5   >(6   Q `#    _   ad1   nextImageLoadRefreshesAd   currentTimeout!!              +H;       5;     s  W           )           3               $             5 !!       /   removePromotedCompanionB  O O O O    Xa  
       5!!    	      showAdsC Y     7                             D       P T P T    a  	          W  QT  Eb   QV  5    =   6   Q=         
:  5    5   D'   Q      
:  5    5   5   CI  V     
:  W  QV  5    5	   
   
V  : W  Q=      5   5   =   W  Q=      5   5   #   =   W   QV  =   W  U   V     
=   : #   =   W   QV  =   W     =   W   QV  =   W  Q   5            =   : W  QV     D(   Q      =    : !   
="   : Q      =#   : W  Q      =$   : W  QT     V     E   QV  %   
=&   : QV     ?EI   Q      =   : '   
=(   T  =)    Q      =$   : W  QV  *   
T   QV  W  <   V  +   
  QV  *   
=,   V  =-    QV  W  QT  D7   QV  5    5.         =0   : 1   
>: 6/   QV  5    52   C63   QV  5    52   B64   Q=5   T 'E/   QT 6   
   Z   T  `    V  `   O Q a,+&
 8
"+BC
8-D
e&    _   adType   normal   undefined   Imgur   getInstance	   auth   isPro   getHash   sideGallery   getImage   //   Environment	   host   /ads?page=   https:   document   location   protocol5   div-gpt-ad-1378449215044-0   ssl   hasOwnProperty   in_gallery5   div-gpt-ad-1345436959737-0   inside5   div-gpt-ad-1407357841031-0'   inside&main=1&hot=1   window   usesABP   $e   #right-content #under-sidebar-parent.advertisement   length9   #right-content #side-gallery   afterC   <div class="advertisement"></div>y   #right-content #under-sidebar-parent.advertisement .panel-ad{   #right-content #under-sidebar-parent.advertisement .custom-ad   addClass   nodisplay   append/   <div class="custom-ad">   </div>	   html   removeW   <iframe id="adiframe" class="adframe" src="U   " scrolling="no" frameBorder="0"></iframe>   elements   adframe   #adiframe   get   ad1   nextImageLoadRefreshesAd   injectAd   function   apply!!      a   b   c   d   e   f   g   h   i   j   .this    	   +H;      5 !!          reportBadAdsB  U @V U @V    f         5 !!          hideZoomedImageB  YV V QV V    g         5!!       !   timeoutNextImageB  V !X V !X    ]h            b   B  YW W QW W    h         5 5!!    	      bindAutoBrowseC  3                                          9X }Y 1X }Y                  W   QV      Q           :    
     Q i )    $   document   keyup!!      a   .this        +H!!       !   bindAutoBrowse/<c            ,                                  aX {Y YX {Y    i             T  5    E   QxT  5   HE   Q   5      5   5    6   Q   5   5   X         
  Q      
=      	   
   5   5
   X: =   : 7            5   5    Q      
=   : QC i/`$'    ctrlKey   keyCode   _   autoBrowse!   timeoutNextImage   humanMsg   displayMsg1   Starting auto browse in 	   Math	   ceil   autoBrowseWait    seconds!   clearTimeout#   autoBrowseTimeout   Done already?!!      b        +H;       5;5!!          navToImageB Y xZ Y xZ    k         5!!          logNavigationB Z A\ Z A\    l  
       5!!    	   '   isInvalidKeyContextC        
                             
        ^\ \ V\ \    m                    T  5   : W   Q=   V      
=   : HDJ   QT  5   D   QT  5   D   QT  5     D   QV      
=	   :  m#    $   target	   true	   attr   contenteditable   ctrlKey   altKey   metaKey   is   input, textarea!!      a   b       +H;      5!!    	      bindHotKeysC          b                                 \ }e \ }e                  W   QV      QV   5    5      
=   @     Q[   Z   %`    ]   Z   '`    ]   Z   `    ]   Z   m`    X `   ]   Z   X `    =`   k`   ]   Z   9`    i`   ]	   Z   -`    0`   ``   ]
   Z   R`    ]   Z   S`    ]      Q   5      
:     
=   : E   Q   5      
X : Q         :    
       
   d:  QV   5    5   E)   QV   5    5   5      
   : Q nK" q    _   emitter   on   blockHotKeys   ARROW_LEFT   ARROW_RIGHT   ENTER   MINUS	   PLUS	   NINE	   ZERO   R   S   navigator   userAgent   toLowerCase   indexOf   firefox	   push   $   document   keydown   throttle   isRandom   elements   $randomButton   click!!      a   b   .this        +H!!          bindHotKeys/<b -] D] %] D]    n         5!!    	   !!   ARROW_LEFT!!!!   ARROW_RIGHT!!!!   ENTER!!!!   MINUS!!!!	   PLUS!!!!	   NINE!!!!	   ZERO!!!!   R!!!!   S!!    !!           bindHotKeys/<c        :   #                                :^ d 2^ d    o     
          5             
T  :       5      
T  5   : IE    Q   5   5      
:  =   T     
  Q   5   5	   
   
=   =    Q     5      
T  5   : IE    Q   5   5      
:  m      5   5   E   Q   5   5       CT     
  Q   5   5	   
   
=   =    QZ     5      
T  5   : I         =   : W   QV         V      
  Q?         =   : W  QV     E   QV  >7   
:  Q     5      
T  5   : IE   Q   5   5            =   : W  QV     E;   QV     
=   :  E    Q      
=    =!   : Q"   A=#   [    $   ]%   C]&   C]'   ,  R W  QV  >7(   
V   Q     5)      
T  5   : IE   Q   5   5            =*   : W  QV     E;   QV     
=+   :  E    Q      
=,   =!   : Q"   A=#   [   $   ]%   C]&   C]'   ,  R W  QV  >7(   
V   Q     5-      
T  5   : I]      5   5.   $      5   5.   /   
  "         =0   :    
  Qq     51      
T  5   : I(         =2   :    
  Q)     53      
T  5   : I      4   
  Q      55      
T  5   : I         =6   : W  QV     E   QV     
=7   :  $         
=8   =!             
=9   =!    Q"   A=#   [   $   ]%   C]&   C]'   ,  R W  QV  >7(   
V   QCC o&/'  # i/%:
TA9
RA	$
BRA	    hotKeysBlocked'   isInvalidKeyContext   ARROW_LEFT   indexOf   keyCode   _   sideGallery   getPrevImage   preventDefault   emitter   trigger   keyboardNav	   prev   ARROW_RIGHT   getNextImage   Imgur   Environment   hasAccess   captionsEnabled	   next   ENTER   $%   .jquery-image-zoom   length   click   .post-image img   MINUS+   .post-action-downvote   hasClass   red   humanMsg   displayMsgW   <div class="favorited downvoted_msg"></div>   action-msg   MouseEvent   mouseup   window	   view   bubbles   cancelable   dispatchEvent	   PLUS'   .post-action-upvote   greenS   <div class="favorited upvoted_msg"></div>	   NINE	   post   loadAll   .post-loadall   S%   .post-action-stats   R   reportBadAds	   ZERO+   .post-action-favorite	   aqua;   <div class="favorited"></div>S   <div class="favorited unfavorited"></div>!!      c   d   e   f   g   h       +H!!       !!	   view!!!!   bubbles!!!!   cancelable!!    !!       !!	   view!!!!   bubbles!!!!   cancelable!!    !!       !!	   view!!!!   bubbles!!!!   cancelable!!    ;H       5!!          bindHotKeys/<b 7e {e /e {e    v         5;5!!          getSideGalleryB  e e e e    w  
       5 !!       )   forceScrollToCaptionB  e If e If    Ww         5!!          scrollToCaptionB bf f Zf f    w            c   B  f f f f    ax         5 5!!    P   !!	   init!!!!   setHash!!!!   getHash!!!!#   updateCaptionHash!!!!   updateShare!!!!   hasImage!!!!   getImage!!!!   getCurrentImage!!!!   checkFetchQueue!!!!   generalInit!!!!!   bindSkyPopScroll!!!!   bindPostJump!!!!'   bindViewabilityJafo!!!!1   postLoadingQueueContents!!!!+   postLoadedContentHash!!!!+   postLoadingVerifyHash!!!!'   postLoadingCheckImg!!!!)   postLoadingHandleImg!!!!+   postLoadingCheckVideo!!!!-   postLoadingHandleVideo!!!!+   bindViewabilityScroll!!!!#   checkStickyHeader!!!!)   checkViewabilityTime!!!!-   checkViewabilityScroll!!!!!   enablePrevButton!!!!!   enableNextButton!!!!#   disablePrevButton!!!!#   disableNextButton!!!!   changeSection!!!!   changeSort!!!!   changeWindow!!!!   getURL!!!!   fetchImage!!!!   fetchCaptions!!!!!   scrollToCaptions!!!!   processCaptions!!!!)   getPermalinkIfExists!!!!#   setupHistoryState!!!!+   handlePopStateComment!!!!'   handlePopStateImage!!!!   pushWindowState!!!!   setCaptionSort!!!!!   getCaptionSorter!!!!#   sortCaptionsByTop!!!!%   sortCaptionsByBest!!!!#   sortCaptionsByNew!!!!?   sortCaptionsByMineJustSubmitted!!!!!   sortCaptionsById!!!!)   sortCaptionsByIdDesc!!!!   blankPage!!!!!   pushToFetchQueue!!!!   setupReportLink!!!!   handleAds!!!!   isSafe!!!!'   updateSponsoredInfo!!!!)   updateSubmissionInfo!!!!   updatePage!!!!!   purgeCommentData!!!!   isImagePromoted!!!!   isImageNearby!!!!   _promotedTag!!!!   _promotedWrap!!!!   insertPost!!!!   postRendered!!!!'   recachePostElements!!!!   preloadImage!!!!   checkAdTime!!!!/   removePromotedCompanion!!!!   showAds!!!!   reportBadAds!!!!   hideZoomedImage!!!!!   timeoutNextImage!!!!   bindAutoBrowse!!!!   navToImage!!!!   logNavigation!!!!'   isInvalidKeyContext!!!!   bindHotKeys!!!!   getSideGallery!!!!)   forceScrollToCaption!!!!   scrollToCaption!!    !!       	   initB kg j cg j    x  
       5 !!          viewFullscreenB  k nm k nm    |  (          a    d    e   B  m /m m /m             5    B  Km hm Cm hm    O         5 5!!       +   focusOverlayAfterOpenB  m n m n                a   B ,n fn $n fn    0         5 5!!       #   showOverlayIfOpenB n ro n ro             5!!       )   closeOverlayIfExitedB o +p o +p             5 !!       !!	   init!!!!   viewFullscreen!!!!+   focusOverlayAfterOpen!!!!#   showOverlayIfOpen!!!!)   closeOverlayIfExited!!    !!          _extends<b wp q op q    {         5 !!    	      _createClass<c             	                                   q q q q                   G       Q    > !!      a         +H!!     	      a            4                                 $q q q q    (            >W   Q    mT V   7W  QV  V  5    D   QB6    QV  C6   Q=   V  qE   QV  C6   Q      
T  V  5   V   QV   #?W   QQV   T    p 2&  w        enumerable   configurable   value   writable   Object   defineProperty   key   length!!      a   b   c   d       +H;                5 !!    	      _createClass</<c  @                                            q q q q                 T E   Q   T  5    T : QT E   Q   T  T : QT       prototype!!      b   c   d        +H;      5 ;5!!      !!   #ffdd00!!   #1bb76e!!   #227efa!!   #4a58fb!!   #6432f9!!   #ec4081!!   #4366d0!!   #7b85f7!!   #fc6369!!   #f14768!!   #ff51ba!!   #2ccaff!!   #43d0bd!!   #20bee8!!   #ffd300!!   #ff7d00    !!       !!	   name!!!!   shortname!!!!   byline!!!!   preview!!!!   promoted!!    !!       !!	   name!!   Hello!!   shortname!!   hello!!   preview!!   1eoMKhE   !!     	   1   ReactionGifPickerHeader<c  _         !                                 3t v +t v                   G       Q           T   Q         Z   [   =   ]      ]   `     Q         _inherits   _createClass   render   key   value!!      a   b       +H!!           b  At t 7t t    E         5!!          valueB  u v t v    	  
       5!!       !!   key!!!!   value!!    ;5!!    	   A   ReactionGifPickerCollectionItem<c  _         !                                 w )| v )|                   G       Q           T   Q         Z   [   =   ]      ]   `     Q    4     _inherits   _createClass   render   key   value!!      a   b       +H!!           b  w 0y w 0y                d   B  
x y x y             5 5!!          valueB  ry #| jy #|    v            a   B Qz kz Iz kz    U         5 5!!       !!   key!!!!   value!!    ;5!!    	   ;   ReactionGifPickerCollections<c  _         !                                 | ~ | ~                   G       Q           T   Q         Z   [   =   ]      ]   `     Q    = 4    _inherits   _createClass   render   key   value!!      a   b       +H!!          b  | 9} | 9}             5!!          valueB  {} ~ s} ~                a   B  ~ |~ } |~             5 5!!       !!   key!!!!   value!!    ;5!!    	   G   ReactionGifPickerCollectionsLoader<c  _         !                                   ~                    G       Q           T   Q         Z   [   =   ]      ]   `     Q     B    _inherits   _createClass   render   key   value!!      a   b       +H!!          b    
              5!!          valueB                  5!!       !!   key!!!!   value!!    ;5!!    	   #   ReactionGifImage<c  _         !                                 j  b                    G       Q           T   Q         Z   [   =   ]      ]   `     Q         _inherits   _createClass   render   key   value!!      a   b       +H!!          b  x  n     |            d   B n  f     r         5 5!!          valueB                     a    c   B                 5    B                  5 5!!       !!   key!!!!   value!!    ;5!!    	   A   ReactionGifPickerCollectionList<c           ,                                                       G       Q           T   Q         Z   [   =   ]      ]   `    Z   [   =   ]      ]   `     Q     M X    _inherits   _createClass   render   key   value   reduceToGrid!!      a   b       +H!!           b  %       )         5!!          valueB   #  #      
         B                 5 5!!       !!   key!!!!   value!!    !!          valueB I  A     M         5!!       !!   key!!!!   value!!    ;5!!    	   E   ReactionGifPickerCollectionHeader<c  _         !                                                       G       Q           T   Q         Z   [   =   ]      ]   `     Q      k    _inherits   _createClass   render   key   value!!      a   b       +H!!           b                     d   B                 5 5!!          valueB  N  F     R             a   B g  _     k!         5 5!!       !!   key!!!!   value!!    ;5!!    	   %   ReactionGifPicker<c           <       	                          C y ; y                   G       Q           T   Q         Z   [   =   ]      ]   `    [   =   ]      ]   `   [   =   ]      ]   `   [   =   ]      ]   `    Q    $lg9      _inherits   _createClass%   componentDidUpdate   key   value#   componentDidMount1   handleOnScrollCollection   render!!      a   b       +H!!           b Q h G h    U#  
       5!!          valueB        $  
       5!!       !!   key!!!!   value!!    !!          valueB  6 _ . _    :%  
       5!!       !!   key!!!!   value!!    !!          valueB   U  U    %         5!!       !!   key!!!!   value!!    !!          valueB  s s k s    w'            a   B 3 L + L    7(         5    B N k F k    R-         5 5!!       !!   key!!!!   value!!    ;5!!    	   7   ReactionGifPickerContainer<c        
   O                                  *  *                   G       Q           T   Q         Z   [   =   ]      ]   `    [   =   ]      ]   `   [   =   ]      ]   `   [   =   ]      ]   `   [
   =   ]   	   ]   `   [   =	   ]      ]   `    Q    7  A FF  6     _inherits   _createClass)   componentWillUnmount   key   value+   getReactionApiBaseUrl3   getCollectionsApiEndpoint1   getSearchFullApiEndpoint+   getEndpointParameters   render!!      a   b       +H!!           b         -            d   B          $0            B w  o     {0         5    B  Z  Z    0         5    B m  e     q1         5 5   B  g  g     2            a    b    B 9 } 1 }    =3         5    B        3         5    B  e  e    	5         5 5   B    ~     5         5    B        6            a    B         6         5 55!!          valueB  c  [     g7  
       5!!       !!   key!!!!   value!!    !!          valueB  4 e , e    88         5!!       !!   key!!!!   value!!    !!          valueB         8  
       5!!       !!   key!!!!   value!!    !!          valueB   2  2     9  
       5!!       !!   key!!!!   value!!    !!          valueB  _  W     c9  	       5!!       !!   key!!!!   value!!    !!          valueB   $  $    :  
       5!!       !!   key!!!!   value!!    ;5!!       !!   image!!!!   parentId!!!!   parentAuthorId!!!!   autofocus!!!!   onSuccess!!!!   closeReply!!!!'   imagePreviewEnabled!!    !!       !!	   msid!!!!   onSubmit!!    !!    	      getDefaultPropsC                                               L  D     P?             [    X ]    B]   C]    ?S    maxLength   autofocus'   imagePreviewEnabled!!              +H!!       !!   maxLength!!!!   autofocus!!!!'   imagePreviewEnabled!!    ;      5!!          getInitialStateB         ?         5!!       #   componentDidMountB    	     @  
       5!!          getValueB         @  
       5 !!          handleSubmitB  S  S    A  
       5 !!       7   handleEmailNotVerifiedErrorB  x  p     |A  
         B  " x  x    &B  
       5 5!!          handleErrorB        B         5 !!          getLengthB  ^  ^    C           B % 6  6    )_         5 5!!          _submitB  o I g I    s_            B  [  S     _a  
       5    B 4  ,     8b           B   ~     b         5 55!!       #   handleTextChangedB d  \     hd  
       5!!       1   handleImagePreviewUpdateB        e            a    B        e         5 5!!          handleClickB        e  
       5!!          handleKeyDownB 1  )     5f  
       5!!       5   handleReactionGifSelectionB  ]  ]    f  
       5 !!          getImagePreviewB  v  n     zg  
       5!!          removePreviewB   m  m    i  
       5!!       7   toggleShowReactionGifPickerB   o  o    j  
         B   g  g    j  
       5 5!!       9   handleReactionGifButtonClickB  %  %    k  
       5 !!          handleBodyClickB >  6     Bl  
         B         l  
       5 5!!       -   handleReactionGifClickB  ,  ,    m         5 !!       )   componentWillUnmountB  J  B     Nm  
       5 !!          renderB   r  r    m  
       5 !!       !!   displayName!!!!   propTypes!!!!   contextTypes!!!!   getDefaultProps!!!!   getInitialState!!!!#   componentDidMount!!!!   getValue!!!!   handleSubmit!!!!7   handleEmailNotVerifiedError!!!!   handleError!!!!   getLength!!!!   _submit!!!!#   handleTextChanged!!!!1   handleImagePreviewUpdate!!!!   handleClick!!!!   handleKeyDown!!!!5   handleReactionGifSelection!!!!   getImagePreview!!!!   removePreview!!!!7   toggleShowReactionGifPicker!!!!9   handleReactionGifButtonClick!!!!   handleBodyClick!!!!-   handleReactionGifClick!!!!)   componentWillUnmount!!!!   render!!    !!    	   	   initC `	        x                                      s            W   Q       
V   5   T  QV         
[   T 5   ]   T 5   D   Q[    ]   B]   T 5   ]	   T 5
   ]
   =   ]   @]   =   ]   >]   >]   >]   @]   @]   @]   C]   =   ]   =   ]   =   ]   @]   @]   T  ]   B]    B]!   @]"   =#   ]$   %   5&   '   
   : ](   T ])   [           =*   : ]+           =,   : ]-   [   =.   ]/   =0   ]1   =2   ]3   =4   ]5   =6   ]7   =8   ]9           =:   : ];           =<   : ]=           =>   : ]?           =@   : ]A           =B   : ]C           =D   : ]E   [   =F   ]G           =H   : ]I           =J   : ]K   ]L   ]M   [           =N   : ]O           =P   : ]Q           =R   : ]S           =T   : ]U   @]V           =W   : ]X           =Y   : ]Z           =[   : ]\           =]   : ]^           =@   : ]A           =_   : ]`           =a   : ]b           =c   : ]d   [   =e   ]G           =f   : ]g           =h   : ]i           =j   : ]k           =l   : ]m           =n   : ]o   ]p   ]q   [           =r   : ]s           =t   : ]u           =v   : ]w           =x   : ]y           =z   : ]{           =|   : ]}           =a   : ]~           =   : ]           =   : ]o           =   : ]           =   : ]           =   : ]           =   : ]           =   : ]           =   : ]           =   : ]           =   : ]   ]   [           =   : ]           =   : ]           =   : ]o           =   : ]           =   : ]           =   : ]           =   : ]   =   ]   =   ]           =   : ]           =   : ]   ]   [   =   ]G           =   : ]           =   : ]k           =   : ]           =   : ]           =   : ]o   ]      5   5      
:  ]      5   5      
:  ]   [	           =   : ]           =   : ]           =   : ]           =   : ]           =   : ]   =   ]           =<   : ]   =   ]           =   : ]           =   : ]           =   : ]           =   : ]           =   : ]           =   : ]   ]   [
           =   : ]           =   : ]   ]   [           =   : ]   ]   ]   [   >]   >]   >]   @]   =   ]   ]   @]   X]   T : 6   QV      
V   5    QV   5    s





#
	'!("!$#
!) 	
	

	&)('
/:			
 s     $   extend   settings   _   merge   sid	   auth   signed   cdnUrl   cdnURL   baseURL   hot	   sort   section   day   window	   page   maxPage   jafoPage	   hash   nextHash   prevHash   showPast   comment   commentName	   best   comment_sort   gallery   indexName   searchQuery   account_url   emitter   mobile   isRandom   gallery_type	   tags   tagsCookie   navigator   userAgent   match   isIPad   history-   .arrow-up, .arrow-down   arrows   .random-button   randomButton1   #imagelist .page-divider   pageDivider   #nomore   noMorePagesID   .outside-loader   tagLoaderClass#   .imagelist-loader   loaderID'   #extended-imagelist#   extendedImagelist   #load-more   loadMoreID9   .sentence-sorting .options a   $sortOptions   #imagelist   content   #messagebox   messagebox   .combobox   comboboxes   #showviral   $toggleViral   #showusersub   $toggleUserSub#   #gallery-new-info   id-   #gallery-new-info-okay   $okay3   #gallery-new-info-decline   $no   galleryNewInfo   outside   #report-image   reportImageLink1   .button-container .share   $shareTabButton=   .button-container .options-btn   $optionsButton;   .button-container .share-link   $shareLink   counter   .image   image   .zoom	   zoom-   .submit-caption-button'   submitCaptionButton!   #expand-comments   commentExpand   #comment-sort   commentSort   #captions   $comments   #meme-image   reCaptionLink)   #download-album-form7   #download-album-form #email   emailInputG   #download-album-form #download-form	   form   #message   message5   #download-album-form #save	   save!   #download-loader   loader#   downloadAlbumForm   inside   #notoriety-link   notorietyLink   #notoriety-list   notorietyList!   .button.comments   buttonComments   .button.likes   buttonFavorites#   .button.submitted   buttonSubmitted   .button.replies   buttonReplies   captions   #likes   favorites   #loader   #pm-button   pmButton   #pm-wrapper   pmWrapper)   #pm-wrapper textarea   pmBody   #pm-send-button   pmSendButton!   #pm-wrapper form   pmForm   #pm-sent   pmSent'   #update-level-table!   updateLevelTable   #thumbs-top   $carousel	   user   #past-wrapper   wrapper   #past-preview   previewContent   #past-loader   #past-link	   link   #slider   slider   #days	   days/   #slider-wrapper .ticker   ticker   positive#   positiveTickClass   negative#   negativeTickClass   #past-submit   submitButton   #past-calendar   calendar	   past#   #colorbox-confirm)   #colorbox-confirm h3   title3   #colorbox-confirm-message+   #colorbox-confirm-yes   yes)   #colorbox-confirm-no   no?   #colorbox-confirm .small-loader'   colorboxConfirmForm   Imgur   Utilities   Embed!   elEmbedAlbumForm   embedAlbumForm   elColorboxEmbed   colorboxEmbed#   .search-container   $headerSearchC   .search-container input[name="q"]%   $headerSearchInput!   #search_advanced   $advanced+   #search_advanced form   $advancedFormS   #search_advanced form input[name="q_all"]#   $advancedAllInput[   .posts-search .post-list, .posts-search .post   imageCard   $container   #q_size	   size/   input[name="q_size_px"]   $sizePx1   input[name="q_size_mpx"]   $sizeMpx1   input[name="q_size_fmt"]   $sizeFmt   #q_size_is_mpx   $sizeToggle   #size_in_px   $pxCombo   #size_in_mpx   $mpxCombo   search1   #fixed-side-footer-links   links#   .imagelist-panels   imagePanels	   side)   #adm-add-gallery-tag   $addTag   adm   el   pastPage   scrolledPage!   scrolledImageSet   pastTickerTimer	   dark   currentTheme	   vars   messages   undoDelay   _super!!      a   b   c   .this       +H!!            !!	   iPad   !!       !!   id!!!!   $okay!!!!   $no!!    !!       !!   pageDivider!!!!   noMorePagesID!!!!   tagLoaderClass!!!!   loaderID!!!!#   extendedImagelist!!!!   loadMoreID!!!!   $sortOptions!!!!   content!!!!   messagebox!!!!   comboboxes!!!!   $toggleViral!!!!   $toggleUserSub!!!!   galleryNewInfo!!    !!       !!   id!!!!   emailInput!!!!	   form!!!!   message!!!!	   save!!!!   loader!!    !!       !!   reportImageLink!!!!   $shareTabButton!!!!   $optionsButton!!!!   $shareLink!!!!   counter!!!!   image!!!!	   zoom!!!!'   submitCaptionButton!!!!   commentExpand!!!!   comboboxes!!!!   commentSort!!!!   $comments!!!!   reCaptionLink!!!!#   downloadAlbumForm!!    !!       !!   notorietyLink!!!!   notorietyList!!!!   buttonComments!!!!   buttonFavorites!!!!   buttonSubmitted!!!!   buttonReplies!!!!   captions!!!!   favorites!!!!   loader!!!!   pmButton!!!!   pmWrapper!!!!   pmBody!!!!   pmSendButton!!!!   pmForm!!!!   pmSent!!!!!   updateLevelTable!!!!   $carousel!!    !!       !!   wrapper!!!!   previewContent!!!!   loader!!!!	   link!!!!   slider!!!!	   days!!!!   ticker!!!!#   positiveTickClass!!!!#   negativeTickClass!!!!   submitButton!!!!   calendar!!    !!       !!   id!!!!   title!!!!   message!!!!   yes!!!!   no!!!!   loader!!    !!       !!   $headerSearch!!!!%   $headerSearchInput!!!!   $advanced!!!!   $advancedForm!!!!#   $advancedAllInput!!!!   imageCard!!!!   $container!!!!	   size!!!!   $sizePx!!!!   $sizeMpx!!!!   $sizeFmt!!!!   $sizeToggle!!!!   $pxCombo!!!!   $mpxCombo!!    !!       !!   links!!!!   imagePanels!!    !!       !!   $addTag!!    !!       !!   arrows!!!!   randomButton!!!!   outside!!!!   inside!!!!	   user!!!!	   past!!!!'   colorboxConfirmForm!!!!   embedAlbumForm!!!!   colorboxEmbed!!!!   search!!!!	   side!!!!   adm!!    !!       !!   pastPage!!!!   scrolledPage!!!!!   scrolledImageSet!!!!   pastTickerTimer!!!!   currentTheme!!    !!       !!   sid!!!!	   auth!!!!   signed!!!!   cdnURL!!!!   baseURL!!!!	   sort!!!!   section!!!!   window!!!!	   page!!!!   maxPage!!!!   jafoPage!!!!	   hash!!!!   nextHash!!!!   prevHash!!!!   showPast!!!!   commentName!!!!   comment_sort!!!!   indexName!!!!   searchQuery!!!!   account_url!!!!   emitter!!!!   mobile!!!!   isRandom!!!!   gallery_type!!!!   tagsCookie!!!!   isIPad!!!!   history!!!!   el!!!!	   vars!!!!   messages!!!!   undoDelay!!    ;
      5!!          getEmitterB   .  . 	     
       5 !!          getCacheValueB  E  =  	   3            a   B    {  	   q         55!!          isNumberKeyB  N  N 	            5!!          ungalleryB a ' Y ' 	   O  
         B   %  % 	            5 5!!          deleteB 9  1  	   '  
          B      	            5 5!!          spamPostB     	     
          B    |  	   r         5 5!!          matureB     	     
          B  K } C } 	   9	         5 5!!          banB     	   	            a    c   B   ~  ~ 	   
         5 5!!          obfuscateB     	   
  
         B     	   
         5 5!!       	   spamB '    	     
          B      	     
       5 5!!       	   warnB      	               a    B      	   ~         5 5!!          ncmecB     	     
         B f  ^  	   T         5 5!!          trophyB     	     "          f    B T  L  	   B         5 5!!          reportImageB   ~  ~ 	     
       5!!          bindDeleteImageB   p  p 	               a   B      	            5    B  & n  n 	               B     	               B      	            5 5   B   l  l 	            5 55!!          deleteImageB   * } * 	   s            a   B   '  ' 	            5 5!!          reCaptionB  =  5  	   +         5!!          insertAdB  2  2 	            5 !!          fadeInLoaderB H  @  	   6  
       5 !!          fadeOutLoaderB  F  F 	     
       5!!          initialPopStateB _  W  	   M         5!!    	      initTipsyC           )                                    	                 W  QV  5    5    l         =   : W   QV      
     QV      
[   =   ]   <    ]   ]	   C]
   C]    Q LE	>    _   isIPad   $   #imagelist img, .thumbnails img, .thumbs img, .image img, .thumb-title	   each   tipsy   n   gravity   opacity   offset	   html	   live!!ffffff?!!      a   .this         +H!!           initTipsy/<b   A  A 	     
       5!!       !!   gravity!!!!   opacity!!!!   offset!!!!	   html!!!!	   live!!    ;5!!       )   initAdmAddGalleryTagB      	     
       5 !!    	      initZoomC  *         	                                      	               W   QV   5    5   5   5      
  Q !    _   el   inside	   zoom   imageZoom!!      .this         +H;
      5!!          showPastPreviewB  6 d . d 	   $            a    c   B r b j b 	   `            B   `  ` 	            5 55!!          pastOnLoadB  x 7 p 7 	   f            a    B  	 
 |	 
 	   r   
       5    B  
 E 
 E 	   !         5    B W 7 O 7 	   E"         5    B      	   $  
       5    B   5  5 	   %         5 5!!       !   pastClickHandlerB  Q  I  	   ?%            a    B      	   w&         5    B      	   &         5 5!!       +   pastDaysChangeHandlerB /  '  	   '  
       5!!       /   pastDaysKeypressHandlerB  6  6 	   (  
       5!!       -   pastTickerClickHandlerB V  N  	   D(            b    B      	   )         5 5!!       -   pastSubmitClickHandlerB  <  4  	   **  
       5 !!    	   !   galleryTagObjectC A                                            g  g 	                     E   Q       
T :    T    
    :    @ +
*    Array   isArray	   find!!      a   b       +H!!        %   galleryTagObject/<b K ` C ` 	   9+         5 ;5!!    	   )   isPromotedTagGalleryC F                                            }  	   s+            W  QV      
T  T : W   QV    D   Q      V   5   :    +} !   galleryTagObject   parseInt   is_promoted!!      a   b   c   .this       +H;
      5!!    	   %   getGalleryMetadataC          V                         &        3  3 	                 W  Q[    W   QV   V  5   5   6    QV   V  5   5   6   QV   V  5   5   6   QV  5   5   E   QV   =   6   QV   5   x=   y!   =   y4   =	   yG   zZ   V   V  5   5   6   Q<   V   V  5   5   6   Q   V   V  5   5	   6
   QV   V   5	   D   QV   5   6   QT  E   Q=   T  HE   QV   V  5   5   5     6   QV   V     
V   5
      5   5   5   : 6   QV   Z    6   Q      
V  5   5   5   : E2   QV   V  5   5   5      
   : 6   QV    +.p|~xx ``I
1:    gallerySort   _	   sort   galleryWindow   window   galleryType   section   subreddit   topic   tag   tagName   topicTag	   item   promoted   image   is_ad%   promotedTagGallery)   isPromotedTagGallery   Imgur   Environment   galleryTags	   tags   Array   isArray   map!!      a   b   .this       +H!!            !!        5   getGalleryMetadata/b.tags<b  -  - 	   
.         5 ;5!!       9   getVoteSourceFromEnvironmentB  Y ^ Q ^ 	   G.         5 !!          getBaseUrlB  r  j  	   `0  
       5 !!          getSectionUrlB      	   0  
       5!!          getUrlB     	   1         5!!          handleResponseB  v&  v& 	   3            B  " " " " 	   z9  
       5    B I# Z# A# Z# 	   7:  
       5    B  y$ $ q$ $ 	   g;  
       5 5!!          fetchImagesB & ' & ' 	   y=  "          a    c    d   B & ' & ' 	   =  
       5    B  6' ' .' ' 	   $>         5 5!!          showLoadMoreB ' ( ' ( 	   >  
          B O( ( G( ( 	   =?  
       5 5!!          loadMoreB ( * ( * 	   ?  
       5 !!       3   notorietyLinkClickHandlerB  * + * + 	   A  
       5!!       =   userButtonCommentsClickHandlerB  + + + + 	   B  
       5 !!       ?   userButtonFavoritesClickHandlerB  , S, , S, 	   C  
       5!!       ?   userButtonSubmittedClickHandlerB  |, , t, , 	   jC  
       5!!       ;   userButtonRepliesClickHandlerB  , - , - 	   C  
       5!!       #   setupUserCaptionsB  4- 0 ,- 0 	   "D            a   B  / / / / 	   F         5    B  / =0 / =0 	   F  
       5 5!!       %   setupUserFavoritesB  0 O2 0 O2 	   G            a    b    B  0 1 0 1 	   G            B d1 1 \1 1 	   RH         5 55!!       !   setupUserRepliesB  i2 5 a2 5 	   WI            a    B  
5 !5 5 !5 	   K         5    B  15 q5 )5 q5 	   L  
       5 5!!       %   setupUserSubmittedB  6 x7 5 x7 	   L            a    b    B  6 "7 6 "7 	   M            B 6  7 6  7 	   {M         5 55!!       1   userPmButtonClickHandlerB  7 !8 7 !8 	   N  
       5 !!       !   userPmSendButtonB  ;8 : 38 : 	   )O  "          a    B j9 : b9 : 	   XP            B  9 : 9 : 	   P         5 55!!       '   carouselItemFirstInB 6: |: .: |: 	   $Q         5!!       %   carouselItemLastInB : ; : ; 	   Q         5 !!          userInitB  ; ? ; ? 	   R            a    B  `; ; X; ; 	   NR         5    B  ; ; ; ; 	   R         5    B  < +< ; +< 	   R         5    B  Z< < R< < 	   HS         5    B  < < < < 	   S         5    B  < = < = 	   S         5    B  G= _= ?= _= 	   5T         5    B  a> > Y> > 	   OU         5    B  > > > > 	   U         5    B /? s? '? s? 	   V  
       5    B ? ? ? ? 	   V  
       5 5!!          toggleShowViralB  ? @ ? @ 	   V         5!!       )   initOutsideInfScrollB  @ A @ A 	   W  
          B  @  A @  A 	   W  
       5 5!!       -   bindOutsideSortOptionsB  (A KB  A KB 	   X  
          B _A IB WA IB 	   MX  
       5 5!!       5   searchAdvancedHandleSubmitB oB UE gB UE 	   ]Y         5 !!       7   searchAdvancedToggleHandlerB zE F rE F 	   h\            b   B  E F E F 	   \         5    B  wF F oF F 	   e]         5 5!!       9   searchAdvancedToggleSizeTypeB %G G G G 	   ^  
       5 !!          searchHighlightB  G J G J 	   ^         5!!       7   syncSearchSimpleAndAdvancedB  J M J M 	   a  
       5!!       I   _syncSearchSimpleAndAdvancedElementsB ?M M 7M M 	   -d         5 !!          outsideInitB  M ^T M ^T 	   d            a   B N O N O 	   e         5    B  *O BO "O BO 	   f         5    B gO O _O O 	   Uf         5    B O O O O 	   f         5    B O P O P 	   f         5    B  @P ^P 8P ^P 	   .g         5    B P P P P 	   g         5    B P Q P Q 	   g         5    B  VQ mQ NQ mQ 	   Dh         5    B Q AR Q AR 	   h  
       5    B R R wR R 	   mi         5    B  R \T R \T 	   i            B  S YT S YT 	   yj            B  S S S S 	   j         5    B  /T WT 'T WT 	   k         5 555!!       +   initOutsideComboboxesB  }T W uT W 	   kk  
         B T W T W 	   k         55!!    	      insideInitC  1     9                                   .W ` &W ` 	          
       W  Q       
    V  : W   QV     
  Q      
:     
V  5    5    QV  5    5   5   5	   
   
      V  : 5    QV  5    5   DC   QV  5    5   D.   QV  5    5   5   5      
=   : Q   5      
V  5    5   [   V  5    5   5   ]   B]    QV  5    5   5      >W  Q f   mV  5    5   5   5   V  7W  Q   5      
V  5   [   C]   B]    QV  #?W  QQV  V  5    5   5   5      E   QV  
lV  5    5   5   5      E   QV     
:  QV     
  QV  5    5   5    5	   
   
      V  : 5    QV  5!      
       
   V  :  QV  5    5   5   5"   
   
V  5#    QV  5    5   5   5$   
   
V  5%    Q?   &   
='   V  5!   (   
:  : A   V  5    5   5   5)   *   
=+   : ,   
=-    <   V  5    5   5   5)   .   
=+   : ,   
=/    QV  0   
  QV  5    5   5   51   2   
V  53    QV  5    5   5   54   5   
[   V   ]6    Q      7   : 8   
       
   V  :  Q n#  .A"{$M&fW  9&	  -@  57,14/*42    _	   bind   generalInit   Imgur   getInstance   setHash	   hash   el   embedAlbumForm   embedCodeInput   click   $   selectAll   comment_id   mobile   inside   $comments	   html   <img class="small-margin-top" src="//s.imgur.com/images/loaders/ddddd1_2b2b2b/24.gif"/>	   Util   triggerView   image   is_album   album   discard   album_images   images   length   adm   $addTag)   initAdmAddGalleryTag   initZoom   colorboxEmbed   imgurInsideNav   reCaptionLink   reCaption   $shareTabButton   toggleTab   cookie   r   getHash   reportImageLink   addClass   red	   text    post reported   removeClass    report post'   initModerationPanel   $shareLink   focus   select   $optionsButton   combobox   maybe   document   ready!!      a   b   c   .this         +H!!           insideInit/a<b FW 0Z >W 0Z 	   4n         5 !!       !!   album!!!!   discard!!    !!       !!   image!!!!   discard!!    !!          insideInit/<c            $                                 ] ^ ] ^ 	                 W   QV   5       
V   5   5    QV   5   5   5   D   QV   5   5   Dm   Q@V   5   5   HDV   QV   5   5    D@   QV   5    	   
V   5   5
         
    V   : : Q      =   :    
      
   V   :  Q t8FG  Y    imgurInsideNav   setCaptionSort   _   comment_sort   image#   comments_disabled   mobile   section   captionsEnabled   fetchCaptions	   hash	   bind   $   .post-loadall   click!!      .this         +H!!          insideInit/</<b  ] R^ ] R^ 	   t  
       5 !!          insideInit/</<b  ^ ^ z^ ^ 	   pu  
       5 ;5!!       !!   maybe!!    !!           insideInit/<c            	                                  ` ` ` ` 	   w            W   QV       
  Q w    updateShare!!      .this         +H;
       5 ;    K     5 !!          toggleTabB ` a ` a 	   w         5!!    	      generalInitC  s                                          a b a b 	   x            W   QV   5          =   :    
:  6   QV   5    [    =   ]   =   ]	   =
   ]   6   QV      
  Q x
P6R    _   sid   $	   #sid   val   messages   Are you sure you want to remove this submission from the gallery?   deleteImageU   <div id="load-more">load more images</div>   loadMore   Are you sure you want to report this submission for spam or abuse?   reportImage   initTipsy!!      .this         +H!!       !!   deleteImage!!!!   loadMore!!!!   reportImage!!    ;
      5 !!    	      updateShareC  q        P                                 b md b md 	   y            W  QV  5    5   W   QV   R     5      
:  W  QV     
  Q=   V  5    5   V  5    5   =	   V  5    5
   W  QV   5   #   V     
=   =   :    V     
=   =	   : W  QV     
[   V   5   ]          
V     
:  [    =   ]   V  5    5
   ]
   V   5   ]   C]   V   5   ]   : ]   V  ]   [   C]    Q y
!8'%u\      _   image   Imgur   ShareButtons   getInstance   bindButtons   https://	   host   baseURL   /	   hash   is_album   replace'   /account/favorites/   /a/   setShareData   title   merge%   getGalleryMetadata   galleryPost	   type   isAlbum   inGallery	   nsfw   jafoMeta   url   global!!      a   b   c   .this         +H!!       !!	   type!!!!	   hash!!!!   isAlbum!!!!   inGallery!!!!	   nsfw!!    !!       !!   title!!!!   jafoMeta!!!!   url!!    !!       !!   global!!    ;      5!!          getInsideNavB  d d {d d 	   q{  
       5 !!       3   resetReportCloseAnalyticsB  d d d d 	   {  
       5!!       7   preventReportCloseAnalyticsB  e ;e 
e ;e 	    |  
       5!!    	   '   initModerationPanelC                                   W        Xe jp Pe jp 	          
       W  Q    W   Q      Q    V  5   5        QV     QV  5   [   >]      ]      ]   6   Q   V  5   5      Q   V      
   : 6   Q	   	   =
   :    
      
   :  Q	   	   =   :    
      
   :  Q	   	   =   :    
      
   :  Q	   	   =   :    
      
   :  Q	   	   =   :    
	      
   :  Q	   	   =   :    

      
   :  Q	   	   =   :    
      
   :  Q	   	   =   :    
      
   :  Q	   	   =   :    
      
   :  Q	   	   =   :    
      
   :  Q	   	   =   :    
=   =         
V  5   V  :  Q  !"%
      ?    G    A        X    F    D    0    G  %-    undoDelay   _   pendingActions   val   increment   decrement   window   onbeforeunload	   bind   $   #dboi-post   click   #ungallery-post   #delete-post   #spam-post   #mature-post   #warn-user   #ban-user   #obfuscate-post   #spam-user   #ncmec-post   #trophy-mod   on   button   trophy!!      a   b   c   .this        +H!!          a   )                                           ee e [e e 	   S|            W   QV   5    5   5   >   =    |Ve    _   pendingActions   val   Some moderation actions have not yet saved. Leaving will discard some actions you have taken!!!      .this         +H;
       5!!          b e f e f 	   |         5!!          incrementB  g g f g 
      
       5!!          decrementB  "g 0g g 0g 
   
  
       5!!       !!   val!!!!   increment!!!!   decrement!!    !!        +   initModerationPanel/<c         	   !                                 g hh g hh 
                 W  Q  V  : W   QV  5    5      QV  5      
:     Q         @=          
  : C      V   :    Q f}    _   account_url   imgurInsideNav   getHash   pendingActions   createUndoToast)   Warning and removing	   bind   undoDelay!!      a   d   e   .this        +H!!       K   initModerationPanel/</pendingActions<b  h @h h @h 
     
       5;5!!       +   initModerationPanel/<c   s                                          h Gi h Gi 
                 W  Q  V  : W   QV  5       
:     Q         @=          
  : C      V   :    Q Zq    imgurInsideNav   getHash   pendingActions   createUndoToast+   Removing from gallery	   bind   undoDelay!!      a   d   .this        +H!!       K   initModerationPanel/</pendingActions<b  
i i i i 
     
       5;5!!       +   initModerationPanel/<c   s                                          qi j ii j 
                 W  Q  V  : W   QV  5       
:     Q         @=          
  : C      V   :    Q `Ri    imgurInsideNav   getHash   pendingActions   createUndoToast   Deleting post	   bind   undoDelay!!      a   d   .this        +H!!       K   initModerationPanel/</pendingActions<b  i i i i 
     
       5;5!!       +   initModerationPanel/<c   s                                          Cj j ;j j 
                 W  Q  V  : W   QV  5       
:     Q         @=          
  : C      V   :    Q 2Xo    imgurInsideNav   getHash   pendingActions   createUndoToast)   Marking post as spam	   bind   undoDelay!!      a   d   .this        +H!!        K   initModerationPanel/</pendingActions<b  j j j j 
     
       5;5!!       +   initModerationPanel/<c            $                                 k k k k 
                 W  Q  V  : W   QV  5       
:     QV  5       
:     Q         @=          
  : C      V   :    Q by    imgurInsideNav   getHash   getImage   pendingActions   createUndoToast-   Marking post as mature	   bind   undoDelay!!      a   d   e   .this        +H!!       K   initModerationPanel/</pendingActions<b  k k k k 
     
       5;5!!       +   initModerationPanel/<c   n                                           l l l l 
                 W  Q  V  : W   QV  5    5      Q         @=          
  : C      V   :    Q Lc    _   account_url   pendingActions   createUndoToast   Warning user	   bind   undoDelay!!      a   d   .this        +H!!       K   initModerationPanel/</pendingActions<b  l l yl l 
   i  
       5;5!!       +   initModerationPanel/<c          
                                     l m l m 
                     : W   Q  5    5      Q   5   5      Q         @=          
  : C	      V   :    Q Md    _   account_url   window   location	   href   pendingActions   createUndoToast   Banning user	   bind   undoDelay!!      a   d   e        +H!!       K   initModerationPanel/</pendingActions<b  Rm cm Jm cm 
   :  
       5;5!!       +   initModerationPanel/<c   s                                          m en m en 
                 W  Q  V  : W   QV  5       
:     Q         @=          
  : C      V   :    Q Ul    imgurInsideNav   getHash   pendingActions   createUndoToast!   Obfuscating post	   bind   undoDelay!!      a   d   .this        +H!!        K   initModerationPanel/</pendingActions<b  (n =n  n =n 
     
       5;5!!       +   initModerationPanel/<c         	   !                                 n No n No 
                 W  Q    : W   Q  5    5      QV  5      
:     Q         @=          
  : C      V   :    Q |Zq    _   account_url   imgurInsideNav   getHash   pendingActions   createUndoToast1   Spamming user & removing	   bind   undoDelay!!      a   d   e   .this        +H!!       K   initModerationPanel/</pendingActions<b  o &o o &o 
     
       5;5!!       +   initModerationPanel/<c   o                                            wo !p oo !p 
                     : W   Q  5       
:     Q         @=          
  : C      V   :    Q 	fXo    imgurInsideNav   getHash   pendingActions   createUndoToast/   Reporting post to NCMEC	   bind   undoDelay!!      a   d        +H!!       K   initModerationPanel/</pendingActions<b  o o o o 
   	  
       5;5;5!!    L   !!	   init!!!!   getEmitter!!!!   getCacheValue!!!!   isNumberKey!!!!   ungallery!!!!   delete!!!!   spamPost!!!!   mature!!!!   ban!!!!   obfuscate!!!!	   spam!!!!	   warn!!!!   ncmec!!!!   trophy!!!!   reportImage!!!!   bindDeleteImage!!!!   deleteImage!!!!   reCaption!!!!   insertAd!!!!   fadeInLoader!!!!   fadeOutLoader!!!!   initialPopState!!!!   initTipsy!!!!)   initAdmAddGalleryTag!!!!   initZoom!!!!   showPastPreview!!!!   pastOnLoad!!!!!   pastClickHandler!!!!+   pastDaysChangeHandler!!!!/   pastDaysKeypressHandler!!!!-   pastTickerClickHandler!!!!-   pastSubmitClickHandler!!!!!   galleryTagObject!!!!)   isPromotedTagGallery!!!!%   getGalleryMetadata!!!!9   getVoteSourceFromEnvironment!!!!   getBaseUrl!!!!   getSectionUrl!!!!   getUrl!!!!   handleResponse!!!!   fetchImages!!!!   showLoadMore!!!!   loadMore!!!!3   notorietyLinkClickHandler!!!!=   userButtonCommentsClickHandler!!!!?   userButtonFavoritesClickHandler!!!!?   userButtonSubmittedClickHandler!!!!;   userButtonRepliesClickHandler!!!!#   setupUserCaptions!!!!%   setupUserFavorites!!!!!   setupUserReplies!!!!%   setupUserSubmitted!!!!1   userPmButtonClickHandler!!!!!   userPmSendButton!!!!'   carouselItemFirstIn!!!!%   carouselItemLastIn!!!!   userInit!!!!   toggleShowViral!!!!)   initOutsideInfScroll!!!!-   bindOutsideSortOptions!!!!5   searchAdvancedHandleSubmit!!!!7   searchAdvancedToggleHandler!!!!9   searchAdvancedToggleSizeType!!!!   searchHighlight!!!!7   syncSearchSimpleAndAdvanced!!!!I   _syncSearchSimpleAndAdvancedElements!!!!   outsideInit!!!!+   initOutsideComboboxes!!!!   insideInit!!!!   toggleTab!!!!   generalInit!!!!   updateShare!!!!   getInsideNav!!!!3   resetReportCloseAnalytics!!!!7   preventReportCloseAnalytics!!!!'   initModerationPanel!!    !!    	   	   initC )                                          p q p q 
   
            W   QV   T  6    QV      
T T  Q 
    imgurInsideNav   _super!!      a   b   c   .this       +H;
      5!!       !!	   init!!    !!            !!    	   	   initC 1                                          q q q q 
               W   QV       
T T T  QV   5   T  6   Q     _super   _+   outsideActiveTagStore!!      a   b   c   d   .this       +H;
      5!!       !   handleTagChangedB r r r r 
     
       5 !!       %   _handleTagDeselectB  r s r s 
     
       5 !!       !   _handleTagSelectB /s t 's t 
     
       5 !!       -   _updatePageOnTagChangeB 
u Sv u Sv 
            5!!          refetchPageB  hv w `v w 
   P  
         B  tw w lw w 
   \  
       5 5!!       !!	   init!!!!!   handleTagChanged!!!!%   _handleTagDeselect!!!!!   _handleTagSelect!!!!-   _updatePageOnTagChange!!!!   refetchPage!!    !!       !!   noNav!!    !!    	      getInitialStateC  8                                          x y x y 
               W   Q[    C]    B]   V   5   5   ]   C]   B]    	    first	   last   props   initialImage   image   initial   showingGrid!!      .this         +H!!       !!   first!!!!	   last!!!!   image!!!!   initial!!!!   showingGrid!!    ;
      5!!    	   #   componentDidMountC  .         	                                 (y ~y  y ~y 
                 W   QV   5    5      
=   V        Q R    props   emitter   on   initGrid!!      .this         +H!!       '   componentDidMount/<b  Yy |y Qy |y 
   A  
       5;5!!       )   componentWillUnmountB  y y y y 
     
       5 !!    	      _nextC  *         	                                  y z y z 
               W   QV   5    5      
=   =    Q .    props   emitter   trigger   buttonNav	   next!!      .this         +H;
      5 !!    	      _prevC  *         	                                  z Dz 
z Dz 
               W   QV   5    5      
=   =    Q .    props   emitter   trigger   buttonNav	   prev!!      .this         +H;
      5 !!    	      closeRearrangeC  ?                                          \z z Tz z 
   D            W   QV   5    5      
=    QV      
[    B]    Q G(    props   emitter   trigger   closeGrid   setState   showingGrid!!      .this         +H!!       !!   showingGrid!!    ;
      5 !!       %   componentDidUpdateB  z | z | 
            5 !!    	      renderC       :          	                  ]        |  |  
               W  Q=    W  QV  5   5   DH   Q   5   5   E2   Q   5   5    E   QV  5   5   5	    E   Q=
   W  QV  5   5   A         
=   [    V  5   ]   =   ]   =   : q        
=   [   =   V  ]         
=   [   V  5   5         5      V  5   ]   =   V  5   5      =      =    ]   :       
=   [   V  5   5         5      V  5   ]   =   V  5   5      =      =    ]         
=   [   =   ]   =   :       
=    [   =!   ]   : : : W   Q      
=   @V         
=   [   ="   ]         
   5#   5$   [   V  5   5%   ]%   =&   ]'   =(   ])   =*   V  5   5   5+      =,      =    ]-   =.   ]/   V  5   5   5(   ]   V  5   5   5	   ]	   V  5   5   50   ]0   V  5   5   5	      V  51      V  52   ]3   C]4   V  5   55   ]5   V  5   56   ]6   V  5   56      ?   =    ]7   : :       
   5#   58   [   V  5   5   ]   V  5   56   ]9   : :  /$.4  4+  *`V<5 <O+D(#'O' y        props   noNav   Imgur   Environment   hasAccess   captionsEnabled   state   image   is_album    nodisplay   showingGrid   React   createElement   div   closeRearrange   onClickQ   right btn btn-action btn-rearrange-done'   className	   Done   next-prev   first   _	   noop   _prevA   btn navPrev icon icon-arrow-left    disabled	   last   _next-   btn btn-action navNext	   text   Next Post	   span+   icon icon-arrow-right)   post-title-container   Gallery   TitleDesc   postSavingStore   h1   element   title	   type   post-title	   nsfw#    mature-indicator   classes3   Give your post a title...   placeholder   deletehash   MAX_ALBUM_TITLE   MAX_IMAGE_TITLE   max_length   no_enter   published   showEditTools   tabindex   SourceBar	   slim!!      a   b   .this         +H!!       !!   onClick!!!!   className!!    !!       !!   className!!    !!       !!   onClick!!!!   className!!    !!       !!   onClick!!!!   className!!    !!       !!   className!!    !!       !!   className!!    !!       !!   className!!    !!       !!   postSavingStore!!!!   element!!!!	   type!!!!   classes!!!!   placeholder!!!!	   text!!!!   is_album!!!!   deletehash!!!!   max_length!!!!   no_enter!!!!   published!!!!   showEditTools!!!!   tabindex!!    !!       !!   image!!!!	   slim!!    ;
      5 !!       !!   displayName!!!!   MAX_ALBUM_TITLE!!!!   MAX_IMAGE_TITLE!!!!   propTypes!!!!   getInitialState!!!!#   componentDidMount!!!!)   componentWillUnmount!!!!   _next!!!!   _prev!!!!   closeRearrange!!!!%   componentDidUpdate!!!!   render!!    !!          getInitialStateB  ^ x V x 
   F         5!!       #   componentDidMountB   =  = 
   {  
         B  2  2 
     
       5 5!!          getEmbedScriptB  U  M  
   =         5 !!          getEmbedCodeB  V  V 
     
       5 !!       !   handlerHideTitleB p  h  
   X             B      
             5 5!!          renderB   v  v 
      
       5 !!       !!   displayName!!!!   getInitialState!!!!#   componentDidMount!!!!   getEmbedScript!!!!   getEmbedCode!!!!!   handlerHideTitle!!!!   render!!    !!     	      _slicedToArray<c                                                 3  3 
                  G       Q    $n   !!      a         +H!!          a     
   #  8       5!!       #   _slicedToArray</<b  2  2 
   }$         5;5!!       !!   stiffness!!   !!   damping!!
      !!       !!   stiffness!!x   !!   damping!!      !!       !!   onScroll!!!!   $window!!    !!     	      getDefaultPropsC                                               G f ? f 
   /&             [    =    ]    &2    !   gridImageClasses!!              +H!!       !!!   gridImageClasses!!    ;      5!!          getInitialStateB   8 w 8 
   g&         5 !!       %   componentWillMountB  T  L  
   <(  
       5 !!          findIndexByHashB  H  H 
   (  
       5!!          handleScrollB  ^  V  
   F)  
       5 !!          handleMouseMoveB  >  > 
   )         5 !!          handleMouseDownB W  O  
   ?+  
       5!!          handleMouseUpB "    
   
,  
       5!!       1   createRearrangeComponentB     
   ,  J          a    c    d    e    f    g    B     
   .         5 5!!          renderB   t  t 
   0  
       5 !!       !!   displayName!!!!   COLUMN_COUNT!!!!   _!!!!   getDefaultProps!!!!   getInitialState!!!!%   componentWillMount!!!!   findIndexByHash!!!!   handleScroll!!!!   handleMouseMove!!!!   handleMouseDown!!!!   handleMouseUp!!!!1   createRearrangeComponent!!!!   render!!    !!       !!   UPVOTE!!   upvote!!   DOWNVOTE!!   downvote!!   FAVORITE!!   favorite   !!       !!   UP!!   up!!	   DOWN!!	   down   !!    	      getInitialStateC           *                                     
   o4            W   Q[    V   5    5   ]   V   5    5   ]   V   5    5   ]   =   V   5    5   ]   =   V   5    5   ]   V   5    5	   ]	   V   5    5
   ]
   ?      
=   V   5    5   : ]   B]   @]   V   5    5   D   QZ    ]    4r"'    props   ups   downs   views   up	   vote   upvoted	   down   downvoted   favorited   points   $   cookie   r	   hash   reported#   postOptionsOpened)   signupTooltipOptions   galleryTags!!      .this         +H!!       !!   ups!!!!   downs!!!!   views!!!!   upvoted!!!!   downvoted!!!!   favorited!!!!   points!!!!   reported!!!!#   postOptionsOpened!!!!)   signupTooltipOptions!!!!   galleryTags!!    ;
      5 !!    	   #   componentDidMountC        
                                         
   5            W   QV   5    5   E   QV   5    5      
=   V   V   5    QV   5    5      
=   V   V   5    QV   5    5      
=   V   V   5	   : Q 5AEA    props   in_gallery   emitter   on   pointUpdate#   handlePointUpdate   addedToFolder'   handleAddedToFolder   admTagAdded#   handleAdmTagAdded!!      .this         +H;
      5!!    	   '   componentWillUpdateC       
                                        
   6            W   QV   5    5   T  5   D   QV   5    5   D   QV   5   5   EG   QV   5   5   T 5   E)   QV   5   5   5      
=   : QV   5   5	   EG   QV   5   5	   T 5	   E)   QV   5   5	   5      
=   : Q 6+/A,@    props	   hash	   isAd	   refs   points   state   classList   add=   post-action-stats-points--fade   views!!      a   b   .this       +H;
      5!!    	   %   componentDidUpdateC  F                                              
                 W   QV   5    5   D/   Q            
    V   : X : Q 7      props	   isAd   setTimeout   _	   bind!!      .this         +H!!        )   componentDidUpdate/<c   y                                           >  6  
   &8            W   QV   5    5   E)   QV   5    5   5      
=   : QV   5    5   E)   QV   5    5   5      
=   : Q 8)DB 	   refs   points   classList   remove=   post-action-stats-points--fade   views!!      .this         +H;
       5;5!!       )   componentWillUnmountB      
   8  
       5 !!    	   #   handlePointUpdateC 8        W                                 5  5 
   9            W   Q=    T  q'  T  5   x=   y   =   y   z  V   5   5   T  5      V   5   5      
T  5    T  5	   T  5
    QV      
[    T  5	   ]	   T  5
   ]
   T  5   ]    Qp   V   5   5   T  5      V   5   5      
T  5    T  5    QV      
[   T  5   ]    Q 9p ~x  :
9`Y3 	   hash	   type   image   views   state   points   props   sideGallery   updatePoints   ups   downs   setState   updateViews!!      a   .this       +H!!       !!   ups!!!!   downs!!!!   points!!    !!       !!   views!!    ;      5 !!    	   -   logCreateSignupTooltipC          @                                U  M  
   =;            W  Q[    =    ]   W   QT  xV  5   5   y3   V  5   5   y4   V  5   5   yM   zo   V   =   6   QZ   V   V  5   5	   6   QV   =
   6   Q-   V   V  5   5   6   QV   =
   6   Q   5      
[   =   ]   V   ]    Q ;Es  xxx (%`"!`$!2    gallery	   type   actionType   FAVORITE   UPVOTE   DOWNVOTE!   invokedToolTipBy   favoriteAttempt   voteType   UP   voteAttempt	   DOWN   Imgur	   Util   jafoLog   toolTipAppear   event	   meta!!      a   b   .this       +H!!       !!	   type!!    !!       !!   event!!!!	   meta!!    ;      5!!    	   '   createSignupTooltipC      &   f                                    
       	          W  QV     QT  5    W   QT  5   W  QT  5   W  Q   5   5   =   V   =   W  QV  5   5	      =
      =   W  Q=   V   V  W  QV   =   W  Q[    =   ]   =   ]       QZ      5   5      
=   =      =   : `       5   5      
=   =      =   : `   W  QV     
V    Q      
=   [   =   ]         
   5   5   [   V   ]    V  ]!   V  ]"   V  ]   V  ]   V  ]#   V  ]$      ]%   : :  <	
	>)7&    D
   	   type   title	   body   Imgur   Environment   staticUrl)   /images/icons/large_	   .png   props   in_gallery      -nongallery]   ActionCard-post ActionCard-animate ActionCard-   -signup-card   voteAttempt/   invokedRegisterSigninBy   image   Elements   ActionCard   createAction   signin   Sign in#   btn btn-left-edge   signup   Sign up=   btn btn-action btn-action-card-   logCreateSignupTooltip   React   createElement   div   signup-tooltip   id   key   classNames	   name   actions   imageUrl   close!!      a   b   c   d   e   f   g   h   i   j   k   .this   	   +H!!       !!/   invokedRegisterSigninBy!!!!	   type!!    !!       -   createSignupTooltip/k<b  ' R  R 
   >         5 !!       -   createSignupTooltip/k<b      
   >         5 !!       !!   id!!    !!          closeB      
   ?         5!!       !!   key!!!!   classNames!!!!	   name!!!!   title!!!!	   body!!!!   actions!!!!   imageUrl!!!!   close!!    ;5!!    	   #   showSignupTooltipC                                            	  
                 W   QV      QV   5    5   E%   Q   5   V   5    5   5   H%   V      
[    @]   : (            ?: ( @V+>    state)   signupTooltipOptions	   type   setState   setTimeout!!      a   b   .this      +H!!       !!)   signupTooltipOptions!!    !!       '   showSignupTooltip/<b      
   @         5;5!!    	      handleVoteC      3                            @           
                 W  QV  5    5   E   Q=      D'   QV  5    5   E   Q=      E   QT  E   Q=      Q   5   5   5	    E   QT     >(W   Q=      H7   [    V  5
   5   ]   =   ]   =   ]   2   [   V  5
   5   ]   =   ]   =   ]   W   QV     
V   : (=      H<      5      
:  W  QV     
V     
:   QV     
[   =      ]   =      ]    Q      
[   =   V  5   5   ]   =    ]   [      ]!      5   5"   ]#   =$   ]   =%   ]&      5'      
:  (   
:  ])      5'      
:  *   
:  ]+   ],   B]-   .   /   
   V  : ]0    QV  5   51   2   
V  5   5      .   /   
   V  :  Q @?JB z#,5,  a4h    state   upvoted   up   downvoted	   down	   veto   Imgur   Environment	   auth   id   actionType   UPVOTE	   type   Up and Away!   title   Sign up to upvote the posts you like and make them more popular.	   body   DOWNVOTE   Beg to differ?s   Sign up to downvote the posts that rub you the wrong way.#   showSignupTooltip   UserStatistics   getInstance)   emitActionUserUpvote   getTagsNames   setState   $	   ajax+   /gallery/action/vote/   props	   hash   url	   POST	   vote	   msid   sid   image   inside   location   Gallery%   getGalleryMetadata   gallery9   getVoteSourceFromEnvironment   source	   data'   displayGenericError   _	   bind   success   sideGallery   updateVote!!      a   b   c   d   .this      +H!!       !!	   type!!!!   title!!!!	   body!!    !!       !!	   type!!!!   title!!!!	   body!!    !!       !!   upvoted!!!!   downvoted!!    !!       !!	   vote!!!!   sid!!!!	   type!!!!   location!!!!   gallery!!!!   source!!    !!       +   handleVote/<.success<b o  g  
   WD  
       5!!       !!   url!!!!	   type!!!!	   data!!!!'   displayGenericError!!!!   success!!    !!           handleVote/<b       
   E  
       5 ;5!!    	   '   handleAddedToFolderC  !                                          % F  F 
   F            W   QV       
[    C]    Q F    setState   favorited!!      .this         +H!!       !!   favorited!!    ;
      5 !!    	   #   handleAdmTagAddedC          	                                a  Y  
                 W   QV       
     Q FMp    setState!!      a   .this      +H!!        '   handleAdmTagAdded/<b {  s  
   cF         5;5!!    	      handleFavoriteC       +                            -         
  
 
                 W  QV  5    5   W   Q   5   5   5    B   V     
[    V  5   5   ]	   =
   ]   =   ]   : (V  5    5    <      5      
:  W  QV     
V     
:   QV     
[   V  5    5    ]    Q=   V  5   5   =   W  QV  5   5   E   Q=   V  W  Q      
[   V  ]   =   ]	   [   C]      5   5   ]   =   ]   ]    !   "   
   V  : ]#    Q   5$   %   
[   =&   ]'   [   V  5   5   ](   V  5   5   ]   =   ]   V      =)      =&   ]    ]*    Q F #3
5"         state   favorited   Imgur   Environment	   auth   id#   showSignupTooltip   actionType   FAVORITE	   type+   Fave and Never Forget   titlei   Sign up to save your favorite posts to your profile.	   body   UserStatistics   getInstance7   emitActionUserAddInFavorite   getTagsNames   setState   /   props	   hash   /fav.json   is_album   /a   $	   ajax   url	   POST	   msid   inside   location	   data   _	   bind   error	   Util   jafoLog   favorite   event   isAlbum   unfavorite	   meta!!      a   b   c   .this         +H!!       !!	   type!!!!   title!!!!	   body!!    !!       !!   favorited!!    !!       !!	   ajax!!!!	   msid!!!!   location!!    !!        /   handleFavorite/<.error<b  ! p  p 
   	I  
       5!!       !!   url!!!!	   type!!!!	   data!!!!   error!!    !!       !!   isAlbum!!!!	   hash!!!!   location!!!!   state!!    !!       !!   event!!!!	   meta!!    ;5 !!    	      showAnalyticsC  R        [                                !    
          	       W  QV  5    5      QV  5    5    '  V  5    5   E   QV  5    5   l   >   Q>W   Q 9   m   V  5    5   V   75      QV   #?W   QQV   V  5    5            
[   =   ]	   C]
   =   ]   =   ]   B]   C]   X|]   X]   =   ]   =   ]   =   ]         
    V  : ]    Q J1&9*S)H,
	
	?     props	   size	   isAd   is_album   album_images   length   $   colorboxI   <div id="analytics-container"></div>	   html	   open   10%   top	   none   transition   scrolling   fixed   width   height   blurbox   className      close   Analytics   title   _	   bind   onComplete!!      a   b   .this        +H!!        7   showAnalytics/<.onComplete<b      
   K  
       5!!       !!	   html!!!!	   open!!!!   top!!!!   transition!!!!   scrolling!!!!   fixed!!!!   width!!!!   height!!!!   className!!!!   close!!!!   title!!!!   onComplete!!    ;    f   S   5!!    	      handleReportC      ,   b                         )           
                 W   QT      
  Q[    =   ]   V   5   5   ]   V   5   5   ]   V   5   5   ]      Q   5	   
   
[   =   ]      ]    Q   5   5   5            
[   =   ]   C]   =   ]   =   ]   B]   C]      5   5   5   5   ]      5   5   5   5    ]    =!   ]"   =#   ]$   %   &   
   V   : ]'   %   &   
   V   : ](    $      )   
:  *   
=+    Q M3&)
	-/	  	
     preventDefault   galleryPost	   type   props	   hash   is_album   isAlbum	   nsfw   Imgur	   Util   jafoLog   reportInvoked   event	   meta   Environment	   auth   id   $   colorboxC   <div id="report-container"></div>	   html	   open   10%   top	   none   transition   scrolling   fixed   Elements   Report   dimensions   width   height   noBorder   className      close   _	   bind   onComplete   onClosed   getInstance   signin   reportAttempt!!      a   b   .this      +H!!       !!	   type!!!!	   hash!!!!   isAlbum!!!!	   nsfw!!    !!       !!   event!!!!	   meta!!    !!        5   handleReport/<.onComplete<b   v  v 
   {O  
          B  . N & N 
   P  
       5 5!!       1   handleReport/<.onClosed<b   X  X 
   }P         5 !!       !!	   html!!!!	   open!!!!   top!!!!   transition!!!!   scrolling!!!!   fixed!!!!   width!!!!   height!!!!   className!!!!   close!!!!   onComplete!!!!   onClosed!!    ;5!!    	      handleDownloadC         1                                    
   Q            W   QT      
  Q   5      
[   =   ]   [    =   ]   V   5   5	   ]	   V   5   5
   ]
   V   5   5   ]   V   5   5   ]   ]    QV   5   5   /      =   V   5   5
   =   6   F      =   V   5   5
   =         V   5   5   : 6   Q Qt  r$    preventDefault   Imgur	   Util   jafoLog   downloadImage   event   postOptions   control   props	   nsfw	   hash   is_album   isAlbum   animated   isAnimated	   meta   window   location   /a/	   /zip   /download/   /%   encodeURIComponent   title!!      a   .this       +H!!       !!   control!!!!	   nsfw!!!!	   hash!!!!   isAlbum!!!!   isAnimated!!    !!       !!   event!!!!	   meta!!    ;
      5 !!    	      handleEmbedC          4                                    
                 W   QT      
  Q      
[   =   ]   C]   C]   (]   =   ]	   B]
   X]   XE]   =   ]   =   ]         
    V   : ]    Q S$

F     preventDefault   $   colorbox9   <div id="embed-modal"></div>	   href	   open   inline   top	   none   transition   scrolling   width   height   embed-wrapper   className   Embed this post   title   _	   bind   onComplete!!      a   .this       +H!!       3   handleEmbed/<.onComplete<b      
   S  
       5!!       !!	   href!!!!	   open!!!!   inline!!!!   top!!!!   transition!!!!   scrolling!!!!   width!!!!   height!!!!   className!!!!   title!!!!   onComplete!!    ;5 !!    	   !   handleMarkMatureC          >                                    
                 W   QT      
  Q=      Q   5   5   5   D   Q=      =      Q   	   
[   =
   ]   C]   C]   =   ]   =   ]   B]   X]   X ]   =   ]   =   ]         
    V   : ]    Q T= g$


(9     preventDefaultq   Are you sure you want to mark this submission as mature?   Imgur   Environment	   auth   show_mature   <p>g  </p><p>If you'd like to enable mature content for your account, please visit your <a href="/account/settings">account settings</a> and choose &quot;Show mature posts and comments.&quot; If you mark a post as mature, but choose not to enable mature content, you may not see your post when browsing Imgur.</p>   $   colorbox9   <div id="mark-mature"></div>	   href	   open   inline   15%   top	   none   transition   scrolling   width   height   blurbox   className?   Mark this submission as mature?   title   _	   bind   onComplete!!      a   b   .this      +H!!       =   handleMarkMature/<.onComplete<b   z  z 
   W  
          B   7  7 
   W  
          B { / s / 
   cX  
       5 55!!       !!	   href!!!!	   open!!!!   inline!!!!   top!!!!   transition!!!!   scrolling!!!!   width!!!!   height!!!!   className!!!!   title!!!!   onComplete!!    ;5 !!    	   #   togglePostOptionsC  G                                              
                 W   QV       
[    V   5   5    ]         
   V   :  Q Y      setState   state#   postOptionsOpened   _	   bind!!      .this         +H!!       !!#   postOptionsOpened!!    !!       '   togglePostOptions/<b      
   Y  
       5;5!!    	   5   handleHideAlbumFromAccountC          5                                    
                 W   QT      
  Q      
[   =   ]   C]   C]   =   ]   =	   ]
   B]   X]   X ]   =   ]   =   ]         
    V   : ]    Q Z#


 B     preventDefault   $   colorbox7   <div id="hide-album"></div>	   href	   open   inline   15%   top	   none   transition   scrolling   width   height   blurbox   className/   Hide Album From Account   title   _	   bind   onComplete!!      a   .this       +H!!        Q   handleHideAlbumFromAccount/<.onComplete<b      
   [  
          B   W  W 
   \  
          B  U 	 U 
   \         5 55!!       !!	   href!!!!	   open!!!!   inline!!!!   top!!!!   transition!!!!   scrolling!!!!   width!!!!   height!!!!   className!!!!   title!!!!   onComplete!!    ;5 !!    	      logTopicClickC           .                                     
   ]            W   Q    5      
[   =   ]   [    V   5   5   ]   V   5   5   ]   V   5   5	   ]	   V   5   5
   ]   =   ]   =   ]   =   ]   V   5   5   ]   ]    Q ]=      Imgur	   Util   jafoLog   openTopicTag   event   props	   hash   is_album   isAlbum	   nsfw   is_hot   isHot   topic   control   inside   location   galleryType   topicTag	   meta!!      .this         +H!!       !!	   hash!!!!   isAlbum!!!!	   nsfw!!!!   isHot!!!!   control!!!!   location!!!!   galleryType!!!!   topicTag!!    !!       !!   event!!!!	   meta!!    ;
      5!!    	      handleDeleteC          5                                 x  x 
                 W   QT      
  Q      
[   =   ]   C]   C]   =   ]   =	   ]
   B]   X]   X ]   =   ]   =   ]         
    V   : ]    Q ^*


'4     preventDefault   $   colorboxE   <div id="delete-album-form"></div>	   href	   open   inline   15%   top	   none   transition   scrolling   width   height   blurbox   className=   Remove Submission from Gallery   title   _	   bind   onComplete!!      a   .this       +H!!        5   handleDelete/<.onComplete<b   o  o 
   _  
          B  b & Z & 
   J`  
          B     
   `  
          B      
   a  
       5 555!!       !!	   href!!!!	   open!!!!   inline!!!!   top!!!!   transition!!!!   scrolling!!!!   width!!!!   height!!!!   className!!!!   title!!!!   onComplete!!    ;5 !!    	      handleRemoveTagC q                                          &  & 
                 W   QV      Q       
=   V   5   5   [       5   5   ]      5	   ]	      : 
   
    Q b6 $a    $	   post7   /gallery/action/remove_tag/   props	   hash   Imgur   Environment	   msid   sid   tag	   fail!!      a   b   .this      +H!!       !!   sid!!!!   tag!!    !!       #   handleRemoveTag/<b      
   b           B B [ : [ 
   *c         5 5!!       #   handleRemoveTag/<b   $  $ 
   c         5;5!!    	      getTagsNamesC  B                                          <  4  
                 W  Q       
V  5   5   : W   Q       
V       :  d+!-    _   values   state   galleryTags   map!!      a   .this         +H!!           getTagsNames/<b }  u  
   ed         5 ;5!!    	      renderTagsC                                                
                 W   QV      QV   5    5   n   V   5    5      @M   V   5   5   7         
V   5   5   :    
    :    @   @ dN& \    props   in_gallery   hide_tags   state   galleryTags   Object   values   map!!      a   .this        +H!!           renderTags/<b =  5  
   %e         5 ;5!!    	      handleTagClickC                                               c  c 
                       f   !!      a       +H!!       !   handleTagClick/<b   b  b 
   f         5 ;5!!    	      postOptionC          ;                                 w  o  
   _g            	W  QV      E   Q>(V  7I   V  7   =   W   Q      
=   [    T ]         
=   [   =   ]   V   ]	   T ]
         
=   [   =   T  =   ]   :       
=   [   =   ]   T : : :  gk'! 'pb     length   #   React   createElement   li   key   a%   post-action-option   className	   href   onClick	   span   icon-?    post-action-options-items-icon+   post-action-link-text!!      a   b   c   d   arguments       +H!!       !!   key!!    !!       !!   className!!!!	   href!!!!   onClick!!    !!       !!   className!!    !!       !!   className!!    ;	      5 !!    	   !   openSaveToFolderC ;     #   \                                   
                 W   QT      
  Q   5   5   5    &         
:     
=   : (<       5	      Q   5
   5   5      
=    Q      
[   =   ]   C]   <      5	   ]   =   ]   B]   C]   X]      ]   =   ]   =   ]          
    V   : ]!          
   V   : ]"    Q h H12	
		  	n     preventDefault   Imgur   Environment	   auth   id   getInstance   signin!   favFolderAttempt   window   innerHeight   document	   body   classList   add   modal-open   $   colorboxU   <div id="favorite-folder-container"></div>	   html	   open   top	   none   transition   scrolling   fixed   width   height   noBorder   className      close   _	   bind   onComplete   onClosed!!?!!?!!      a   b   .this      +H!!        =   openSaveToFolder/<.onComplete<b  u # m # 
   ]j  
       5 !!       9   openSaveToFolder/<.onClosed<b  B y : y 
   *k         5 !!       !!	   html!!!!	   open!!!!   top!!!!   transition!!!!   scrolling!!!!   fixed!!!!   width!!!!   height!!!!   className!!!!   close!!!!   onComplete!!!!   onClosed!!    ;5!!    	      renderC  _     u                            ,           
   zk     %       W  QV  5    5    D   QV  5    5   W   Q      [    C]   C]   V  5   5    ]   V  5   5   ]	   V  5   5   ]
   : W  Q      [   C]   C]   V  5   5    ]   V  5   5   ]   V  5   5   ]   : W  Q      [   C]   C]   V  5   5    ]   V  5   5   ]   V  5   5   ]   : W  Q[   =   ]   W  QV  5    5   E/   QV  5   =   6   QV  V  5   6   Q      [   C]   V   ]   : W  Q      [   >V  5   5   D   QV  5    5   ]   : W  Q      [   C]   C]   C]    V  5   5!   ]"   : W  QZ    W  Q#   5$   5%   5&   E*   Q#   5$   5%   5&   V  5    5'   W	  QV  5    5   E  QV  5    5(   Dv   QV  5   5)   1   V  *   
V  +   
=,   =-   : : 5   V  *   
V  +   
=.   =/   V  50   : : QV  5    51    EA   QV	  E6   QV  *   
V  +   
=2   =3   V  54   : : QV	  E6   QV  *   
V  +   
=5   =6   V  57   : : QV  *   
V  +   
=8   =9   V  5:   :  QV  *   
V  +   
=;   =<   V  5=   :  QV  5    5>   DX   QV  5    5?   DC   QV  *   
V  +   
=@   =A   >(=B   V  5    5C   : : Q@W
  QV  5   5D   E'   QV  E   
V  5   5D   : W
  QF   G   
=H   [   =I   ]   V  5J   ]   =K   : W  QV     F   G   
=L   @F   G   
=L   [   =M   V  5    5N      =O      =P   ]   V
  V  5    5      F   G   
=Q   @F   G   
#   5R   5S   [	   T   U   
V  5V   =W   : ]X   V  ]   : F   G   
#   5R   5S   [
   T   U   
V  5V   =Y   : ]X   V  ]   : :    =P   F   G   
#   5R   5S   [   T   U   
V  5Z   : ]X   V  ]   : V  F   G   
=Q   V  F   G   
=Q   [   V  ]   #   5[   \   
V  5   5   : =]   ?V  5   5   E   QV  5   5      =^      =P   : : F   G   
=L   [   V  5_   ]   V  ]   F   G   
=Q   [   =`   ]   : F   G   
=a   [   =b   ]   V  : : V  5    5    DO   QV  5    5(   D:   QV  5   5)   D%   Q=c   V  5    5d   e   
:     =P   A   F   G   
=H   [   =P   ]f   V  50   ]   =g   ]   : F   G   
#   5R   5h   [   =    ]i   V  j   
:  ]k   : :
 F   G   
=L   [   =l   ]   V  m   
:  : :   F   G   
=L   [   V  5    5N      =n      =P   ]   F   G   
=L   [   =o   ]   V
  F   G   
#   5R   5S   [   T   U   
V  5V   =W   : ]X   V  ]   : F   G   
#   5R   5S   [   T   U   
V  5V   =Y   : ]X   V  ]   : F   G   
#   5R   5S   [   T   U   
V  5Z   : ]X   V  ]   : V  F   G   
=L   [   V  5_   ]   V  ]   F   G   
=Q   [   =`   ]   : F   G   
=a   [   =b   ]   V  : : F   G   
#   5R   5h   [   =    ]i   V  j   
:  ]k   : :	 F   G   
=L   [   =p   ]   F   G   
=Q   V  F   G   
=Q   [   =q   ]r   V  ]   #   5[   \   
V  5   5q   : =s   ?V  5   5q   E   QV  5   5q      =^      =P   : F   G   
=Q   [   =   ]r   V  ]   #   5[   \   
V  5   5   : =t   ?V  5   5   E   QV  5   5      =^      =P   : : : F   G   
=L   [   =l   ]   V  m   
:  : :  k/&v  *l  *l  "8C	vQ47KH
BH?TZ$?'dC     "z "    )R  L@  
 A 'TS   "    )R  
 W  E      props   in_gallery   hide_points   classNames!   post-action-icon%   post-action-upvote   state   upvoted'   icon-upvote-outline!   icon-upvote-fill   green)   post-action-downvote   downvoted+   icon-downvote-outline%   icon-downvote-fill   red)   post-action-favorite   favorited+   icon-favorite-outline%   icon-favorite-fill	   aqua#   post-action-stats   className    pointer   onClick   showAnalytics1   post-action-stats-points   nodisplay   views   hide_views'   post-action-options   pointer   right#   postOptionsOpened7   post-action-options--opened   Imgur   Environment	   auth   url   account_url   hide_report   reported	   push   postOption	   flag   Post Reported   report-outline   Report Post   handleReport	   nsfw   alert   Mark As Mature!   handleMarkMature   trash   Delete Post   handleDelete   download   Download Post   handleDownload   embed   Embed Post   handleEmbed   is_album   animated	   meme   Make Meme!   /memegen/create/	   hash)   signupTooltipOptions'   createSignupTooltip   React   createElement   a5   Open-Save-To-Folder-Button!   openSaveToFolder   +   divM   post-action-actions post-action-single   add_border'    post-action-border   	   span   Elements   PressButton   _   partial   handleVote   up   onPress	   down   handleFavorite	   Util   numberFormat    view   s#   togglePostOptions   icon-ellipses   ul3   post-action-options-items   new   sideGallery   getSection	   hrefE   icon-flag post-action-report right   Socialicons   classes   getTagsNames   tagsNames!   post-action-tags   renderTags%   post-action-border'   post-action-actions!   post-action-meta   points   ref    Point    View!!      a   b   c   d   e   f   g   h   i   j   k   l   .this         +H!!       !!!   post-action-icon!!!!%   post-action-upvote!!!!'   icon-upvote-outline!!!!!   icon-upvote-fill!!!!   green!!    !!       !!!   post-action-icon!!!!)   post-action-downvote!!!!+   icon-downvote-outline!!!!%   icon-downvote-fill!!!!   red!!    !!       !!!   post-action-icon!!!!)   post-action-favorite!!!!+   icon-favorite-outline!!!!%   icon-favorite-fill!!!!	   aqua!!    !!       !!   className!!    !!       !!1   post-action-stats-points!!!!   nodisplay!!    !!       !!   nodisplay!!    !!       !!'   post-action-options!!!!   pointer!!!!   right!!!!7   post-action-options--opened!!    !!       !!   className!!!!   onClick!!    !!       !!   className!!    !!       !!   onPress!!!!   className!!    !!       !!   onPress!!!!   className!!    !!       !!   onPress!!!!   className!!    !!       !!   className!!    !!       !!   onClick!!!!   className!!    !!       !!   className!!    !!       !!   className!!    !!       !!	   href!!!!   onClick!!!!   className!!    !!       !!   classes!!!!   tagsNames!!    !!       !!   className!!    !!       !!   className!!    !!       !!   className!!    !!       !!   onPress!!!!   className!!    !!       !!   onPress!!!!   className!!    !!       !!   onPress!!!!   className!!    !!       !!   onClick!!!!   className!!    !!       !!   className!!    !!       !!   className!!    !!       !!   classes!!!!   tagsNames!!    !!       !!   className!!    !!       !!   ref!!!!   className!!    !!       !!   ref!!!!   className!!    !!       !!   className!!    ;
      5!!    !   !!-   PROMOTED_POST_TAG_NAME!!!!   displayName!!!!   actionType!!!!   voteType!!!!   getInitialState!!!!#   componentDidMount!!!!'   componentWillUpdate!!!!%   componentDidUpdate!!!!)   componentWillUnmount!!!!#   handlePointUpdate!!!!-   logCreateSignupTooltip!!!!'   createSignupTooltip!!!!#   showSignupTooltip!!!!   handleVote!!!!'   handleAddedToFolder!!!!#   handleAdmTagAdded!!!!   handleFavorite!!!!   showAnalytics!!!!   handleReport!!!!   handleDownload!!!!   handleEmbed!!!!!   handleMarkMature!!!!#   togglePostOptions!!!!5   handleHideAlbumFromAccount!!!!   logTopicClick!!!!   handleDelete!!!!   handleRemoveTag!!!!   getTagsNames!!!!   renderTags!!!!   handleTagClick!!!!   postOption!!!!!   openSaveToFolder!!!!   render!!    !!          getInitialStateB  ? x 7 x    !   
       5!!          handleChangeB        p   
       5 !!          handleSaveB                      a    B         ~  
       5 5!!          renderB           
       5 !!       !!   displayName!!!!   PUBLIC!!!!   HIDDEN!!!!   getInitialState!!!!   handleChange!!!!   handleSave!!!!   render!!    !!          renderB  W  O     9  
       5 !!       !!   displayName!!!!   render!!    !!           getInitialStateB  s  k     U         5!!       %   componentWillMountB   V  V      
          B  N  N      
       5 5!!       )   componentWillUnmountB  t  l     V  
       5 !!       #   handleTopicSelectB          
       5!!       +   handleTitleValidationB          
       5!!          handleShareB  ) - ! -             5!!          handleFailB A j 9 j    #  2          b    B                  5 5!!          renderB  z  r     \         5!!    	   !!   displayName!!!!   getInitialState!!!!%   componentWillMount!!!!)   componentWillUnmount!!!!#   handleTopicSelect!!!!+   handleTitleValidation!!!!   handleShare!!!!   handleFail!!!!   render!!    !!     	      viaAppIconClickC           )                                        o            W   Q    5      
[   =   ]   [    =   ]   V   5   5   5	   ]	   V   5   5   5
   ]   V   5   5   5   ]   C]   =   V   5   5   5   H   =      V   5   5   5   ]   ]    Q r"`      Imgur	   Util   jafoLog   viaAppIcon   event   upload	   type   props   image	   hash   is_album   isAlbum	   nsfw   inGallery   ios   platform   iphone	   meta!!      .this         +H!!       !!	   type!!!!	   hash!!!!   isAlbum!!!!	   nsfw!!!!   inGallery!!!!   platform!!    !!       !!   event!!!!	   meta!!    ;
      5!!    	      _redditSourceC @       	                                           z                 5      
[    =   T  ]   =   ]   =   ]   T :   M    React   DOM   a-   https://www.reddit.com	   href   _blank   target   reddit   key!!      a   b        +H!!       !!	   href!!!!   target!!!!   key!!    ;      5!!    	   -   handleUserProfileClickC  W                                                                 W   Q    5      
[   =   ]   [    V   5   5   5   ]   =	   ]
   ]    Q &o    Imgur	   Util   jafoLog   userProfileNav   event   props   image   account_id   accountId   usernamePost   method	   meta!!      .this         +H!!       !!   accountId!!!!   method!!    !!       !!   event!!!!	   meta!!    ;
      5 !!    	   #   componentDidMountC           	                                                         W   QV       
  Q + I   sendToUserStatisticsIfPostIsPromoted!!      .this         +H;
      5 !!       %   componentDidUpdateB   B   B      
       5 !!    	   I   sendToUserStatisticsIfPostIsPromotedC  w      	                                     p  h     R            W  QV  5    5   5   D   QV  5    5   5   A      5      
:  W   QV      
V  5    5   5    Q U6#H    props   image	   isAd   is_ad   Imgur   UserStatistics   getInstanceO   emitActionUserInteractsWithPromotedPost   account_url!!      a   .this         +H;      5 !!    	      renderC  +     F                                   ' 	  	    	            W  QZ    W   QBW  QV  5    5   5   D   QV  5    5   5   E[   QV      
   5      
[    =   ]	   =
   ]   =   ]   =   ]   =   : : QV  5    5   5      V      
   5      
[   =   ]   =   :    5      
[   =   V  5    5   5   ]	   V  5   ]   =   V  5    5   5   ]   =   ]   =   ]   V  5    5   5   :  Q5  V  5    5   5      V  5    5   5   E   QV  5    5   5       =      =   W  QV      
V      
V  5    5   5   V  :  Q   V  5    5   5!   ?   V      
V      
V  5    5   5"   =   :  B   CW  QV      
   5      
[   =#   ]   =$   :  Q[   =%   ]   W  QV  5    5   5   DG   Q&   5'   5(   D1   QV  5    5)   D   QV  5   =*   6   QV  5    5   5   D   QV  5    5   5   '      5   +   
V  V   :   Z   =,   `    =-   `   .   
V  5    5   5/   : >E   QV      
   5      
[   =/   ]   =0      5      
[   =1   &   5'   52   =3   ]	   V  54   ]   =,   V  5    5   5/      =5      =6      5      
[   =7   ]   @: : : : QV  5    5   58   D   QV  5    5   59   E   QV      
   :   
&   5;   5<   [   ==   V  5    5   58   D   QV  5    5   59   ]   B]>   V  5    5   58   D   QV  5    5   59   ]8   : : QV  5    5   5   E   QV  5    5   5    Ey   QV      
   5      
[	   =?   ]   =@   ]   =A      5      
[
   =B   ]	   =C   ]D   =E   : : : Q   5   +   
V  V   :  D?(m  /+$6U  !4;"D64q.>%)bx  mHz  3(      props   image	   isAd   is_ad	   push   React   DOM   ao   https://imgur.com/blog/2015/05/31/about-promoted-posts/	   href%   title promoted-tag   className?   learn more about promoted posts   title   promoted   key   Promoted   account_url	   span   by	    by    /user/-   handleUserProfileClick   onClick!   view account of    post-account   account   reddit   video_source   is_album    (source)    (source)    _redditSource   subreddit   permalink	   anon   Uploaded M   post-title-meta font-opensans-semibold   Imgur   Environment   hasAccess	   slim3    post-title-meta--notitle   div   ios   android   indexOf   platform    via    //	   host   /apps   viaAppIconClick   iPhone   Android   icon-mobile   timestamp   datetime   createElement   Elements   Timestamp   humantime   shouldUpdate   vidgif-info   vidgif   Made with %   //imgur.com/vidgif   _blank   target   Video to GIF!!      a   b   c   d   .this         +H!!       !!	   href!!!!   className!!!!   title!!!!   key!!    !!       !!   key!!    !!       !!	   href!!!!   onClick!!!!   title!!!!   className!!!!   key!!    !!       !!   key!!    !!       !!   className!!    !!       !!   key!!    !!       !!	   href!!!!   onClick!!    !!       !!   className!!    !!       !!   key!!!!   shouldUpdate!!!!   timestamp!!    !!       !!   className!!!!   key!!    !!       !!	   href!!!!   target!!    ;      5 !!       !!   displayName!!!!   viaAppIconClick!!!!   _redditSource!!!!-   handleUserProfileClick!!!!#   componentDidMount!!!!%   componentDidUpdate!!!!I   sendToUserStatisticsIfPostIsPromoted!!!!   render!!    !!       !!   PRE!!   !!	   POST!!      !!       !!   onScroll!!!!   $window!!!!   audioState!!!!1   audioStateSessionStorage!!    !!    	      getInitialStateC           &                                 8  0     (            W  Q=    W   QV  5   5   5   E   Q=   W   Q[    B]   V   ]   V  5   5   ]	   >]
   XX]   =         
=   :    =      =   ]   B]    (!)#'       props	   data   force_grid   browse   all_loaded   gridType   RENDER_STATE   PRE   render_state   scrolltop   window_height   0   localStorage   getItem   retina   g   r   thumb_size   isLoadingTags!!      a   .this         +H!!       !!   all_loaded!!!!   gridType!!!!   render_state!!!!   scrolltop!!!!   window_height!!!!   thumb_size!!!!   isLoadingTags!!    ;
      5!!    	   #   componentDidMountC       *   p                         "        3 w + w                  W  QV  5    5   5   E   QV     
  QV     
[    V  5   5   ]    QV  5    5   DT   QV  5    5	   
   
=   V      QV  5    5	   
   
=   V     : QV  5    5   5      =   W   QV   =   W   QV   =   W   QV   =   W   QV   =   W   QV   =   W   QV   =   W   QV   =   W   Q      
[   V   ]   C]   =   ]   =   ]   B]   C]   X]    X]!   ="   ]#    QV  %   5&   '   
=$   : D   QB6$   QV  5    5	   
   
=(   V  V  5)    Q )"5}  !2*Rl    
	
})J    props	   data   is_album5   _calculateContainerHeights   setState   RENDER_STATE	   POST   render_state   in_gallery   emitter   on   initGrid   closeGrid   is_viral9   <div id="post-edit-message">Y   <div class="post-edit-message-header"></div>I   <div class="post-edit-message-body">   <p><strong>Your post is in Most Viral! Please edit responsibly.</strong></p>   <p>It's good Imgur-etiquette to use the phrase "Edit" to distinguish new details about your post.</p>O  <p>Bad edits change the context of the post, solicit Imgurians to send inappropriate things, add spammy links, or violate our <a href="/rules">community rules</a>.</p>	  <div class="right margin-top margin-bottom"><button class="btn btn-action" onclick="$.colorbox.close()">Okay, got it!</button></div>   </div></div>   $   colorbox	   html	   open   10%   top	   none   transition   scrolling   fixed   width   height   noBorder noX   className   showTitles   Imgur   LocalStorage   get!   audioStateChange-   handleAudioStateChange!!      a   .this         +H!!       !!   render_state!!    !!       '   componentDidMount/<b  >  >    )  
       5!!       '   componentDidMount/<b  o  g     Q*  
       5!!    	   !!	   html!!!!	   open!!!!   top!!!!   transition!!!!   scrolling!!!!   fixed!!!!   width!!!!   height!!!!   className!!    ;5 !!    	   %   componentWillMountC           !                                  M  M    u.            W   QV   5    5   E    QV      
[    C]   : QV   5         
      
V   5   V   : X : 6   QV   5   5   	   
=
   V   5   5    QV      
  Q .x&0,    props   all_loaded   setState   _   onScroll   throttle	   bind   _handleScroll   $window   on   scroll!!      .this         +H!!       !!   all_loaded!!    ;
      5 !!       )   componentWillUnmountB  k  c     M/  
       5 !!    	   %   componentDidUpdateC                                                 /            W   QV   5    5   5   E   QV   5   5   V   5   5   D'   QV   5    5   E   QV   5   CHEG   QV   	   
  QV   B6   QV   
   
[    V   5   5   ]   : Q /}"5    props	   data   is_album   state   render_state   RENDER_STATE   PRE   has_access   updatingState5   _calculateContainerHeights   setState	   POST!!      a   b   .this       +H!!       !!   render_state!!    ;
      5 !!       3   componentWillReceivePropsB  I  I    0  
       5!!    	   )   getSessionAudioStateC                                              g  _     I1            W   QV   5    5      
:   1L%    _1   audioStateSessionStorage   get!!      .this         +H;
      5!!    	      _handleScrollC  U                                  
               1            W   QV       
[    V   5   5      
:  ]   V   5   5      
:  ]    Q 1
[    setState   _   $window   scrollTop   scrolltop   height   window_height!!      .this         +H!!       !!   scrolltop!!!!   window_height!!    ;
      5!!    	      _scaleWidthC K                                            " e  e    2            T E
   QT  7   T T  W   QT  T           
T V   : T  2 	   Math   round!!      a   b   c   d       +H;      5 !!    	   %   updateTagsFromTextC         6                                 y                   W  QV     Q=    T H   T  T    Q   A=      5   5   =      5   5   =   =	   ,  R W   QZ       Q>(W  Q mV   
   
T : W  QV  E   Q      
V  ?7: QV  V  5   5      
:     
     Q      
    Q 2oi1;@
gB    description   RegExp   #([a-zA-Z0-9_]{   Imgur   Constants   MIN_TAG_LENGTH   ,   MAX_TAG_LENGTH   })   g	   exec	   push   props   tagStore   getTags   forEach!!	      a   b   c   d   e   f   g   h   .this      +H!!        )   updateTagsFromText/<b   {     e3         5 !!       )   updateTagsFromText/<b        3            B         3         5 5;       E   5 !!    	   5   _setContainerHeightByIndexC '        2                                 A  9     #4            W  QV  5    5      
V  5    5   5   : W   QV   5   T  7W  QV  5   W  QV  T T 8QV  5      V  5      V  5   W  QV     
	   
   
V  5   V  7: : W  QV  V  BI   V     V  5   6   QV  V  5   E   QV     
:  QV     
T  T T  Q 4/=A-    props#   album_image_store   getImages	   data	   hash   images   containerHeight   reactKey/   _calculateElementHeight   ReactDOM   findDOMNode	   refs   _handleScroll%   updateTagsFromText!!	      a   b   c   d   e   f   g   h   .this       +H;
      5 !!    	   5   _calculateContainerHeightsC          Y                         %         e  e    5            W  QV  5    5      
V  5    5   5   : W   QV   5   W  QV   5   W   QV  5   5   D'   Q	   
   
V  V  5   : W  Q>W  Q   m=   V   V  75   D   QV   V  75      V   V  75      V   V  75      V   V  75   W  QV     
      
V  5   V  7: : W  QV   V  7V  BI   V     V   V  75   6   QV   V  7B6   QV   V  7B6   QV  #?W  QQV  V   5=
#&    3(A3
     props#   album_image_store   getImages	   data	   hash   count   images   state   all_loaded	   Math   min   INITIAL_LOAD   number   containerHeight   recalcReady   reactKey/   _calculateElementHeight   ReactDOM   findDOMNode	   refs   needsRecalc!!      a   b   c   d   e   .this         +H;               5 !!    	   /   _calculateElementHeightC        	   P                                    ~     h7     
       T      >    5      
T  @: W   QV      
=   : W  Q=   V     B      V      
=   : 
: W  Q      V      
=   : 
:       V      
=   : 
: W  QV  V   7l .  c,;3
    document   defaultView!   getComputedStyle!   getPropertyValue   height	   auto   parseFloat   margin-top   margin-bottom!!      a   b   c   d   e       +H;      5 !!    	      loadAllC           %                                               	       W  QV  5    5      
V  5    5   : W   Q@V   7   V     
[    C]   V  5   5   ]    D   V  5    5   	   
V  5    5   
      
   V  :  Q 88{      props#   album_image_store   getImages	   hash   setState   all_loaded   RENDER_STATE   PRE   render_state   fetchImages   _	   bind!!      a   .this         +H!!       !!   all_loaded!!!!   render_state!!    !!          loadAll/<b        j9  
       5;5!!    	   )   _createRenderedImageC      "   K                         (              9            	W  QW  QV      E   Q>(V  7I   V  7   [    W   Q[   T  5   ]   V  5   ]   T  5   ]   T  ]   B]   B]   V  5   5	   5
   D   QV  5   5	   5   ]   V   5   D   QV  5   5   ]   V  5   5    D$   QT V  5   E   QT  5    ]   V  5   5    D$   QT V  5   E   QT  5    ]   V  5   ]   V  5   5	   5   ]   V  5   5   ]   >T HE%   QV   5      5   5   5   H]   V  5   ]   W  Q       
   5!   V  :  9&
57+	+	 \*(    length   thumbsize   MAX_WIDTH   width   minHeight	   item+   wrap_with_direct_link   poster   props	   data	   isAd   is_ad   promoted   showShareLinks   has_access   initial   INITIAL_LOAD   shown'   discarding_referrer   firing_pixel   handleRemove	   hash   album_hash   emitter#   sessionAudioState   Imgur   VideoControls   AudioState   PRESENT_ON)   playAudioIfAvailable#   handleVideoUpdate   React   createElement   ImageViewer!!      a   b   c   d   arguments   .this       +H!!            !!       !!   thumbsize!!!!   width!!!!   minHeight!!!!	   item!!!!+   wrap_with_direct_link!!!!   poster!!!!   promoted!!!!   showShareLinks!!!!'   discarding_referrer!!!!   firing_pixel!!!!   handleRemove!!!!   album_hash!!!!   emitter!!!!)   playAudioIfAvailable!!!!#   handleVideoUpdate!!    ;      5!!    	   !   _createComponentC      ;                            X        &  &    <            W  QT T ?W   Q        [    C]   V   D3   QV  5   5   D   QT  5   D   QT  5    ]   : W  Q        [   T  5   D$   QT  5   D   QV  5   5   ]   V   E   QV  5   5    ]	   : W  QT  5
      T  5
      T  5   W  QT W  QT W  Q   5      
[   V  ]   T  5   ]   V  ]   V  ]   T    5      
[   V  ]   V  5   D   QT  5   M        
   5   5   [   V  5   5   ]   =   ]   =   ]   =   ]   =   ]   T  5   ]    T  5!   ]!   T  5"   ]#   V  5$   ]%   C]&   C]'   (   )   
V  5*   V  T : ]+   V  5   5   ]   V  5   5      V     =,   ]-   (   )   
V  5.   V  V  : ]/   =-   V  ]   =-   V  ]   :    @      
   5   50   [   V  5   5   ]   V  5   51   ]1   =   ]   =   ]   =2   V  5   5      =3      =,   ]   =4   ]   T  5   ]    T  5!   ]!   T  5"   ]#   V  55   ]%   V  5   56   57   D   QV  5   56   58   ]'   C]9   V  5   5:   ]:   (   )   
V  5*   V  T : ]+   V  5   5   ]   V  5   5      V     =,   ]-   (   )   
V  5.   V  V  : ]/   =-   V  ]   =-   V  ]   : : :  <	{C  
S+#&/''#  Z+c3#9/''#" s    classNames)   post-image-container   props   has_access   title   description9   post-image-container--spacer   showEditTools   post-image-meta+   post-image-meta--last   reactKey	   hash   React   DOM   div   ref   id   className   key   showTitles   createElement   Imgur   Gallery   TitleDesc   postSavingStore   h2   element	   type!   post-image-title   classes   Image title   placeholder	   text   deletehash)   triggerSaveTitleDesc   triggerSave+   MAX_NON_GALLERY_TITLE   max_length   no_enter   dont_protect   _	   bind5   _setContainerHeightByIndex   updateContainer      tabindex   editKeyHandler   handleKeyDown=   DescriptionTagSuggestContainer   tagStore-   post-image-descriptionC    post-image-description--editableI   Add a description #tags and @mention   MAX_TEXTAREA	   data	   isAd   is_ad   linkify   linkifier!!      a   b   c   d   e   f   g   h   i   j   .this       +H!!       !!)   post-image-container!!!!9   post-image-container--spacer!!    !!       !!   post-image-meta!!!!+   post-image-meta--last!!    !!       !!   ref!!!!   id!!!!   className!!!!   key!!    !!       !!   className!!    !!       !!   postSavingStore!!!!   element!!!!	   type!!!!   classes!!!!   placeholder!!!!	   text!!!!   deletehash!!!!   triggerSave!!!!   max_length!!!!   no_enter!!!!   dont_protect!!!!   updateContainer!!!!   showEditTools!!!!   tabindex!!!!   handleKeyDown!!!!   key!!!!   ref!!    !!       !!   postSavingStore!!!!   tagStore!!!!   element!!!!	   type!!!!   classes!!!!   placeholder!!!!	   text!!!!   deletehash!!!!   triggerSave!!!!   max_length!!!!   dont_protect!!!!   linkify!!!!   linkifier!!!!   updateContainer!!!!   showEditTools!!!!   tabindex!!!!   handleKeyDown!!!!   key!!!!   ref!!    ;
      5!!    	      _getThumbSizeC                                           & ' & '    C            W   QT  5       =   z   =   V   5   5   7   T  5   V   5      =      =   .   T  5   V   5      =      =    Cq    prefer_video      r   state   thumb_size   width   MAX_WIDTH   g!!      a   .this       +H;
      5!!    	      handleRemoveC E                                   	       0' ' (' '    D            W   QV   5    5      
V   5    5   5   T   QV      
  Q DA    props#   album_image_store   deleteImage	   data	   hash   forceUpdate!!      a   .this       +H;
      5!!    	      editKeyHandlerC          /                                ' n( ' n(                  W   Q	T 5       T 5      T  #?U  Q   T  #?U  QQ      
V   5   =   T  7:    Q       T    
  Q      =   : 	   
[       5
   X ]   d    Q D.i?    keyCode   shiftKey   ReactDOM   findDOMNode	   refs   tabindex   preventDefault   $   html, body   animate   offsetTop   scrollTop!!      a   b   c   .this      +H!!       !!   scrollTop!!    !!       !   editKeyHandler/<b  ^( k( V( k(    @E         5 ;5!!    	   %   handleGridColorboxC          B                                ( * ( *                  W   Q          T 5   :     Q       
[   =   ]          
=   : ]   C]	   B]
   =   ]   =   ]   =   ]          
=   : ]   =   ]          
V   : ]         
V   : ]    Q ErAC ]    $target   $   target   colorbox   post-grid-image   rel	   attr   data-href	   href	   open   scrolling   90%   maxWidth   maxHeight   blurbox   className   data-title   title	   none   transition	   bind   onOpen   onClosed!!      a   b   .this       +H!!        9   handleGridColorbox/<.onOpen<b  u) ) m) )    WF  
       5 !!       =   handleGridColorbox/<.onClosed<b  ) ) ) )    F  
       5 !!       !!   rel!!!!	   href!!!!	   open!!!!   scrolling!!!!   maxWidth!!!!   maxHeight!!!!   className!!!!   title!!!!   transition!!!!   onOpen!!!!   onClosed!!    ;5 !!    	   #   handleVideoUpdateC       
   '                                * * * *    F            W  QV  5    5      
T  T : W   QV   Ek   Q      
[    V   [   T ]   T ]   T ]   T ]   : W   QV  5    5   	   
T  T V   : Q G+	F-    props#   album_image_store   getImage   Object   assign   playState   audioState   volume   currentTime   setImage!!      a   b   c   d   e   f   g   .this       +H!!            !!       !!   playState!!!!   audioState!!!!   volume!!!!   currentTime!!    ;
      5!!    	   -   handleAudioStateChangeC #         	                                 * "+ * "+    G            W   QV   5    5      
T   Q G'    _1   audioStateSessionStorage	   save!!      a   .this       +H;
      5!!    	      renderC                &                        2+ .E *+ .E        !   1       W   QV   5    5      
V   5    5   5   : W  QZ    W  QZ    W  Q>W  Q@W  Q@W  QBW  QV      
:  W  QV   5    5      @     5   	   
[    =
   ]         
   5   5         
V   5    5   [   V   5    5   5   =   ]   V   5    5   ]   V   5    5   ]   V   5    5   ]   V   5    5   ]   V   5    5   ]   V   5    5   ]   V   5    5   ]   V   5    5   ]   V   5    5   ]   V   5    5   ]   V  ]   V   5    5   5      V  5      Z    ]    : : : W  QV   5    5   5   E   QV  p  V  5!   W  Q"   "   =#   : W  Q>W  Q>W  Q>W  QV  $      V  %   
:  5&      >W  Q='   V   5(   5)   H         
   5   5*   [   V   5    5   ]   V   5    5+   ]+   V   5    5   5,   ],   V   5    5   5   ]   V   5    5   5-   ].   V  ]%   V   5    5/   ]0   C]1   =2   ]3   : =4   V   5(   5)   H      5   	   
[         
   5   5*   [   V   5    5   ]   V   5    5+   ]+   V   5    5   5,   ],   V   5    5   5   ]   V   5    5   5-   ].   V  ]%   V   55   ]0   B]1   =6   ]3   : V  : V   5    5   57   D   QV   5    5   58   W  QV   5(   59   D2   QV  D'   Q:   ;   
V  V   5<   : W  Q>W  Q   mV  5   V  7W  QV  5=   E   QV  5>    D   QV  5?    E   QV  5@   V   5A   &   V  V   C   
V  : 6B      V  =D   6B   QV  V   E   
V  5@   V  5F   V   5A   : 6=   QV  D$   QV   5(   5G   V   5H   5I      V  D   QV  V   5<   D   V   J   
V  V  [   B]K   V  ]L   : W  QV  C6M   I      5   	   
[   V  5   ]N   [   V  5=   ]=   ]O   : W  QV  P   
V   Q   
V  V  V  V  :  Q  =R   V  5S   D   QV  5>   l   V   J   
V  V  [   V  ]L   : W  QV  P   
V   Q   
V  V  V  V  :  QV  C6T   QE  V   5(   5U   V   5(   5V   W  QV   5(   5U   V   5(   5V   W   QV  V  V  W  QV  V  5S   W  QV   5    5   E(   QV   5    5    E   QV  V  ?W  QV  V  E   QV  V   DA   QV  V  E   QV  V   D    QV  V  E   QV  V   x  V  V  5S   W  QV   J   
V  V  [	   V  ]L   : W  QV  C6M   QV  P   
V   Q   
V  V  V  V  :  QV  E   QV   5    5W   E   QV  P   
   5   X   
[
   =Y   V  ?]   =Z   ][      5   	   
[   =\   V  ]   =]   ]      ^   
V   V  ?: ]_      5   	   
[   =`   ]   :    5   	   
[   =a   ]   : : : : t   >V  9   V  V  5S   V     V   5b      >W  4   V  V  5S   V     V   5b      >W  QV  5c   D?   QV  5d   D/   QV  5!   V   5<   E   QV  V   5<     W  QV  #?W  QQV  V  MV  $   >E   QV   C6e   QV   Ew  QV   5(   59    Ea  QV  5!   V   5<   EG  Q   5   	   
[   =f   ]      5   g   
[   =h   ]   V   5i   ]_   =j   V  5!   V   5<   =k      5l   m   
V  5!   V   5<   =n   : :    5   o   
[   =p   ]      5   o   
[   =q   ]   :    5   g   
[   =r   ]   =s   ]t   =u   V   5    5   5   =v   ]w   =x   : : : W  QV   5    5   5y   E;  Q      
   5   5z   [   V   5    5+   ]+   =	   ]{   =c   ]|   =}   ]~   =   ]   V   5    5   5y   ]   C]   V   5    5   5,   ],   V   5   ]   V   5    5   58   D   QV   5    5   57   ]   C]   V   5    5   ]   V   5    5   ]   V   5    5      V     =D   ]   : W  Q>W  Q m   mV     
   5   	   
[   =   V  ]   [   @B]F   ]O   :  QV  @BW  QV  #?W  QQV  @BV     
   5   	   
[   =   ]   [   V  ]F   ]O   :  QV  P   
   5   	   
[   =   ]   [   V  ]F   ]O   :  Q+  >W  QW  QV   5    5   5@   V   5A   J   V   5A   V   5    5   5@   W
  QV   5    5   5F   V
  W  Q'   V   5    5   5F   D   Q>W  Q   W  Q      
   5   [   V   5    5   ]   V   C   
V   5    5   : ]B   V  ]=   V   5A   ]@   V   5    5   58   D   QV   5    5   57   ]   V   5    5   ]   B]   B]   V   5    5   ]K   V   5    5    ]   V   5    5    ]   C]   V  ]   V     5   5   5   H]   : W  Q   5   	   
[   V   5    5   5   ]   =   ]   V   5    5   5   ]   V     5   	   
[   V   5    5   5c   D   QV   5    5      =      =D   ]         
   5   5   [   V   5    5+   ]+   V   5    5   ]   =	   ]{   =c   ]|   =   ]~   =   ]   V   5    5   5c   ]   V   5    5   5,   ],   V   5   ]   V   5    5   58   D   QV   5    5   57   ]   C]   V   5    5   ]   V   5    5      V     =D   ]      ^   
V   5   V   V  : ]   C]   =   V  ]   =   V  ]N      ^   
V   5   V   >: ]   : : : W  QV  P   
V   QV   5    5   E+   QV   5    5W   E   QV   5    5          5   	   
[    V   5    5W   ^   
@V  5   $   : ]_   =   ]      5   o   
[!   =a   ]   :    5   o   
@=   : :    @W  Q>(W  QV   5    5   58   D   QV   5    5   57   W	  QV	  E   QV   5    5   5   ~   =         
V   5    5   5   : =   W  Q      
=	   [$   ["   =   ]   ]O   [#   V  ]   ]   : W  Q   5   	   
[%   V  V  V  V  V  V  V  :  H=,c)3!!#!##X 6 %//+&&	# "@/+&&	  "6.#&   0%32!G:,)!5'H02!5'0&#,1_  $E,(C  +5! S+%'&9'G &m^x>P:@-'    )
$5
%v !+  +! !&9''# L.&/0(r  .&3W    props#   album_image_store   getImages	   data	   hash)   getSessionAudioState   has_access   React   DOM   div   post-action   className   createElement   Imgur   Gallery   PostActionBar   _   extend   postactionbar   key'   insideTagController   in_gallery   emitter   analytics   hide_points   hide_views   hide_tags   hide_report   sideGallery   add_border   is_album   images   album_images   count   $   .post-images   length   offset   top   rearrange   state   gridType	   Grid   postSavingStore   deletehash   album_cover   thumbnail   rearrangeImages   mouseUp   allowRearrange	   grab!   gridImageClasses   browse%   handleGridColorbox   pointer   is_ad	   isAd   all_loaded	   Math   min   INITIAL_LOAD   minHeight   needsRecalc   animated   width   MAX_WIDTH   thumbsize   _getThumbSize      _scaleWidth   height   render_state   RENDER_STATE   PRE)   _createRenderedImage   showShareLinks#   sessionAudioState   shown   ref   style	   push!   _createComponent   number   containerHeight   recalcReady   scrolltop   window_height   addImage   label   add-between-   add-between   htmlFor   addimage-   post-add-image between	   bind   onClick	   tear   icon-plus)   ADD_IMAGE_ROW_HEIGHT   description   title   updatingState#   js-post-truncated   a7   post-loadall btn btn-action   loadAll   Load     more 	   Util   pluralize   image	   span   post-gridview   icon-grid%   post-gridview-link   _blank   target   /a/   ?grid	   href   Grid view#   album_description   TitleDesc   element	   type!   post-description   classes-   Add a post description   placeholder	   text   MAX_TEXTAREA   max_length   dont_protect   linkify   linkifier   showEditTools   tabindex   unshift   padtop   padbot   ImageViewer   promoted	   item+   wrap_with_direct_link   poster   initial'   discarding_referrer   firing_pixel   singleImage   handleRemove   VideoControls   AudioState   PRESENT_ON)   playAudioIfAvailable   id)   post-image-container   post-image-meta=   DescriptionTagSuggestContainer   tagStore-   post-image-description#   Image description   editKeyHandler   handleKeyDown   autoSuggestTags%   updateTagsFromText   updateContainer%   post-add-image end#   Add another image   customTags!   <iframe srcdoc="   escape   "></iframe>	   none   display   __html/   dangerouslySetInnerHTML!!!      t   k   b   s   j   a   F   r   i   E   z   q   h   D   y   p   g   C   x   o   f   B   w   n   e   A   v   m   d   u   l   c   .this      !   +H!!       !!   className!!    !!       !!   key!!!!'   insideTagController!!!!   has_access!!!!   in_gallery!!!!   emitter!!!!   analytics!!!!   hide_points!!!!   hide_views!!!!   hide_tags!!!!   hide_report!!!!   sideGallery!!!!   add_border!!!!   album_images!!    !!    	   !!#   album_image_store!!!!   postSavingStore!!!!   deletehash!!!!	   hash!!!!   thumbnail!!!!   offset!!!!   mouseUp!!!!   allowRearrange!!!!!   gridImageClasses!!    !!            !!    	   !!#   album_image_store!!!!   postSavingStore!!!!   deletehash!!!!	   hash!!!!   thumbnail!!!!   offset!!!!   mouseUp!!!!   allowRearrange!!!!!   gridImageClasses!!    !!       !!   showShareLinks!!!!#   sessionAudioState!!    !!       !!   minHeight!!    !!       !!   ref!!!!   style!!    !!       !!#   sessionAudioState!!    !!       !!#   sessionAudioState!!    !!       !!   key!!!!   htmlFor!!    !!        #   render/<.onClick<b i6 6 a6 6    KS  
       5!!       !!   key!!!!   className!!!!   onClick!!    !!       !!   className!!    !!       !!   className!!    !!       !!   className!!    !!       !!   className!!!!   onClick!!    !!       !!   className!!    !!       !!   className!!    !!       !!   className!!!!   target!!!!	   href!!    !!       !!   postSavingStore!!!!   element!!!!	   type!!!!   classes!!!!   placeholder!!!!	   text!!!!   is_album!!!!   deletehash!!!!   max_length!!!!   dont_protect!!!!   linkify!!!!   linkifier!!!!   showEditTools!!!!   tabindex!!    !!       !!   height!!    !!       !!   key!!!!   style!!    !!       !!   height!!    !!       !!   key!!!!   style!!    !!       !!   height!!    !!       !!   key!!!!   style!!    !!          AB  -= = %= =    Z           B  b= = Z= =    DZ         5 5!!       !!   emitter!!!!   thumbsize!!!!   minHeight!!!!   width!!!!   promoted!!!!	   item!!!!+   wrap_with_direct_link!!!!   poster!!!!   showShareLinks!!!!'   discarding_referrer!!!!   firing_pixel!!!!   singleImage!!!!   handleRemove!!!!)   playAudioIfAvailable!!    !!       !!   id!!!!   className!!!!   key!!    !!       !!   className!!    !!       !!   postSavingStore!!!!   tagStore!!!!   element!!!!	   type!!!!   classes!!!!   placeholder!!!!	   text!!!!   deletehash!!!!   max_length!!!!   dont_protect!!!!   linkify!!!!   showEditTools!!!!   tabindex!!!!   handleKeyDown!!!!   autoSuggestTags!!!!   key!!!!   ref!!!!   updateContainer!!    !!       !!   onClick!!!!   className!!    !!       !!   className!!    !!       !!   display!!    !!       !!   __html!!    !!       !!   style!!!!/   dangerouslySetInnerHTML!!    !!            ;      x           5 !!        !!   INITIAL_LOAD!!!!   MAX_WIDTH!!!!+   MAX_NON_GALLERY_TITLE!!!!   MAX_TEXTAREA!!!!)   ADD_IMAGE_ROW_HEIGHT!!!!   RENDER_STATE!!!!   updatingState!!!!   _!!!!   displayName!!!!   getInitialState!!!!#   componentDidMount!!!!%   componentWillMount!!!!)   componentWillUnmount!!!!%   componentDidUpdate!!!!3   componentWillReceiveProps!!!!)   getSessionAudioState!!!!   _handleScroll!!!!   _scaleWidth!!!!%   updateTagsFromText!!!!5   _setContainerHeightByIndex!!!!5   _calculateContainerHeights!!!!/   _calculateElementHeight!!!!   loadAll!!!!)   _createRenderedImage!!!!!   _createComponent!!!!   _getThumbSize!!!!   handleRemove!!!!   editKeyHandler!!!!%   handleGridColorbox!!!!#   handleVideoUpdate!!!!-   handleAudioStateChange!!!!   render!!    !!    	      getDefaultPropsC                                               E F E F                   [   [       ]    ]    b 	   grab   linkifier!!              +H!!       	   grabB E F E F    b         5 !!       !!	   grab!!    !!       !!   linkifier!!    ;5 !!    	      getInitialStateC                                             F DF F DF    c            W   Q[    V   5    5   ]    c    props	   text   savedText!!      .this         +H!!       !!   savedText!!    ;
      5!!    	      placeCaretAtEndC          A                          !        ]F G UF G    ?c            T      
  Q=      5   E   Q=      5   w         
:  W   QV      
T   QV      
B Q      
:  W  QV     
  QV  	   
V    Ql   =      5
   5   P      5
      
:  W  QV     
T   QV     
B QV     
  Q cC
)!*     focus   undefined   window   getSelection   document   createRange%   selectNodeContents   collapse   removeAllRanges   addRange	   body   createTextRange#   moveToElementText   select!!      a   b   c   d       +H;      5 !!    	      handlePasteC          )                                 G H G H    d            W  QT      
  Q=   W   QT  5   &   T  5      
=   : W   4      5   E$   Q   5      
=   : W   Q   5      
V   : W   QV  5	   5
   E<   QV  5	   5    E&   Q   5   
   
V   CCC: W   QV     
V    Q d9&     preventDefault      clipboardData   getData	   Text   window   Imgur	   Util   htmlEntity   props   linkify   dont_protect   insertText!!      a   b   .this       +H;
      5!!    	      insertTextC n        `                         #       I J I J    e            W  Q    5   E4   Q       
:  W   QV   5   E   QV   5   '  V      
>: W  QV     
  Q      
=   : W  QV  T  6   Q   	   
:  W  Q    mV  
   
V  : W  QV  5   W  V     
V   QV  E^   QV     
:  W  QV     
V   QV     
C QV      
  QV      
V  : QV     
BV  5    Q e -2#!    window   getSelection   getRangeAt   rangeCount   deleteContents   document   createElement   div   innerHTML-   createDocumentFragment   appendChild   firstChild   insertNode   cloneRange   setStartAfter   collapse   removeAllRanges   addRange   _save   TYPING_SPEED!!      a   b   c   d   e   f   g   .this       +H;       -         5!!    	      handleKeyDownC                                           J eK J eK    g            W  QT  5    D   QT  5   W   QV  5   5   EG   QV   E9   QV  5   5      
  Q      
:  	   
:  QV  5   5
   E   QV  5   
   
T  : Q g    which   keyCode   props   no_enter	   refs	   text	   blur   window   getSelection   removeAllRanges   handleKeyDown!!      a   b   .this       +H;
      5!!    	      _saveC (     &                            U       tK Q lK Q                  	W  QW  QV      E   Q>(V  7I   V  7   >   QV  5   5   E   QT  D   Q	T 5     V  5   5   W   QV   5       W  Q[    V  5   5   ]      Q      V  5	    QV  V  5   5
   EE   QV   V   5      
>V  5   5
   : 6   QV     
V   : Q      
=   : W  QV  V   5      
   =   :    
   =   : 6   QV  5      
:     QT  Ep   QV  5   5   E[   QV  5   5    EE   QV      5      
   5      
   : CCC=   : 6   Q   V  5   5   <   V  5   5      
V  5   5   V  5   5   : (V  5   5       
V  5   5   V  5   5    Q=!   V  5   5"   E-   QV  5   "   
V  5   5      : Q   V  5   5      8QV  #   #   $   %   
   V  :    : 6	   Q hb%1O#:I F#.     length   props   deletehash   keyCode	   refs	   text   textContent   is_album   clearTimeout   typingTimer   max_length   substring   placeCaretAtEnd   document   createElement   div   innerHTML   replace   
$2   
	   trim   linkify   dont_protect   Imgur	   Util   htmlEntity   postDescription   state   savedText   postSavingStore   remove	   type   add   function   updateContainer   setTimeout   _	   bind!!      a   b   c   d   e   f   g   h   i   arguments   .this      +H!!       !!   is_album!!    !!]   (<div>|<p>)(.+?)(<br\s*[\/]?>)?(<\/p>|<\/div>)   !!   <br\s*[\/]?>   !!        /   _save/this.typingTimer<b  ZO Q RO Q    <l  
         B  O vP O vP    l  
       5    B P Q P Q    rm  
       5 5;5!!    	   +   shouldComponentUpdateC 6                                          R RR 
R RR    n            W   QV   5    5   T  5   E   QV   5    5     n     props	   text   showEditTools!!      a   b   .this       +H;
      5!!       %   componentDidUpdateB nR S fR S    Po         5!!    	      renderC       "   o                         1        %S U S U    p     
       W  QV  5    5   W   QV   Es   QV  5    5    E]   Q   5      
V   : W   QV  5    5   E+   Q   5      
V   CCC=   : W   QV  5    5   E   QV  5    5	    	  [   V  5    5
   =   ]   C]   V  5    5   ]   V  5    5   ]   =   ]         
V  5   BV  5   : ]         
V  5   C>: ]   V  5   ]   [    V   ]   ]   V  5   ]   V  5    5   ]   W  Q       
V  5    5!   V  : V     EO   Q       
V  5    5!   [   V  5    5
   ]   [   V   ]   ]   :  p35#+
  ,i    props	   text   dont_protect   Imgur	   Util   htmlEntity   linkify   postDescription   showEditTools   published   classes+    post-contenteditable   className   contentEditable   tabindex   tabIndex   placeholder   ref   _   partial   _save   TYPING_SPEED   onInput   onBlur   handlePaste   onPaste   __html/   dangerouslySetInnerHTML   handleKeyDown   onKeyDown   onKeyUp   React   createElement   element!!      a   b   .this         +H!!       !!   __html!!    !!       !!   className!!!!   contentEditable!!!!   tabIndex!!!!   placeholder!!!!   ref!!!!   onInput!!!!   onBlur!!!!   onPaste!!!!/   dangerouslySetInnerHTML!!!!   onKeyDown!!!!   onKeyUp!!    !!       !!   __html!!    !!       !!   className!!!!/   dangerouslySetInnerHTML!!    ;      5!!       !!   displayName!!!!   TYPING_SPEED!!!!   savedRequest!!!!   getDefaultProps!!!!   getInitialState!!!!   placeCaretAtEnd!!!!   handlePaste!!!!   insertText!!!!   handleKeyDown!!!!   _save!!!!+   shouldComponentUpdate!!!!%   componentDidUpdate!!!!   render!!    !!    	      getDefaultPropsC  %                                             V V V V                   [       ]    =   ]   =   ]    s"	 )   onHighlightedKeyDown      classNames   query!!              +H!!       )   onHighlightedKeyDownB  V V V V    s         5 !!       !!)   onHighlightedKeyDown!!!!   classNames!!!!   query!!    ;5 !!          getInitialStateB  V .W V .W    s         5!!       #   componentDidMountB  IW W AW W    +t  
       5!!       )   componentWillUnmountB  W W W W    t  
       5 !!       3   componentWillReceivePropsB X X X X    t  
       5!!       %   componentDidUpdateB X X X X    u  
       5 !!       '   highlightedTagIndexB  X `Y X `Y    u  
         B *Y ;Y "Y ;Y    v         5 5!!          handleKeyDownB wY [ oY [    Yv  
       5!!          updatePositionB  [ (\ [ (\    x  
       5 !!          mouseEnterB <\ r\ 4\ r\    y  
       5 !!          mouseLeaveB  \ \ ~\ \    hy  
       5 !!          mouseDownB \ ] \ ]    y  
       5!!          renderTagRowB ] ^ ] ^    y  
       5 !!          renderB  ^ 'c ^ 'c    {  "          a    B a a a a    m         5 5!!       !!   displayName!!!!   MAX_HEIGHT!!!!   ROW_HEIGHT!!!!   getDefaultProps!!!!   getInitialState!!!!#   componentDidMount!!!!)   componentWillUnmount!!!!3   componentWillReceiveProps!!!!%   componentDidUpdate!!!!'   highlightedTagIndex!!!!   handleKeyDown!!!!   updatePosition!!!!   mouseEnter!!!!   mouseLeave!!!!   mouseDown!!!!   renderTagRow!!!!   render!!    !!          _extends<b Nc c Fc c             5 !!    	      getInitialStateC  '                                             d 'e d 'e                 [    B]    @]   Z    ]   =   ]    	 %   showingSuggestions   suggestKeyword   suggestedTags      query!!              +H!!       !!%   showingSuggestions!!!!   suggestKeyword!!!!   suggestedTags!!!!   query!!    ;      5 !!    	   #   componentDidMountC  .                                           Be xe :e xe    	            W   QV         
V   5   5   : 6    Q $    textNode   ReactDOM   findDOMNode	   refs	   text!!      .this         +H;
      5 !!    	      tagSelectedC         <                         "       e f e f    T     	       W  Q       
:     
>: W   QV   5   5      
>V     
:  :    
=   : 	   
:  
   W  QV      
:  W  QV     
V   5   V   5   V   QV     
V   5   V   5    QV     
  QV  5   5      
T  =    QV     
[    B]    Q \+B-)!&    window   getSelection   getRangeAt   startContainer   textContent   substring!   getCaretPosition   split   #   pop   length   cloneRange   setStart   startOffset   setEnd   deleteContents	   refs	   text   insertText       setState%   showingSuggestions!!      a   b   c   d   .this       +H!!       !!%   showingSuggestions!!    ;
      5!!    	      handleKeyUpC         {                         (       f h f h         	       W  QV  5    E   QV  5       
:  QT  5   !   V     
[    B]   : (V     
:  W   Q      
:     
>: 5	   5
      
>V   :    
   =   :    
=   :    
:  W  Q=   V     
>?:    V     
=   :    
:     
?: W  QV     
[   V  5   5    ]   V  ]    QV     
[   V  ]    Q*   V     
[   B]   =   ]    Q 
 )
O/    xhr   abort   which   setState%   showingSuggestions!   getCaretPosition   window   getSelection   getRangeAt   startContainer   textContent   substring   replace       split   pop   #   substr!   fetchSuggestions   state   updateCoords   keyword   query   !!      a   b   c   d   .this       +H!!       !!%   showingSuggestions!!    !!   \n   !!       !!   updateCoords!!!!   keyword!!    !!       !!   query!!    !!       !!%   showingSuggestions!!!!   query!!    ;      5 !!    	   !   fetchSuggestionsC  J        D                         !        h j h j           	       	W  QW  QV     QV      >E   Q>(V  >7I   V  >7   [    W   QV     
:  W  Q      
:     
>: 5   5      
>V  :    
   =	   : 
   
=	   :    
:     
?: W  QV   5      V     
:  1   [   V  5   5   ]   V  5   5   ]      QV  5   5      
V      Q &)
      length!   getCaretPosition   window   getSelection   getRangeAt   startContainer   textContent   substring   replace       split   pop   substr   updateCoords%   getSelectionCoords   state   cursorTop   y   cursorLeft   x   props   tagStore   getSuggestions!!      a   b   c   d   e   arguments   .this        +H!!            !!   \n   !!       !!   y!!!!   x!!    !!        %   fetchSuggestions/<b @j j 8j j    
         5 ;5!!    	   7   formatTagSuggestionResponseC '                                           j $k j $k                   T     T      
    : 	   T   
	;    map!!      a        +H!!       ;   formatTagSuggestionResponse/<b j  k j  k    
         5;5!!    	   !   getCaretPositionC           (                                  >k k 6k k                W  QV  5    W  Q>W  Q   5   Ef   Q      
:  W   QV   5   EB   QV      
>: W  QV  5   5   V  E   QV  5   W  QV   ;    textNode   window   getSelection   rangeCount   getRangeAt/   commonAncestorContainer   parentNode   endOffset!!      a   b   c   d   .this         +H;
      5 !!    	   %   getSelectionCoordsC v         ]                                 l em l em         
       T  D   Q    U  QT  5   W  QV  5   W  Q>W  Q>W  QV  `   =   V  5   EE   QV     
:  W   QV      
C QV   5   W  QV   5   W     T  5	   E   QT  	   
:  W  QV  5
   E   QV     
>:    
:  W   QV   5   Ec   QV      
C QV      
:  W  QV     >E   QV  >7W  QV  5   W  QV  5   W  Q[    V  ]   V  ]    "	    window   document   selection   Control	   type   createRange   collapse   boundingLeft   boundingTop   getSelection   rangeCount   getRangeAt   cloneRange   getClientRects   length	   left   top   x   y!!      a   b   c   d   e   f   g   h       +H!!       !!   x!!!!   y!!    ;      5 !!    	      hideSuggestionsC  !                                          ~m m vm m    E            W   QV       
[    B]    Q H&    setState%   showingSuggestions!!      .this         +H!!       !!%   showingSuggestions!!    ;
      5 !!    	      renderC       %   \                         2        m p m p                W   Q       
=   @       
   5   5         [    =   ]   V   5	   ]
   V   5   : :        
    5   5   [   =   ]   V   5   ]   V   5   ]   V   5   5   E   QV   5   5      >          
   5   5   [   =   ]   V   5   ]   V   5   5   V   5   ]   V   5   5            :     
:  ]!   V   5   5   ]   V   5"   ]#   V   5   5   ]   V   5   5$   ]$   :    @: :  \  /  F1'y     React   createElement   div   Imgur   Gallery   TitleDesc   _extends	   text   ref   handleKeyUp   onKeyUp   props   addons%   CSSTransitionGroup   suggest   transitionName%   TRANSITION_TIMEOUT-   transitionEnterTimeout-   transitionLeaveTimeout   state%   showingSuggestions   suggestedTags   length   TagSuggest   tagSelected   onSelect   cursorLeftK   TAG_SUGGEST_CARRET_DISTANCE_FROM_LEFT	   left   cursorTop   $   document   scrollTop   top   hideSuggestions   unmount   query!!      .this         +H!!       !!   ref!!!!   onKeyUp!!    !!       !!   transitionName!!!!-   transitionEnterTimeout!!!!-   transitionLeaveTimeout!!    !!       !!   ref!!!!   onSelect!!!!	   left!!!!   top!!!!%   showingSuggestions!!!!   unmount!!!!   suggestedTags!!!!   query!!    ;
      5 !!       !!   displayName!!!!%   TRANSITION_TIMEOUT!!!!K   TAG_SUGGEST_CARRET_DISTANCE_FROM_LEFT!!!!   getInitialState!!!!#   componentDidMount!!!!   tagSelected!!!!   handleKeyUp!!!!!   fetchSuggestions!!!!7   formatTagSuggestionResponse!!!!!   getCaretPosition!!!!%   getSelectionCoords!!!!   hideSuggestions!!!!   render!!    !!    	   	   initC .                                          p #q p #q                W   QV   [   [    ]   >]   T  ]   6    Q 		
    _   posts   saving   emitter!!      a   .this       +H!!            !!       !!   posts!!!!   saving!!!!   emitter!!    ;
      5 !!          addB 0q r (q r      
         B  {q q sq q    B         5 5!!          removeB r r r r      
       5 !!       !!	   init!!!!   add!!!!   remove!!    !!     	   	   initC H                                          s bs r bs                W   QV   [   [    ]   @]   Z    ]   T  ]   T ]   T ]   6    Q 

    _   queries#   pendingRequestUrl	   tags   maxTags   tagValidator   emitter!!      a   b   c   .this       +H!!            !!       !!   queries!!!!#   pendingRequestUrl!!!!	   tags!!!!   maxTags!!!!   tagValidator!!!!   emitter!!    ;
      5!!          getTagValidatorB  {s s ss s    B  
       5!!          getTagsB  s s s s    q  
       5!!          addTagB s [u s [u      
       5 !!          removeTagB nu "v fu "v    5  
       5!!          flushTagsB  5v v -v v      
       5!!          getSuggestionsB v v v v    c  
       5 !!          setSuggestionsB w ,w 
w ,w      
       5 !!       !   fetchSuggestionsB Fw x >w x                a    b    B w x w x      
       5 5!!          isTagExistsB y \y y \y                a   B 7y Zy /y Zy             5 5!!    
   !!	   init!!!!   getTagValidator!!!!   getTags!!!!   addTag!!!!   removeTag!!!!   flushTags!!!!   getSuggestions!!!!   setSuggestions!!!!!   fetchSuggestions!!!!   isTagExists!!    !!        +   _getDefaultPredicatesB y ^z y ^z                a   B y y y y             5    B y 6z y 6z                B z 5z y 5z             5 55!!       +   _getAjaxGetWithLoaderB }z z uz z    D            a   B z z z z    W         5 5!!       3   _standardDataResponsePostB { y| { y|                a   B '{ x| { x|                d    e    B W{ { O{ {             5    B { e| { e|              555!!       5   _getStandardPostAuthorizedB  | | | |    d  
       5 !!       I   _getStandardPostAuthorizedWithLoaderB } } } }                a    b    B Z} } R} }    !         5 5!!       9   _getPostAuthorizedWithLoaderB } )~ } )~                a    b    B } (~ } (~             5 5!!       I   _produceEmptyMessageProviderForQueryB W~ ~ O~ ~                a    B  j~ ~ b~ ~    1         5 5!!       3   _produceUserGroupProviderB ~  ~       
       5!!       7   _produceUserGroupControllerB  ;  ;             5!!       3   _produceUserGroupFromDataB ^  V     %          5!!       1   _produceUserGroupFromDomB                  5 !!       !!+   _getDefaultPredicates!!!!+   _getAjaxGetWithLoader!!!!3   _standardDataResponsePost!!!!5   _getStandardPostAuthorized!!!!I   _getStandardPostAuthorizedWithLoader!!!!9   _getPostAuthorizedWithLoader!!!!I   _produceEmptyMessageProviderForQuery!!!!3   _produceUserGroupProvider!!!!7   _produceUserGroupController!!!!3   _produceUserGroupFromData!!!!1   _produceUserGroupFromDom!!    !!    	   	   initC N                                          (        !            W   QV   [   T  ]   T ]   T ]   T ]   T ]   [    ]   @]   6    Q !	
    _   parent_factory   env   gallery_env   groups   postProvider   stores   header!!      a   b   c   d   .this       +H!!            !!       !!   parent_factory!!!!   env!!!!   gallery_env!!!!   groups!!!!   postProvider!!!!   stores!!!!   header!!    ;
      5!!    	   )   produceInsideGalleryC U
              	                  3                    %       W  Q    5   5   E   Q    5   5    W  Q    5   5   A    5   5       5   5   ,  R W  Q    5	   5
   5   A    5   5   V  T  ,  R W  QV  5   5   W  Q      =   : W  QV    V     
  Q    5   5   5       [        5   5   5   ]       5   5   5   ]   T  ]       5   5   5   ]       5   5   5   ]       5   5   ]   V  ]   W	  Q      
      
    5   V	  :     !   
="   : : W  Q      5#   $   
=%   : W  QV  E   QV  5&   W  Q[   V  ]   V  ]&       5   5'      =(      =)   ]*       5   5+   ]+       5   5,   5-   ].   T  ]   W  Q      
      
    5/   V  : V  >7: W  Q=0   V  E    Q    5#   1   
=%   : {         
      
2   [   V  ]&   V  ]3       5   54   ]4   :       =5   : >7: W  QV  V  66   Q7   58   9   
   : W  QV  5   5:   ;   
T  : W  QV  <   
    5=   5>   A,  R   Q    5=   5?   AV  5   ,  R W  QV  @   
=A   V   QT  B   
=C   V  V  5D    QT  E   
=F   V  5   5G   5    Q    5H   A[   V  5   5   5I   ]I   V  5   5   5'   ]'   V  5   5   5,   5J   ]K   V  5   ]   V  5L   ]L   =M   ]N   V  5O   ]O         =P   : ]Q   =R   ]S   B]T   V  ]U   C]V   T  ]   ,  R W  QV  @   
=W       5=   5X   AV  ,  R  Q    5H   V  6Y   Q    5
   5Z   A,  R  W  Q    5	   5
   5[   AT  ,  R W  QV  \   
T  V  V  V  V  V  V  V  : W  Q    5]   V  6Y   Q    5	   5^   AV  T  V  ,  R W   Q    5	   V   6Y   QT  B   
=_   V   V   5`    Q    5   5a   E    QV  b   
T  V  V  : QV  c   
=d    Q[   V  ]e       5   5   ]f   T  ]   V  ]g   W  QBW  Q    5   5   5      
W  Q    5   5   5h   5i   j   W  QV  ?W
  QV
         5   5   5h   5i   V
  7W  QV  5k   DE   QV  5l   D5   Q    5   5   5h   5m   V  E   QV  V    W  Q!       5   5   5l     W  Q   n   
[       5   5   [       5   5   D6   Q    5   5   5o   E   Q    5   5   5   ]       5   5   ]p   T  ]   V  ]3       5   5   5o   D   Q    5   5   5q   >]r       5   5   5o   D   Q    5   5   5q   >]s       5   5,   5t       5   5   5u   HD   Q    5   5   5o   ]v   V  ]w       5   5   5   $       5   5   5h   5i      Z    ]h   : W  QV  5         
      
    5	   5y   V  :       =z   : {   
>: : 6x   Q      
      
    5	   5|   V  :       =}   : {   
>:  QC   QT  B   
=C   @   ~   
V  :  QV    "{#ZC')6
.))l-88.?-<b  #(6+ &9$	 8"'  %,%
)51T)'o'
LKk A,V3a  l      Imgur   Environment   hasAccess   captionsEnabled   Tag   TagValidator   Constants   MIN_TAG_LENGTH   MAX_TAG_LENGTH   Gallery   Store#   MAX_TAGS_PER_POST   _   env   $   #side-gallery   remove   image   is_album	   hash   initialHash   in_gallery%   initialIsPublished   emitter   deletehash   isAlbum   tagStore   ReactDOM   render   React   createElement   PostOptions   document   getElementById   post-options   Experiments   getUserBucket   expT4377b   variation   signed   /miss.json   /hit.json   cache%   votedFavedRecently	   auth   show_mature   showMature   SideGallery   control   isActive)   ImgurRecommendations   sideGallery	   host!   #recommendations   recommendations   navigator   userAgent   match   parent_factory   produceLinkify   addGrabber   Linkify#   AlbumImageGrabber!   AlbumImageViewer   prependViewer   albumimage   on   select%   handleUpdatedImage   trigger   beforeComments   gallery_env   Caption   sid   id   auth_id   baseURL   Submit a    defaultText   commentName   #submit-caption   target)   #save-caption-loader   loadingClass   isReply   isIPad!   showRepliesCount	   nsfw   NSFWViewer   _instance   AlbumImage   Saving!   produceInsideNav   InsideNav   Inside   report image   reportImage   adsEnabled   producePromoted   attachDelegate'   #comments-container   showEditTools   initialImage   postSavingStore   album_images   images   length   title   description   count   extend	   isAd   has_access   ad_type   hide_points   hide_views   url   account_url   hide_report   add_border   header   Header   .post-header   get   PostActionBar   .post-action	   bind!!      a   t   k   b   s   j   r   i   z   q   h   y   p   g   x   o   f   B   w   n   e   A   v   m   d   u   l   c   .this      +H!!       !!   initialHash!!!!%   initialIsPublished!!!!   emitter!!!!   deletehash!!!!   isAlbum!!!!   image!!!!   tagStore!!    !!       !!   env!!!!   variation!!!!   cache!!!!%   votedFavedRecently!!!!   showMature!!!!   emitter!!    !!       !!   variation!!!!   sideGallery!!!!	   host!!    !!	   iPad   !!       !!   sid!!!!   signed!!!!   auth_id!!!!	   hash!!!!   baseURL!!!!   defaultText!!!!   commentName!!!!   target!!!!   loadingClass!!!!   isReply!!!!   isIPad!!!!!   showRepliesCount!!!!   emitter!!    !!       !!   showEditTools!!!!   initialImage!!!!   emitter!!!!   postSavingStore!!    !!            !!    	   !!   in_gallery!!!!   has_access!!!!   emitter!!!!   sideGallery!!!!   hide_points!!!!   hide_views!!!!   hide_report!!!!   add_border!!!!   album_images!!    !!        -   produceInsideGallery/<c  k         %                                        /            W   QV   5    5     ER   QV   5    5      
[    T  ]   B]   B]      ]   T ]    QB   ( /	
J    _   header   setState   image   first	   last   initial   navTrigger!!      a   b   c   d   .this       +H!!       !!   image!!!!   first!!!!	   last!!!!   initial!!!!   navTrigger!!    ;
       5;5!!    	   !   produceInsideNavC j     ?          	                  U        E  E                  W   Q    5   A   T T  T T T       
T [   T 5   5   D   QT 5   5   ]   [   [         =	   : ]
         =   : ]         =   : ]         =   : ]         =   : ]         =   : ]         =   : ]         =   : ]         =   : ]         =   : ]         =   : ]         =   : ]   [    =    ]!         ="   : ]#         =$   : ]%         =&   : ]'         =(   : ])         =*   : ]+   ],   ]-   ].   T ]/   : ,  R    QT  0   
=1   @    QT  0   
=2   @    QT  0   
=3         54    QT  0   
=5         6   
V   :  QT  0   
=7         6   
V   :  QT  0   
=8         59    QT  0   
=:         5;    QT  0   
=<         5=    QT  0   
=>   @   6   
   V   :  Q    0-'
!) q i6htgs("&       Imgur   InsideNav   _   merge   image	   isAd   is_ad   isPromoted   $   #report-image   reportImageLink   .image   .image-arrows   arrows   .zoom	   zoom'   #account-bio.access   accountBio-   .submit-caption-button'   submitCaptionButton!   #expand-comments   commentExpand   .combobox   comboboxes   #comment-sort   commentSort   #captions   $comments   .favorite-image#   favoriteImageLink   #meme-image   reCaptionLink)   #download-album-form   id7   #download-album-form #email   emailInputG   #download-album-form #download-form	   form   #message   message5   #download-album-form #save	   save!   #download-loader   loader#   downloadAlbumForm   inside   el   linkifier   on   imageRendered   reset   select   navToImage   firstImage	   bind   lastImage   sectionChange   changeSection   sortChange   changeSort   windowChange   changeWindow'   sidegalleryPageLoad!!
      a   b   c   d   e   f   g   h   i   .this      +H!!       !!   id!!!!   emailInput!!!!	   form!!!!   message!!!!	   save!!!!   loader!!    !!       !!   reportImageLink!!!!   image!!!!   arrows!!!!	   zoom!!!!   accountBio!!!!'   submitCaptionButton!!!!   commentExpand!!!!   comboboxes!!!!   commentSort!!!!   $comments!!!!#   favoriteImageLink!!!!   reCaptionLink!!!!#   downloadAlbumForm!!    !!       !!   inside!!    !!       !!   isPromoted!!!!   el!!!!   linkifier!!    !!       %   produceInsideNav/<b        3            c    B        3         5 5!!       %   produceInsideNav/<b ! ;  ;    3         5 !!       %   produceInsideNav/<c  J                                         w  o     >4            W   QV   5    5     E1   QV   5    5      
[    C]   B]   : ( 4B	*    _   header   setState   first	   last!!      a   .this       +H!!       !!   first!!!!	   last!!    ;
       5 !!       %   produceInsideNav/<c  J                                          5  5    4            W   QV   5    5     E1   QV   5    5      
[    B]   C]   : ( 4	*    _   header   setState   first	   last!!      a   .this       +H!!       !!   first!!!!	   last!!    ;
       5 !!       %   produceInsideNav/<c  H                                             ;  ;    5             T  x=    y   =   y!   z,         
  Q         
  Q 5sC~x `    append   prepend!   enableNextButton!   enablePrevButton!!      a        +H;       5 ;5!!    	      producePromotedC .        2                          &       ^  V     %6            W  Q=          
:  5   5   D'   Q      
:  5   5   5   CI   V  5   5      
=   : W   Q   5	   5
   AV   T  T ,  R W  Q   5	   5   5   AV   T  ,  R W  Q   5	   AV   T  T T V  V     5      
:  5   5      5      5   5   ,
  R	 W  QV   6-+,!&!m	    undefined   Imgur   getInstance   _	   auth   isPro   parent_factory   getConfig   promoted   Promoted   Events   Source   Adzerk   Gallery   safe_tags   Environment	   Util   jafoLog!!      a   b   c   d   e   f   g   .this       +H;      5 !!       !!	   init!!!!)   produceInsideGallery!!!!!   produceInsideNav!!!!   producePromoted!!    !!        	   initB  n  n    7  
       5 !!       +   produceOutsideGalleryB        T8            e   B  J  J    9         5    B   z     I:         5    B   s  s    :         55!!       %   produceOutsideUserB  u  u    ;  
       5 !!       '   produceOutsideMemesB        Y<  
       5!!       #   sectionMenuOpenedB   S  S    <         5!!       G   produceOutsideNonMainSectionChooserB   x     G=  
         B        q=         5 5!!       7   produceOutsideTaggingWidgetB          >  R   	       k    b    j    a    p    o    e    m    d   B Y  Q      ?         5    B  &  &    ?         5    B        N@         5    B        q@         5    B        OB         5    B   j } j    LC            B   h  h    C  "         B  U  U    C            b    B % S  S    C         5 555   B  }  u     DD            B         ~D  "       55   B  l  d     3E  
       5    B P  H     H         5 5!!       !   produceSharePageB	        I  J          e    f    g    i    j    l    p    q    B b x Z x    )J         5    B  r  j     9K         5    B  ,  $     K         5    B         \N         5    B        N         5 5!!       '   _produceUserTagListB  {  {    O            i   B  R  J     Q         5 5!!       %   _produceGroupModelB        ^S  
       5 !!       9   _produceSuggestedTagFromDataB   
     S         5 !!       9   _produceRemovableTagFromDataB  ?  ?    T         5 !!       5   produceRemovableTagFromDomB c V [ V    *U         5 !!       C   _produceComboboxItemFromSomethingB   y     HV         5!!       7   _produceEmptyGalleryTagListB        V            e    i   B   ,  ,    X         5    B  u  m     <Z  
       5 5!!       !!	   init!!!!+   produceOutsideGallery!!!!%   produceOutsideUser!!!!'   produceOutsideMemes!!!!#   sectionMenuOpened!!!!G   produceOutsideNonMainSectionChooser!!!!7   produceOutsideTaggingWidget!!!!!   produceSharePage!!!!'   _produceUserTagList!!!!%   _produceGroupModel!!!!9   _produceSuggestedTagFromData!!!!9   _produceRemovableTagFromData!!!!5   produceRemovableTagFromDom!!!!C   _produceComboboxItemFromSomething!!!!7   _produceEmptyGalleryTagList!!    !!    	   	   initC F        M                                 d  d           	       W   QV         
[   @]   @]         =   : ]   [    =   ]         =	   : ]
         =   : ]   ]   [   =   ]   =   ]      ]      ]   ]   T  : 6    QV   5          
V   5    5   : 6   QV      
V   5     QV   5    5   D3   QV   5       5      
:     
:  6   Q Z
		
*8e~ 
    _   $   extend   method	   hash   .favorite-image   $favButton#   #colorbox-confirm   target3   #colorbox-confirm-message   $message/   #colorbox-confirm-title   $title   confirm;   <div class="favorited"></div>   favoritedS   <div class="favorited unfavorited"></div>   unfavorited   confirmMsg   confirmTitle   messages	   trim   _super   Imgur   InsideNav   getInstance   getHash!!      a   .this       +H!!       !!   target!!!!   $message!!!!   $title!!    !!          confirmMsgB G  ?     \         5 !!          confirmTitleB        u\         5 !!       !!   favorited!!!!   unfavorited!!!!   confirmMsg!!!!   confirmTitle!!    !!       !!   method!!!!	   hash!!!!   $favButton!!!!   confirm!!!!   messages!!    ;5 !!    	      _initC  %                                           s  k     :]            W   QV       
  QV      
  Q ]=    showMessage'   _init_click_handler!!      .this         +H;
      5 !!    	   '   _init_click_handlerC  L                                  	         B  B                  W   QV   5    5      
=   :    
=          
    V   :  Q ]- [    _   $favButton   unbind   click   on	   bind!!      .this         +H!!       +   _init_click_handler/<b   :  :    ]  "          B        ^         5 5;5!!    	      handleKeyC 
        &                                U K M K    _            W  QT  5    D   QT  5   D   QT  5   D   Q0T  5   E$   Q-T  5   E   Q`T  5   D\   Q      T  5   :    
=   : D1   Q=         T  5   : 	   
=
   :  G         
=   [    C]   : W   QV  5   5      
V    Q _ O+    ctrlKey   altKey   metaKey   keyCode   $   target   is   input, textarea	   true	   attr   contenteditable   jQuery   Event   click   fav_display_msg   _   $favButton   trigger!!      a   b   .this       +H!!       !!   fav_display_msg!!    ;      5 !!    	      showMessageC       	                                    `  X     '`            W   Q=    T  'E   QV   5   5   U  Q=   T     V      
  G   =   T     V      
  $   =   T  E   QV      
:  Q `+&%    undefined   _   method   favorited   showFavorited   unfavorited   showUnfavorited   confirm   showConfirm!!      a   .this       +H;
      5 !!          showFavoritedB   P 	 P    `  
       5!!          showUnfavoritedB  i  a     0a  
       5!!          showConfirmB         a  
       5!!          favoriteB        b  
       5 !!          favoriteSuccessB  q  q    f  
       5!!          favoriteErrorB   S  S    Og  
       5!!          isFavoritedB  h  `     /h  
       5!!          upvoteB   5  5    qh         5 !!       !!	   init!!!!   _init!!!!'   _init_click_handler!!!!   handleKey!!!!   showMessage!!!!   showFavorited!!!!   showUnfavorited!!!!   showConfirm!!!!   favorite!!!!   favoriteSuccess!!!!   favoriteError!!!!   isFavorited!!!!   upvote!!    !!    	   	   initC      F                            4        / ~ /           
       W   QT  D   Q[    U  QV         
C[   =   ]   =   ]   =   ]   B]	   B]
   >]   [      ]   =   ]   ]   [         =   : ]         =   : ]         =   : ]         =   : ]         =   : ]         =   : ]         =   : ]         =   : ]         =    : ]!         ="   : ]#         =$   : ]%         =&   : ]'         =(   : ])         =*   : ]+         =,   : ]-         =.   : ]/         =0   : ]1         =2   : ]3   =4   ]5   =6   ]7   ]8   T  : 6    QV   5    =:   ;   5    5<   ==   V   5    5>   =?   69   QV   5    A   A[   B]B   B]C   ]D   ,  R 6@   QV   V   E   
V   5    : 6    QV   5     iQ14
  K	1
@
4BI D!8    _   $   extend1   /lightboxes/galleryterms+   gallerySubmitTermsUrl/   /lightboxes/verifyemail3   galleryVerifyEmailFormUrl   /share/i/!   gallerySubmitURL   loading   shareing   terms   postingTooFast   Your account has been blocked. Please contact support@imgur.com.   banned   messages   #shareonimgur   $shareonimgur   #share-album   $shareAlbum   #preview   $previewW   #submission-title input, .data-col textarea   $descriptions-   input[name="topic_id"]   $topic_idu   input[name="imageTitle[]"], textarea[name="description[]"]   $titleDesc   .image-title   $imageTitles   .delete-col#   $deleteContainers   .required   $required   #share   $submit'   input[name="terms"]   $terms   #tagbox   $tagbox%   #content-container#   $contentContainer   .topic-select   $topicSelect!   #publish-buttons   $publishButtons   #missing-fields   $missingFields]   #platform-target-prompt input[type="checkbox"]%   $promotedPlatBoxesy   #platform-target-prompt input[type="checkbox"]#targeting-all!   $promotedPlatAll   .move   sortHandler-   .image-container .zoom   images   el   galleryLink   //   imgur	   host   /gallery/	   hash	   /new   publishCortex   Cortex   submitting   promoted   missingFields   _super!!      a   .this       +H!!            !!           postingTooFastB o  g     6j         5 !!       !!   postingTooFast!!!!   banned!!    !!       !!   $shareonimgur!!!!   $shareAlbum!!!!   $preview!!!!   $descriptions!!!!   $topic_id!!!!   $titleDesc!!!!   $imageTitles!!!!#   $deleteContainers!!!!   $required!!!!   $submit!!!!   $terms!!!!   $tagbox!!!!#   $contentContainer!!!!   $topicSelect!!!!   $publishButtons!!!!   $missingFields!!!!%   $promotedPlatBoxes!!!!!   $promotedPlatAll!!!!   sortHandler!!!!   images!!    !!       !!+   gallerySubmitTermsUrl!!!!3   galleryVerifyEmailFormUrl!!!!!   gallerySubmitURL!!!!   loading!!!!   shareing!!!!   terms!!!!   messages!!!!   el!!    !!       !!   submitting!!!!   promoted!!!!   missingFields!!    ;5!!    	      generalInitC  B        g       	                  K        D - < -           
       W   QV      Q       Q     QV   5    5      
=       Q      V   5    5   5   :    
  QV   5    5   5      
=	       QV   5    5   5
      
=       QV   5    5   5      
=       QV   5    5   5      
=       QV   5    V   5    5   5      
:  6   QV   5    5   5      
[      ]    QV   5    5   5      
=          
       
V   5   X: V   :  QV      
  QV      
  Q         :    
=          
   5   V   :  Q         :    
=       Q o '2G    w"!  6l!.
      _   publishCortex   on   update   $   el   images   imageZoom#   $deleteContainers   click   $required   keyup   $descriptions   keydown   $titleDesc   change   originalState   $shareAlbum   serialize   $topicSelect   combobox   onChange%   $promotedPlatBoxes   change click	   bind   debounce3   handlePromoPlatformChange#   placeShareButtons   window   resize   beforeunload!!      a   b   .this        +H!!           bB  \ x T x    #o           B  0  0    o         5 5!!          generalInit/<b         mp         5!!          generalInit/<b        p         5!!          generalInit/<b  =  5     q  
       5!!          generalInit/<b        q         5 !!          generalInit/<b         wr  
       5!!          onChangeB g  _     .s         5 !!       !!   onChange!!    !!          generalInit/<b   +  +    t         5;5!!       #   placeShareButtonsB  H 1 @ 1    u  
       5!!          retabindexB  E  =     v            B        gv  
       5 5!!          handleDeleteB  r  r    v  
       5 !!          serializeB    }     Lw         5 !!          handleSaveB        x            b   B        Oz         5 5!!          handleSubmitB        z            b   B        |         55!!       3   handlePromoPlatformChangeB  D  D             5!!       #   redirectToGalleryB  _  W       
       5!!          handleFailB        R  2          a    c   B   
  
             5 5!!       !   handleValidationB  >  >    b
  
       5 !!       %   checkMissingFieldsB  Z  R       
       5 !!          showTermsB  ?  ?    q  "          a    b    c   B         V         5    B   <  <             5 5!!          acceptTermsB T  L              5!!          declineTermsB   ,  ,    j         5 !!       +   showEmailVerificationB K  C                 a    b   B         8            c    B  K  C              5    B         2         5 55!!       +   sendVerificationEmailB         d         5!!       -   checkEmailVerificationB   
       "          a    b    c    B T  L                 B   	  	             5 55!!       !!	   init!!!!   generalInit!!!!#   placeShareButtons!!!!   retabindex!!!!   handleDelete!!!!   serialize!!!!   handleSave!!!!   handleSubmit!!!!3   handlePromoPlatformChange!!!!#   redirectToGallery!!!!   handleFail!!!!!   handleValidation!!!!%   checkMissingFields!!!!   showTerms!!!!   acceptTerms!!!!   declineTerms!!!!+   showEmailVerification!!!!+   sendVerificationEmail!!!!-   checkEmailVerification!!    !!        )   getInterestingEventsB         H         5 !!          renderB         l  
       5 !!       !!   displayName!!!!)   getInterestingEvents!!!!   render!!    !!           getInitialStateB  f  ^       
       5!!          handleChangeB        ^         5!!          renderB         ;  
       5 !!       !!   displayName!!!!   getInitialState!!!!   handleChange!!!!   render!!    !!          handleRulesB   j  j      
       5!!          renderB  z t r t      
       5 !!       !!   displayName!!!!   handleRules!!!!   render!!    !!       	   initB        b  
       5 !!          getComparatorB   4  4      
       5!!          getListB  E [ = [      
       5!!          get$ContainerB  r  j       
       5!!          addB  h  h    :         5!!          prependB y  q       
       5!!          appendB  L  L      
       5 !!          removeB \  T                 a    B   |               5 5!!       -   removeElementPredicateB        Y            a    B                 5 5!!          clearB  " q  q      
       5!!          extendB   y       
       5 !!          lengthB         Q  
       5 !!          containsB  #  #                a    B 
 !  !             5 5!!          containsByB 7 X / X      
       5 !!          moveToTopB k  c        
       5!!          findFirstByB        J   
       5!!       !!	   init!!!!   getComparator!!!!   getList!!!!   get$Container!!!!   add!!!!   prepend!!!!   append!!!!   remove!!!!-   removeElementPredicate!!!!   clear!!!!   extend!!!!   length!!!!   contains!!!!   containsBy!!!!   moveToTop!!!!   findFirstBy!!    !!    	   	   initC W                                         X  P                   W   QV       
T  T T  QV   5   5      6   QV   5   T D   Q    6   Q ! 3    _super   _   el   $empty)   emptyMessageProvider!!      a   b   c   d   e   .this      +H!!        C   init/this._.emptyMessageProvider<b         M!         5;5!!       /   setEmptyMessageProviderB        {!  
       5!!       /   getEmptyMessageProviderB  " H  H    !  
       5!!       )   _replaceEmptyMessageB  f  ^     "  
       5 !!    	      addC (                                                 l"            W   QV       
T   QV      
  Q "p    _super!   hideEmptyMessage!!      a   .this       +H;
      5!!    	      prependC (                                            7    7     "            W   QV       
  QV      
T   Q " !   hideEmptyMessage   _super!!      a   .this       +H;
      5!!    	      appendC (                                          G  r  ?  r     "            W   QV       
  QV      
T   Q " !   hideEmptyMessage   _super!!      a   .this       +H;
      5 !!    	      removeC E                                              z       #            W   QV       
T   Q>V   5   5      E   QV      
:  Q #"    _super   _	   list   length!   showEmptyMessage!!      a   .this       +H;
      5 !!    	   -   removeElementPredicateC E                                            &   &    #            W   QV       
T   Q>V   5   5      E   QV      
:  Q #    _super   _	   list   length!   showEmptyMessage!!      a   .this       +H;
      5 !!    	      clearC  %                                           5 ^ - ^    #            W   QV       
  QV      
  Q #    _super!   showEmptyMessage!!      .this         +H;
      5 !!          hasEmptyMessageB  w  o     $  
       5!!       !   hideEmptyMessageB         ^$  
       5 !!       !   showEmptyMessageB         $  
       5 !!       !!	   init!!!!/   setEmptyMessageProvider!!!!/   getEmptyMessageProvider!!!!)   _replaceEmptyMessage!!!!   add!!!!   prepend!!!!   append!!!!   remove!!!!-   removeElementPredicate!!!!   clear!!!!   hasEmptyMessage!!!!!   hideEmptyMessage!!!!!   showEmptyMessage!!    !!    	      hasEmptyMessageC  *                                            D   D    %            W   QV   5    5   5      
=   :  %1    _   el%   $selectorContainer   hasClass   noGroups!!      .this         +H;
      5!!    	   !   hideEmptyMessageC  @                                           ^  V     %            W   QV       
:  E)   QV   5   5   5      
=   : Q %4    hasEmptyMessage   _   el%   $selectorContainer   removeClass   noGroups!!      .this         +H;
      5 !!    	   !   showEmptyMessageC  O                                   	         1  1    d&            W   QV       
  QV      
:  D)   QV   5   5   5      
=   : Q &g1 )   _replaceEmptyMessage   hasEmptyMessage   _   el%   $selectorContainer   addClass   noGroups!!      .this         +H;
      5!!       !!   hasEmptyMessage!!!!!   hideEmptyMessage!!!!!   showEmptyMessage!!    !!        %   _handleUnsubscribeB         ?'  
       5 !!       !   _handleSubscribeB   ;  ;    '  
       5 !!          renderB  K F C F    '  
       5 !!       !!   displayName!!!!%   _handleUnsubscribe!!!!!   _handleSubscribe!!!!   render!!    !!        	   initB          /)  
       5 !!       )   changeSelectionToTagB > a 6 a    )  
       5 !!       !   getActiveGroupIdB  {  s     *  
       5 !!          getActiveGroupB         T*  
       5 !!       %   getActiveGroupNameB         *  
       5 !!          getActiveTagB  . C & C    *  
       5 !!       !   getActiveTagNameB  ] | U |    *  
       5 !!       %   setActiveGroupNameB        4+  
       5 !!       )   findTagInActiveGroupB  N	  N	    +            a    B 1	 L	 )	 L	    +         5 5!!    	   !!	   init!!!!)   changeSelectionToTag!!!!!   getActiveGroupId!!!!   getActiveGroup!!!!%   getActiveGroupName!!!!   getActiveTag!!!!!   getActiveTagName!!!!%   setActiveGroupName!!!!)   findTagInActiveGroup!!    !!    	   	   initC          2                                	 
 	 
    M,     
       W   QV       
T  T T T T  QV         
V   5   D   Q[    [   T  ]   T ]   T ]   T ]   T ]   T ]   [   T ]	   T 
   
=   : ]   ]   : 6   Q ,]

      _super   _   merge   emitter   section	   sort   inSearch   sentence+   outsideActiveTagStore   $container	   find3   #section .selection .name   $selectionName   el!!      a   b   c   d   e   f   g   .this       +H!!            !!       !!   $container!!!!   $selectionName!!    !!       !!   emitter!!!!   section!!!!	   sort!!!!   inSearch!!!!   sentence!!!!+   outsideActiveTagStore!!!!   el!!    ;
      5!!          get$ContainerB  
 
 
 
    6-  
       5!!       !!	   init!!!!   get$Container!!    !!        	   initB 
 < 
 <    -  
       5 !!          getIdB  K  C     -  
       5!!          getListB         1.  
       5!!          setListB        X.  
       5!!          getNameB           {.  
       5!!          get$ContainerB   6  6    .  
       5!!          get$NameB  H b @ b    .  
       5 !!          setNameB s  k     /  
       5!!          addB        8/  
       5!!          containsB        a/  
       5 !!          containsByB  !  !    /  
       5 !!          findFirstTagByB 9 _ 1 _    /  
       5 !!       '   getIdFrom$ContainerB |  t     0         5!!       +   getTypeFrom$ContainerB        b0         5!!          equalsB  !  !    0  
       5 !!          insertBeforeB 7 j / j    0  
       5 !!       !!	   init!!!!   getId!!!!   getList!!!!   setList!!!!   getName!!!!   get$Container!!!!   get$Name!!!!   setName!!!!   add!!!!   contains!!!!   containsBy!!!!   findFirstTagBy!!!!'   getIdFrom$Container!!!!+   getTypeFrom$Container!!!!   equals!!!!   insertBefore!!    !!     	   	   initC B                                                 Y1            W   QV       
T  T  QV   5   5   T     
=   : 6   Q 1_    _super   _   el   $remove	   find   .remove!!      a   b   .this       +H;
      5 !!    	      setNameC (         	                                 	 %  %    1            W   QV   5    5   5      
T   Q 1    _   el   $name	   text!!      a   .this       +H;
      5 !!       !   get$RemoveButtonB  ? [ 7 [    1  
       5 !!          removeB  k  c     2  
       5 !!    	      equalsC                                                  82            W   QT  V       
:  H 2<    getId!!      a   .this       +H;
      5 !!       !!	   init!!!!   setName!!!!!   get$RemoveButton!!!!   remove!!!!   equals!!    !!        	   initB  4  4    2  
       5 !!          unsubscribeB I y A y    2            a    b   B   *  *    -3  
       5    B  B 3 : 3    3  
       5 5!!          subscribeB        (5            a    b   B         k5  
       5    B         m6  
       5 5!!          blockB  a 
 a    7            a    b   B  U A M A    7  
       5    B  Y  Q     8  
       5 5!!          unblockB r x j x    :            a    b   B   U  U    V:  
       5    B  m  e     	;  
       5 5!!       !!	   init!!!!   unsubscribe!!!!   subscribe!!!!   block!!!!   unblock!!    !!       	   initB        W<  
       5 !!          insertBeforeB , _ $ _    <  
       5 !!          removeB  o  g     =  
       5 !!          getNameB         ==  
       5!!          get$ContainerB         =  
       5!!          get$NameB   2  2    =  
       5 !!       -   get$NameFrom$ContainerB R q J q    =         5 !!       +   getNameFrom$ContainerB        ,>         5!!          equalsB  	  	    b>  
       5 !!          addSelectionB   L  L    >  
       5 !!          removeSelectionB  e  ]     ?  
       5!!       !!	   init!!!!   insertBefore!!!!   remove!!!!   getName!!!!   get$Container!!!!   get$Name!!!!-   get$NameFrom$Container!!!!+   getNameFrom$Container!!!!   equals!!!!   addSelection!!!!   removeSelection!!    !!    	   	   initC Q                                           3  3    ?            W   QV       
T  QV   5   T  6   QV   5   5   T    
=   : 6   Q ?    _super   _   emitter   el   $remove	   find   .remove!!      a   b   .this       +H;
      5!!          getEmitterB  G ` ? `    ?  
       5 !!       !   get$RemoveButtonB  z  r     @  
       5 !!          markConfirmedB         I@  
       5!!    	      removeC  B                                            1  1    @            W   QV   5    5      
=   V      
:   QV      
  Q @$4    _   emitter   trigger   tag.remove   getName   _super!!      .this         +H;
      5!!       !!	   init!!!!   getEmitter!!!!!   get$RemoveButton!!!!   markConfirmed!!!!   remove!!    !!        	   initB    }      !A  
       5 !!          isOpenB  0 Z ( Z    A  
       5 !!          toggleB j D! b D!    B  
       5 !!          openTagBoxB  X! z! P! z!    C  
       5 !!          setTagBoxCookieB ! " ! "    /D  
       5!!       +   setBestCommentsCookieB "" " " "    D  
       5!!       !!	   init!!!!   isOpen!!!!   toggle!!!!   openTagBox!!!!   setTagBoxCookie!!!!+   setBestCommentsCookie!!    !!       	   initB " ,# " ,#    E  
       5 !!          cancelB  <# # 4# #    E  
       5 !!          fetchB # =$ # =$    9F  
       5!!       +   responseWasSuccessfulB \$ r$ T$ r$    F         5!!          _handleResponseB $ #% $ #%    'G  
       5!!          _handleErrorB 9% M% 1% M%    G         5 !!       -   _handleResponseSuccessB m% % e% %    	H         5 !!       !!	   init!!!!   cancel!!!!   fetch!!!!+   responseWasSuccessful!!!!   _handleResponse!!!!   _handleError!!!!-   _handleResponseSuccess!!    !!     	   	   initC .                                          % 
& % 
&    uH            W   QV       
T  T  QV   5   T 6   Q H}    _super   _   autoSuggestUrl!!      a   b   c   .this       +H;
      5!!    	      fetchC          0                                & & & &    H            W   QV       
Z   T  `    T `   T `   V   5   5   =   T       
[   [   T ]   [   =   ]   
]	   [    ?]
   ]   ]   ]   :  Q H<      _super   _   autoSuggestUrl   /tags/_suggest	   JSON   stringify	   text   name_suggest   field	   size   edit_distance   fuzzy   completion	   tags!!      a   b   c   d   .this       +H!!       !!   edit_distance!!    !!       !!   field!!!!	   size!!!!   fuzzy!!    !!       !!	   text!!!!   completion!!    !!       !!	   tags!!    ;
      5 !!    	   +   responseWasSuccessfulC           	                                  & ' & '    ~I             T  5    5   > I    _shards   successful!!      a        +H;      5 !!    	   -   _handleResponseSuccessC l         !                                $' ' ' '                  W   QZ       QT  >7   QT  ?7QT  7   Q       
T 5   >75          
    V   :  Q    Ir    _	   each	   tags   options	   bind!!      a   b   c   d   e   .this      +H!!        1   _handleResponseSuccess/<b w' ' o' '    J  
       5 ;5!!    	      toStringC                                                ' ' ' '    qJ             =     Jt -   [tag suggestion model]!!              +H;      5!!       !!	   init!!!!   fetch!!!!+   responseWasSuccessful!!!!-   _handleResponseSuccess!!!!   toString!!    !!    	   	   initC ,                                          W( ( O( (    J            W   QV       
T  @ QV   5   T 6   Q J    _super   _   autoSuggestUrl!!      a   b   .this       +H;
      5!!    	      fetchC          +                                ( C) ( C)    4K            W   QT     V       
T  V   5   5   =   T       
[   [   T  ]   [   =   ]   
]	   [    ?]
   ]   ]   ]   :     T =   Z     Q K:I      _super   _   autoSuggestUrl   /tags/_suggest	   JSON   stringify	   text   name_suggest   field	   size   edit_distance   fuzzy   completion	   tags   !!      a   b   .this       +H!!       !!   edit_distance!!    !!       !!   field!!!!	   size!!!!   fuzzy!!    !!       !!	   text!!!!   completion!!    !!       !!	   tags!!    ;
      5 !!    	   +   responseWasSuccessfulC           	                                  b) ) Z) )    K             T  5    5   > L    _shards   successful!!      a        +H;      5 !!    	   -   _handleResponseSuccessC O                                  
       ) @* ) @*                  W   QZ       Q       
T 5   >75          
    V   :  Q    LJ      _	   each	   tags   options	   bind!!      a   b   c   .this      +H!!        1   _handleResponseSuccess/<b ) 6* ) 6*    ~L         5 ;5!!       !!	   init!!!!   fetch!!!!+   responseWasSuccessful!!!!-   _handleResponseSuccess!!!!   _handleError!!    !!          getInitialStateB  * * * *    }M         5!!    	      getDefaultPropsC  B                                             + + + +    M             [   [    T]    ]   (]   ']   &]   ]   	]   ]    M
	    KEY_T   KEY_ESC   KEY_DOWN_ARROW   KEY_RIGHT_ARROW   KEY_UP_ARROW   KEY_ENTER   KEY_TAB   KEYCODES!!              +H!!       !!   KEY_T!!!!   KEY_ESC!!!!   KEY_DOWN_ARROW!!!!   KEY_RIGHT_ARROW!!!!   KEY_UP_ARROW!!!!   KEY_ENTER!!!!   KEY_TAB!!    !!       !!   KEYCODES!!    ;      5 !!          focusB  + + + +    0N  
       5!!          moveCursorToEndB + C, + C,    dN         5!!          handleKeyDownB Z,  1 R,  1    N  *       5!!          handleKeyPressB 81 +2 01 +2    S  
       5 !!       %   handleChangedQueryB G2 2 ?2 2    T  
       5 !!          handleSubmitB 3 3 3 3    U  
       5 !!          focusedB  3 4 3 4    V  
       5!!          _getAcInfoB  ,4 5 $4 5    V  
       5 !!       )   _longestCommonPrefixB 6 6 6 6    X         5!!       %   componentDidUpdateB  6 X7 6 X7    HY  
       5 !!          renderB  h7 G: `7 G:    Z  
       5 !!       !!   displayName!!!!   getInitialState!!!!   getDefaultProps!!!!   focus!!!!   moveCursorToEnd!!!!   handleKeyDown!!!!   handleKeyPress!!!!%   handleChangedQuery!!!!   handleSubmit!!!!   focused!!!!   _getAcInfo!!!!)   _longestCommonPrefix!!!!%   componentDidUpdate!!!!   render!!    !!           compareB : : : :    0]         5!!       !!   compare!!    !!           getInitialStateB  y; ; q; ;    ^         5!!          _encodeB ; ; ; ;    e^         5!!       !   handleTagClickedB < *< 	< *<    ^         5 !!       '   handleRemoveClickedB G< < ?< <    ^  
       5!!       #   handleQueryChangeB < < < <    8_  
       5!!          handleChoiceB < = < =    _  
       5 !!       %   getSelectionActiveB  = "> = ">    `  
       5 !!       %   getAutocompleteIdxB  >> c> 6> c>    `  
       5 !!       #   setComponentStateB ~> > v> >    a  
       5!!       #   componentDidMountB  > > > >    Ja  
       5!!       %   componentDidUpdateB  > > > >    |a  
       5 !!          _updateNanoB  ? ? ? ?    a  
       5!!          stopPropagationB @ -@ @ -@    b         5!!          _produceTagB B@ (A :@ (A    b  
       5!!          renderB  8A (K 0A (K    c  2          g    h    k    B B dC B dC    me  
       5    B D E D E    g         5    B "E E E E    g         5   B E -G E -G    h  
       5 5!!       !!   displayName!!!!   getInitialState!!!!   _encode!!!!!   handleTagClicked!!!!'   handleRemoveClicked!!!!#   handleQueryChange!!!!   handleChoice!!!!%   getSelectionActive!!!!%   getAutocompleteIdx!!!!#   setComponentState!!!!#   componentDidMount!!!!%   componentDidUpdate!!!!   _updateNano!!!!   stopPropagation!!!!   _produceTag!!!!   render!!    !!          getInitialStateB  K K K K    Gn         5!!          _encodeB K )L K )L    n         5!!       !   handleTagClickedB CL +M ;L +M    n  
       5 !!       '   handleRemoveClickedB HM M @M M    o  
       5!!       #   handleQueryChangeB 
N BN N BN    p  
       5!!          handleChoiceB XN O PN O    p  
       5 !!       %   getSelectionActiveB  O O O O    qr  
       5 !!       %   getAutocompleteIdxB  P ;P P ;P    r  
       5 !!       #   setComponentStateB VP kP NP kP    r  
       5!!       #   componentDidMountB  P P ~P P    "s  
       5!!       %   componentDidUpdateB  P P P P    Ts  
       5 !!          _updateNanoB  P Q P Q    s  
       5!!          renderB  Q 6Z Q 6Z    ot  2          e    f   B S T S T    /v  
       5    B U #W U #W    rx  
       5 5!!       !!   displayName!!!!   getInitialState!!!!   _encode!!!!!   handleTagClicked!!!!'   handleRemoveClicked!!!!#   handleQueryChange!!!!   handleChoice!!!!%   getSelectionActive!!!!%   getAutocompleteIdx!!!!#   setComponentState!!!!#   componentDidMount!!!!%   componentDidUpdate!!!!   _updateNano!!!!   render!!    !!#   ^[a-zA-Z0-9\_ ]*$    !!     	   	   initC &                                          Z Z Z Z    +             W   QV   [    T ]   T  ]   6    Q1    _   maxLength   minLength!!      a   b   .this       +H!!       !!   maxLength!!!!   minLength!!    ;
      5!!          isValidTagB Z [ Z [    f   
       5 !!          whyNotB &[ V[ [ V[       
       5 !!          _validateTagB l[ ] d[ ]       
       5 !!       !!   TAG_REGEX!!!!	   init!!!!   isValidTag!!!!   whyNot!!!!   _validateTag!!    !!'   ^[a-zA-Z0-9&\-\s]*$    !!       	   initB <^ c^ 4^ c^      
       5 !!          isValidGroupB y^ ^ q^ ^      
       5 !!          whyNotB ^ ^ ^ ^    7  
       5 !!          _validateGroupB ^ a ^ a    }  
       5 !!       !!   GROUP_REGEX!!!!	   init!!!!   isValidGroup!!!!   whyNot!!!!   _validateGroup!!    !!        	   initB Ta a La a      
       5 !!          get$BeforeB  a a a a      
       5 !!          get$MiddleB  a a a a    O  
       5 !!          changeB a c a c    {  
       5 !!       !!	   init!!!!   get$Before!!!!   get$Middle!!!!   change!!    !!       	   initB c Sd c Sd    \	  
       5 !!          getIsLoadingB  id d ad d    	  
       5 !!          setIsLoadingB d d d d    
  
       5 !!       #   setValidationModeB d De d De    r
  
       5!!          getIsValidQueryB ]e e Ue e    
  
       5!!          getWhyNotB e e e e    3  
       5!!          getQueryB  f )f e )f      
       5 !!       )   getLastFinishedQueryB  Gf jf ?f jf      
       5 !!       )   setLastFinishedQueryB f f f f      
       5 !!          setQueryB f %g f %g    f  
       5 !!          getSuggestionsB  =g Zg 5g Zg      
       5 !!          setSuggestionsB rg g jg g      
       5 !!          addSuggestionB g h g h    L  
       5!!          clearB  $h gh h gh      
       5!!       !!	   init!!!!   getIsLoading!!!!   setIsLoading!!!!#   setValidationMode!!!!   getIsValidQuery!!!!   getWhyNot!!!!   getQuery!!!!)   getLastFinishedQuery!!!!)   setLastFinishedQuery!!!!   setQuery!!!!   getSuggestions!!!!   setSuggestions!!!!   addSuggestion!!!!   clear!!    !!        	   initB h h h h    ?  
       5 !!          setCurrentImageB i Ki h Ki      
       5!!          getCurrentImageB  di i \i i      
       5!!       #   getCurrentImageIdB  i i i i      
       5!!       !!	   init!!!!   setCurrentImage!!!!   getCurrentImage!!!!#   getCurrentImageId!!    !!        	   initB *j Pj "j Pj      
       5 !!          getGroupsB  cj j [j j      
         B j j j j             5 5!!          getGroupB j j j j    ?  
       5 !!          haveGroupB j 4k j 4k    n  
       5!!          addGroupB Fk k >k k      
       5 !!          removeGroupB k l k l    !  
       5!!          markDeletedB l l l l      
       5!!       !!	   init!!!!   getGroups!!!!   getGroup!!!!   haveGroup!!!!   addGroup!!!!   removeGroup!!!!   markDeleted!!    !!       !!   DEFAULT!!   default!!   GALLERY_PAGE!!	   page!!   SUGGESTION!!   suggestion!!	   USER!!	   user   !!       	   initB -m mm %m mm      
       5 !!          setAjaxErrorB m m {m m      
       5 !!          unsetAjaxErrorB m Bn m Bn    k  
       5 !!          getAjaxErrorB Xn n Pn n      
       5 !!          getIsLoadingB  n n n n    7  
       5 !!          setIsLoadingB n 5o n 5o    h  
       5 !!          isTagOnPostB Jo o Bo o      
       5!!          getTagsForPostB o p o p    <  
       5 !!          haveTagsForPostB p Kp p Kp      
       5!!          addTagForPostB bp rq Zp rq             5 !!       #   removeTagFromPostB q /r q /r      
       5!!          getTagB ?r r 7r r      
       5 !!          _getTagPropB r s r s    l  
       5!!          _setTagPropB s Jt s Jt             5 !!          getTagVoteB ^t t Vt t      
       5 !!          setTagVoteB t t t t      
       5 !!          setTagSourceB t u t u    Y  
       5 !!       !!   SOURCE!!!!	   init!!!!   setAjaxError!!!!   unsetAjaxError!!!!   getAjaxError!!!!   getIsLoading!!!!   setIsLoading!!!!   isTagOnPost!!!!   getTagsForPost!!!!   haveTagsForPost!!!!   addTagForPost!!!!#   removeTagFromPost!!!!   getTag!!!!   _getTagProp!!!!   _setTagProp!!!!   getTagVote!!!!   setTagVote!!!!   setTagSource!!    !!      !!   tag!!   subscribers!!   images    !!       	   initB u u {u u      
       5 !!          getTagB u u u u    ?  
       5 !!          getTagsB  u  v u  v    j  
       5!!          haveTagB v :v 	v :v      
       5!!       #   getTagSubscribersB Uv v Mv v      
       5!!          addTagB v x v x    ]         5!!          removeTagB x [x x [x      
       5!!          setFollowingB qx x ix x      
       5 !!          encodeB x x x x    /         5 !!    
   !!%   INTERESTING_FIELDS!!!!	   init!!!!   getTag!!!!   getTags!!!!   haveTag!!!!#   getTagSubscribers!!!!   addTag!!!!   removeTag!!!!   setFollowing!!!!   encode!!    !!       !!   ADDED!!   added!!   REMOVED!!   removed!!   ERROR!!   error   !!       	   initB }y y uy y      
       5 !!          pushHistoryB y { y {    |  
       5!!       -   getLatestTagGroupEventB 7{ { /{ {       
       5 !!          isTagInGroupB { | { |    !  
       5 !!          getTagsForGroupB | o} | o}    G"  
       5!!       )   getGroupHashesForTagB } } } }    #  
       5 !!          addTagToGroupB } ~ } ~    m#  
       5!!       %   removeTagFromGroupB ~  ~     z$            a    b    B d t \ t    $         5    B        [%         5 5!!          addPendingTagB 6  .     %  
       5!!       !   removePendingTagB        &  
       5 !!          isPendingB  
  
    ,'  
       5!!          getFailedTagB    ;  ;    '  
       5 !!          setFailedTagB Q h I h    '  
       5 !!          getTagsB  y  q     '  
       5!!       !!   ACTIONS!!!!	   init!!!!   pushHistory!!!!-   getLatestTagGroupEvent!!!!   isTagInGroup!!!!   getTagsForGroup!!!!)   getGroupHashesForTag!!!!   addTagToGroup!!!!%   removeTagFromGroup!!!!   addPendingTag!!!!!   removePendingTag!!!!   isPending!!!!   getFailedTag!!!!   setFailedTag!!!!   getTags!!    !!        	   initB        r(  
       5 !!          getIsActiveB  - N % N    (  
       5!!          getActiveTagB  d  \     (  
       5 !!       '   getActiveTagEncodedB         )  
       5!!          setActiveTagB  <  <    n)  
       5 !!          deactivateB P  H     )  
       5 !!       !!	   init!!!!   getIsActive!!!!   getActiveTag!!!!'   getActiveTagEncoded!!!!   setActiveTag!!!!   deactivate!!    !!       	   initB  8  8    *  
       5 !!       %   handleChangedQueryB  T 8 L 8    *  
       5 !!       -   _handleSuggestResponseB X  P     +  
       5 !!       '   _handleSuggestErrorB  V  V    {,  
       5!!       !!	   init!!!!%   handleChangedQuery!!!!-   _handleSuggestResponse!!!!'   _handleSuggestError!!    !!        	   initB  b  b    5-  
       5 !!       5   handleRemoveConfirmedEventB  7 ~ 7    .  
       5 !!       #   handleRemoveEventB R  J     .  
       5!!       +   handleRemovedTagEventB        .0  
         B  S { K {    0  
       5 5!!       -   handleRemoveEventOtherB        P1  
       5 !!          setListB  C  C    1  
       5!!       !!	   init!!!!5   handleRemoveConfirmedEvent!!!!#   handleRemoveEvent!!!!+   handleRemovedTagEvent!!!!-   handleRemoveEventOther!!!!   setList!!    !!        	   initB        ,2  
       5 !!          _disableNewB   )  )    y2  
       5!!          _enableNewB  = l 5 l    2  
       5 !!       #   handleGroupRemoveB        3  
       5!!          handleGroupAddB / ' ' '    3  
       5 !!       !!	   init!!!!   _disableNew!!!!   _enableNew!!!!#   handleGroupRemove!!!!   handleGroupAdd!!    !!    	   	   initC h                                   	              5            W   QV       
T   QV   5   T 6   QV   5   5   T  6   QV   5   5   T     
=   : 6   Q 5    _super   _   groupId   el   $addBtn   $subscribers	   find   .subscribers!!      a   b   .this       +H;
      5 !!          getGroupIdB         5  
       5 !!          get$AddB  . J & J    5  
       5!!          getSubscribersB  b  Z     5  
       5 !!       !   get$ExternalLinkB         >6  
       5 !!       !!   VOTE_UP!!!!	   init!!!!   getGroupId!!!!   get$Add!!!!   getSubscribers!!!!!   get$ExternalLink!!    !!    	      getDefaultPropsC                                               I b A b    6             [    =    ]    6       inputClass!!              +H!!       !!   inputClass!!    ;      5!!       	   copyB  p  h     6  "       5!!          selectAllB   H  H    7  
       5!!          renderB  X  P     7  
       5 !!       !!   displayName!!!!   getDefaultProps!!!!	   copy!!!!   selectAll!!!!   render!!    !!     	      getDefaultPropsC                                               ^ s V s    9             [    X]     9
    delay!!              +H!!       !!   delay!!    ;      5!!          getInitialStateB         :         5!!       3   componentWillReceivePropsB  ;  ;    E:  
       5!!          _getDurationB Q  I     :  
       5 !!       #   componentDidMountB          ;  
       5!!          _installTimerB $       ;  
       5!!       '   _handleTimerExpiredB   +  +    x<  
       5!!          renderB  ;  3     <  
       5 !!    	   !!   displayName!!!!   getDefaultProps!!!!   getInitialState!!!!3   componentWillReceiveProps!!!!   _getDuration!!!!#   componentDidMount!!!!   _installTimer!!!!'   _handleTimerExpired!!!!   render!!    !!           _extends<b        z=         5 !!       !!   spring!!       !!   stiffness!!x   !!   damping!!	       !!   button!!       !!   maxScale!!      ?       !!       !!   isPressed!!!!   onPress!!    !!    	      getDefaultPropsC                                                      ?             [   [    ]     ?	    style!!              +H!!            !!       !!   style!!    ;      5!!    	      getInitialStateC            
                                          ;?             [    B]     ?>    isPressed!!              +H!!       !!   isPressed!!    ;      5 !!    	      isLeftClickC ?                                             !  !    h?            T  D   Q    5   U  QT  5   D   QT  5   W   QV    ?l
    window   event   which   button!!      a   b       +H;      5 !!    	      handleMouseDownC :                                         : q 2 q    ?            W   QV       
T  : E    QV      
[    C]   : Q ?$    isLeftClick   setState   isPressed!!      a   .this       +H!!       !!   isPressed!!    ;
      5 !!    	      handleMouseUpC N                                                @            W   QV       
T  : E4   QV   5      
  QV      
[    B]   : Q @    isLeftClick   props   onPress   setState   isPressed!!      a   .this       +H!!       !!   isPressed!!    ;
      5 !!    	   !   handleMouseLeaveC  !                                                 p@            W   QV       
[    B]    Q @s    setState   isPressed!!      .this         +H!!       !!   isPressed!!    ;
      5!!    	      renderC           )                                 !              	       W  QV     QV  5    5         5   5      ?W   Q[          
V      5   : ]   W  Q   	   
   5
   [   [   ?]   ]   V  ]      :  @0%/	 `    state   isPressed   styles   button   maxScale   ReactMotion   spring   scale   React   createElement   Motion   defaultStyle   style!!      a   b   c   .this        +H!!       !!   scale!!    !!       !!   scale!!    !!       !!   defaultStyle!!!!   style!!    !!           render/<c            2                                        dA            T  5    W   Q      
=         [       5   [      5   ]      5   ]	      5
   ]         [   =   V   =   ]   =   V   =   ]      5   5   : ]   :    5   5   :  Al
9       scale   React   createElement   button   _extends   props   handleMouseDown   onMouseDown   handleMouseUp   onMouseUp!   handleMouseLeave   onMouseLeave   scale(   )   transform   WebkitTransform   style   children!!      b   c       +H!!            !!       !!   transform!!!!   WebkitTransform!!    !!       !!   onMouseDown!!!!   onMouseUp!!!!   onMouseLeave!!!!   style!!    ;       5;5!!    	   !!   displayName!!!!   propTypes!!!!   getDefaultProps!!!!   getInitialState!!!!   isLeftClick!!!!   handleMouseDown!!!!   handleMouseUp!!!!!   handleMouseLeave!!!!   render!!    !!        %   componentDidUpdateB  y  q     B  
       5 !!       )   componentWillUnmountB   	  	    VC  
       5 !!          renderB         C  
       5 !!       !!   displayName!!!!%   componentDidUpdate!!!!)   componentWillUnmount!!!!   render!!    !!     	      getDefaultPropsC                                                 y     E             [    =    ]    E       classes!!              +H!!       !!   classes!!    ;      5!!    	      socialShareC      !   m                          "              ,E            W  Q    5   5   W   Q=   W  Q      =   :    
:  W  Q   5   	   
:  W  QV  
   
V  5   5    QT  x=   y,   =   yM   =   yo   =   y   z  =         V   : W   Q=   W  Q   =         V  =   V   : W   Q   =         V   : =               =   : >75   : =   V  W   Q=   W  QD   =         V  : =         V   : W   Q=   W  Q       
V   =    V   Q E42#,s .~xxx 22`%`23C2`#2    window   location	   href[   left=20,top=20,width=560,height=500,toolbar=1   $   .post-title	   text   Imgur   UserStatistics   getInstance'   emitActionUserShare   props   tagsNames   facebook   twitter   pinterest   reddit[   https://www.facebook.com/sharer/sharer.php?u=%   encodeURIComponent[   left=20,top=20,width=500,height=500,toolbar=1A   https://twitter.com/home?status=    [   https://pinterest.com/pin/create/button/?url=   &media=!   .post-images img   src   &description=[   left=20,top=20,width=750,height=601,toolbar=1=   //www.reddit.com/submit?title=   &url=[   left=20,top=20,width=860,height=700,toolbar=1	   open   sharer!!      a   b   c   d   e   .this       +H;      5 !!    	      renderC  8        X                                        sH            W   Q       
=   [    V   5   5   ]          
=   [   =   ]   V   5   	   
@=
   : ]   :        
=   [   =   ]   V   5   	   
@=   : ]   :        
=   [   =   ]   V   5   	   
@=   : ]   :        
=   [   =   ]   V   5   	   
@=   : ]   : :  Hv":  #  !  $}     React   createElement   div   props   classes   className	   span%   social-icon icon-f   socialShare	   bind   facebook   onClick-   social-icon icon-twttr   twitter)   social-icon icon-pin   pinterest/   social-icon icon-reddit   reddit!!      .this         +H!!       !!   className!!    !!       !!   className!!!!   onClick!!    !!       !!   className!!!!   onClick!!    !!       !!   className!!!!   onClick!!    !!       !!   className!!!!   onClick!!    ;
      5 !!       !!   displayName!!!!   getDefaultProps!!!!   socialShare!!!!   render!!    !!       !!   url!!    !!          handleSubmitB   Y  Y    K  
          B   W  W    K         5 5!!          closeColorboxB  p  h     K         5!!          renderB         L            a    B 4 \ , \    M         5    B        2N         5 5!!       !!   propTypes!!!!   displayName!!!!   handleSubmit!!!!   closeColorbox!!!!   render!!    !!       !!   width!!  !!   height!!     !!       !!	   type!!!!   url!!!!   metadata!!!!   cb!!    !!        !   abuseExplanationB   x      P         5 !!          dboiExplanationB >  6     P         5!!       '   explicitExplanationB ( m   m    Q         5!!       #   matureExplanationB        R         5!!       !!	   href!!#   /account/settings   !!           matureWarningB        3S         5!!          reportHeadingB  !  !    S         5!!          spamExplanationB :  2     S         5!!       !!   abuse!!!!!   abuseExplanation!!!!	   dboi!!!!   dboiExplanation!!!!   defaultCombobox!!!!   explicit!!!!'   explicitExplanation!!!!   mature!!!!#   matureExplanation!!!!   matureSettings!!!!   matureWarning!!!!	   spam!!!!   reportHeading!!!!   spamExplanation!!    !!       !!	   DBOI!!   !!	   SPAM!!   !!   ABUSE!!   !!   MATURE!!   !!   EXPLICIT!!      !!           getInitialStateB         [T         5!!    	      getDefaultPropsC                                               
 !  !    T             [   [    ]     T    metadata!!              +H!!            !!       !!   metadata!!    ;      5!!       +   shouldComponentUpdateB @ h 8 h    T  
       5!!          handleSubmitB ~ 1 v 1    T         5!!          setValueB C ` ; `    V  
       5 !!          renderB  p  h     V  
       5 !!    
   !!   propTypes!!!!   displayName!!!!   strings!!!!   reportValues!!!!   getInitialState!!!!   getDefaultProps!!!!+   shouldComponentUpdate!!!!   handleSubmit!!!!   setValue!!!!   render!!    !!       !!   width!!  !!   height!!     !!           getInitialStateB    z     ]         5!!          handleSelectB  t  t    {]            b    B  (  (    ^         5    B 7 3 / 3    ^         5 5!!          handleNewFolderB        `            b   B        ?a         5    B        ba         5 5!!       #   componentDidMountB         Ub            a   B I ] A ]    b         5    B l  d     b         5 5!!       %   componentDidUpdateB   >  >    ic  
       5 !!          addFolderFormB  U D M D    c            a   B 5 R - R    d         5    B         We         5 5!!          renderB  T z L z    e            a    B  k  k    	f         5 5!!       !!   displayName!!!!   getInitialState!!!!   handleSelect!!!!   handleNewFolder!!!!#   componentDidMount!!!!%   componentDidUpdate!!!!   addFolderForm!!!!   render!!    !!       !!	   name!!!!   items!!!!   onChange!!    !!       '   onComponentDidMountB  o  g     h  
       5!!          onClickB        i  
       5!!          renderItemB        i  
       5 !!          renderB   <  <    >l  
       5 !!       !!   displayName!!!!   propTypes!!!!'   onComponentDidMount!!!!   onClick!!!!   renderItem!!!!   render!!    !!       E   Imgur.Elements.RadioBox.createItemb j ) b )    l  	       5 !!       C          Y                                 2  *                   G       Q=    W   Q[   Z    ]   Z    ]   >]   =   ]   @]   @]      ]      ]	   =
   ]   X]   ]   W  Q      Q=      qQ   5      
[      ]      ]      ]    Q   	   6   Q   5   V   6   Q   5   
   6   Q   5   5   V  6   Q m
	
 LL\K 5 *      1.4.7   exclude   excludeWithin   offset   top   direction   scrollElement   scrollTarget   beforeScroll   afterScroll   swing   easing   speed   autoCoefficent   ontouchend   document   fn   extend   scrollable   firstScrollable   smoothScroll   version   filterPath   defaults!!      a   b   c   d   e      +H!!           b @ g 6 g    m         5!!          beforeScrollB         gn         5 !!          afterScrollB          n         5!!       !!   exclude!!!!   excludeWithin!!!!   offset!!!!   direction!!!!   scrollElement!!!!   scrollTarget!!!!   beforeScroll!!!!   afterScroll!!!!   easing!!!!   speed!!!!   autoCoefficent!!    !!          eB : { 2 {    n  "          c    d    e   B         o         5   B ) P ! P    o  
       5 5!!          scrollableB        4p  
       5 !!          firstScrollableB  H  H    p  
       5!!          smoothScrollB ^  V     p            d    e    B        q         55!!       !!   scrollable!!!!   firstScrollable!!!!   smoothScroll!!    !!           a.smoothScrollb        `s            d    B  |  t     u         5 5!!       3   a.smoothScroll.filterPathb .  &     v         5;5!!            !!            !!       9   this._.templates.favoriteBarb  c  c    w      @     __p    __j       print  $ C  C    w  	       55!!            !!    	   	   initC	 >     4   u                            	                         W   QV   [   T ]   T D   Q    ]   [   ]   T  ]   T ]   T ]   B]   >]   Z    ]	   B]
   Z    ]   [   ]   Z    ]   Z    ]   T ]      ]      ]      ]   
]   =   ]   T ]   =   ]   T ]   [   =   ]   =   ]   ]   T E   QC]   X]    ]!   6    QT "   
=#   V   V   5$    QT "   
=%   V   V   5&    QT "   
='   V   V   5(    QT "   
=)   V   V   5*    QT "   
=+   V   V   5,    QT "   
=-   V   V   5.    QV   5    5   5/   50   E<   QV   1   
V   5    5   5/   52    QV   3   
:  Q zf	
			E.:	0;20,)    _   env   logAnalytics   ele   config   emitter   events   eventsBound	   navs   navHashes   failMode   reservations   ads   order   pxQueue   source   rgxSubreddit'   rgxPxMacroTimestamp!   rgxPxMacroRandom'   pxMacroRandomLengthI   abcdefghijklmnopqrstuvwxyz0123456789%   allowedRandomChars   inside      sectSortWindow   sideGallery   288x141	   wide   141x141   normal   thumbnailSizes   enabled/   youtubeViewabilityTimer%   youtubeMinViewTime   on   gotPromoted#   handleReservation'   sidegalleryPageLoad)   handleNewGalleryPage   postRendering   handleNav   postRendered%   handlePostRendered   displayPromoted   handleDisplay   promoEvent   handleDomEvent   image	   isAd   bindGameLink	   hash/   initYouTubeAutoPlayMute!!
      a   b   c   d   e   f   g   h   i   .this  	 	    +H!!       3   init/this._.logAnalytics<b         z         5!!            !!            !!   \/r\/([^\/]+)    !!Y   [\{\[\%]+(timestamp|cachebust(er)?)[\}\]\%]+   !!1   [\{\[\%]+random[\}\]\%]+   !!       !!	   wide!!!!   normal!!    !!       !!   env!!!!   logAnalytics!!!!   ele!!!!   config!!!!   emitter!!!!   events!!!!   eventsBound!!!!	   navs!!!!   navHashes!!!!   failMode!!!!   reservations!!!!   ads!!!!   order!!!!   pxQueue!!!!   source!!!!   rgxSubreddit!!!!'   rgxPxMacroTimestamp!!!!!   rgxPxMacroRandom!!!!'   pxMacroRandomLength!!!!%   allowedRandomChars!!!!   inside!!!!   sectSortWindow!!!!   sideGallery!!!!   thumbnailSizes!!!!   enabled!!!!/   youtubeViewabilityTimer!!!!%   youtubeMinViewTime!!    ;5!!    	      eventsEvalC                                            5  5                W   QT  V   5    5   q3   V   5    5      
  QV   5    C6   D   V   5    5   E0   QV   5    5      
C QV   5    B6   Q ,    _   ads   events   bindAll   eventsBound!!      a   .this       +H;
      5!!          handleDomEventB M  E       
       5 !!          handleNavB  c  c    D         5!!    	   %   handlePostRenderedC          	                                   w                 W   QV       
T  5    Q     eventsEval	   hash!!      a   .this       +H;
      5!!       K   flagHashForPromotedInventoryAnalyticsB  Q  Q    "         5 !!          handleDisplayB h  `       
       5!!          bindGameLinkB        h  
       5 !!          handleGameLinkB        ,	            B  v z n z    	         5    B         	         5    B         	         5 5!!       ;   setYouTubeAutoPlayMuteIframesB         (
         5 !!       /   initYouTubeAutoPlayMuteB         J  
         B           
          B           
       5 55!!       ?   handleYouTubeAutoPlayMuteUpdateB   u  u    \  
       5!!       1   resetYouTubeAutoPlayMuteB   ?  ?      
       5 !!    	   )   tagSectionIsFilteredC  C                                           ]  U                 W   Q=    V   5   5   5   5   HE   QV   5   5   5      '     tag   _   inside   section   env)   tagSectionIsPromoted!!      .this         +H;
      5!!    	   #   sectionIsFilteredC  z        (                          1                           W  QV  5    5   5   E3   QV  5    5   5   5   V  5    5   5   qW   Q       
V  5    5   5   V  5    5   5   5   : W  Q=   V  5    5   5   5   H   V     
:      V    E   QV    E   Q=	   V  5    5   5   V  5    5   5   5   7D]   Q       
V  5    5   5   V  5    5   5   5   7V  5    5   5   5
   :  #eN5Im    _   config!   filteredSections   sideGallery   state   section   indexOf   subreddit%   subredditIsAllowed   object	   sort!!      a   b   .this         +H;
      5!!       %   subredditIsAllowedB   d  d      
       5 !!    	   !   handleNewGalleryC          c                          /        ~ K v K                W  Q        V  5   5   5   :    V  5   5   5      V  5   5   5   W   QV     
:     V  5   B6   (V     
:     V  5   B6   (V  5   >6   QV  5   5	   5   5
   5   =   V  5   5      
V  5   5	   5   5
   5   : (V  5   5   5   ]   V  5   5	      
:  W  QV     
V  5   5	      
:     
V  : CV    Q f 7    $@    isNaN   _   config+   populateFirstDistance   distance)   tagSectionIsFiltered   enabled#   sectionIsFiltered	   navs   inside   image	   isAd   order	   push	   hash   populateFirst   getHash   handleNav   getSideGallery   getImage!!      a   b   .this         +H;      5!!    	   )   handleNewGalleryPageC '                                          i  a                 W   Q=    T  HE   QV      
:  Q     initial!   handleNewGallery!!      a   .this       +H;
      5!!       )   nextLocIsFlushedLeftB        
         5 !!       #   handleReservationB        R  
       5!!          handlePlacementB  {  {    O            d    B  $  $    k         5 5!!          placeCompanionB  :  :                a    b    B C  ;              5    B   -  -    8  
       5 5!!          pixelB I  A              5!!          pixelFireB        Z   "          b    d    g   B   	  	             5 5!!       )   generateRandomStringB +  #     "         5!!       !!	   init!!!!   eventsEval!!!!   handleDomEvent!!!!   handleNav!!!!%   handlePostRendered!!!!K   flagHashForPromotedInventoryAnalytics!!!!   handleDisplay!!!!   bindGameLink!!!!   handleGameLink!!!!;   setYouTubeAutoPlayMuteIframes!!!!/   initYouTubeAutoPlayMute!!!!?   handleYouTubeAutoPlayMuteUpdate!!!!1   resetYouTubeAutoPlayMute!!!!)   tagSectionIsFiltered!!!!#   sectionIsFiltered!!!!%   subredditIsAllowed!!!!!   handleNewGallery!!!!)   handleNewGalleryPage!!!!)   nextLocIsFlushedLeft!!!!#   handleReservation!!!!   handlePlacement!!!!   placeCompanion!!!!   pixel!!!!   pixelFire!!!!)   generateRandomString!!    !!     	   	   initC          1                                 / ( ' (    #            W   QV   [   [   [    =   ]   =   ]   =   ]   =   ]   =	   ]
   =   ]   =   ]   =   ]   =   ]   ]   ]   T  ]   T ]   T ]   6    Q #684,///H	
	    _?   .post-action-upvote:not(.green)'   ACTION_IMAGE_UPVOTE?   .post-action-downvote:not(.red)+   ACTION_IMAGE_DOWNVOTEC   .post-action-favorite:not(.green)   ACTION_FAVORITE   .social-icon   ACTION_SHARE'   .social-icon.icon-f+   ACTION_SHARE_FACEBOOK/   .social-icon.icon-twttr)   ACTION_SHARE_TWITTER+   .social-icon.icon-pin-   ACTION_SHARE_PINTEREST1   .social-icon.icon-reddit'   ACTION_SHARE_REDDITg   #right-content .advertisement .promoCompanion a img   CLICK_COMPANION   clicks   ele   config   emitter   inside!!      a   b   c   .this       +H!!    	   !!'   ACTION_IMAGE_UPVOTE!!!!+   ACTION_IMAGE_DOWNVOTE!!!!   ACTION_FAVORITE!!!!   ACTION_SHARE!!!!+   ACTION_SHARE_FACEBOOK!!!!)   ACTION_SHARE_TWITTER!!!!-   ACTION_SHARE_PINTEREST!!!!'   ACTION_SHARE_REDDIT!!!!   CLICK_COMPANION!!    !!       !!   clicks!!    !!       !!   ele!!!!   config!!!!   emitter!!!!   inside!!    ;
      5!!          bindAllB 9 D 1 D    %  
       5!!          bindClicksB X   P      '  
       5 !!          _handleVwTimeB          u(  
       5!!       '   _handleVwUnderImageB  +  +    "*  
       5!!       )   _handleCommentSubmitB I  A     *  
       5 !!       %   _handleCommentVoteB        A+  
       5 !!          getSideImageB        ,  
       5 !!          _fireEventB          M,  
       5 !!    	   !!	   init!!!!   bindAll!!!!   bindClicks!!!!   _handleVwTime!!!!'   _handleVwUnderImage!!!!)   _handleCommentSubmit!!!!%   _handleCommentVote!!!!   getSideImage!!!!   _fireEvent!!    !!        C   k      
                                     +  #                   G    W   QV   [      ]      ]      ]      ]      ]      ]   6    Q   5   V   6	   Q ,dG=?Cc    prototype   addPixel+   addCompanionPlacement!   addPagePlacement#   addThumbPlacement   getHash   setData   Imgur   Promoted	   Post!!      a         +H!!          a 8  .     ,  
       5!!          addPixelB        	-  
       5 !!       +   addCompanionPlacementB " J  J    z-  
       5!!       !   addPagePlacementB d  \     -  
       5 !!       #   addThumbPlacementB        -  
       5!!          getHashB   	  	    /.  
       5!!          setDataB  k  k    r.  
       5!!       !!   addPixel!!!!+   addCompanionPlacement!!!!!   addPagePlacement!!!!#   addThumbPlacement!!!!   getHash!!!!   setData!!    ;5!!       	   initB        2/         5 !!          getPlacementB  + / # /    /         5 !!       !!	   init!!!!   getPlacement!!    !!    	   	   initC      1                                    &  &    /            W   QV   [   Z    ]   T ]   B]   T  ]   [    ]   [   =      5   5	   ]
   =   ]   Xm]   ]      ]      ]   Y    
=   ^=   ^=   ^e=   ^f=   ^g=   ^=   ^=   ^2=   ^3=   ^4=   ^5=   ^6=   ^h=   ^i=   ^X=    ^X=!   ^X="   ^X=#   ^X=$   ^X=%   ^X=&   ^X='   ^X=(   ^X=)   ^X=*   ^X=+   ^X=,   ^X=-   ^X=.   ^]/   6    QV   0   
  QV   5     0
	"	#	    _!   blockedCreatives   emitter   espoused   config	   user   .   Imgur   Environment	   host   domain   /	   path   expires   cookieOpts   rgxDomain   pgxProto'   ACTION_IMAGE_UPVOTE+   ACTION_IMAGE_DOWNVOTE   ACTION_COMMENT)   ACTION_COMMENT_REPLY+   ACTION_COMMENT_UPVOTE/   ACTION_COMMENT_DOWNVOTE   ACTION_FAVORITE   ACTION_SHARE+   ACTION_SHARE_FACEBOOK)   ACTION_SHARE_TWITTER-   ACTION_SHARE_PINTEREST'   ACTION_SHARE_REDDIT%   ACTION_SHARE_EMAIL   VIEW_UNDERIMAGE%   EXPAND_POST_IMAGES   VIEW_TIME_0   VIEW_TIME_1   VIEW_TIME_2   VIEW_TIME_3   VIEW_TIME_4   VIEW_TIME_5   VIEW_TIME_6   VIEW_TIME_7   VIEW_TIME_8   VIEW_TIME_9   VIEW_TIME_10   VIEW_TIME_15   VIEW_TIME_20   VIEW_TIME_25#   VIEW_TIME_30_PLUS   evtToPx   _idFromCookie!!      a   b   .this       +H!!            !!       !!   domain!!!!	   path!!!!   expires!!    !!-   \/\/engine\.[^.]+\.net    !!   ^[^:]+:\/\/    !!    	   !!!   blockedCreatives!!!!   emitter!!!!   espoused!!!!   config!!!!	   user!!!!   cookieOpts!!!!   rgxDomain!!!!   pgxProto!!!!   evtToPx!!    ;
      5 !!    	      getPlacementC         B                                <  4     3     	       W  Q[    V      
:  ]   V  5   5   5   5   ]   Z   =   `    ]   V  5   5	   ]	   W   Q
      
[   V  5   5   5   5   ]   =   ]   =   ]         
V   : ]   =   ]         
V  5   V  : ]         
V  5   V  : ]   :  3/
*%%N      _getUser	   user   _   config   adzerk   placementParms   placements!   platform-desktop   keywords!   blockedCreatives   $	   ajax   apiLocation   url	   POST	   type!   application/json   contentType	   JSON   stringify	   data	   json   dataType	   bind%   _handleApiResponse   success   _handleApiError   error!!      a   b   .this       +H!!       !!	   user!!!!   placements!!!!   keywords!!!!!   blockedCreatives!!    !!       !!   url!!!!	   type!!!!   contentType!!!!	   data!!!!   dataType!!!!   success!!!!   error!!    ;
      5!!          _handleApiErrorB        !5  	       5!!       -   _decodeEncodedResponseB        r5         5!!          _espouseB   f  f    18  
          B  G ] ? ]    8  
       5 5!!    	      _idFromCookieC  R                                           }  u     8            W  Q       
V  5   5   5   : W   QV   E   QV  5   5   V   6   Q 8#    $   cookie   _   config   userCookie	   user   key!!      a   .this         +H;
      5!!       %   _handleApiResponseB        49         5 !!          _cleanPxB         X>  
       5 !!       !   _addCustomPixelsB        1?  
       5 !!          _addEventPixelsB        @  
       5!!       )   _setUserFromResponseB        $A  
       5 !!          _getUserB         A  
       5 !!       )   _formatCompanionDataB  u  u    DB         5!!       !!	   init!!!!   getPlacement!!!!   _handleApiError!!!!-   _decodeEncodedResponse!!!!   _espouse!!!!   _idFromCookie!!!!%   _handleApiResponse!!!!   _cleanPx!!!!!   _addCustomPixels!!!!   _addEventPixels!!!!)   _setUserFromResponse!!!!   _getUser!!!!)   _formatCompanionData!!    !!        	   initB         D  
       5 !!          setItemB  
  
    DE  
       5!!          setThumbSizeB   C  C    xE  
       5 !!          setThresholdB Y | Q |    E  
       5 !!          resetB         E  
       5!!          imageLinkB        *F  
       5!!          directishLinkB  6  .     F  
       5!!          directLinkB   `  `    WG  
       5 !!          htmlImageB  s   k      G  
       5!!          markdownB    !   !    :I  
       5 !!          bbcodeB  ! S" ! S"    <J  
       5 !!          linkedBbcodeB  i" $ a" $    J  
       5 !!          deletionB  %$ r$ $ r$    }L  
       5 !!          embedB  $ <& y$ <&    L  
       5!!       !!	   init!!!!   setItem!!!!   setThumbSize!!!!   setThreshold!!!!   reset!!!!   imageLink!!!!   directishLink!!!!   directLink!!!!   htmlImage!!!!   markdown!!!!   bbcode!!!!   linkedBbcode!!!!   deletion!!!!   embed!!    !!       	   initB & "* & "*    N  
          B  T' X' L' X'    O         5 5!!          getPageOptionsB  :* * 2* *    R  
       5 !!          noImagesFoundB  * D+ * D+    >S         5!!       !   addImageToThumbsB ^+ - V+ -    S         5!!          queueOperationB - / - /    >V  
       5 !!          isInQueueB /  0 /  0    JX  
       5!!          startOperationB  80 E1 00 E1    X  
       5 !!       -   toggleOperationsLoaderB  e1 1 ]1 1    Y  
       5 !!       %   bindOperationClickB 1 2 1 2     Z            b    B  1 	2 1 	2    1Z  
       5 5!!          offsetSelectionB  $2 ?3 2 ?3    |Z         5!!          makeSelectableB  W3 M6 O3 M6    [            a    B 3 "4 3 "4    S\         5    B 04 X5 (4 X5    \         5    B  5 5 5 5    ]         5    B  6 K6 6 K6    u^         5 5!!          submitB  ]6 9 U6 9    ^            a    B A7 8 97 8    _         5    B 8 }9 8 }9    Ua         5 5!!          loadImagesB  9 p; 9 p;    a            a   B  : : : :    :c         5    B  ; ; : ;    Yc         5    B &; :; ; :;    ~c         5 5!!       !   loadPageElementsB  ; ^= ; ^=    c  
       5 !!       !   modeClickHandlerB  x= |> p= |>    e  
       5 !!          destroyB  > ? > ?    f  
       5!!       !!	   init!!!!   getPageOptions!!!!   noImagesFound!!!!!   addImageToThumbs!!!!   queueOperation!!!!   isInQueue!!!!   startOperation!!!!-   toggleOperationsLoader!!!!%   bindOperationClick!!!!   offsetSelection!!!!   makeSelectable!!!!   submit!!!!   loadImages!!!!!   loadPageElements!!!!!   modeClickHandler!!!!   destroy!!    !!       	   initB ? B z? B    g  
          B  ? @ ? @    Oh         5    B   @ /@ @ /@    xh         5    B  E@ T@ =@ T@    h         5    B  h@ w@ `@ w@    h         5 5!!          getHashB  B B B B     k         5!!          getPageB  B C B C    =k  
       5!!          stopPagingB  3C C +C C    k         5 !!       !   generatePageLinkB C D C D    
l  "          b    d   B  D ZD D ZD    ql         5 5!!       /   generateNavigationLinksB  D uG D uG    m         5 !!       !   recalcNavigationB  G QH G QH    o  
       5 !!       %   renderTotalCounterB  mH 9I eH 9I    p  
       5 !!          handleJSONB MI K EI K    q  "          b    B BJ wJ :J wJ    r         5 5!!          changePageB +K @N #K @N    s            e   B N :N N :N    nv         5 5!!          bindScrollEventB  YN TO QN TO    v  *          a    b    c    d   B  N RO N RO    :w         5 5!!       	   nextB  bO O ZO O    w         5 !!       	   prevB  O bP O bP    Ax         5 !!          reloadB  rP P jP P    x  
       5 !!          getCurrentPageB  P P P P    y  
       5 !!          setCurrentPageB P 	Q P 	Q    Hy  
       5 !!          setOptionsB Q 2Q Q 2Q    uy  
       5 !!          getTotalPagesB  IQ eQ AQ eQ    y  
       5!!          getImageLimitB  |Q Q tQ Q    y  
       5!!       %   getTotalImageCountB  Q Q Q Q    z  
       5 !!       %   increaseImageCountB  Q R Q R    Iz  
       5 !!          clearCacheB  !R 4R R 4R    yz  
       5 !!          stopOnPagingB JR dR BR dR    z  
       5 !!       !!	   init!!!!   getHash!!!!   getPage!!!!   stopPaging!!!!!   generatePageLink!!!!/   generateNavigationLinks!!!!!   recalcNavigation!!!!%   renderTotalCounter!!!!   handleJSON!!!!   changePage!!!!   bindScrollEvent!!!!	   next!!!!	   prev!!!!   reload!!!!   getCurrentPage!!!!   setCurrentPage!!!!   setOptions!!!!   getTotalPages!!!!   getImageLimit!!!!%   getTotalImageCount!!!!%   increaseImageCount!!!!   clearCache!!!!   stopOnPaging!!    !!    	   	   initC          <                                R S R S    ({            W   QV         
C[   [   [    =   ]         =   : ]         =   : ]         =	   : ]
         =   : ]   ]   ]   T  : 6    QV   V      
V   5    : 6    QV   5     {,N      _   $   extend%   #title-description   id/   #title-description form   $form   #title-input   $titleInput%   #description-input#   $descriptionInput3   #title-description-loader   $loader)   titleDescriptionForm   el   _super!!      a   .this       +H!!       !!   id!!!!   $form!!!!   $titleInput!!!!#   $descriptionInput!!!!   $loader!!    !!       !!)   titleDescriptionForm!!    !!       !!   el!!    ;
      5 !!       5   bindTitleDescriptionSubmitB S gU S gU    W|  "          a    d   B  8U eU 0U eU    }          5 5!!       ;   titleDescriptionSubmitHandlerB U X U X       *          a    b    c    d   B W X W X                B  sX X kX X             5 55!!       '   addTitleDescriptionB  X rY X rY                a   B  <Y oY 4Y oY             5 5!!          getElementsB  Y Y Y Y      
       5!!       !!	   init!!!!5   bindTitleDescriptionSubmit!!!!;   titleDescriptionSubmitHandler!!!!'   addTitleDescription!!!!   getElements!!    !!       !!   className!!!!   defaultValue!!!!   id!!!!	   name!!!!   label!!!!   onChange!!    !!     	      getDefaultPropsC                                                [ H[ [ H[    e             [    =    ]   B]    h       className   defaultValue!!              +H!!       !!   className!!!!   defaultValue!!    ;      5!!          handleChangeB  ^[ [ V[ [      
       5 !!          renderB  [ m] [ m]      
       5 !!       !!   displayName!!!!   propTypes!!!!   getDefaultProps!!!!   handleChange!!!!   render!!    !!       !!   right!!       !!	   left!!   !!   top!!       !!	   left!!       !!	   left!!!!   top!!          !!       !!	   msid!!!!   defaultTagName!!!!%   tagSuggestPosition!!    !!       !!   baseUrl!!!!   emitter!!!!   insideNav!!    !!           getInitialStateB  _ {_ ^ {_    F
  
       5!!       #   componentDidMountB  _ ` _ `    
  
         B _ _ _ _      
       5    B +` ` #` `    p  
          B  ` ` ` `              5 55!!       %   componentDidUpdateB ` $b ` $b    D         5!!       )   componentWillUnmountB  Bb b :b b      
       5 !!          addTagB b d b d                a    b    B c d c d    R           B  c c |c c      
       5    B  d gd d gd    Q  
       5 55!!          handleInputB d d d d      
       5!!          getSuggestionsB d ?f d ?f    -            b   B e 
f e 
f    -         5 5!!       #   handleHighlightedB Zf h Rf h             5!!       )   renderTagSuggestionsB  $h i h i    i         5!!          renderB  i zl i zl    :            a    B  k k k k             5    B  k l k l    7         5 5!!       !!   displayName!!!!   _!!!!   propTypes!!!!   getInitialState!!!!#   componentDidMount!!!!%   componentDidUpdate!!!!)   componentWillUnmount!!!!   addTag!!!!   handleInput!!!!   getSuggestions!!!!#   handleHighlighted!!!!)   renderTagSuggestions!!!!   render!!    ; Q.?Y?HCu      	\jN\jN?\   .    :https://s.imgur.com/min/gallery.js?1543607147 necko:classified 1 strongly-framed 1 security-info FnhllAKWRHGAlo+ESXykKAAAAAAAAAAAwAAAAAAAAEaphjojH6pBabDSgSnsfLHeAAgAAgAAAAAAAAAAAAAAAAAAAAAB4vFIJp5wRkeyPxAQ9RJGKPqbqVvKO0mKuIl8ec8o/uhmCjImkVxP+7sgiYWmMt8FvcOXmlQiTNWFiWlrbpbqgwAAAAAAAAUgMIIFHDCCBASgAwIBAgIQB2kdYtTKCLAm3ayoFpUxQzANBgkqhkiG9w0BAQsFADBNMQswCQYDVQQGEwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMScwJQYDVQQDEx5EaWdpQ2VydCBTSEEyIFNlY3VyZSBTZXJ2ZXIgQ0EwHhcNMTcxMTE1MDAwMDAwWhcNMTkwMTA5MTIwMDAwWjBmMQswCQYDVQQGEwJVUzETMBEGA1UECBMKQ2FsaWZvcm5pYTEWMBQGA1UEBxMNU2FuIEZyYW5jaXNjbzEUMBIGA1UEChMLSW1ndXIsIEluYy4xFDASBgNVBAMMCyouaW1ndXIuY29tMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA7AhFa4hRN82FIfkKCLSKYkIE+iqUecNNMNrjMNWKk4Kh7wldbMr31jCX1EqzhAztHreKxgzoxaeFzlItFuNtvr4I9Eyl4rRSfsr/bBHsxHUKcsFp0kosBs65300UnIPV8Y7qTLzojR5AcYa3th90CfrOYRHn1jTHsF5b7PyKFa1U2hoUZKMhgCC86oJEvVJijs0/jFJRqtuvgdjXkADHb4hBnUKvFw8WTgWATpZ5hSc58BjwSWi0G5L89w316tHeyyDcx1HIJBrfkkKHc0s8tiZSGcct5DEKwC1lon7J/8F5uSC4lKn80TlYYQdfyV4dw8B1N5hPqrXG77Z5Nf3Y/wIDAQABo4IB3TCCAdkwHwYDVR0jBBgwFoAUD4BhHIIxYdUvKOeNRji0LOHG2eIwHQYDVR0OBBYEFHqXc8/qy1po0aHwoGhjA9mVJTFqMCEGA1UdEQQaMBiCCyouaW1ndXIuY29tgglpbWd1ci5jb20wDgYDVR0PAQH/BAQDAgWgMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjBrBgNVHR8EZDBiMC+gLaArhilodHRwOi8vY3JsMy5kaWdpY2VydC5jb20vc3NjYS1zaGEyLWc2LmNybDAvoC2gK4YpaHR0cDovL2NybDQuZGlnaWNlcnQuY29tL3NzY2Etc2hhMi1nNi5jcmwwTAYDVR0gBEUwQzA3BglghkgBhv1sAQEwKjAoBggrBgEFBQcCARYcaHR0cHM6Ly93d3cuZGlnaWNlcnQuY29tL0NQUzAIBgZngQwBAgIwfAYIKwYBBQUHAQEEcDBuMCQGCCsGAQUFBzABhhhodHRwOi8vb2NzcC5kaWdpY2VydC5jb20wRgYIKwYBBQUHMAKGOmh0dHA6Ly9jYWNlcnRzLmRpZ2ljZXJ0LmNvbS9EaWdpQ2VydFNIQTJTZWN1cmVTZXJ2ZXJDQS5jcnQwDAYDVR0TAQH/BAIwADANBgkqhkiG9w0BAQsFAAOCAQEAZuXLpRBdoGNuot+cxlmBp5m6wzX5HZf7XmTCI1IQBeVRP+fMvcsBC/saVra7o9SoJm2l90fqoWITgws4RJ1o+wA27owK820zGzbn+EDyFXuejHIGdDcSeXUKrAjj+aFVRT0gwaP3t2NwRJxOOYmynU6L/tdH8kV4rQE9sPkj3ltndO8s014XH9vusfdXgr1PuoXBxwN1mBRIzOeahgpZqsE1d/JYDugmmf1Ini0+wh6y+k+56ldmG2sYA3Eb9j/gcsgf7QcrNvAfs/xICHl2+vlD8zJSU1optS+BMsJQ+sKtnzhFF/zT/FNeADDSmURCk2NHwQLR1+JCk4ved04W98AvAwMAAAAAAQEAAAAAAAAGeDI1NTE5AAAAEFJTQS1QS0NTMS1TSEE1MTIBlZ+xZWUXSH+rm9iRO+Uxl650zaXNL0c/lvXwt//2LGgAAAADZgoyJpFcT/u7IImFpjLfBb3Dl5pUIkzVhYlpa26W6oMAAAAAAAAFIDCCBRwwggQEoAMCAQICEAdpHWLUygiwJt2sqBaVMUMwDQYJKoZIhvcNAQELBQAwTTELMAkGA1UEBhMCVVMxFTATBgNVBAoTDERpZ2lDZXJ0IEluYzEnMCUGA1UEAxMeRGlnaUNlcnQgU0hBMiBTZWN1cmUgU2VydmVyIENBMB4XDTE3MTExNTAwMDAwMFoXDTE5MDEwOTEyMDAwMFowZjELMAkGA1UEBhMCVVMxEzARBgNVBAgTCkNhbGlmb3JuaWExFjAUBgNVBAcTDVNhbiBGcmFuY2lzY28xFDASBgNVBAoTC0ltZ3VyLCBJbmMuMRQwEgYDVQQDDAsqLmltZ3VyLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAOwIRWuIUTfNhSH5Cgi0imJCBPoqlHnDTTDa4zDVipOCoe8JXWzK99Ywl9RKs4QM7R63isYM6MWnhc5SLRbjbb6+CPRMpeK0Un7K/2wR7MR1CnLBadJKLAbOud9NFJyD1fGO6ky86I0eQHGGt7YfdAn6zmER59Y0x7BeW+z8ihWtVNoaFGSjIYAgvOqCRL1SYo7NP4xSUarbr4HY15AAx2+IQZ1CrxcPFk4FgE6WeYUnOfAY8ElotBuS/PcN9erR3ssg3MdRyCQa35JCh3NLPLYmUhnHLeQxCsAtZaJ+yf/BebkguJSp/NE5WGEHX8leHcPAdTeYT6q1xu+2eTX92P8CAwEAAaOCAd0wggHZMB8GA1UdIwQYMBaAFA+AYRyCMWHVLyjnjUY4tCzhxtniMB0GA1UdDgQWBBR6l3PP6staaNGh8KBoYwPZlSUxajAhBgNVHREEGjAYggsqLmltZ3VyLmNvbYIJaW1ndXIuY29tMA4GA1UdDwEB/wQEAwIFoDAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwawYDVR0fBGQwYjAvoC2gK4YpaHR0cDovL2NybDMuZGlnaWNlcnQuY29tL3NzY2Etc2hhMi1nNi5jcmwwL6AtoCuGKWh0dHA6Ly9jcmw0LmRpZ2ljZXJ0LmNvbS9zc2NhLXNoYTItZzYuY3JsMEwGA1UdIARFMEMwNwYJYIZIAYb9bAEBMCowKAYIKwYBBQUHAgEWHGh0dHBzOi8vd3d3LmRpZ2ljZXJ0LmNvbS9DUFMwCAYGZ4EMAQICMHwGCCsGAQUFBwEBBHAwbjAkBggrBgEFBQcwAYYYaHR0cDovL29jc3AuZGlnaWNlcnQuY29tMEYGCCsGAQUFBzAChjpodHRwOi8vY2FjZXJ0cy5kaWdpY2VydC5jb20vRGlnaUNlcnRTSEEyU2VjdXJlU2VydmVyQ0EuY3J0MAwGA1UdEwEB/wQCMAAwDQYJKoZIhvcNAQELBQADggEBAGbly6UQXaBjbqLfnMZZgaeZusM1+R2X+15kwiNSEAXlUT/nzL3LAQv7Gla2u6PUqCZtpfdH6qFiE4MLOESdaPsANu6MCvNtMxs25/hA8hV7noxyBnQ3Enl1CqwI4/mhVUU9IMGj97djcEScTjmJsp1Oi/7XR/JFeK0BPbD5I95bZ3TvLNNeFx/b7rH3V4K9T7qFwccDdZgUSMznmoYKWarBNXfyWA7oJpn9SJ4tPsIesvpPuepXZhtrGANxG/Y/4HLIH+0HKzbwH7P8SAh5dvr5Q/MyUlNaKbUvgTLCUPrCrZ84RRf80/xTXgAw0plEQpNjR8EC0dfiQpOL3ndOFvdmCjImkVxP+7sgiYWmMt8FvcOXmlQiTNWFiWlrbpbqgwAAAAAAAASYMIIElDCCA3ygAwIBAgIQAf2j627KdciIQ4tyS8+8kTANBgkqhkiG9w0BAQsFADBhMQswCQYDVQQGEwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMRkwFwYDVQQLExB3d3cuZGlnaWNlcnQuY29tMSAwHgYDVQQDExdEaWdpQ2VydCBHbG9iYWwgUm9vdCBDQTAeFw0xMzAzMDgxMjAwMDBaFw0yMzAzMDgxMjAwMDBaME0xCzAJBgNVBAYTAlVTMRUwEwYDVQQKEwxEaWdpQ2VydCBJbmMxJzAlBgNVBAMTHkRpZ2lDZXJ0IFNIQTIgU2VjdXJlIFNlcnZlciBDQTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBANyuWJBNwcQwFZA1W248ghX1LFy949v/cUP6ZCWA1O4Yok3wZtAKc24RmDYXZK83nf36QYSvx6+M/hpzTc8zl5CilodTgyu5pnVILR1WN3vaMTIa16yrBvSqXUu3R0bdKpPDkC55gIDvEwRqFDu1m5K+wgdlTvza/P96rtxcflUxDOg5B6TXvi/TC2rSsd9f/ld0Uzs1gN2ujkSYs58O09rg1/RrKatEp0tYhG2SS4HD2nOLEpdIkARFdRrdNzGXkujNVA075ME/OV4uuPNcfhCOhkEAjUVmR7ChZc6gqikJTvOX6+guqw9ypzAO+sf0/RR3w6RbKFfCs/mC/bdFWJsCAwEAAaOCAVowggFWMBIGA1UdEwEB/wQIMAYBAf8CAQAwDgYDVR0PAQH/BAQDAgGGMDQGCCsGAQUFBwEBBCgwJjAkBggrBgEFBQcwAYYYaHR0cDovL29jc3AuZGlnaWNlcnQuY29tMHsGA1UdHwR0MHIwN6A1oDOGMWh0dHA6Ly9jcmwzLmRpZ2ljZXJ0LmNvbS9EaWdpQ2VydEdsb2JhbFJvb3RDQS5jcmwwN6A1oDOGMWh0dHA6Ly9jcmw0LmRpZ2ljZXJ0LmNvbS9EaWdpQ2VydEdsb2JhbFJvb3RDQS5jcmwwPQYDVR0gBDYwNDAyBgRVHSAAMCowKAYIKwYBBQUHAgEWHGh0dHBzOi8vd3d3LmRpZ2ljZXJ0LmNvbS9DUFMwHQYDVR0OBBYEFA+AYRyCMWHVLyjnjUY4tCzhxtniMB8GA1UdIwQYMBaAFAPeUDVW0Uy7ZvCj4hsbw5eyPdFVMA0GCSqGSIb3DQEBCwUAA4IBAQAjPt9L0jFCpbZ+QlwaRMxp0Wi0XUvgBCFsS+JtzLHgl4+mUwnNqipl5TlPHoOlblyYoiQm5vuh7ZPHLgLGTUq/sELfeNqzqPlt/yGFUzZgTHbO7Djc1lGA8MXW5dRNJ2Srm8c+cftIl7gzbckTB+6WohsYFfZcTEDts8Ls/3HB40f/1LkAtDdC2iDJ6m6K7hQGrn2iWZiIqBtvLfTyyRRfJs8sjX7tN8Cp1Tm5gr8ZDOo0rwAhaPitc+LJMto4JQtV05od8GiG7S5BNO98pVAdvzr508EIDObtHopYJeS4d60tbvVS3bR0j6tJLp07kzQoH3jOlOrHvdPJbRzeXDLzZgoyJpFcT/u7IImFpjLfBb3Dl5pUIkzVhYlpa26W6oMAAAAAAAADszCCA68wggKXoAMCAQICEAg74FaQQkaxoXVqyVmRx0owDQYJKoZIhvcNAQEFBQAwYTELMAkGA1UEBhMCVVMxFTATBgNVBAoTDERpZ2lDZXJ0IEluYzEZMBcGA1UECxMQd3d3LmRpZ2ljZXJ0LmNvbTEgMB4GA1UEAxMXRGlnaUNlcnQgR2xvYmFsIFJvb3QgQ0EwHhcNMDYxMTEwMDAwMDAwWhcNMzExMTEwMDAwMDAwWjBhMQswCQYDVQQGEwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMRkwFwYDVQQLExB3d3cuZGlnaWNlcnQuY29tMSAwHgYDVQQDExdEaWdpQ2VydCBHbG9iYWwgUm9vdCBDQTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAOI74RFy3qik06NXqlCijwt3kMmipe4SzpZbAQkgzAGTp04wt1P3Q8RpAFed4o0i3YcGQACBCc7OG4O/3807cUbi1mbHBbN2JxaPe54elX3ut0ijCNrWr3oMOQZlf0pdH7wX+Ku+7ijXdH96eJlZhWhuXCMyS79OwOhabeNwv3cQv/wB9oXZqEQQWDKpdRjV0aK+R+InavSaM/hJCGCL1F+0OoS/oapKTH0+z09fbHZeoEs3kZ7cIuZtzhQajmrL/s2zFGQXx1spnjK/8u760wtC1Ku3QTLaDNTv+IHVu41YP7Ub6EkoonDaMQTd97IW8kwKTgeo7Uo9XrV/o5DDrycCAwEAAaNjMGEwDgYDVR0PAQH/BAQDAgGGMA8GA1UdEwEB/wQFMAMBAf8wHQYDVR0OBBYEFAPeUDVW0Uy7ZvCj4hsbw5eyPdFVMB8GA1UdIwQYMBaAFAPeUDVW0Uy7ZvCj4hsbw5eyPdFVMA0GCSqGSIb3DQEBBQUAA4IBAQDLnDeqSBMSCvrdRJxPUrD0364E9Xl5CKMkGPxLK4TALbnVx/70wR9Yy7htnHp055gpqxG143Cgoc1MiJmTjJFw4qsPHL6Tqf9j1eQHYNOjv51bCfHVjuNT9I5j+j+n27Rm32Jm1tFuQY3yLbXqd0qfnVjiK1nAQCPtLSiCRT55VJImmOCASKg37/DWeWAW3qzoDs1urEQXOC9J2uFFPiq5NlPPOlAG9y7oxFdJbGEhGNUErXg8LDqAa6frrxUU6diJwbk4bOKRbIr/ZLl3JVcwwBsko+Hc6d9HfLW0JAgFMOwtvQu/Rb9Quanz65gBEq3IiMaYNF+NCjzG6dWVlW3eAAA= request-method GET request-Accept-Encoding gzip, deflate, br response-head HTTP/2.0 200 OK
last-modified: Fri, 30 Nov 2018 19:46:49 GMT
etag: "b5c9418e549f1dd0709895f59c351d77"
x-amz-version-id: wVC2LFnX94BvXMpw0qVtSzY5y17jjmb5
content-type: application/javascript
accept-ranges: bytes
content-length: 486569
date: Sun, 02 Dec 2018 21:38:34 GMT
via: 1.1 varnish
age: 89
x-served-by: cache-lhr6350-LHR
x-cache: HIT
x-cache-hits: 1
x-timer: S1543786714.274830,VS0,VE1
vary: Accept-Encoding
X-Firefox-Spdy: h2
 original-response-headers last-modified: Fri, 30 Nov 2018 19:46:49 GMT
etag: "b5c9418e549f1dd0709895f59c351d77"
x-amz-version-id: wVC2LFnX94BvXMpw0qVtSzY5y17jjmb5
content-type: application/javascript
accept-ranges: bytes
date: Sun, 02 Dec 2018 19:34:59 GMT
via: 1.1 varnish
age: 62
x-served-by: cache-lcy19229-LCY
x-cache: HIT
x-cache-hits: 7
x-timer: S1543779299.078016,VS0,VE0
vary: Accept-Encoding
content-length: 486569
X-Firefox-Spdy: h2
 uncompressed-len 0 net-response-time-onstart 117 net-response-time-onstop 726 alt-data 1;486569,javascript/moz-bytecode-20181116104104 alt-data-from-child 1  c